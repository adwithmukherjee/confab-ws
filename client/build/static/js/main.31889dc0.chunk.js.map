{"version":3,"sources":["keys/dev.js","keys/index.js","keys/prod.js","assets/official-logo.svg","assets/mute.svg","assets/unmute.svg","assets/add-on.svg","api/sockets/events.js","context/UserContext.ts","api/firebase.js","components/LoggedInPage.jsx","assets/cal-icon2.png","assets/phone-icon.png","assets/product-screenshot.png","assets/logo.svg","pages/WaitlistPage.js","pages/HomePage.js","components/QRCodeDisplay.tsx","components/MediaPlayer.tsx","components/Participant.tsx","components/Participants.tsx","components/Call.tsx","api/sockets/sockets.js","components/Loading.js","pages/CallPage.tsx","hooks/useAgora.tsx","pages/SignInPage.js","assets/title.svg","pages/CreateProfilePage.js","App.tsx","index.js"],"names":["keys","AGORA_APP_ID","process","AGORA_SECRET","FIREBASE_CONFIG","apiKey","FIREBASE_API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","FIREBASE_APP_ID","measurementId","FIREBASE_MEASUREMENT_ID","module","exports","IS_USER","NEW_USER","INIT_CHATS","LOGOUT","MESSAGE_SEND","TYPING","P_MESSAGE_SEND","P_TYPING","CHECK_CHANNEL","CREATE_CHANNEL","JOIN_CHANNEL","UPDATE_USER","LEAVE_CHANNEL","GET_USERS","UserContext","React","createContext","undefined","firebase","initializeApp","auth","storage","signOut","a","axios","get","updateUserPhotoURL","photoURL","post","updateUserDisplayName","displayName","LoggedInUI","children","useContext","setUser","user","useState","anchorEl","setAnchorEl","handleClose","handleLogout","AppBar","position","color","elevation","Toolbar","style","flexDirection","alignItems","IconButton","marginRight","onClick","event","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","getContentAnchorEl","keepMounted","open","Boolean","onClose","MenuItem","window","useStyles","makeStyles","theme","root","padding","display","width","input","marginLeft","spacing","flex","iconButton","divider","height","margin","WaitlistPage","success","setSuccess","email","setEmail","classes","className","Typography","variant","fontWeight","href","target","Button","fontFamily","isMobile","ConfabTitleWithTagline","maxWidth","Paper","component","borderStyle","borderWidth","InputBase","type","placeholder","value","onChange","e","backgroundColor","blue","test","marginTop","marginBottom","justifyContent","textAlign","borderRadius","rel","grey","red","src","heroImg","alt","fontSize","listStyle","Footer","alignSelf","float","ConfabTitle","titleImg","titleStyle","ConfabTitleWithoutSlogan","title","buttonGroup","buttons","label","description","paper","modal","top","left","transform","palette","background","boxShadow","shadows","HomePage","history","useHistory","useEffect","console","log","localStream","stop","phoneIcon","cursor","Promise","resolve","reject","res","data","uid","then","channel","push","calIcon","QRCodeDisplay","props","qrCodeDisplayStyle","qrCodeStyle","location","callroomQRInfotip","MediaPlayer","container","useRef","isLocal","audioTrack","play","ref","muteIcon","require","default","Participant","audio","setAudio","interval","setInterval","isAddParticipant","getVolumeLevel","clearInterval","userData","participant","Math","size","opacity","muted","bottom","right","participantMuteIcon","isHost","Participants","me","users","numberOfParticipants","getGridTemplateColumns","meParticipant","Object","length","snackbarOpen","setSnackbarOpen","Alert","gridTemplateColumns","localAudioTrack","setLocalOpen","map","remoteUser","remoteUserData","setSelectedUser","setRemoteOpen","el","document","createElement","body","appendChild","select","execCommand","removeChild","addParticipantClicked","Snackbar","autoHideDuration","reason","severity","unmuteIcon","addOnIcon","AgoraRTC","createClient","codec","mode","participantGroup","flexWrap","overflow","mute","zIndex","editPicture","lineHeight","callroomBody","callroomContainer","callroomQRContainer","callroomParticipantsContainer","callroomAirwaveTitle","callroomMeetingTitle","callRoomMuteIconContainer","callroomMuteIcon","callroomAddonIconContainer","callroomAddonIcon","callroomAddonContainer","callroomAddonInfotip","callroomBottomBar","callroomTopBar","Call","leaveMeeting","localUser","setLocalUser","remoteUsers","calendarEvent","setCalendarEvent","db","firestore","collection","doc","gcal_event","catch","getCalEventDetails","localOpen","remoteOpen","selectedUser","image","setImage","imageURL","setImageURL","uploadTask","child","put","snapshot","getDownloadURL","url","uploadImage","EditorState","createEmpty","editorState","setEditorState","html","profile","content","ContentState","createFromBlockArray","htmlToDraft","contentBlocks","createWithContent","profileHTML","draftToHtml","convertToRaw","getCurrentContent","handleMute","setMuted","changeMute","summary","onDismiss","snapPoints","minHeight","maxHeight","scrollLocking","header","htmlFor","accept","border","outline","files","img","URL","createObjectURL","toolbar","options","link","defaultTargetOption","wrapperStyle","wrapperClassName","editorClassName","onEditorStateChange","edited","disabled","wordBreak","overflowY","userSelect","dangerouslySetInnerHTML","__html","val","socket","io","Loading","CircularProgress","CallPage","client","joinedOnce","setJoinedOnce","setRemoteUserData","playSound","setLocalAudioTrack","joinState","setJoinState","setRemoteUsers","createLocalTracks","audioConfig","createMicrophoneAudioTrack","microphoneTrack","appid","token","encoderConfig","join","publish","getMediaStreamTrack","close","leave","dictFromArray","array","remoteUsersDict","forEach","toString","handleUserPublished","mediaType","subscribe","handleUserUnpublished","handleUserJoined","handleUserLeft","on","off","useAgora","audioElement","getElementsByClassName","remoteAgoraUsers","localAudioTrackRef","localUserRef","remoteAgoraUsersRef","current","channelId","useParams","RtcTokenBuilder","buildTokenWithUid","RtcRole","PUBLISHER","floor","Date","now","emit","events","setRemoteUserState","tmp","uids","getReplaced","tmpUser","SignInPage","setLoading","setNewUser","useLocation","pathname","status","CreateProfilePage","setDisplayName","next","currentUser","hiddenFileInput","click","TextField","App","newUser","loading","globals","fetchUser","timeout","setTimeout","clearTimeout","createTheme","typography","ThemeProvider","Provider","exact","path","render","LoggedInPage","to","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31889dc0.chunk.js","sourcesContent":["const keys = {\n  AGORA_APP_ID: \"37819f409bdf4c9f9405b89172a0155e\",\n  AGORA_SECRET: \"e04c71eba3134c46b40389d3f7ea06a9\",\n\n  FIREBASE_CONFIG: {\n    apiKey: \"AIzaSyDXLFXQgYj652rsqduUGKbDyFO_3GvLUMg\",\n    authDomain: \"huddle-7dff8.firebaseapp.com\",\n    projectId: \"huddle-7dff8\",\n    storageBucket: \"huddle-7dff8.appspot.com\",\n    messagingSenderId: \"192926803111\",\n    appId: \"1:192926803111:web:f8bcc3ac3af112f351e782\",\n    measurementId: \"G-YZS5NRQLHW\",\n  },\n};\n\nexport default keys;\n","import dev from \"./dev\";\nimport prod from \"./prod\";\n\nlet keys;\n\nif (process.env.NODE_ENV === \"production\") {\n  //return prod set of keys\n  keys = prod;\n} else {\n  //return dev keys\n  keys = dev;\n}\n\nexport default keys;\n","const keys = {\n  AGORA_APP_ID: process.env.AGORA_APP_ID,\n  AGORA_SECRET: process.env.AGORA_SECRET,\n\n  FIREBASE_CONFIG: {\n    apiKey: process.env.FIREBASE_API_KEY,\n    authDomain: \"huddle-7dff8.firebaseapp.com\",\n    projectId: \"huddle-7dff8\",\n    storageBucket: \"huddle-7dff8.appspot.com\",\n    messagingSenderId: \"192926803111\",\n    appId: process.env.FIREBASE_APP_ID,\n    measurementId: process.env.FIREBASE_MEASUREMENT_ID,\n  },\n};\n\nexport default keys;\n","export default __webpack_public_path__ + \"static/media/official-logo.b1a0ab85.svg\";","export default __webpack_public_path__ + \"static/media/mute.0a1ee42a.svg\";","export default __webpack_public_path__ + \"static/media/unmute.c5032bff.svg\";","export default __webpack_public_path__ + \"static/media/add-on.5e36d1cf.svg\";","module.exports = {\n  IS_USER: \"IS_USER\",\n  NEW_USER: \"NEW_USER\",\n  INIT_CHATS: \"INIT_CHATS\",\n  LOGOUT: \"LOGOUT\",\n  MESSAGE_SEND: \"MESSAGE_SEND\",\n  TYPING: \"TYPING\",\n  P_MESSAGE_SEND: \"P_MESSAGE_SEND\",\n  P_TYPING: \"P_TYPING\",\n  CHECK_CHANNEL: \"CHECK_CHANNEL\",\n  CREATE_CHANNEL: \"CREATE_CHANNEL\",\n  JOIN_CHANNEL: \"JOIN_CHANNEL\",\n  UPDATE_USER: \"UPDATE_USER\",\n  LEAVE_CHANNEL: \"LEAVE_CHANNEL\",\n  GET_USERS: \"GET_USERS\",\n};\n","import React from \"react\";\nimport { UserContextInterface } from \"../App\";\n// Creates and exports a React Context object that is used to store global variables\nconst UserContext = React.createContext<UserContextInterface | undefined>(\n  undefined\n);\n\nexport default UserContext;\n","import axios from \"axios\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\nimport keys from \"../keys\";\n\nfirebase.initializeApp(keys.FIREBASE_CONFIG);\n\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\nconst getUser = (email) => {\n  const user = new Promise((resolve, reject) => {\n    firebase\n      .firestore()\n      .collection(\"users\")\n      .doc(email)\n      .get()\n      .then((doc) => {\n        resolve({ ...doc.data(), email });\n      })\n      .catch(() => {\n        resolve(undefined);\n      });\n  });\n\n  return user;\n};\n\nconst signInWithGoogle = async () => {\n  const googleAuth = window.gapi.auth2.getAuthInstance();\n  const googleUser = await googleAuth.signIn();\n  const token = googleUser.getAuthResponse().id_token;\n\n  const credential = firebase.auth.GoogleAuthProvider.credential(token);\n\n  const provider = new firebase.auth.GoogleAuthProvider();\n  let userRecord = {};\n\n  const user = new Promise((resolve, reject) => {\n    firebase\n      .auth()\n      .setPersistence(\n        process.env.NODE_ENV === \"production\"\n          ? firebase.auth.Auth.Persistence.LOCAL //CHANGE THIS BACK TO LOCAL AFTER TESTING\n          : firebase.auth.Auth.Persistence.SESSION\n      )\n      .then(() => {\n        firebase\n          .auth()\n          .signInWithCredential(credential)\n          .then(({ user }) => {\n            console.log(user);\n            const { email, displayName, photoURL } = user;\n            userRecord = { displayName, profile: \"\", photoURL };\n\n            firebase\n              .firestore()\n              .collection(\"users\")\n              .doc(email)\n              .get()\n              .then((doc) => {\n                if (doc.exists) {\n                  const val = { ...doc.data(), email };\n                  resolve({ newUser: false, user: val });\n                } else {\n                  firebase\n                    .firestore()\n                    .collection(\"users\")\n                    .doc(email)\n                    .set(userRecord)\n                    .then(() => {\n                      const val = { ...userRecord, email };\n                      resolve({ newUser: true, user: val });\n                    });\n                }\n              });\n          })\n          .catch((err) => {\n            console.log(err);\n            resolve(undefined);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n        resolve(undefined);\n      });\n  });\n\n  return user;\n};\n\nconst signOut = async () => {\n  await axios.get(\"/api/logout\");\n};\n\nconst createCall = () => {\n  const channel = new Promise(async (resolve, reject) => {\n    try {\n      const res = await axios.post(\"/api/create_meeting\");\n      if (res.data) {\n        console.log(res.data.uid);\n        resolve(res.data.uid);\n      } else {\n        resolve(undefined);\n      }\n    } catch (err) {\n      console.log(err);\n      resolve(undefined);\n    }\n  });\n\n  return channel;\n};\n\nconst getCalEventDetails = (channel) => {\n  const db = firebase.firestore().collection(\"meetings\");\n\n  const meetingInfo = new Promise((resolve, reject) => {\n    db.doc(channel)\n      .get()\n      .then((doc) => {\n        const { gcal_event } = doc.data();\n        if (gcal_event) {\n          resolve(gcal_event);\n        } else {\n          resolve(undefined);\n        }\n      })\n      .catch(() => {\n        resolve(undefined);\n      });\n  });\n  return meetingInfo;\n};\n\nconst updateUserPhotoURL = async (photoURL) => {\n  await axios.post(\"/api/update_photoURL\", { photoURL });\n};\n\nconst updateUserDisplayName = async (displayName) => {\n  await axios.post(\"/api/update_displayName\", { displayName });\n};\n\nexport {\n  auth,\n  storage,\n  getUser,\n  signInWithGoogle,\n  signOut,\n  createCall,\n  getCalEventDetails,\n  updateUserPhotoURL,\n  updateUserDisplayName,\n};\n","import { AppBar, Toolbar, IconButton, Menu, MenuItem } from \"@material-ui/core\";\nimport React from \"react\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { signOut } from \"../api/firebase\";\nimport UserContext from \"../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction LoggedInUI({ children }) {\n  const { user, setUser } = React.useContext(UserContext);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleReportIssue = () => {\n    handleClose();\n    // use window vs React Router API since this page isn't managed in React\n    window.open(process.env.PUBLIC_URL + \"/contact-us\", \"_blank\");\n  };\n  const handleLogout = async () => {\n    handleClose();\n\n    await signOut();\n    setUser(undefined);\n  };\n\n  return (\n    <div>\n      <AppBar position=\"static\" color=\"transparent\" elevation={0}>\n        <Toolbar\n          style={{ flexDirection: \"column-reverse\", alignItems: \"flex-end\" }}\n        >\n          <IconButton style={{ marginRight: \"10px\" }} onClick={handleClick}>\n            <MoreVertIcon />\n          </IconButton>\n          <Menu\n            id=\"ellipsis-menu\"\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\n            getContentAnchorEl={null}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <MenuItem onClick={handleReportIssue}>Contact Us</MenuItem>\n            <MenuItem\n              onClick={() => {\n                handleLogout();\n                handleLogout();\n              }}\n            >\n              Log Out\n            </MenuItem>\n          </Menu>\n        </Toolbar>\n      </AppBar>\n      {children}\n    </div>\n  );\n}\n\nexport default LoggedInUI;\n","export default __webpack_public_path__ + \"static/media/cal-icon2.e80483cd.png\";","export default __webpack_public_path__ + \"static/media/phone-icon.c409c032.png\";","export default __webpack_public_path__ + \"static/media/product-screenshot.1754e2ae.png\";","export default __webpack_public_path__ + \"static/media/logo.3bb3b6b6.svg\";","import {\n  AppBar,\n  Button,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport React, { useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport titleImg from \"../assets/official-logo.svg\";\nimport logo from \"../assets/logo.svg\";\nimport heroImg from \"../assets/product-screenshot.png\";\n// import { addToWaitlist } from \"../firebase\";\n\nconst WaitlistPage = () => {\n  const [success, setSuccess] = useState(undefined);\n  const [email, setEmail] = useState(\"\");\n  const handleChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const classes = useStyles();\n\n  const handleSubmitWaitlist = () => {\n    let re =\n      /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (re.test(email)) {\n      // addToWaitlist(email).then((val) => {\n      setSuccess(true);\n      // });\n    } else {\n      setSuccess(false);\n    }\n  };\n  // console.log(isMobile);\n\n  return (\n    <div className=\"landing-container-1\">\n      <AppBar position=\"static\" color=\"transparent\" elevation={0}>\n        <Toolbar\n          style={{ flexDirection: \"column-reverse\", alignItems: \"flex-end\" }}\n        >\n          <Typography\n            variant=\"h6\"\n            style={{\n              fontWeight: \"lighter\",\n            }}\n          >\n            <a href=\"/contact-us\" target=\"_blank\">\n              <Button\n                style={{\n                  fontFamily: '\"Noto Sans\", sans-serif',\n                  fontWeight: \"100\",\n                }}\n              >\n                Contact us\n              </Button>\n            </a>{\" \"}\n            |{\" \"}\n            <Button\n              style={{\n                fontFamily: '\"Noto Sans\", sans-serif',\n                fontWeight: \"100\",\n              }}\n              href=\"/login\"\n              target=\"_blank\"\n            >\n              Log in\n            </Button>\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <div\n        className=\"landing-container-2\"\n        style={{ height: isMobile ? \"70%\" : \"50%\" }}\n      >\n        <ConfabTitleWithTagline />\n\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"column\",\n            maxWidth: isMobile ? \"90vw\" : \"50vw\",\n          }}\n        >\n          <Paper\n            component=\"form\"\n            className={classes.root}\n            style={{\n              //width: isMobile ? \"60%\" : \"100%\",\n              borderStyle: \"solid\",\n              borderWidth: 0.2,\n            }}\n          >\n            <InputBase\n              type=\"email\"\n              className={classes.input}\n              placeholder=\"Enter your work email...\"\n              value={email}\n              onChange={handleChange}\n            />\n          </Paper>\n          <Paper style={{ backgroundColor: blue[600], marginLeft: \"0.5vw\" }}>\n            <IconButton\n              color=\"primary\"\n              className={classes.iconButton}\n              onClick={handleSubmitWaitlist}\n            >\n              <NavigateNextIcon />\n            </IconButton>\n          </Paper>\n        </div>\n        <Typography\n          variant=\"h5\"\n          style={{ marginTop: \"2vh\", marginBottom: \"1vh\" }}\n        >\n          OR\n        </Typography>\n        <div\n          style={{\n            display: \"flex\",\n            // alignItems: \"column\",\n            width: isMobile ? \"85vw\" : \"50vw\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            textAlign: isMobile ? \"left\" : \"center\",\n            // border: \"solid\",\n            padding: 4,\n            // margin: \"auto\",\n          }}\n        >\n          Skip the waitlist by getting the Google Calendar Add-on\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{\n              marginLeft: 15,\n              borderRadius: 2,\n              backgroundColor: blue[600],\n              padding: \"0.5em\",\n            }}\n            href=\"https://workspace.google.com/marketplace/app/confab/192926803111\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Skip {!isMobile && \"Waitlist\"}\n          </Button>\n        </div>\n        {/* <Divider className={classes.divider} orientation=\"vertical\" /> */}\n\n        {success ? (\n          <Typography\n            variant=\"body1\"\n            style={{ color: blue[600], marginTop: \"1em\", textAlign: \"center\" }}\n          >\n            You're on the list!\n          </Typography>\n        ) : success === undefined ? (\n          <Typography\n            variant=\"body1\"\n            style={{ color: grey[600], marginTop: \"1em\", textAlign: \"center\" }}\n          ></Typography>\n        ) : (\n          <Typography\n            variant=\"body1\"\n            style={{ color: red[600], marginTop: \"1em\", textAlign: \"center\" }}\n          >\n            Please enter a valid email address.\n          </Typography>\n        )}\n      </div>\n      <img\n        src={heroImg}\n        alt=\"Airwave screenshots\"\n        style={{\n          maxWidth: isMobile ? \"95%\" : \"60%\",\n          marginTop: isMobile ? 0 : \"2vh\",\n          marginBottom: \"40px\",\n        }}\n      />\n      <Typography variant=\"body1\">\n        <ul\n          className=\"branding\"\n          style={{\n            maxWidth: isMobile ? \"90%\" : \"65%\",\n            fontSize: isMobile ? \"1vh+1vw\" : \"1vh+1vw\",\n            margin: \"auto\",\n            listStyle: \"none\",\n          }}\n        >\n          <li className={`custom-list audio`}>\n            With Airwave's drop-in audio conferencing, it's now easier than ever\n            to have productive, efficient, and focused meetings\n          </li>\n          <li className={`custom-list cal`}>\n            Schedule rooms directly from Google Calendar with the{\" \"}\n            <a\n              href=\"https://workspace.google.com/marketplace/app/confab/192926803111\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: blue[700] }}\n            >\n              Airwave Workspace add-on\n            </a>{\" \"}\n            and join on your desktop or mobile browser\n          </li>\n          <li className={`custom-list mirror`}>\n            Never worry about how you look or where you are when joining a\n            meeting\n          </li>\n          <li className={`custom-list person`}>\n            Airwave is designed to give you the mobility and flexibility you need\n            for hybrid work\n          </li>\n        </ul>\n      </Typography>\n\n      <Footer />\n    </div>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: 400,\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n    color: \"white\",\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\nexport default WaitlistPage;\n\nexport function Footer({ style }) {\n  return (\n    <footer\n      style={{\n        alignSelf: \"stretch\",\n        width: \"97%\",\n        margin: \"auto\",\n        marginTop: \"5em\",\n        marginBottom: \"1.5vh\",\n\n        color: grey[500],\n        fontSize: 12,\n        ...style,\n      }}\n    >\n      &copy; 2021 Big Mess Labs Inc. {isMobile && <br />} All Rights Reserved\n      <span\n        style={{\n          float: \"right\",\n          //paddingRight: \"40px\",\n          color: grey[500],\n        }}\n      >\n        <a\n          href=\"/terms-of-service.html\"\n          style={{ marginRight: isMobile ? \"2vw\" : \"5vw\", color: grey[500] }}\n          target=\"_blank\"\n        >\n          Terms\n        </a>\n        <a\n          href=\"/privacy-policy.html\"\n          style={{ marginRight: isMobile ? \"2vw\" : \"4vw\", color: grey[500] }}\n          target=\"_blank\"\n        >\n          Privacy\n        </a>\n        <a\n          href=\"/contact-us\"\n          style={{ marginRight: \"2vw\", color: grey[500] }}\n          target=\"_blank\"\n        >\n          Contact Us\n        </a>\n      </span>\n    </footer>\n  );\n}\n\nfunction ConfabTitle({ style }) {\n  /* TODO: why is this h1 not rendering as bold as it should be? issue with font file / font-face? */\n  return (\n    <img\n      src={titleImg}\n      style={{\n        maxWidth: isMobile ? \"85%\" : \"60%\",\n        margin: \"auto\",\n        marginTop: \"2vh\",\n        marginBottom: \"3vh\",\n\n        //transform: isMobile ? \"translate(-10%)\" : \"none\",\n        ...style,\n      }}\n      alt=\"AIRWAVE\"\n    />\n  );\n}\n\nexport function ConfabTitleWithTagline({ titleStyle }) {\n  return (\n    <div>\n      <Typography\n        variant=\"h1\"\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <ConfabTitle style={titleStyle} />\n      </Typography>\n      <Typography\n        variant=\"h5\"\n        style={{\n          fontWeight: \"bold\",\n          marginTop: \"-1vh\",\n          marginBottom: \"2em\",\n          textAlign: \"center\",\n          fontSize: isMobile ? 15 : 25,\n          color: \"#414141\",\n        }}\n      >\n        Work at the speed of sound\n      </Typography>\n    </div>\n  );\n}\n\n\nexport function ConfabTitleWithoutSlogan({ titleStyle }) {\n  return (\n    <div>\n      <Typography\n        variant=\"h1\"\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <ConfabTitle style={titleStyle} />\n      </Typography>\n\n    </div>\n  );\n}","import React, { useContext, useEffect, useState } from \"react\";\nimport UserContext from \"../context/UserContext\";\nimport { isMobile } from \"react-device-detect\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport calIcon from \"../assets/cal-icon2.png\";\nimport phoneIcon from \"../assets/phone-icon.png\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { blue } from \"@material-ui/core/colors\";\nimport { createCall } from \"../api/firebase\";\nimport { ConfabTitleWithoutSlogan } from \"./WaitlistPage\";\n\nconst HomePage = () => {\n  const history = useHistory();\n  const [isOpen, setOpen] = useState(false);\n  const [modalText, setModalText] = useState({ title: \"\", description: \"\" });\n\n  useEffect(() => {\n    console.log(\"HOME PAGE CLEANUP\");\n    if (window.localStream) {\n      console.log(window.localStream);\n      try {\n        window.localStream.stop();\n      } catch {\n        console.log(\"FAILED TO CLOSE STREAM\");\n      }\n    }\n  }, []);\n\n  function handleCreateRoom() {\n    createCall().then((channel) => {\n      history.push(`/call/${channel}`);\n    });\n  }\n\n  const classes = useStyles();\n\n  return (\n    <div className=\"landing-container-1\">\n      <div className={classes.root}>\n      <ConfabTitleWithoutSlogan />\n\n        <div className={classes.buttonGroup}>\n          <div className={classes.buttons}>\n            <Paper elevation={0} className={classes.paper}>\n              {/* <AddBoxRoundedIcon\n                style={{ fontSize: \"500%\" }}\n                onClick={handleCreateRoom}\n              /> */}\n              <img\n                src={phoneIcon}\n                alt=\"Create Room\"\n                style={{ width: \"90%\", height: \"90%\", cursor: \"pointer\" }}\n                onClick={handleCreateRoom}\n              />\n            </Paper>\n            <div className={classes.label}> Start Room</div>\n            <div className={classes.description}> </div>\n          </div>\n          <div style={{ width: isMobile ? 20 : 100 }}></div>\n          <div className={classes.buttons}>\n            <Paper elevation={0} className={classes.paper}>\n              <a\n                href=\"https://workspace.google.com/marketplace/app/confab/192926803111\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <img\n                  src={calIcon}\n                  alt=\"calendar\"\n                  style={{ width: \"80%\", height: \"80%\" }}\n                />\n              </a>\n              \n            </Paper>\n            <div className={classes.label}>Get Calendar Add-on</div>\n            <div className={classes.description}>\n              {\" \"}\n              For easy scheduling straight from{\" \"}\n              <a\n                href=\"http://calendar.google.com\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{ color: blue[600] }}\n              >\n                Google Calendar\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: \"auto\",\n    display: \"flex\",\n    alignSelf: \"flex-start\",\n    //alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    //: \"solid\",\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: isMobile ? \"7vh\" : \"10vh\",\n  },\n  buttonGroup: {\n    marginTop: 100,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    //border: \"solid\",\n  },\n  buttons: {\n    flexDirection: \"column\",\n    width: isMobile ? \"100%\" : \"50%\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(2),\n      width: theme.spacing(14),\n      height: theme.spacing(14),\n    },\n  },\n  label: {\n    height: \"1.4vh\",\n    fontSize: \"2vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    display: \"flex\",\n    textAlign: \"center\",\n    width: \"90%\",\n  },\n  description: {\n    height: \"2vh\",\n    fontSize: \"1.3vh\",\n    textAlign: \"center\",\n    width: \"80%\",\n    marginTop: \"-0.2vh\",\n  },\n  paper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 20,\n    backgroundColor: \"#F5F5F5\",\n  },\n  modal: {\n    position: \"absolute\",\n    width: isMobile ? \"70%\" : \"50%\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: `translate(-50%, -50%)`,\n    backgroundColor: theme.palette.background.paper,\n    //border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default HomePage;\n","import isMobile from \"react-device-detect\";\nimport { Paper } from \"@material-ui/core\";\nimport QRCode from \"qrcode.react\";\nimport { useStyles } from \"./Call\";\n\n\ninterface QRCodeDisplayProps {\n  channel: string;\n}\n\nconst QRCodeDisplay = (props: QRCodeDisplayProps) => {\n  const classes = useStyles();\n  if (isMobile) {\n    return <div />;\n  } else {\n    return (\n      <div className={classes.qrCodeDisplayStyle}>\n        <Paper elevation={3} className={classes.qrCodeStyle}>\n          <QRCode\n            style={{ width: \"100%\", height: \"100%\" }}\n            value={`${window.location.href}`}\n          />\n        </Paper>\n        <div className={classes.callroomQRInfotip}>\n          Scan to join this room on your phone!\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default QRCodeDisplay;\n","import {\n  ILocalVideoTrack,\n  IRemoteVideoTrack,\n  ILocalAudioTrack,\n  IRemoteAudioTrack,\n} from \"agora-rtc-sdk-ng\";\nimport React, { useRef, useEffect } from \"react\";\n\nexport interface VideoPlayerProps {\n  //videoTrack: ILocalVideoTrack | IRemoteVideoTrack | undefined;\n  audioTrack: ILocalAudioTrack | IRemoteAudioTrack | undefined;\n  isLocal: boolean;\n}\n\nconst MediaPlayer = (props: VideoPlayerProps) => {\n  const container = useRef<HTMLDivElement>(null);\n  //   useEffect(() => {\n  //     if (!container.current) return;\n  //     props.videoTrack?.play(container.current);\n  //     return () => {\n  //       props.videoTrack?.stop();\n  //     };\n  //   }, [container, props.videoTrack]);\n  useEffect(() => {\n    if (!props.isLocal) {\n      console.log(\"refreshed?\");\n      props.audioTrack?.play();\n    }\n\n    return () => {\n      props.audioTrack?.stop();\n    };\n  }, [props.audioTrack, props.isLocal]);\n  return (\n    <div\n      ref={container}\n      className=\"video-player\"\n      style={{ width: \"0px\", height: \"0px\" }}\n    ></div>\n  );\n};\n\nexport default MediaPlayer;\n","import { useEffect, useState, MouseEventHandler } from \"react\";\nimport { AgoraUserObject, UserObject } from \"./Call\";\nimport { useStyles } from \"./Call\";\nimport { Paper } from \"@material-ui/core\";\nimport { isMobile } from \"react-device-detect\";\nimport shadows from \"@material-ui/core/styles/shadows\";\nimport {\n  AiOutlinePlusCircle,\n  AiOutlineAudioMuted,\n  AiOutlineConsoleSql,\n} from \"react-icons/ai\";\nimport MediaPlayer from \"./MediaPlayer\";\nimport { ILocalAudioTrack, IRemoteAudioTrack } from \"agora-rtc-sdk-ng\";\nconst muteIcon = require(\"../assets/mute.svg\").default;\n\nexport interface ParticipantProps {\n  // channel: String;\n  // uid: String | undefined;\n  // remoteUsers: any;\n  userData: UserObject;\n  audioTrack: IRemoteAudioTrack | ILocalAudioTrack | undefined;\n  onClick: MouseEventHandler<HTMLImageElement>;\n  isLocal: boolean;\n  isAddParticipant: boolean;\n}\n\nconst Participant = (props: ParticipantProps) => {\n  // interface ParticipantObject {\n  //   email: String;\n  //   photoURL: string;\n  //   profile: String;\n  //   displayName: string | undefined;\n  // }\n  // const [participant, setParticipant] = useState<\n  //   UserObject | undefined\n  // >();\n  const [audio, setAudio] = useState<number>(0);\n\n  // console.log(props.user?.user.email);\n  // console.log(props.user?.audioTrack);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // console.log(props.user);\n      if (props.audioTrack && !props.isAddParticipant) {\n        //console.log(props.user?.audioTrack.getVolumeLevel());\n        setAudio(props.audioTrack.getVolumeLevel());\n      }\n    }, 100);\n    return () => clearInterval(interval);\n  }, [props.isAddParticipant, props.audioTrack]);\n\n  const classes = useStyles();\n\n  return props.userData && props.userData.user ? (\n    <div className={classes.participant} onClick={props.onClick}>\n      <Paper\n        elevation={3}\n        className={classes.paper}\n        style={{\n          borderRadius: isMobile ? 35 : 50,\n          boxShadow: props.isAddParticipant\n            ? shadows[3]\n            : audio > 0.02\n            ? `0 0 9pt ${\n                -2 + 3.5 * Math.log(13 * audio + 0.6)\n              }pt cornflowerblue`\n            : shadows[3],\n          marginBottom: \"1.5vh\",\n        }}\n      >\n        {props.isAddParticipant ? (\n          <div\n            style={{\n              backgroundColor: \"#CDCDCD\",\n              width: \"100%\",\n              height: \"100%\",\n              borderRadius: isMobile ? 35 : 50,\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n\n                height: isMobile ? 80 : 112,\n              }}\n            >\n              <AiOutlinePlusCircle color=\"white\" size={60} />\n            </div>\n          </div>\n        ) : (\n          <img\n            src={props.userData.user.photoURL}\n            alt=\"\"\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              borderRadius: isMobile ? 35 : 50,\n\n              opacity:\n                props.audioTrack === undefined && !props.userData.muted\n                  ? 0.3\n                  : 1,\n            }}\n          ></img>\n        )}\n        {props.userData.muted && !props.isAddParticipant && (\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: 0,\n              right: 0,\n              display: \"flex\",\n              width: 30,\n              height: 30,\n              borderRadius: \"50%\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <img className={classes.participantMuteIcon} src={muteIcon} />\n          </div>\n        )}\n      </Paper>\n      {!props.isAddParticipant && (\n        <div className={classes.label}>\n          {props.userData.user.displayName +\n            (props.userData.isHost ? \" (Host)\" : \"\")}\n        </div>\n      )}\n      <MediaPlayer\n        audioTrack={props.audioTrack}\n        isLocal={props.isLocal}\n      ></MediaPlayer>\n    </div>\n  ) : null;\n};\n\nexport default Participant;\n","import React from \"react\";\nimport Participant from \"./Participant\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { UserObject, useStyles } from \"./Call\";\nimport { AgoraUserObject } from \"./Call\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { IAgoraRTCRemoteUser, ILocalAudioTrack } from \"agora-rtc-sdk-ng\";\nimport { isMobile } from \"react-device-detect\";\n\nexport interface ParticipantsProps {\n  me: UserObject | undefined;\n  localAudioTrack: ILocalAudioTrack | undefined;\n  users: { [uid: string]: IAgoraRTCRemoteUser };\n  userData: {\n    [uid: string]: UserObject;\n  };\n  setLocalOpen: (val: boolean) => void;\n  setRemoteOpen: (val: boolean) => void;\n  setSelectedUser: (user: UserObject | undefined) => void;\n}\n\nconst getGridTemplateColumns = (numberOfParticipants: number): string => {\n  if (numberOfParticipants === 1) {\n    return \"0fr\";\n  } else if (numberOfParticipants === 2) {\n    return \"0fr 0fr\";\n  } else if (numberOfParticipants === 3) {\n    return \"0fr  0fr 0fr\";\n  } else {\n    return \"1fr 1fr 1fr 1fr\";\n  }\n};\n\nconst Participants = (props: ParticipantsProps) => {\n  const me = props.me;\n  const users = props.users;\n  const userData = props.userData;\n\n  // console.log(me);\n  // console.log(users);\n  const classes = useStyles();\n  const meParticipant = 1;\n  const addParticipant = 1;\n  const numberOfParticipants =\n    meParticipant + addParticipant + (Object.keys(users).length ?? 0);\n\n  //Remove this once redesign is finalized\n  const gridTemplateColumns = getGridTemplateColumns(numberOfParticipants);\n\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\n\n  const addParticipantClicked = () => {\n    const el = document.createElement(\"input\");\n    el.value = window.location.href;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n    setSnackbarOpen(true);\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setSnackbarOpen(false);\n  };\n\n  const Alert = (props: any) => (\n    <MuiAlert elevation={6} variant=\"filled\" {...props} />\n  );\n\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: isMobile ? \"repeat(2, 0fr)\" : \"repeat(4, 0fr)\",\n      }}\n    >\n      {/* {users &&\n        users\n          .filter((user: AgoraUserObject | undefined) => {\n            return user?.isHost;\n          })\n          .map((user: AgoraUserObject | undefined) => {\n            return (\n              <Participant\n                user={user}\n                onClick={() => {\n                  props.setSelectedUser(user);\n                  props.setRemoteOpen(true);\n                }}\n                isLocal={false}\n                isAddParticipant={false}\n              />\n            );\n          })} */}\n      {me && (\n        <Participant\n          userData={me}\n          audioTrack={props.localAudioTrack}\n          onClick={() => {\n            //props.setSelectedUser(me);\n            props.setLocalOpen(true);\n          }}\n          isLocal={true}\n          isAddParticipant={false}\n        />\n      )}\n\n      {Object.keys(users).map((uid) => {\n        const remoteUser = users[uid];\n        const remoteUserData = userData[uid];\n        return (\n          <Participant\n            userData={remoteUserData}\n            audioTrack={remoteUser.audioTrack}\n            onClick={() => {\n              props.setSelectedUser(remoteUserData);\n              props.setRemoteOpen(true);\n            }}\n            isLocal={false}\n            isAddParticipant={false}\n          />\n        );\n      })}\n      {/* {users &&\n        users.map((user: AgoraUserObject | undefined) => {\n          if (user && !user.isHost) {\n            return (\n              <Participant\n                user={user}\n                onClick={() => {\n                  props.setSelectedUser(user);\n                  props.setRemoteOpen(true);\n                }}\n                isLocal={false}\n                isAddParticipant={false}\n              />\n            );\n          } else {\n            return null;\n          }\n        })} */}\n      {me && (\n        <Participant\n          userData={me}\n          audioTrack={props.localAudioTrack}\n          onClick={() => {\n            addParticipantClicked();\n          }}\n          isLocal={true}\n          isAddParticipant={true}\n        />\n      )}\n      <Snackbar\n        open={snackbarOpen}\n        autoHideDuration={4000}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n      >\n        <Alert severity=\"success\">Room Link Copied</Alert>\n      </Snackbar>\n    </div>\n  );\n};\n\nexport default Participants;\n","import React, { useState, useEffect } from \"react\";\nimport AgoraRTC, {\n  IAgoraRTCRemoteUser,\n  ILocalAudioTrack,\n  IRemoteAudioTrack,\n} from \"agora-rtc-sdk-ng\";\n\nimport QRCodeDisplay from \"./QRCodeDisplay\";\nimport { isMobile } from \"react-device-detect\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport { Divider, IconButton, SnackbarContent } from \"@material-ui/core\";\nimport { AiFillCamera } from \"react-icons/ai\";\nimport { BottomSheet } from \"react-spring-bottom-sheet\";\nimport \"./bottomsheetStyle.css\";\nimport {\n  EditorState,\n  convertToRaw,\n  convertFromRaw,\n  ContentState,\n} from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport htmlToDraft from \"html-to-draftjs\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport Participants from \"./Participants\";\nimport shadows from \"@material-ui/core/styles/shadows\";\nimport { blue } from \"@material-ui/core/colors\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport {\n  auth,\n  getCalEventDetails,\n  storage,\n  updateUserPhotoURL,\n} from \"../api/firebase\";\nimport { ConfabTitleWithoutSlogan } from \"../pages/WaitlistPage\";\n\nconst titleImg = require(\"../assets/official-logo.svg\").default;\nconst muteIcon = require(\"../assets/mute.svg\").default;\nconst unmuteIcon = require(\"../assets/unmute.svg\").default;\nconst addOnIcon = require(\"../assets/add-on.svg\").default;\nconst client = AgoraRTC.createClient({ codec: \"h264\", mode: \"rtc\" });\n\nexport interface UserObject {\n  isHost: boolean;\n  muted: boolean;\n  uid: string | undefined;\n  user:\n    | {\n        displayName: string;\n        email: string;\n        photoURL: string;\n        profile: string;\n      }\n    | undefined;\n}\n\nexport interface AgoraUserObject {\n  isHost: boolean;\n  muted: boolean;\n  uid: string | undefined;\n  audioTrack: ILocalAudioTrack | IRemoteAudioTrack | undefined;\n  user:\n    | {\n        displayName: string;\n        email: string;\n        photoURL: string;\n        profile: string;\n      }\n    | undefined;\n}\n\ninterface CallProps {\n  channel: string;\n  localUser: UserObject;\n  localAudioTrack: ILocalAudioTrack | undefined;\n  remoteUsers: { [uid: string]: IAgoraRTCRemoteUser };\n  remoteUserData: {\n    [uid: string]: UserObject;\n  };\n  leaveMeeting: () => void;\n  setLocalUser: Function;\n}\n\n////////////\n\nconst Call = (props: CallProps) => {\n  const {\n    channel,\n    leaveMeeting,\n    localUser,\n    localAudioTrack,\n    setLocalUser,\n    remoteUsers,\n    remoteUserData,\n  } = props;\n\n  const playSound = () => {\n    const audioElement = document.getElementsByClassName(\n      \"audio\"\n    )[0] as HTMLAudioElement;\n    if (audioElement) {\n      audioElement.play();\n    }\n  };\n\n  ////////////// CAL EVENT PULL ///////////\n\n  const [calendarEvent, setCalendarEvent] = useState<any>(undefined);\n  useEffect(() => {\n    getCalEventDetails().then((event) => {\n      console.log(event);\n      if (event) {\n        setCalendarEvent(event);\n      }\n      /*TODO: ASSIGN HOST HERE*/\n    });\n  }, []);\n\n  ///////////////////////////////////\n  /////////// UI STUFF //////////////\n  //////////////////////////////////\n\n  const classes = useStyles();\n\n  //upsell banner\n\n  const [upsellBannerOpen, setUpsellBannerOpen] = useState(true);\n  const handleCloseUpsellSnackbar = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setUpsellBannerOpen(false);\n  };\n\n  //title\n\n  function ConfabTitle({}) {\n    /* TODO: why is this h1 not rendering as bold as it should be? issue with font file / font-face? */\n    return (\n      <img\n        src={titleImg}\n        style={{\n          maxWidth: isMobile ? \"80%\" : \"100%\",\n        }}\n        alt=\"AIRWAVE\"\n      />\n    );\n  }\n\n  //bottom sheet\n  const [localOpen, setLocalOpen] = useState(false);\n  const [remoteOpen, setRemoteOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<UserObject | undefined>();\n\n  //image upload\n\n  const [image, setImage] = useState<Blob | undefined>(undefined);\n  const [imageURL, setImageURL] = useState<string | undefined>(\n    localUser.user?.photoURL\n  );\n\n  const onImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      setImage(img);\n      setImageURL(URL.createObjectURL(img));\n    }\n  };\n\n  const uploadImage = () => {\n    if (localUser.user && image) {\n      console.log(\"uploading\");\n\n      const uploadTask = storage\n        .ref()\n        .child(\"users/\" + localUser.user.email)\n        .put(image);\n\n      uploadTask.then(() => {\n        console.log(\"success\");\n        uploadTask.snapshot.ref.getDownloadURL().then((url: string) => {\n          setLocalUser((localUser: AgoraUserObject | undefined) => {\n            if (localUser && localUser.user) {\n              const { photoURL, ...user } = localUser?.user;\n              return { ...localUser, user: { ...user, photoURL: url } };\n            }\n          });\n          updateUserPhotoURL(url);\n          console.log(\"uploaded\");\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (image) {\n      uploadImage();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [image]);\n\n  //////NOTEPAD//////\n\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n  useEffect(() => {\n    if (localUser.user) {\n      const html = localUser.user.profile;\n      const content = ContentState.createFromBlockArray(\n        htmlToDraft(html).contentBlocks\n      );\n      setEditorState(EditorState.createWithContent(content));\n    }\n  }, []);\n\n  useEffect(() => {\n    //get profile for first time on load\n    if (localUser) {\n      const profileHTML = draftToHtml(\n        convertToRaw(editorState.getCurrentContent())\n      );\n\n      setLocalUser((localUser: AgoraUserObject | undefined) => {\n        if (localUser && localUser.user) {\n          const { profile, ...user } = localUser?.user;\n          return { ...localUser, user: { ...user, profile: profileHTML } };\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editorState]);\n\n  /////MUTE/////\n  const handleMute = () => {\n    setLocalUser((localUser: AgoraUserObject | undefined) => {\n      if (localUser) {\n        const { muted } = localUser;\n        return { ...localUser, muted: !muted };\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (localUser) {\n      const changeMute = async () => {\n        await localAudioTrack?.setMuted(localUser.muted);\n        //console.log(\"mute changed\")\n      };\n      changeMute();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [localUser?.muted, localAudioTrack]);\n\n  return (\n    <div>\n      <audio className=\"audio\" style={{ height: 0, width: 0 }}>\n        <source src=\"https://firebasestorage.googleapis.com/v0/b/huddle-7dff8.appspot.com/o/cork.mp3?alt=media&token=a80a2ddc-8e85-41f8-b38c-8df04d2f7289\" />\n      </audio>\n      <div className=\"landing-container-1\">\n        <div className={classes.root}>\n          <div className={classes.callroomTopBar}>\n            <img\n              src={titleImg}\n              className={classes.callroomAirwaveTitle}\n              alt=\"AIRWAVE\"\n            />\n            {calendarEvent && (\n              <h3 className={classes.callroomMeetingTitle}>\n                {calendarEvent?.summary}\n              </h3>\n            )}\n            {!calendarEvent && <div style={{ padding: \"1em\" }}></div>}\n          </div>\n          <div className={classes.callroomBody}>\n            <BottomSheet\n              open={localOpen}\n              onDismiss={() => setLocalOpen(false)}\n              snapPoints={({ minHeight, maxHeight }) => [minHeight, maxHeight]}\n              scrollLocking={false}\n              header={\n                <div\n                  style={{\n                    flexDirection: \"row\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                  }}\n                >\n                  <div\n                    style={{\n                      flexDirection: \"column\",\n                      display: \"flex\",\n                      alignSelf: \"center\",\n                      alignItems: \"flex-start\",\n                      marginLeft: 20,\n                    }}\n                  >\n                    <div\n                      style={{\n                        fontSize: \"25px\",\n                        lineHeight: \"40px\",\n                      }}\n                    >\n                      My Notepad\n                    </div>\n                    {localUser.user && <div>{localUser.user.email}</div>}\n                  </div>\n                  <div style={{ display: \"flex\" }}>\n                    <Paper\n                      elevation={0}\n                      className={classes.paper}\n                      style={{\n                        width: \"50px\",\n                        height: \"50px\",\n                        borderRadius: 22,\n                        marginRight: 20,\n                        boxShadow: \"none\",\n                      }}\n                    >\n                      <label htmlFor=\"single\">\n                        <img\n                          src={imageURL}\n                          alt=\"\"\n                          style={{\n                            width: \"50px\",\n                            height: \"50px\",\n                            borderRadius: 22,\n                          }}\n                        ></img>\n                      </label>\n                      <input\n                        type=\"file\"\n                        id=\"single\"\n                        accept=\"image/*\"\n                        style={{\n                          width: 0,\n                          height: 0,\n                          position: \"absolute\",\n                          borderWidth: 0,\n                          border: \"none\",\n                          outline: 0,\n                        }}\n                        onChange={onImageChange}\n                      />\n                      <div\n                        style={{\n                          position: \"absolute\",\n                          bottom: 0,\n                          right: 0,\n                          display: \"flex\",\n                          width: 20,\n                          height: 20,\n                          borderRadius: \"50%\",\n                          alignItems: \"center\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <div className={classes.editPicture}>\n                          <AiFillCamera />\n                        </div>\n                      </div>\n                    </Paper>\n                  </div>\n                </div>\n              }\n            >\n              {/* <textarea\n                className=\"prof-description\"\n                style={{\n                  height: \"30vh\",\n                  margin: 20,\n                  fontSize: \"22px\",\n                  width: \"-webkit-fill-available\",\n                  color: \"rgb(40,40,40)\",\n                  wordBreak: \"break-word\",\n                  overflowY: \"auto\",\n                }}\n                placeholder=\"Add publicly visible comments, links, questions, and more here...\"\n                value={notes}\n                onChange={updateProfileField}\n              ></textarea> */}\n              <div\n                style={{\n                  width: \"90%\",\n                  height: \"100%\",\n                  margin: \"auto\",\n                }}\n              >\n                <Editor\n                  toolbar={{\n                    options: [\"link\", \"emoji\"],\n                    link: { defaultTargetOption: \"_blank\" },\n                  }}\n                  editorState={editorState}\n                  wrapperStyle={{ height: \"50vh\" }}\n                  //editorStyle={{ height: \"100%\", border: \"solid\" }}\n                  placeholder=\"Add publicly visible comments, links, questions, and more here...\"\n                  wrapperClassName=\"wrapper-class\"\n                  editorClassName=\"editor-class\"\n                  onEditorStateChange={(edited) => {\n                    setEditorState(edited);\n                    // updateProfileField(\n                    //   draftToHtml(convertToRaw(edited.getCurrentContent()))\n                    // );\n                    // console.log(\n                    //   draftToHtml(convertToRaw(editorState.getCurrentContent()))\n                    // );\n                  }}\n                >\n                  <textarea\n                    disabled\n                    style={{\n                      height: \"30vh\",\n                      margin: 20,\n                      fontSize: \"22px\",\n                      width: \"-webkit-fill-available\",\n                      color: \"rgb(40,40,40)\",\n                      wordBreak: \"break-word\",\n                      overflowY: \"auto\",\n                      border: \"solid\",\n                    }}\n                    value={draftToHtml(\n                      convertToRaw(editorState.getCurrentContent())\n                    )}\n                  ></textarea>\n                </Editor>\n              </div>\n            </BottomSheet>\n            <BottomSheet\n              open={remoteOpen}\n              onDismiss={() => setRemoteOpen(false)}\n              snapPoints={({ minHeight, maxHeight }) => [minHeight, maxHeight]}\n              scrollLocking={false}\n              header={\n                <div\n                  style={{\n                    flexDirection: \"row\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                  }}\n                >\n                  <div\n                    style={{\n                      flexDirection: \"column\",\n                      display: \"flex\",\n                      alignSelf: \"center\",\n                      alignItems: \"flex-start\",\n                      marginLeft: 20,\n                    }}\n                  >\n                    <div style={{ fontSize: \"25px\", lineHeight: \"40px\" }}>\n                      {selectedUser &&\n                        selectedUser.user &&\n                        selectedUser.user.displayName + \"'s Notepad\"}\n                    </div>\n                    <div>\n                      {selectedUser &&\n                        selectedUser.user &&\n                        selectedUser.user.email}\n                    </div>\n                  </div>\n                  <div style={{ display: \"flex\" }}>\n                    <Paper\n                      elevation={0}\n                      className={classes.paper}\n                      style={{\n                        width: \"50px\",\n                        height: \"50px\",\n                        borderRadius: 22,\n                        marginRight: 20,\n                      }}\n                    >\n                      <img\n                        src={\n                          selectedUser &&\n                          selectedUser.user &&\n                          selectedUser.user.photoURL\n                        }\n                        alt=\"\"\n                        style={{\n                          width: \"50px\",\n                          height: \"50px\",\n                          borderRadius: 22,\n                        }}\n                      ></img>\n                    </Paper>\n                  </div>\n                </div>\n              }\n            >\n              {\n                /* <p\n                className=\"prof-description\"\n                style={{\n                  height: \"30vh\",\n                  margin: 20,\n                  fontSize: \"22px\",\n                  width: \"-webkit-fill-available\",\n                  color: \"rgb(77, 77, 77)\",\n                  wordBreak: \"break-word\",\n                  overflowY: \"auto\",\n                }}\n              >\n                {selectedUser && selectedUser.user.profile}\n              </p> */\n                selectedUser && (\n                  <div\n                    style={{\n                      height: \"30vh\",\n                      margin: 20,\n                      fontSize: \"22px\",\n                      width: \"-webkit-fill-available\",\n                      color: \"rgb(40,40,40)\",\n                      wordBreak: \"break-word\",\n                      overflowY: \"auto\",\n                      userSelect: \"text\",\n                    }}\n                    dangerouslySetInnerHTML={{\n                      __html:\n                        selectedUser && selectedUser.user\n                          ? selectedUser.user.profile\n                          : \"\",\n                    }}\n                  ></div>\n                )\n              }\n            </BottomSheet>\n\n            <div className={classes.callroomContainer}>\n              <div className={classes.callroomParticipantsContainer}>\n                <Participants\n                  me={localUser}\n                  localAudioTrack={props.localAudioTrack}\n                  users={remoteUsers}\n                  userData={remoteUserData}\n                  setLocalOpen={(val: boolean) => setLocalOpen(val)}\n                  setRemoteOpen={(val: boolean) => setRemoteOpen(val)}\n                  setSelectedUser={(val: UserObject | undefined) => {\n                    if (val) {\n                      setSelectedUser(val);\n                    }\n                  }}\n                />\n              </div>\n              {!isMobile && (\n                <div className={classes.callroomQRContainer}>\n                  <QRCodeDisplay channel={channel} />\n                </div>\n              )}\n            </div>\n          </div>\n\n          <Paper elevation={3} className={classes.callroomBottomBar}>\n            {!isMobile && (\n              <a\n                className={classes.callroomAddonContainer}\n                href=\"https://workspace.google.com/marketplace/app/confab/192926803111\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                <div className={classes.callroomAddonIconContainer}>\n                  <img src={addOnIcon} className={classes.callroomAddonIcon} />\n                </div>\n\n                <p className={classes.callroomAddonInfotip}>\n                  Get the calendar add-on for one click scheduling\n                </p>\n              </a>\n            )}\n\n            <div className={classes.buttonGroup}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={leaveMeeting}\n              >\n                {\" \"}\n                Leave{\" \"}\n              </Button>\n              <div style={{ width: 80 }}></div>\n              <Paper\n                elevation={1}\n                className={classes.callRoomMuteIconContainer}\n              >\n                {localUser?.muted ? (\n                  <img\n                    src={muteIcon}\n                    className={classes.callroomMuteIcon}\n                    onClick={handleMute}\n                  />\n                ) : (\n                  <img\n                    src={unmuteIcon}\n                    className={classes.callroomMuteIcon}\n                    onClick={handleMute}\n                  />\n                )}\n              </Paper>\n            </div>\n          </Paper>\n        </div>\n      </div>\n    </div>\n  );\n};\n\ntype ChannelParams = {\n  channelId: string;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: isMobile ? \"90%\" : \"100%\",\n    height: isMobile ? \"95%\" : \"100%\",\n    margin: \"auto\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    //borderStyle: \"solid\"\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: isMobile ? \"7vh\" : \"10vh\",\n    marginTop: 0,\n    marginBottom: 0,\n    position: \"fixed\",\n    top: \"0px\",\n  },\n  participantGroup: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    //alignItems: \"center\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    overflow: \"scroll\",\n  },\n  qrCodeDisplayStyle: {\n    backgroundColor: \"#5B7992\",\n    width: \"10em\",\n    height: \"10em\",\n    flexDirection: \"column\",\n\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      //margin: theme.spacing(2),\n      // width: theme.spacing(14),\n      // height: theme.spacing(10),\n    },\n    padding: \"1em 0.5em 0.5em 0.5em\",\n    borderRadius: \"20px\",\n  },\n  participant: {\n    flexDirection: \"column\",\n\n    justifyContent: \"flex-start\",\n\n    alignItems: \"center\",\n    display: \"flex\",\n    position: \"relative\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(2),\n      width: isMobile ? theme.spacing(10) : theme.spacing(14),\n      height: isMobile ? theme.spacing(10) : theme.spacing(14),\n    },\n  },\n  mute: {\n    zIndex: 2,\n    width: 30,\n    height: 30,\n    borderRadius: \"50%\",\n    backgroundColor: \"white\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    boxShadow: theme.shadows[5],\n  },\n  participantMuteIcon: {\n    width: \"18px\",\n    height: \"18px\",\n    borderRadius: \"50%\",\n    padding: \"0.3em\",\n    backgroundColor: \"#F5F5F5\",\n  },\n  editPicture: {\n    position: \"fixed\",\n    zIndex: 2,\n    width: 20,\n    height: 20,\n    borderRadius: \"50%\",\n    backgroundColor: \"white\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    boxShadow: theme.shadows[5],\n  },\n  label: {\n    height: \"2vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    display: \"flex\",\n    lineHeight: 1.4,\n    textAlign: \"center\",\n    fontSize: \"14px\",\n    fontWeight: 500,\n  },\n  paper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 20,\n    //overflow: \"clip\",\n    position: \"relative\",\n  },\n  qrCodeStyle: {\n    // display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    overflow: \"clip\",\n    height: \"5em\",\n    width: \"5em\",\n    padding: \"0.5em\",\n    borderRadius: \"10px\",\n    margin: \"0.5em auto 1em auto\",\n  },\n  modal: {\n    position: \"absolute\",\n    width: isMobile ? \"70%\" : \"50%\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: `translate(-50%, -50%)`,\n    backgroundColor: theme.palette.background.paper,\n\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  buttonGroup: {\n    width: \"100%\",\n\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  callroomBody: {\n    height: \"85vh\",\n    width: \"inherit\",\n    overflow: \"scroll\",\n  },\n  callroomContainer: {\n    width: \"100%\",\n    display: \"flex\",\n  },\n  callroomQRContainer: {\n    width: \"40%\",\n    padding: \"4.7em 0 0 9em\",\n  },\n  callroomParticipantsContainer: {\n    width: isMobile ? \"100%\" : \"60%\",\n    padding: isMobile ? \"1.5em\" : \"3em 3em 3em 9em\",\n  },\n  callroomQRInfotip: {\n    textAlign: \"center\",\n    fontSize: \"12px\",\n    fontWeight: \"bold\",\n    color: \"white\",\n    padding: \"0 1em 0 1em\",\n  },\n  callroomAirwaveTitle: {\n    maxWidth: isMobile ? \"80%\" : \"10%\",\n    margin: \"1.5em 0 0 2em\",\n  },\n  callroomMeetingTitle: {\n    textAlign: \"center\",\n    color: \"#414141\",\n    marginTop: 0,\n  },\n  callRoomMuteIconContainer: {\n    borderRadius: \"50%\",\n    padding: \"0.5em 0.5em 0.4em 0.5em\",\n    cursor: \"pointer\",\n    backgroundColor: \"#F5F5F5\",\n  },\n  callroomMuteIcon: {\n    width: \"25px\",\n    height: \"25px\",\n  },\n  callroomAddonIconContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  callroomAddonIcon: {\n    width: \"30px\",\n    height: \"30px\",\n    marginRight: \"0.5em\",\n  },\n  callroomAddonContainer: {\n    display: \"flex\",\n    position: \"fixed\",\n    margin: \"0 0 0 2em\",\n    left: 0,\n  },\n  callroomAddonInfotip: {\n    fontSize: \"12px\",\n    width: \"13em\",\n    color: \"#5B7992\",\n  },\n  callroomBottomBar: {\n    zIndex: 1,\n    width: \"100%\",\n    height: \"10vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    bottom: 0,\n    position: \"fixed\",\n    backgroundColor: \"#F5F5F5\",\n    borderRadius: 0,\n    justifyContent: \"center\",\n  },\n  callroomTopBar: {\n    zIndex: 1,\n    width: \"100%\",\n  },\n}));\n\nexport { useStyles };\n\nexport default Call;\n","import io from \"socket.io-client\";\nimport events from \"./events\";\n\nconst socketURL =\n  process.env.NODE_ENV === \"development\" ? \"http://localhost:8000\" : \"/\";\nlet socket = io(socketURL);\nconst initSocket = () => {\n  socket.on(\"connect\", () => console.log(\"Connected\"));\n};\n\nexport { socket, initSocket };\n","import { CircularProgress } from \"@material-ui/core\";\n\nconst Loading = () => {\n  return (\n    <div\n      className=\"landing-container-1\"\n      style={{\n        position: \"absolute\",\n      }}\n    >\n      <CircularProgress size={100} />\n    </div>\n  );\n};\n\nexport default Loading;\n","import { useContext, useEffect, useRef, useState } from \"react\";\nimport useAgora from \"../hooks/useAgora\";\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport { RtmTokenBuilder, RtcRole, RtcTokenBuilder } from \"agora-access-token\";\nimport { useParams, useHistory, Prompt } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport Call, { AgoraUserObject, UserObject } from \"../components/Call\";\nimport { socket } from \"../api/sockets/sockets\";\nimport events from \"../api/sockets/events\";\nimport Loading from \"../components/Loading\";\nconst keys: any = require(\"../keys\");\n\nfunction convertFromAgoraUser(user: AgoraUserObject): UserObject | undefined {\n  const { audioTrack, ...rest } = user;\n  if (rest.user) {\n    const { isHost, uid, muted } = rest;\n    return { isHost, uid, muted, user: rest.user };\n  } else {\n    return undefined;\n  }\n}\n\nconst CallPage = () => {\n  const [client] = useState(\n    AgoraRTC.createClient({ codec: \"vp8\", mode: \"rtc\" })\n  );\n\n  const user = useContext(UserContext)?.user;\n  const playSound = () => {\n    const audioElement = document.getElementsByClassName(\n      \"audio\"\n    )[0] as HTMLAudioElement;\n    if (audioElement) {\n      audioElement.play();\n    }\n  };\n\n  const [joinedOnce, setJoinedOnce] = useState(false);\n\n  const [localUser, setLocalUser] = useState<UserObject | undefined>(undefined);\n  const [remoteUserData, setRemoteUserData] = useState<{\n    [uid: string]: UserObject;\n  }>({});\n\n  const [remoteUsers, setRemoteUsers] = useState<AgoraUserObject[]>([]);\n\n  const {\n    localAudioTrack,\n    leave,\n    join,\n    joinState,\n    remoteUsers: remoteAgoraUsers,\n  } = useAgora(client, playSound);\n\n  const localAudioTrackRef = useRef(localAudioTrack);\n  const localUserRef = useRef(localUser);\n  const remoteAgoraUsersRef = useRef(remoteAgoraUsers);\n\n  useEffect(() => {\n    localAudioTrackRef.current = localAudioTrack;\n    localUserRef.current = localUser;\n    remoteAgoraUsersRef.current = remoteAgoraUsers;\n  });\n\n  const { channelId } = useParams<{ channelId: string }>();\n  const history = useHistory();\n\n  const [channel] = useState(channelId);\n  const [appid] = useState(keys.AGORA_APP_ID);\n  const [token] = useState(\n    RtcTokenBuilder.buildTokenWithUid(\n      keys.AGORA_APP_ID,\n      keys.AGORA_SECRET,\n      channelId,\n      0,\n      RtcRole.PUBLISHER,\n      Math.floor(Date.now() / 1000) + 3600\n    )\n  );\n\n  useEffect(() => {\n    if (localUser) {\n      console.log(\"emitting\");\n      socket.emit(events.UPDATE_USER, {\n        channel,\n        user: localUser,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [remoteAgoraUsers]);\n\n  const setRemoteUserState = ({ users }: { users: UserObject[] }) => {\n    const tmp: {\n      [uid: string]: UserObject;\n    } = remoteUserData;\n    users.forEach((user) => {\n      if (user.uid) {\n        tmp[user.uid] = user;\n      }\n    });\n    setRemoteUserData(tmp);\n    // console.log(\"receiving\");\n    // const localUser = localUserRef.current;\n    // const remoteAgoraUsers = remoteAgoraUsersRef.current;\n    // console.log(users);\n    // // console.log(localUser);\n    // //console.log(remoteAgoraUsers);\n    // // console.log(localAudioTrack);\n    // // console.log(localAudioTrackRef.current);\n    // if (localUser && remoteAgoraUsers) {\n    //   const remoteUserList = users.map((remoteUser) => {\n    //     const audioTrack = remoteAgoraUsers.find((val) => {\n    //       return val.uid.toString() === remoteUser.uid;\n    //     })?.audioTrack;\n    //     return { ...remoteUser, audioTrack };\n    //   });\n    //   setRemoteUsers(\n    //     remoteUserList.filter((remoteUser) => {\n    //       return remoteUser.user.email !== localUser.user.email;\n    //     })\n    //   );\n    // } else {\n    //   //console.log(\"no remote users\");\n    // }\n  };\n\n  useEffect(() => {\n    console.log(remoteAgoraUsers);\n    socket.emit(events.GET_USERS, { uids: Object.keys(remoteAgoraUsers) });\n  }, [remoteAgoraUsers]);\n\n  useEffect(() => {\n    console.log(remoteUserData);\n  }, [remoteUserData]);\n\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      console.log(\"Connected to Socket \" + socket.id);\n    });\n\n    socket.on(events.UPDATE_USER, setRemoteUserState);\n    socket.on(\n      events.GET_USERS,\n      ({ remoteUsers }: { remoteUsers: { [uid: string]: UserObject } }) => {\n        console.log(\"GETTING REMOTE USER DATA\");\n        setRemoteUserData(remoteUsers);\n      }\n    );\n    socket.on(events.LEAVE_CHANNEL, getReplaced);\n    socket.on(events.JOIN_CHANNEL, ({ user }: { user: UserObject }) => {\n      console.log(\"IN JOIN RECEIVER\");\n      setLocalUser({\n        ...user,\n      });\n      setJoinedOnce(true);\n    });\n\n    return () => {\n      socket.emit(events.LEAVE_CHANNEL, {\n        channel,\n        user: localUser,\n      });\n      leave();\n      socket.off(events.UPDATE_USER, setRemoteUserState);\n      console.log(\"LEAVING USE EFFECT\");\n\n      //socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    join(appid, channel, token);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (joinState && user) {\n      console.log(\"joined\");\n      const tmpUser: UserObject = {\n        user,\n        isHost: false,\n        muted: false,\n        uid: client.uid?.toString(),\n      };\n      socket.emit(events.JOIN_CHANNEL, { channel, user: tmpUser });\n      // setJoinedOnce(true);\n      console.log();\n      // setLocalUser({\n      //   user,\n      //   isHost: false,\n      //   muted: false,\n      //   audioTrack: localAudioTrack,\n      //   uid: client.uid?.toString(),\n      // });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [joinState, user]);\n\n  //   useEffect(() => {\n  //     console.log(localUser);\n  //   }, [localUser]);\n\n  /*EVERY TIME LOCAL USER STATE CHANGES, EMIT TO WS CONNECTION*/\n  useEffect(() => {\n    if (localUser && joinedOnce) {\n      console.log(localUser);\n      console.log(\"emitting!\");\n      socket.emit(events.UPDATE_USER, {\n        channel,\n        user: localUser,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [localUser]);\n\n  // useEffect(() => {\n  //   const refresh = () => {\n  //     console.log(\"ass\");\n  //     if (localUser?.audioTrack === undefined && joinedOnce && localUser) {\n  //       console.log(\"rejoining\");\n  //       leave().then(() => {\n  //         join(appid, channel, token).then(() => {\n  //           setLocalUser({\n  //             ...localUser,\n\n  //           });\n  //         });\n  //       });\n  //     }\n  //   };\n  //   refresh();\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [localUser]);\n\n  const leaveMeeting = async () => {\n    //console.log(\"ass\");\n\n    console.log(\"IN leaveMeeting function\");\n    socket.emit(events.LEAVE_CHANNEL, {\n      channel,\n      user: localUser,\n    });\n    leave();\n    //socket.disconnect();\n    //history.goBack();\n    history.push(\"/\");\n  };\n\n  const getReplaced = async () => {\n    console.log(\"LEAVE MESSAGE RECEIVED (Replace function)\");\n    leave();\n    //socket.disconnect();\n    //history.goBack();\n    history.push(\"/\");\n  };\n\n  // console.log(\"AUDIO TRACK DEBUGGING\");\n  // console.log(localUser);\n  // console.log(remoteUsers);\n  // console.log(remoteAgoraUsers);\n  // console.log(\"Connection State:\");\n  // console.log(client.connectionState);\n  // client.on(\"connection-state-change\", (curState, revState, reason) => {\n  //   console.log(curState);\n  //   console.log(revState);\n  //   console.log(reason);\n  // });\n\n  return localUser ? (\n    <Call\n      channel={channel}\n      localUser={localUser}\n      localAudioTrack={localAudioTrack}\n      remoteUsers={remoteAgoraUsers}\n      remoteUserData={remoteUserData}\n      leaveMeeting={leaveMeeting}\n      setLocalUser={setLocalUser}\n    />\n  ) : (\n    <Loading />\n  );\n};\n\nexport default CallPage;\n","import { useState, useEffect } from \"react\";\nimport AgoraRTC, {\n  IAgoraRTCClient,\n  IAgoraRTCRemoteUser,\n  MicrophoneAudioTrackInitConfig,\n  CameraVideoTrackInitConfig,\n  IMicrophoneAudioTrack,\n  ICameraVideoTrack,\n  ILocalVideoTrack,\n  ILocalAudioTrack,\n} from \"agora-rtc-sdk-ng\";\n\nexport default function useAgora(\n  client: IAgoraRTCClient | undefined,\n  playSound: Function\n): {\n  localAudioTrack: ILocalAudioTrack | undefined;\n  // localVideoTrack: ILocalVideoTrack | undefined,\n  joinState: boolean;\n  leave: () => Promise<void>;\n  join: Function;\n  remoteUsers: { [uid: string]: IAgoraRTCRemoteUser };\n} {\n  // const [localVideoTrack, setLocalVideoTrack] = useState<ILocalVideoTrack | undefined>(undefined);\n  const [localAudioTrack, setLocalAudioTrack] = useState<\n    ILocalAudioTrack | undefined\n  >(undefined);\n\n  const [joinState, setJoinState] = useState(false);\n\n  const [remoteUsers, setRemoteUsers] = useState<{\n    [uid: string]: IAgoraRTCRemoteUser;\n  }>({});\n\n  async function createLocalTracks(\n    audioConfig?: MicrophoneAudioTrackInitConfig\n  ): Promise<IMicrophoneAudioTrack> {\n    const microphoneTrack = await AgoraRTC.createMicrophoneAudioTrack(\n      audioConfig\n    );\n\n    setLocalAudioTrack(microphoneTrack);\n    //   setLocalVideoTrack(cameraTrack);\n    return microphoneTrack;\n  }\n\n  async function join(\n    appid: string,\n    channel: string,\n    token?: string,\n    uid?: string | number | null\n  ) {\n    if (!client) return;\n    const microphoneTrack = await createLocalTracks({\n      encoderConfig: \"speech_standard\",\n    });\n\n    await client.join(appid, channel, token || null);\n    await client.publish([microphoneTrack]);\n\n    (window as any).client = client;\n\n    //  (window as any).videoTrack = cameraTrack;\n\n    (window as any).localStream = microphoneTrack.getMediaStreamTrack();\n    setJoinState(true);\n  }\n\n  async function leave() {\n    if (localAudioTrack) {\n      localAudioTrack.stop();\n      localAudioTrack.close();\n    }\n    // if (localVideoTrack) {\n    //   localVideoTrack.stop();\n    //   localVideoTrack.close();\n    // }\n    setRemoteUsers({});\n    setJoinState(false);\n    await client?.leave();\n  }\n\n  useEffect(() => {\n    if (!client) return;\n\n    const dictFromArray = (array: IAgoraRTCRemoteUser[]) => {\n      const remoteUsersDict: { [uid: string]: IAgoraRTCRemoteUser } = {};\n      array.forEach((remoteUser) => {\n        remoteUsersDict[remoteUser.uid.toString()] = remoteUser;\n      });\n      return remoteUsersDict;\n    };\n\n    setRemoteUsers(dictFromArray(client.remoteUsers));\n\n    const handleUserPublished = async (\n      user: IAgoraRTCRemoteUser,\n      mediaType: \"audio\"\n    ) => {\n      await client.subscribe(user, mediaType);\n      console.log(user.uid);\n      // toggle rerender while state of remoteUsers changed.\n      setRemoteUsers((remoteUsers) => dictFromArray(client.remoteUsers));\n    };\n    const handleUserUnpublished = (user: IAgoraRTCRemoteUser) => {\n      setRemoteUsers((remoteUsers) => dictFromArray(client.remoteUsers));\n    };\n    const handleUserJoined = (user: IAgoraRTCRemoteUser) => {\n      playSound();\n      console.log(user.uid);\n      setRemoteUsers((remoteUsers) => dictFromArray(client.remoteUsers));\n    };\n    const handleUserLeft = (user: IAgoraRTCRemoteUser) => {\n      //console.log(''+ user.uid + 'left')\n      setRemoteUsers((remoteUsers) => dictFromArray(client.remoteUsers));\n    };\n    client.on(\"user-published\", handleUserPublished);\n    client.on(\"user-unpublished\", handleUserUnpublished);\n    client.on(\"user-joined\", handleUserJoined);\n    client.on(\"user-left\", handleUserLeft);\n\n    return () => {\n      client.off(\"user-published\", handleUserPublished);\n      client.off(\"user-unpublished\", handleUserUnpublished);\n      client.off(\"user-joined\", handleUserJoined);\n      client.off(\"user-left\", handleUserLeft);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [client]);\n\n  return {\n    localAudioTrack,\n    // localVideoTrack,\n    joinState,\n    leave,\n    join,\n    remoteUsers,\n  };\n}\n","import { useContext, useEffect } from \"react\";\nimport GoogleButton from \"react-google-button\";\nimport { signInWithGoogle } from \"../api/firebase\";\nimport UserContext from \"../context/UserContext\";\nimport keys from \"../keys\";\nimport { isMobile } from \"react-device-detect\";\nimport { ConfabTitleWithTagline, Footer } from \"./WaitlistPage\";\nimport { Typography } from \"@material-ui/core\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { blue } from \"@material-ui/core/colors\";\nimport Loading from \"../components/Loading\";\nimport axios from \"axios\";\n\nconst SignInPage = () => {\n  const { setUser, setLoading, setNewUser } = useContext(UserContext);\n  const location = useLocation();\n\n  // const signIn = () => {\n  //   console.log(\"Signing In\");\n  //   signInWithGoogle().then((user) => {\n  //     if (user.newUser) {\n  //       console.log(\"create pages\");\n\n  //       (user.user);\n  //       setNewUser(true);\n  //     } else {\n  //       setUser(user.user);\n  //     }\n  //   });\n  // };\n\n  return (\n    <div\n      className=\"landing-container-1\"\n      style={{ position: \"relative\", height: \"100vh\" }}\n    >\n      {/* <AppBar position=\"static\" color=\"transparent\" elevation={0}></AppBar> */}\n      <div\n        className=\"landing-container-2\"\n        style={{\n          height: isMobile ? \"80vh\" : \"70vh\",\n          alignItems: \"center\",\n          width: isMobile ? \"95%\" : \"60%\",\n        }}\n      >\n        <ConfabTitleWithTagline />\n\n        <Typography\n          variant=\"body\"\n          style={{\n            color: grey[600],\n            //marginTop: \"1em\",\n            textAlign: \"center\",\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <a href=\"/auth/google\">\n            <GoogleButton\n              style={{ marginBottom: \"1.5vh\" }}\n              onClick={async () => {\n                const res = await axios.post(\"/api/prelogin\", {\n                  url: location.pathname,\n                });\n                if (res.status === 200) {\n                  axios.get(\"/auth/google\");\n                }\n              }}\n            />\n          </a>\n          Sign in with your work email\n        </Typography>\n\n        <Typography\n          variant=\"body\"\n          style={{\n            color: grey[400],\n            //marginTop: \"1em\",\n            textAlign: \"center\",\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n            fontSize: isMobile ? 12 : 14,\n            maxWidth: isMobile ? \"100%\" : \"60%\",\n          }}\n        >\n          <div>\n            By clicking 'Sign In With Google', you acknowledge that you have\n            read and understood, and agree to Airwave’s{\" \"}\n            <a href=\"/terms-of-service.html\" style={{ color: blue[600] }}>\n              Terms{\" \"}\n            </a>\n            and{\" \"}\n            <a href=\"/privacy-policy.html\" style={{ color: blue[600] }}>\n              Privacy Policy\n            </a>\n            .\n          </div>\n        </Typography>\n      </div>\n\n      <Footer\n        style={{\n          position: \"absolute\",\n          bottom: \"0vh\",\n          width: \"97%\",\n          marginLeft: \"1.5%\",\n        }}\n      />\n    </div>\n  );\n};\nexport default SignInPage;\n","export default __webpack_public_path__ + \"static/media/title.cc86d25d.svg\";","import { useContext, useState, useRef } from \"react\";\nimport UserContext from \"../context/UserContext\";\nimport {\n  auth,\n  updateUser,\n  storage,\n  updateUserPhotoURL,\n  updateUserDisplayName,\n} from \"../api/firebase\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { isMobile } from \"react-device-detect\";\nimport titleImg from \"../assets/title.svg\";\n\nconst CreateProfilePage = () => {\n  const { user, setUser, setNewUser } = useContext(UserContext);\n\n  const [image, setImage] = useState(null);\n  const [imageURL, setImageURL] = useState(user.photoURL);\n  const [progress, setProgress] = useState(0);\n  const [displayName, setDisplayName] = useState(user.displayName);\n\n  const onImageChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      setImage(img);\n      setImageURL(URL.createObjectURL(img));\n    }\n  };\n\n  const onClick = () => {\n    hiddenFileInput.current.click();\n  };\n\n  const handleSubmit = () => {\n    setUser((user) => {\n      return { ...user, displayName };\n    });\n    updateUserDisplayName(displayName);\n    if (image) {\n      uploadImage();\n    } else {\n      setNewUser(false);\n    }\n\n    //setIsNewUser(false)\n  };\n\n  const uploadImage = (next) => {\n    const uploadTask = storage\n      .ref()\n      .child(\"users/\" + auth.currentUser.email)\n      .put(image);\n\n    uploadTask.then(() => {\n      console.log(\"success\");\n      uploadTask.snapshot.ref.getDownloadURL().then((url) => {\n        setUser((user) => {\n          return { ...user, photoURL: url };\n        });\n        updateUserPhotoURL(url);\n        setNewUser(false);\n      });\n    });\n  };\n\n  function ConfabTitle({ style }) {\n    /* TODO: why is this h1 not rendering as bold as it should be? issue with font file / font-face? */\n    return (\n      <img\n        src={titleImg}\n        style={{\n          maxWidth: isMobile ? \"80%\" : \"100%\",\n          // transform: isMobile ? \"translate(-10%)\" : \"none\",\n          ...style,\n        }}\n        alt=\"AIRWAVE\"\n      />\n    );\n  }\n\n  const hiddenFileInput = useRef(null);\n\n  return (\n    <div className=\"landing-container-1\">\n      <div\n        className=\"landing-container-2\"\n        style={{\n          justifyContent: \"space-around\",\n          height: \"70%\",\n          width: isMobile ? \"90%\" : \"70%\",\n        }}\n      >\n        <ConfabTitle />\n        <div\n          style={{\n            marginTop: \"10vh\",\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            position: \"relative\",\n          }}\n        >\n          <img\n            src={imageURL}\n            style={{\n              width: 100,\n              height: 100,\n              margin: \"auto\",\n              borderRadius: \"40%\",\n              boxShadow: \"0px 2px 2px rgba(0, 0, 0, 0.25)\",\n            }}\n            alt=\"profile\"\n          ></img>\n        </div>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            marginTop: 20,\n            marginBottom: 20,\n          }}\n        >\n          <Button variant=\"outlined\" onClick={onClick}>\n            {\" \"}\n            Upload image{\" \"}\n          </Button>\n          <input\n            type=\"file\"\n            id=\"single\"\n            accept=\"image/*\"\n            ref={hiddenFileInput}\n            style={{ display: \"none\" }}\n            onChange={onImageChange}\n          />\n        </div>\n        <div\n          style={{\n            flex: 1,\n            marginTop: 20,\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Name\"\n            variant=\"outlined\"\n            value={displayName}\n            onChange={(event) => {\n              setDisplayName(event.target.value);\n            }}\n            style={{}}\n          />\n          <div\n            style={{\n              textAlign: \"center\",\n              marginTop: 20,\n              marginBottom: 20,\n              fontSize: \"smaller\",\n              width: isMobile ? \"100%\" : \"60%\",\n            }}\n          >\n            Your name and profile picture is how others will know it's you in\n            Airwave. This will be the only time you can edit your name yourself.\n          </div>\n        </div>\n\n        <div style={{ flex: 1, display: \"flex\", alignItems: \"center\" }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleSubmit}\n            style={{\n              marginTop: 40,\n              width: 140,\n              marginBottom: 20,\n              backgroundColor: \"#4285F4\",\n            }}\n          >\n            {\" \"}\n            SAVE{\" \"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateProfilePage;\n","import { useEffect, useState, useContext } from \"react\";\nimport UserContext from \"./context/UserContext\";\nimport { auth, getUser } from \"./api/firebase\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport {\n  createTheme,\n  ThemeProvider,\n  Backdrop,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport LoggedInPage from \"./components/LoggedInPage\";\nimport HomePage from \"./pages/HomePage\";\nimport WaitlistPage from \"./pages/WaitlistPage\";\nimport CallPage from \"./pages/CallPage\";\nimport SignInPage from \"./pages/SignInPage\";\n\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Loading from \"./components/Loading\";\nimport CreateProfilePage from \"./pages/CreateProfilePage\";\n\nfunction App() {\n  const [user, setUser] = useState<User | undefined>(undefined);\n  const [newUser, setNewUser] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const globals: UserContextInterface = {\n    user,\n    setUser,\n    newUser,\n    setNewUser,\n    loading,\n    setLoading,\n  };\n\n  const fetchUser = async () => {\n    const res = await axios.get(\"/api/current_user\");\n    setUser(res.data);\n  };\n\n  useEffect(() => {\n    fetchUser();\n  }, [loading]);\n\n  // useEffect(() => {\n  //   auth.onAuthStateChanged((activeUser) => {\n  //     if (activeUser) {\n  //       getUser(activeUser.email).then((user) => {\n  //         setUser(user);\n  //       });\n  //     }\n  //     setLoading(false);\n  //   });\n  // }, []);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n    return () => clearTimeout(timeout);\n  }, []);\n\n  const theme = createTheme({\n    typography: {\n      // override Material UI default of Roboto\n      //fontFamily: '\"Roboto\", sans-serif',\n      fontFamily: '\"Inter\", sans-serif',\n    },\n  });\n\n  console.log(user);\n  return (\n    <div>\n      <ThemeProvider theme={theme}>\n        <UserContext.Provider value={globals}>\n          {loading ? (\n            <Loading />\n          ) : (\n            <Router>\n              <Route\n                exact\n                path=\"/\"\n                render={(props) =>\n                  newUser ? (\n                    <CreateProfilePage />\n                  ) : user ? (\n                    <LoggedInPage>\n                      <HomePage />\n                    </LoggedInPage>\n                  ) : (\n                    <WaitlistPage />\n                  )\n                }\n              />\n              <Route exact path=\"/login\">\n                {user ? <Redirect to=\"/\" /> : <SignInPage />}\n              </Route>\n              <Route exact path=\"/call/:channelId\">\n                {newUser ? (\n                  <CreateProfilePage />\n                ) : user ? (\n                  <CallPage />\n                ) : (\n                  <SignInPage />\n                )}\n              </Route>\n            </Router>\n          )}\n        </UserContext.Provider>\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport interface User {\n  displayName: string;\n  email: string;\n  photoURL: string;\n  profile: string;\n}\n\nexport interface UserContextInterface {\n  user: User | undefined;\n  setUser: React.Dispatch<React.SetStateAction<User | undefined>>;\n  newUser: boolean;\n  setNewUser: React.Dispatch<React.SetStateAction<boolean>>;\n  loading: boolean;\n  setLoading: React.Dispatch<React.SetStateAction<boolean>>;\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.tsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}