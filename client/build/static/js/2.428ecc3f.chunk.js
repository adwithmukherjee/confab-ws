/*! For license information please see 2.428ecc3f.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],[function(e,t,n){e.exports=n(372)},function(e,t,n){"use strict";e.exports=n(367)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return s})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return Q})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return f})),n.d(t,"w",(function(){return z})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return b})),n.d(t,"z",(function(){return P})),n.d(t,"A",(function(){return M})),n.d(t,"B",(function(){return K})),n.d(t,"C",(function(){return G})),n.d(t,"D",(function(){return U})),n.d(t,"E",(function(){return u})),n.d(t,"F",(function(){return v})),n.d(t,"G",(function(){return l})),n.d(t,"H",(function(){return F})),n.d(t,"I",(function(){return B})),n.d(t,"J",(function(){return C})),n.d(t,"K",(function(){return k})),n.d(t,"L",(function(){return O}));var r=n(9),i=n(73),o=n(37);function a(e){return Object.keys(e)}function s(e,t,n){void 0===n&&(n=i.c);var r=l(e,n),o=l(t,n);return x(o)?!!x(r)&&o===r:x(r)?r in o:a(r).every((function(e){return e in o&&s(r[e],o[e])}))}function c(e){try{return x(e)||"number"===typeof e?""+e:e.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function u(e,t){try{return T(e)?e:e.toString().split(t)}catch(n){throw new Error("'"+e+"' is not a valid state path.")}}function l(e,t){return"object"===typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:T(e)?f(e):"string"!==typeof e?e:f(u(e,t));var n}function f(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function d(e,t){for(var n={},r=a(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function h(e,t,n){var i,o,s={};try{for(var c=Object(r.e)(a(e)),u=c.next();!u.done;u=c.next()){var l=u.value,f=e[l];n(f)&&(s[l]=t(f,l,e))}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return s}var p=function(e){return function(t){var n,i,o=t;try{for(var a=Object(r.e)(e),s=a.next();!s.done;s=a.next()){o=o[s.value]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}};function g(e,t){return function(n){var i,o,a=n;try{for(var s=Object(r.e)(e),c=s.next();!c.done;c=s.next()){var u=c.value;a=a[t][u]}}catch(l){i={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}}function v(e){return e?x(e)?[[e]]:m(a(e).map((function(t){var n=e[t];return"string"===typeof n||n&&Object.keys(n).length?v(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function m(e){var t;return(t=[]).concat.apply(t,Object(r.d)([],Object(r.b)(e)))}function y(e){return T(e)?e:[e]}function b(e){return void 0===e?[]:y(e)}function A(e,t,n){var i,o;if(R(e))return e(t,n.data);var a={};try{for(var s=Object(r.e)(Object.keys(e)),c=s.next();!c.done;c=s.next()){var u=c.value,l=e[u];R(l)?a[u]=l(t,n.data):a[u]=l}}catch(f){i={error:f}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}function _(e){return/^(done|error)\./.test(e)}function E(e){return e instanceof Promise||!(null===e||!R(e)&&"object"!==typeof e||!R(e.then))}function w(e){return null!==e&&"object"===typeof e&&"transition"in e&&"function"===typeof e.transition}function I(e,t){var n,i,o=Object(r.b)([[],[]],2),a=o[0],s=o[1];try{for(var c=Object(r.e)(e),u=c.next();!u.done;u=c.next()){var l=u.value;t(l)?a.push(l):s.push(l)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return[a,s]}function S(e,t){return d(e.states,(function(e,n){if(e){var r=(x(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:S(e,r)}}}))}function k(e,t){return{current:t,states:S(e,t)}}function C(e,t,n,i){return o.a||O(!!e,"Attempting to update undefined context"),e?n.reduce((function(e,n){var o,s,c=n.assignment,u={state:i,action:n,_event:t},l={};if(R(c))l=c(e,t.data,u);else try{for(var f=Object(r.e)(a(c)),d=f.next();!d.done;d=f.next()){var h=d.value,p=c[h];l[h]=R(p)?p(e,t.data,u):p}}catch(g){o={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return Object.assign({},e,l)}),e):e}var O=function(){};function T(e){return Array.isArray(e)}function R(e){return"function"===typeof e}function x(e){return"string"===typeof e}function M(e,t){if(e)return x(e)?{type:i.a,name:e,predicate:t?t[e]:void 0}:R(e)?{type:i.a,name:e.name,predicate:e}:e}function N(e){try{return"subscribe"in e&&R(e.subscribe)}catch(t){return!1}}o.a||(O=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: "+t];n&&r.push(n),console.warn.apply(console,r)}});var D=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function j(e){try{return"__xstatenode"in e}catch(t){return!1}}function L(e){return!!e&&"function"===typeof e.send}var B=function(){var e=0;return function(){return(++e).toString(16)}}();function P(e,t){return x(e)||"number"===typeof e?Object(r.a)({type:e},t):e}function U(e,t){if(!x(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=P(e);return Object(r.a)({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function F(e,t){return y(t).map((function(t){return"undefined"===typeof t||"string"===typeof t||j(t)?{target:t,event:e}:Object(r.a)(Object(r.a)({},t),{event:e})}))}function Q(e){if(void 0!==e&&e!==i.d)return b(e)}function z(e,t,n){if(!o.a){var r=e.stack?" Stacktrace was '"+e.stack+"'":"";if(e===t)console.error("Missing onError handler for invocation '"+n+"', error was '"+e+"'."+r);else{var i=t.stack?" Stacktrace was '"+t.stack+"'":"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '"+n+"'. Original error: '"+e+"'. "+r+" Current error is '"+t+"'."+i)}}}function V(e,t,n,r,o){var a=e.options.guards,s={state:o,cond:t,_event:r};if(t.type===i.a)return t.predicate(n,r.data,s);var c=a[t.type];if(!c)throw new Error("Guard '"+t.type+"' is not implemented on machine '"+e.id+"'.");return c(n,r.data,s)}function K(e){return"string"===typeof e?{type:e}:e}function G(e,t,n){if("object"===typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}},function(e,t,n){"use strict";e.exports=n(375)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return d})),n.d(t,"t",(function(){return h})),n.d(t,"u",(function(){return v})),n.d(t,"v",(function(){return A})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return R})),n.d(t,"y",(function(){return x}));var r=n(47),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,d=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){var t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=c(e[n],t[n]));return e}var u=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function h(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function p(){return"object"===typeof self&&self.self===self}function g(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function m(){return f().indexOf("Electron/")>=0}function y(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return f().indexOf("MSAppHost/")>=0}function A(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"indexedDB"in self&&null!=indexedDB}var E=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(t,e),t}(Error),w=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new E(i,s,r);return c},e}();function I(e,t){return e.replace(S,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],c=t[a];if(T(s)&&T(c)){if(!O(s,c))return!1}else if(s!==c)return!1}for(var u=0,l=r;u<l.length;u++){a=l[u];if(!n.includes(a))return!1}return!0}function T(e){return null!==e&&"object"===typeof e}function R(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function x(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function M(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),a=1518500249):(o=c^u^l,a=1859775393):r<60?(o=c&u|l&(c|u),a=2400959708):(o=c^u^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function N(e,t){var n=new D(e,t);return n.subscribe.bind(n)}var D=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function j(){}function L(e){return e&&e._delegate?e._delegate:e}}).call(this,n(39))},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return jt})),n.d(t,"d",(function(){return Ut})),n.d(t,"e",(function(){return Qt})),n.d(t,"f",(function(){return Ft})),n.d(t,"g",(function(){return kt})),n.d(t,"h",(function(){return Pt})),n.d(t,"i",(function(){return _i})),n.d(t,"j",(function(){return Lo})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return ci})),n.d(t,"m",(function(){return zt})),n.d(t,"n",(function(){return Vt})),n.d(t,"o",(function(){return B})),n.d(t,"p",(function(){return Ye})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return Sr})),n.d(t,"s",(function(){return Q})),n.d(t,"t",(function(){return $i})),n.d(t,"u",(function(){return Ne})),n.d(t,"w",(function(){return Cn})),n.d(t,"x",(function(){return Ar})),n.d(t,"y",(function(){return Do})),n.d(t,"z",(function(){return Er})),n.d(t,"A",(function(){return Tn})),n.d(t,"B",(function(){return Sn})),n.d(t,"C",(function(){return Xe})),n.d(t,"E",(function(){return Nn})),n.d(t,"F",(function(){return R})),n.d(t,"G",(function(){return Vn})),n.d(t,"H",(function(){return ur})),n.d(t,"I",(function(){return dr})),n.d(t,"J",(function(){return Xi})),n.d(t,"K",(function(){return Me})),n.d(t,"L",(function(){return Gr})),n.d(t,"M",(function(){return Pn})),n.d(t,"N",(function(){return dn})),n.d(t,"O",(function(){return hi})),n.d(t,"P",(function(){return Di})),n.d(t,"Q",(function(){return Yi})),n.d(t,"R",(function(){return vr})),n.d(t,"S",(function(){return pn})),n.d(t,"T",(function(){return gi})),n.d(t,"U",(function(){return Mi})),n.d(t,"V",(function(){return qi})),n.d(t,"W",(function(){return Gn})),n.d(t,"X",(function(){return wn})),n.d(t,"Y",(function(){return Ln})),n.d(t,"Z",(function(){return Wt})),n.d(t,"ab",(function(){return ln})),n.d(t,"bb",(function(){return yn})),n.d(t,"cb",(function(){return jn})),n.d(t,"db",(function(){return Un})),n.d(t,"eb",(function(){return fi})),n.d(t,"fb",(function(){return Ri})),n.d(t,"gb",(function(){return Gi})),n.d(t,"hb",(function(){return $t})),n.d(t,"ib",(function(){return $n})),n.d(t,"jb",(function(){return er})),n.d(t,"kb",(function(){return bi})),n.d(t,"lb",(function(){return Xn})),n.d(t,"mb",(function(){return qn})),n.d(t,"nb",(function(){return xn})),n.d(t,"v",(function(){return sa})),n.d(t,"D",(function(){return oa}));var r=n(162),i=n(164),o=n(88),a=n(163);var s,c=n(0),u=n.n(c),l=n(3),f=n(4),d=n(54),h=n(38),p=n(14),g=n(15),v=n(2),m=n(60),y=n(13),b=n(17),A=n(44),_=n(8),E=n(10),w=n(22),I=n(47),S=n(51),k=n(43),C={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},O={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function T(){return Object(_.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var R=function(){var e;return e={},Object(_.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(_.a)(e,"argument-error",""),Object(_.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(_.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(_.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(_.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(_.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(_.a)(e,"cors-unsupported","This browser is not supported."),Object(_.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(_.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(_.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(_.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(_.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(_.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(_.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(_.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(_.a)(e,"expired-action-code","The action code has expired."),Object(_.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(_.a)(e,"internal-error","An internal AuthError has occurred."),Object(_.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(_.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(_.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(_.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(_.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(_.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(_.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(_.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(_.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(_.a)(e,"invalid-email","The email address is badly formatted."),Object(_.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(_.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(_.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(_.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(_.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(_.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(_.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(_.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(_.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(_.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(_.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(_.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(_.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(_.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(_.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(_.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(_.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(_.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(_.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(_.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(_.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(_.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(_.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(_.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(_.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(_.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(_.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(_.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(_.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(_.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(_.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(_.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(_.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(_.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(_.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(_.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(_.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(_.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(_.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(_.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(_.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(_.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(_.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(_.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(_.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(_.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(_.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(_.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(_.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(_.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(_.a)(e,"timeout","The operation has timed out."),Object(_.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(_.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(_.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(_.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(_.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(_.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(_.a)(e,"unverified-email","The operation requires a verified email."),Object(_.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(_.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(_.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(_.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(_.a)(e,"user-signed-out",""),Object(_.a)(e,"weak-password","The password must be 6 characters long or more."),Object(_.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(_.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},x=new E.b("auth","Firebase",T()),M=new S.b("@firebase/auth");function N(e){if(M.logLevel<=S.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M.error.apply(M,["Auth (".concat(w.SDK_VERSION,"): ").concat(e)].concat(n))}}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw L.apply(void 0,[e].concat(n))}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return L.apply(void 0,[e].concat(n))}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=Object(A.a)(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(Object(A.a)(a)))}return x.create.apply(x,[e].concat(n))}function B(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw L.apply(void 0,[t].concat(r))}}function P(e){var t="INTERNAL ASSERTION FAILED: "+e;throw N(t),new Error(t)}function U(e,t){e||P(t)}var F=new Map;function Q(e){U(e instanceof Function,"Expected a class definition");var t=F.get(e);return t?(U(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,F.set(e,t),t)}function z(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function V(){return"http:"===K()||"https:"===K()}function K(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var G=function(){function e(t,n){Object(l.a)(this,e),this.shortDelay=t,this.longDelay=n,U(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(E.s)()||Object(E.u)()}return Object(f.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(V()||Object(E.n)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function H(e,t){U(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var q=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void P("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void P("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void P("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),W=(s={},Object(_.a)(s,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(_.a)(s,"MISSING_CUSTOM_TOKEN","internal-error"),Object(_.a)(s,"INVALID_IDENTIFIER","invalid-email"),Object(_.a)(s,"MISSING_CONTINUE_URI","internal-error"),Object(_.a)(s,"INVALID_PASSWORD","wrong-password"),Object(_.a)(s,"MISSING_PASSWORD","internal-error"),Object(_.a)(s,"EMAIL_EXISTS","email-already-in-use"),Object(_.a)(s,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(_.a)(s,"INVALID_IDP_RESPONSE","invalid-credential"),Object(_.a)(s,"INVALID_PENDING_TOKEN","invalid-credential"),Object(_.a)(s,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(_.a)(s,"MISSING_REQ_TYPE","internal-error"),Object(_.a)(s,"EMAIL_NOT_FOUND","user-not-found"),Object(_.a)(s,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(_.a)(s,"EXPIRED_OOB_CODE","expired-action-code"),Object(_.a)(s,"INVALID_OOB_CODE","invalid-action-code"),Object(_.a)(s,"MISSING_OOB_CODE","internal-error"),Object(_.a)(s,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(_.a)(s,"INVALID_ID_TOKEN","invalid-user-token"),Object(_.a)(s,"TOKEN_EXPIRED","user-token-expired"),Object(_.a)(s,"USER_NOT_FOUND","user-token-expired"),Object(_.a)(s,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(_.a)(s,"INVALID_CODE","invalid-verification-code"),Object(_.a)(s,"INVALID_SESSION_INFO","invalid-verification-id"),Object(_.a)(s,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(_.a)(s,"MISSING_SESSION_INFO","missing-verification-id"),Object(_.a)(s,"SESSION_EXPIRED","code-expired"),Object(_.a)(s,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(_.a)(s,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(_.a)(s,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(_.a)(s,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(_.a)(s,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(_.a)(s,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(_.a)(s,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(_.a)(s,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(_.a)(s,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(_.a)(s,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),s),Y=new G(3e4,6e4);function J(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function X(e,t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(u.a.mark((function e(t,n,r,i){var o,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",$(t,o,(function(){var e={},o={};i&&("GET"===n?o=i:e={body:JSON.stringify(i)});var a=Object(E.x)(Object.assign({key:t.config.apiKey},o)).slice(1),s=new(q.headers());return s.set("Content-Type","application/json"),s.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&s.set("X-Firebase-Locale",t.languageCode),q.fetch()(re(t,t.config.apiHost,r,a),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},e))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c,l,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},W),n),e.prev=2,o=new ie(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw oe(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=a.ok?s.errorMessage:s.error.message,"FEDERATED_USER_ID_ALREADY_LINKED"!==(l=c.split(" : ")[0])){e.next=23;break}throw oe(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==l){e.next=25;break}throw oe(t,"email-already-in-use",s);case 25:f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-"),D(t,f);case 27:e.next=34;break;case 29:if(e.prev=29,e.t0=e.catch(2),!(e.t0 instanceof E.c)){e.next=33;break}throw e.t0;case 33:D(t,"network-request-failed");case 34:case"end":return e.stop()}}),e,null,[[2,29]])})))).apply(this,arguments)}function te(e,t,n,r){return ne.apply(this,arguments)}function ne(){return(ne=Object(v.a)(u.a.mark((function e(t,n,r,i){var o,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,X(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&D(t,"multi-factor-auth-required",{serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?H(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ie=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(j(n.auth,"timeout"))}),Y.get())}))}return Object(f.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function oe(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=j(e,t,r);return i.customData._tokenResponse=n,i}function ae(e,t){return se.apply(this,arguments)}function se(){return(se=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function he(){return(he=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(E.k)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,B((o=ge(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:de(pe(o.auth_time)),issuedAtTime:de(pe(o.iat)),expirationTime:de(pe(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return 1e3*Number(e)}function ge(e){var t=e.split("."),n=Object(b.a)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return N("JWT malformed, contained fewer than 3 sections"),null;try{var a=Object(E.d)(i);return a?JSON.parse(a):(N("Failed to decode base64 JWT payload"),null)}catch(s){return N("Caught error parsing JWT payload as JSON",s),null}}function ve(e,t){return me.apply(this,arguments)}function me(){return(me=Object(v.a)(u.a.mark((function e(t,n){var r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof E.c&&ye(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ye(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var be=function(){function e(t){Object(l.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(f.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(v.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ae=function(){function e(t,n){Object(l.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(f.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=de(this.lastLoginAt),this.creationTime=de(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _e(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a,s,c,l,f,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ve(t,le(r,{idToken:i}));case 6:B(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?Se(a.providerUserInfo):[],c=Ie(t.providerData,s),l=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(null===c||void 0===c?void 0:c.length),d=!!l&&f,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ae(a.createdAt,a.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(E.k)(t),e.next=3,_e(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(A.a)(n),Object(A.a)(t))}function Se(e){return e.map((function(e){var t=e.providerId,n=Object(I.f)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ke(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,{},(function(){var e=Object(E.x)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,i=r.tokenApiHost,o=r.apiKey,a=re(t,i,"/v1/token","key=".concat(o));return q.fetch()(a,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})}));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(){function e(){Object(l.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(f.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){B(e.idToken,"internal-error"),B("undefined"!==typeof e.idToken,"internal-error"),B("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ge(e);return B(t,"internal-error"),B("undefined"!==typeof t.exp,"internal-error"),B("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],B(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return P("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(B("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(B("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(B("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Te(e,t){B("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Re=function(){function e(t){Object(l.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=Object(I.f)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.metadata=new Ae(o.createdAt||void 0,o.lastLoginAt||void 0)}return Object(f.a)(e,[{key:"getIdToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(B(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return he.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return we.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_e(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ve(this,ae(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,c,u,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(s=n.tenantId)&&void 0!==s?s:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,m=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,A=n.emailVerified,_=n.isAnonymous,E=n.providerData,w=n.stsTokenManager;B(b&&w,t,"internal-error");var I=Oe.fromJSON(this.name,w);B("string"===typeof b,t,"internal-error"),Te(f,t.name),Te(d,t.name),B("boolean"===typeof A,t,"internal-error"),B("boolean"===typeof _,t,"internal-error"),Te(h,t.name),Te(p,t.name),Te(g,t.name),Te(v,t.name),Te(m,t.name),Te(y,t.name);var S=new e({uid:b,auth:t,email:d,emailVerified:A,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:y});return E&&Array.isArray(E)&&(S.providerData=E.map((function(e){return Object.assign({},e)}))),v&&(S._redirectEventId=v),S}},{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r){var i,o,a,s=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new Oe).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,_e(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xe=function(){function e(){Object(l.a)(this,e),this.type="NONE",this.storage={}}return Object(f.a)(e,[{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xe.type="NONE";var Me=xe;function Ne(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var De=function(){function e(t,n,r){Object(l.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Ne(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ne("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(f.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Re._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r){var i,o,a,s,c,l,f,d,h,p,g,m=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Q(Me),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||Q(Me),s=Ne(i,n.config.apiKey,n.name),c=null,l=Object(y.a)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return d=f.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return p=Re._fromJSON(n,h),d!==a&&(c=p),a=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(g=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=g[0],!c){t.next=44;break}return t.next=44,a._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function je(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qe(t))return"Blackberry";if(ze(t))return"Webos";if(Be(t))return"Safari";if((t.includes("chrome/")||Pe(t))&&!t.includes("edge/"))return"Chrome";if(Fe(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/firefox\//i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/crios\//i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/iemobile/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/android/i.test(e)}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/blackberry/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/webos/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/iphone|ipad|ipod/i.test(e)}function Ke(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return Ve(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ge(){return Object(E.q)()&&10===document.documentMode}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return Ve(e)||Fe(e)||ze(e)||Qe(e)||/windows phone/i.test(e)||Ue(e)}function qe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=je(Object(E.l)());break;case"Worker":t="".concat(je(Object(E.l)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(w.SDK_VERSION,"/").concat(r)}var We=function(){function e(t,n){Object(l.a)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Je(this),this.idTokenSubscription=new Je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Object(f.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Q(t)),this._initializationPromise=this.queue(Object(v.a)(u.a.mark((function r(){var i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,De.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=10;break}return r.next=10,n._popupRedirectResolver._initialize(n);case 10:return r.next=12,n.initializeCurrentUser(t);case 12:if(!n._deleted){r.next=14;break}return r.abrupt("return");case 14:n._isInitialized=!0;case 15:case"end":return r.stop()}}),r)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:a=e.sent,i&&i!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return B(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(E.k)(t):null)&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&B(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(v.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Q(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new E.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return B(n=t&&Q(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,De.create(this,[Q(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return B(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qe(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function Ye(e){return Object(E.k)(e)}var Je=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(E.g)((function(e){return n.observer=e}))}return Object(f.a)(e,[{key:"next",get:function(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xe(e,t,n){var r=Ye(e);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ze(t),a=function(e){var t=Ze(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:$e(r.substr(o.length+1))}}var a=r.split(":"),s=Object(b.a)(a,2);return{host:s[0],port:$e(s[1])}}(t),s=a.host,c=a.port,u=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(u,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"===typeof window||"undefined"===typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}function Ze(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $e(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var et=function(){function e(t,n){Object(l.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(f.a)(e,[{key:"toJSON",value:function(){return P("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return P("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return P("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return P("not implemented")}}]),e}();function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:resetPassword",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:update",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPassword",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:sendOobCode",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return At.apply(this,arguments)}function At(){return(At=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(l.a)(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return Object(f.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",st(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bt(t,{email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_t(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(et);function It(e,t){return St.apply(this,arguments)}function St(){return(St=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithIdp",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(f.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return It(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,It(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,It(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(E.x)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):D("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=Object(I.f)(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return Object.assign(a,o),a}}]),n}(et);function Ct(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:sendVerificationCode",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return(Tt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return(Rt=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,"POST","/v1/accounts:signInWithPhoneNumber",J(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw oe(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=Object(_.a)({},"USER_NOT_FOUND","user-not-found");function Mt(){return(Mt=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",J(t,r),xt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Mt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(et);var Dt=function(){function e(t){var n,r,i,o,a,s;Object(l.a)(this,e);var c=Object(E.y)(Object(E.j)(t)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);B(u&&f&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=c.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(f.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(E.y)(Object(E.j)(e)).link,n=t?Object(E.y)(Object(E.j)(t)).deep_link_id:null,r=Object(E.y)(Object(E.j)(e)).deep_link_id;return(r?Object(E.y)(Object(E.j)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var jt=function(){function e(){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(f.a)(e,null,[{key:"credential",value:function(e,t){return wt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Dt.parseLink(t);return B(n,"argument-error"),wt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();jt.PROVIDER_ID="password",jt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",jt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Lt=function(){function e(t){Object(l.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(f.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Bt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(f.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(A.a)(this.scopes)}}]),n}(Lt),Pt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"credential",value:function(e){return this._credential(e)}},{key:"_credential",value:function(e){return B(e.idToken||e.accessToken,"argument-error"),kt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return B("providerId"in t&&"signInMethod"in t,"argument-error"),kt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,c=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!c)return null;try{return new n(c)._credential({idToken:r,accessToken:i,rawNonce:s,pendingToken:a})}catch(u){return null}}}]),n}(Bt),Ut=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"facebook.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e){return kt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Bt);Ut.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ut.PROVIDER_ID="facebook.com";var Ft=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(f.a)(n,null,[{key:"credential",value:function(e,t){return kt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Bt);Ft.GOOGLE_SIGN_IN_METHOD="google.com",Ft.PROVIDER_ID="google.com";var Qt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"github.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e){return kt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Bt);Qt.GITHUB_SIGN_IN_METHOD="github.com",Qt.PROVIDER_ID="github.com";var zt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return It(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,It(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,It(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(et),Vt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.call(this,"twitter.com")}return Object(f.a)(n,null,[{key:"credential",value:function(e,t){return kt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Bt);function Kt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signUp",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Vt.TWITTER_SIGN_IN_METHOD="twitter.com",Vt.PROVIDER_ID="twitter.com";var Ht=function(){function e(t){Object(l.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(f.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r,i){var o,a,s,c,l=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Re._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=qt(i),c=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r,i){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=qt(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function qt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(v.a)(u.a.mark((function e(t){var n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ht({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Kt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ht._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r,i,o){var a,s;return Object(l.a)(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,a.name="FirebaseError",Object.setPrototypeOf(Object(m.a)(a),n.prototype),a.appName=e.name,a.code=r.code,a.tenantId=null!==(s=e.tenantId)&&void 0!==s?s:void 0,a.serverResponse=r.customData.serverResponse,a}return Object(f.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(E.c);function Xt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Jt._fromErrorAndOperation(e,n,t,r);throw n}))}function Zt(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function $t(e,t){return en.apply(this,arguments)}function en(){return(en=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(E.k)(t),e.next=3,rn(!0,r,n);case 3:return e.t0=ce,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=Zt(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=ve,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ht._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e,t,n){return on.apply(this,arguments)}function on(){return(on=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n);case 2:i=Zt(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",B(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return sn.apply(this,arguments)}function sn(){return(sn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a,s,c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,o="reauthenticate",e.prev=3,e.next=6,ve(t,Xt(i,o,n,t),r);case 6:return B((a=e.sent).idToken,i,"internal-error"),B(s=ge(a.idToken),i,"internal-error"),c=s.sub,B(t.uid===c,i,"user-mismatch"),e.abrupt("return",Ht._forOperation(t,o,a));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&D(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return(un=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Xt(t,i,n);case 4:return o=e.sent,e.next=7,Ht._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(Ye(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(E.k)(t),e.next=3,rn(!1,r,n.providerId);case 3:return e.abrupt("return",tn(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(Object(E.k)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithCustomToken",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye(t),e.next=3,vn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ht._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var An=function(){function e(t,n){Object(l.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(f.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_n._fromServerResponse(e,t):D(e,"internal-error")}}]),e}(),_n=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(f.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(An);function En(e,t,n){var r;B((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),B("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(B(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(B(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function wn(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),o={requestType:"PASSWORD_RESET",email:n},r&&En(i,o,r),e.next=5,ht(i,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t,n){return kn.apply(this,arguments)}function kn(){return(kn=Object(v.a)(u.a.mark((function e(t,n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(Object(E.k)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(Object(E.k)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(E.k)(t),e.next=3,tt(r,{oobCode:n});case 3:i=e.sent,B(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return B(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:B(i.mfaInfo,r,"internal-error");case 13:B(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=An._fromServerResponse(Ye(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(v.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(Object(E.k)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,Kt(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Ht._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e,t,n){return ln(Object(E.k)(e),jt.credential(t,n))}function Ln(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),o={requestType:"EMAIL_SIGNIN",email:n},B(r.handleCodeInApp,i,"argument-error"),r&&En(i,o,r),e.next=6,gt(i,o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){var n=Dt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Un(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),B((o=jt.credentialWithLink(n,r||z()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ln(i,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:createAuthUri",J(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V()?z():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Qn(Object(E.k)(t),i);case 4:return o=e.sent,a=o.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(E.k)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&En(r.auth,o,n),e.next=8,ft(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t,n){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),e.next=3,t.getIdToken();case 3:return o=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&En(i.auth,a,r),e.next=8,mt(i.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=Object(E.k)(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ve(o,Yn(o.auth,s));case 10:return c=e.sent,o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t){return tr(Object(E.k)(e),t,null)}function er(e,t){return tr(Object(E.k)(e),null,t)}function tr(e,t,n){return nr.apply(this,arguments)}function nr(){return(nr=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,ve(t,rt(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ir=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r,i,o){var a;return Object(l.a)(this,n),(a=t.call(this,e,r,i)).username=o,a}return n}(rr),or=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"facebook.com",r)}return n}(rr),ar=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return n}(ir),sr=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){return Object(l.a)(this,n),t.call(this,e,"google.com",r)}return n}(rr),cr=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r,i){return Object(l.a)(this,n),t.call(this,e,"twitter.com",r,i)}return n}(ir);function ur(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=ge(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new rr(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new or(o,i);case"github.com":return new ar(o,i);case"google.com":return new sr(o,i);case"twitter.com":return new cr(o,i,e.screenName||null);case"custom":case"anonymous":return new rr(o,null);default:return new rr(o,r,i)}}(n)}var lr=function(){function e(t,n){Object(l.a)(this,e),this.type=t,this.credential=n}return Object(f.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(_.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),fr=function(){function e(t,n,r){Object(l.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(f.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ye(t),i=(n.serverResponse.mfaInfo||[]).map((function(e){return An._fromServerResponse(r,e)}));B(n.serverResponse.mfaPendingCredential,r,"internal-error");var o=lr._fromMfaPendingCredential(n.serverResponse.mfaPendingCredential);return new e(o,i,function(){var e=Object(v.a)(u.a.mark((function e(t){var i,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:i=e.sent,delete n.serverResponse.mfaInfo,delete n.serverResponse.mfaPendingCredential,a=Object.assign(Object.assign({},n.serverResponse),{idToken:i.idToken,refreshToken:i.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ht._fromIdTokenResponse(r,n.operationType,a);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return B(n.user,r,"internal-error"),e.abrupt("return",Ht._forOperation(n.user,n.operationType,a));case 17:D(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function dr(e,t){var n,r=Object(E.k)(e),i=t;return B(t.operationType,r,"argument-error"),B(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fr._fromError(r,i)}function hr(e,t){return X(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}var pr=function(){function e(t){var n=this;Object(l.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return An._fromServerResponse(t.auth,e)})))}))}return Object(f.a)(e,[{key:"getSession",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=lr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ve(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ve(this.user,(o=this.user.auth,a={idToken:r,mfaEnrollmentId:n},X(o,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:o.tenantId},a))));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o,a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gr=new WeakMap;function vr(e){var t=Object(E.k)(e);return gr.has(t)||gr.set(t,pr._fromUser(t)),gr.get(t)}var mr="__sak",yr=function(){function e(t,n){Object(l.a)(this,e),this.storage=t,this.type=n}return Object(f.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mr,"1"),this.storage.removeItem(mr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}}]),e}();var br=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this,window.localStorage,"LOCAL")).listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(E.l)();return Be(e)||Ve(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=He(),e._shouldAllowMigration=!0,e.boundEventHandler=e.onStorageEvent.bind(Object(m.a)(e)),e}return Object(f.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);Ge()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(Object(h.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(Object(h.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(Object(h.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yr);br.type="LOCAL";var Ar=br,_r=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.call(this,window.sessionStorage,"SESSION")}return Object(f.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yr);_r.type="SESSION";var Er=_r;function wr(e){return Promise.all(e.map(function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ir=function(){function e(t){Object(l.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(f.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),c=Array.from(s).map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,wr(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ir.receivers=[];var kr=function(){function e(t){Object(l.a)(this,e),this.target=t,this.handlers=new Set}return Object(f.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a,s=this,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,c){var u=Sr("",20);i.port1.start();var l=setTimeout((function(){c(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===u)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){c(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Cr(){return window}function Or(){return"undefined"!==typeof Cr().WorkerGlobalScope&&"function"===typeof Cr().importScripts}function Tr(){return Rr.apply(this,arguments)}function Rr(){return(Rr=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Mr="firebaseLocalStorageDb",Nr="firebaseLocalStorage",Dr="fbase_key",jr=function(){function e(t){Object(l.a)(this,e),this.request=t}return Object(f.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Lr(e,t){return e.transaction([Nr],t?"readwrite":"readonly").objectStore(Nr)}function Br(){var e=indexedDB.deleteDatabase(Mr);return new jr(e).toPromise()}function Pr(){var e=indexedDB.open(Mr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Nr,{keyPath:Dr})}catch(r){n(r)}})),e.addEventListener("success",Object(v.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Nr)){n.next=12;break}return r.close(),n.next=5,Br();case 5:return n.t0=t,n.next=8,Pr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ur(e,t,n){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Lr(t,!0).put((i={},Object(_.a)(i,Dr,n),Object(_.a)(i,"value",r),i)),e.abrupt("return",new jr(o).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(e,t){return zr.apply(this,arguments)}function zr(){return(zr=Object(v.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr(t,!1).get(n),e.next=3,new jr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e,t){var n=Lr(e,!0).delete(t);return new jr(n).toPromise()}var Kr=function(){function e(){Object(l.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(f.a)(e,[{key:"_openDb",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Pr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ir._getInstance(Or()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(v.a)(u.a.mark((function e(n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new kr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Pr();case 5:return t=e.sent,e.next=8,Ur(t,mr,"1");case 8:return e.next=10,Vr(t,mr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ur(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Vr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r,i,o,a,s,c,l,f,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Lr(e,!1).getAll();return new jr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(y.a)(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,c=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(u){i.e(u)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)d=f[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(v.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Kr.type="LOCAL";var Gr=Kr;function Hr(e,t){return X(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function qr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=j("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Jr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Xr=1e12,Zr=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.counter=Xr,this._widgets=new Map}return Object(f.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new $r(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Xr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Xr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Xr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$r=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;B(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(f.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ei=Jr("rcb"),ti=new G(3e4,6e4),ni="https://www.google.com/recaptcha/api.js?",ri=function(){function e(){Object(l.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cr().grecaptcha}return Object(f.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return B(ii(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Cr().grecaptcha):new Promise((function(r,i){var o=Cr().setTimeout((function(){i(j(e,"network-request-failed"))}),ti.get());Cr()[ei]=function(){Cr().clearTimeout(o),delete Cr()[ei];var a=Cr().grecaptcha;if(a){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(j(e,"internal-error"))},Yr("".concat(ni,"?").concat(Object(E.x)({onload:ei,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(j(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Cr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ii(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var oi=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"load",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Zr(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ai="recaptcha",si={theme:"light",type:"image"},ci=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},si),r=arguments.length>2?arguments[2]:void 0;Object(l.a)(this,e),this.parameters=n,this.type=ai,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ye(r),this.isInvisible="invisible"===this.parameters.size,B("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;B(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oi:new ri,this.validateStartingState()}return Object(f.a)(e,[{key:"verify",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Cr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){B(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(V()&&!Or(),this.auth,"internal-error"),e.next=3,ui();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,qr(this.auth);case 8:B(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ui(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var li=function(){function e(t,n){Object(l.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(f.a)(e,[{key:"confirm",value:function(e){var t=Nt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function fi(e,t,n){return di.apply(this,arguments)}function di(){return(di=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),e.next=3,mi(i,n,Object(E.k)(r));case 3:return o=e.sent,e.abrupt("return",new li(o,(function(e){return ln(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),e.next=3,rn(!1,i,"phone");case 3:return e.next=5,mi(i.auth,n,Object(E.k)(r));case 5:return o=e.sent,e.abrupt("return",new li(o,(function(e){return dn(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t,n){return vi.apply(this,arguments)}function vi(){return(vi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),e.next=3,mi(i.auth,n,Object(E.k)(r));case 3:return o=e.sent,e.abrupt("return",new li(o,(function(e){return pn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c,l,f,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,B("string"===typeof o,t,"argument-error"),B(r.type===ai,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return B("enroll"===s.type,t,"internal-error"),e.next=13,hr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return B("signin"===s.type,t,"internal-error"),B(l=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Hr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ct(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function bi(e,t){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(Object(E.k)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _i=function(){function e(t){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ye(t)}return Object(f.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return mi(this.auth,e,Object(E.k)(t))}}],[{key:"credential",value:function(e,t){return Nt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Nt._fromTokenResponse(n,r):null}}]),e}();function Ei(e,t){return t?Q(t):(B(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_i.PROVIDER_ID="phone",_i.PHONE_SIGN_IN_METHOD="phone";var wi=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(f.a)(n,[{key:"_getIdTokenResponse",value:function(e){return It(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return It(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return It(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(et);function Ii(e){return cn(e.auth,new wi(e),e.bypassAuthState)}function Si(e){var t=e.auth,n=e.user;return B(n,t,"internal-error"),an(n,new wi(e),e.bypassAuthState)}function ki(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,B(r=t.user,n,"internal-error"),e.abrupt("return",tn(r,new wi(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oi=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(l.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(f.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(v.a)(u.a.mark((function t(n,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return ki;case"reauthViaPopup":case"reauthViaRedirect":return Si;default:D(this.auth,"internal-error")}}},{key:"resolve",value:function(e){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ti=new G(2e3,1e4);function Ri(e,t,n){return xi.apply(this,arguments)}function xi(){return(xi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),B(n instanceof Lt,t,"argument-error"),o=Ei(i,r),a=new Li(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t,n){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),B(n instanceof Lt,i.auth,"argument-error"),o=Ei(i.auth,r),a=new Li(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t,n){return ji.apply(this,arguments)}function ji(){return(ji=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),B(n instanceof Lt,i.auth,"argument-error"),o=Ei(i.auth,r),a=new Li(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Li=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r,i,o,a){var s;return Object(l.a)(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(m.a)(s),s}return Object(f.a)(n,[{key:"executeNotNull",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return B(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(1===this.filter.length,"Popup operations only handle one event"),t=Sr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(j(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(j(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(j(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ti.get())}()}}]),n}(Oi);Li.currentPopupAction=null;var Bi=new Map,Pi=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(l.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return Object(f.a)(n,[{key:"execute",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ui(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(d.a)(Object(h.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bi.set(this.auth._key(),t);case 21:return e.abrupt("return",t());case 22:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(d.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(d.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Oi);function Ui(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(v.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki(n),e.next=3,Vi(t)._get(r);case 3:return e.t0=e.sent,i="true"===e.t0,e.next=7,Vi(t)._remove(r);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t)._set(Ki(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e){return Q(e._redirectPersistence)}function Ki(e){return Ne("pendingRedirect",e.config.apiKey,e.name)}function Gi(e,t,n){return function(e,t,n){return Hi.apply(this,arguments)}(e,t,n)}function Hi(){return(Hi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ye(t),B(n instanceof Lt,t,"argument-error"),o=Ei(i,r),e.next=5,Qi(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(e,t,n){return function(e,t,n){return Wi.apply(this,arguments)}(e,t,n)}function Wi(){return(Wi=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),B(n instanceof Lt,i.auth,"argument-error"),o=Ei(i.auth,r),e.next=5,Qi(o,i.auth);case 5:return e.next=7,to(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(E.k)(t),B(n instanceof Lt,i.auth,"argument-error"),o=Ei(i.auth,r),e.next=5,rn(!1,i,n.providerId);case 5:return e.next=7,Qi(o,i.auth);case 7:return e.next=9,to(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t)._initializationPromise;case 2:return e.abrupt("return",$i(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){return eo.apply(this,arguments)}function eo(){return(eo=Object(v.a)(u.a.mark((function e(t,n){var r,i,o,a,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Ye(t),o=Ei(i,n),a=new Pi(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e){return no.apply(this,arguments)}function no(){return(no=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ro=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(f.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!oo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(j(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(io(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(io(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function oo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ao(e){return so.apply(this,arguments)}function so(){return(so=Object(v.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",X(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var co=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uo=/^https?/;function lo(){return(lo=Object(v.a)(u.a.mark((function e(t){var n,r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ao(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(y.a)(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!fo(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:D(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function fo(e){var t=z(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!uo.test(r))return!1;if(co.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var ho=new G(3e4,6e4);function po(){var e=Cr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(A.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var go=null;function vo(e){return go=go||function(e){return new Promise((function(t,n){var r,i,o;function a(){po(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){po(),n(j(e,"network-request-failed"))},timeout:ho.get()})}if(null===(i=null===(r=Cr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Cr().gapi)||void 0===o?void 0:o.load)){var s=Jr("iframefcb");return Cr()[s]=function(){gapi.load?a():n(j(e,"network-request-failed"))},Yr("https://apis.google.com/js/api.js?onload=".concat(s))}a()}})).catch((function(e){throw go=null,e}))}(e)}var mo=new G(5e3,15e3),yo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},bo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ao(e){var t=e.config;B(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?H(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:w.SDK_VERSION},i=bo.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Object(E.x)(r).slice(1))}function _o(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(t);case 2:return n=e.sent,B(r=Cr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ao(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yo,dontclear:!0},(function(e){return new Promise(function(){var n=Object(v.a)(u.a.mark((function n(r,i){var o,a,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Cr().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=j(t,"network-request-failed"),a=Cr().setTimeout((function(){i(o)}),mo.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Io="_blank",So="http://localhost",ko=function(){function e(t){Object(l.a)(this,e),this.window=t,this.associatedEvent=null}return Object(f.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Co(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},wo),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Object(E.l)().toLowerCase();n&&(s=Pe(u)?Io:n),Le(u)&&(t=t||So,c.scrollbars="yes");var l=Object.entries(c).reduce((function(e,t){var n=Object(b.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ke(u)&&"_self"!==s)return Oo(t||"",s),new ko(null);var f=window.open(t||"",s,l);B(f,e,"popup-blocked");try{f.focus()}catch(d){}return new ko(f)}function Oo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var To="__/auth/handler",Ro="emulator/auth/handler";function xo(e,t,n,r,i,o){B(e.config.authDomain,e,"auth-domain-config-required"),B(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:w.SDK_VERSION,eventId:i};if(t instanceof Lt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Object(E.p)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var u=Object(b.a)(c[s],2),l=u[0],f=u[1];a[l]=f}}if(t instanceof Bt){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var h=a,p=0,g=Object.keys(h);p<g.length;p++){var v=g[p];void 0===h[v]&&delete h[v]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(To);return H(t,Ro)}(e),"?").concat(Object(E.x)(h).slice(1))}var Mo,No="webStorageSupport",Do=function(){function e(){Object(l.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=$i}return Object(f.a)(e,[{key:"_openPopup",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),a=xo(t,n,r,z(),i),e.abrupt("return",Co(t,a,Sr()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return o=xo(t,n,r,z(),i),Cr().location.href=o,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var o}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(U(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o}},{key:"initAndGetManager",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t);case 2:return n=e.sent,r=new ro(t),n.register("authEvent",(function(e){return B(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(No,{type:No},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),D(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return He()||Be()||Ve()}}]),e}(),jo=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(f.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return X(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return X(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(l.a)(this,e),this.factorId=t}return Object(f.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return P("unexpected MultiFactorSessionType")}}}]),e}()),Lo=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"assertion",value:function(e){return jo._fromCredential(e)}}]),e}(),Bo=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(f.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Po(){return window}Mo="Browser",Object(w._registerComponent)(new k.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,o=i.apiKey,a=i.authDomain;return function(e){B(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),B(!(null===a||void 0===a?void 0:a.includes(":")),"argument-error",{appName:e.name});var t={apiKey:o,authDomain:a,clientPlatform:Mo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qe(Mo)},r=new We(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Q);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(w._registerComponent)(new k.a("auth-internal",(function(e){return function(e){return new Bo(e)}(Ye(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(w.registerVersion)("@firebase/auth","0.17.0",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Mo));function Uo(e,t,n){return Fo.apply(this,arguments)}function Fo(){return(Fo=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Po(),a=o.BuildInfo,U(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ho(n.sessionId);case 4:return s=e.sent,c={},Ve()?c.ibi=a.packageName:Fe()?c.apn=a.packageName:D(t,"operation-not-supported-in-this-environment"),a.displayName&&(c.appDisplayName=a.displayName),c.sessionId=s,e.abrupt("return",xo(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(){return(Qo=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Po(),r=n.BuildInfo,i={},Ve()?i.iosBundleId=r.packageName:Fe()?i.androidPackageName=r.packageName:D(t,"operation-not-supported-in-this-environment"),e.next=5,ao(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e){var t=Po().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(E.l)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Vo(e,t,n){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(v.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Po(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function c(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function u(){s||(s=window.setTimeout((function(){i(j(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}n.addPassiveListener(c),document.addEventListener("resume",u,!1),Fe()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Go(e){var t,n,r,i,o,a,s,c,u,l,f=Po();B("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"===typeof(null===(o=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"===typeof(null===(c=null===(s=null===(a=null===f||void 0===f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"===typeof(null===(l=null===(u=null===f||void 0===f?void 0:f.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ho(e){return qo.apply(this,arguments)}function qo(){return(qo=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wo(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e){if(U(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Yo=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(f.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(d.a)(Object(h.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ro);function Jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ta(),postBody:null,tenantId:e.tenantId,error:j(e,"no-auth-event")}}function Xo(e,t){return na()._set(ra(e),t)}function Zo(e){return $o.apply(this,arguments)}function $o(){return($o=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na()._get(ra(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,na()._remove(ra(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){var n,r,i=function(e){var t=ia(e),n=t.link?decodeURIComponent(t.link):void 0,r=ia(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ia(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=ia(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=s?j(s):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ta(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function na(){return Q(Ar)}function ra(e){return Ne("authEvent",e.config.apiKey,e.name)}function ia(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),s=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(o.a)(t)||Object(a.a)()),c=(s[0],s.slice(1));return Object(E.y)(c.join("?"))}var oa=function(){function e(){Object(l.a)(this,e),this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$i}return Object(f.a)(e,[{key:"_initialize",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Yo(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){D(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){var o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Bi.clear(),e.next=10,this._originValidation(t);case 10:return a=Jo(t,r,i),e.next=13,Xo(t,a);case 13:return e.next=15,Uo(t,a,n);case 15:return s=e.sent,e.next=18,zo(s);case 18:return c=e.sent,e.abrupt("return",Vo(t,o,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Qo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Po(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,a=setTimeout(Object(v.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Zo(e);case 2:t.onEvent(aa());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Object(v.a)(u.a.mark((function n(r){var i,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,Zo(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=ea(i,r.url)),t.onEvent(o||aa());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=i,l="".concat(o.packageName.toLowerCase(),"://");Po().handleOpenURL=function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}();function aa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:j("no-auth-event")}}function sa(e,t){Ye(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return bl})),n.d(t,"b",(function(){return gu})),n.d(t,"c",(function(){return eu})),n.d(t,"d",(function(){return Vc})),n.d(t,"e",(function(){return Wu})),n.d(t,"f",(function(){return pu})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return mu})),n.d(t,"i",(function(){return Yu})),n.d(t,"j",(function(){return Ju})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return El})),n.d(t,"m",(function(){return xc})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return Pc})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return ae})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return Dc})),n.d(t,"u",(function(){return Dl})),n.d(t,"v",(function(){return Gl})),n.d(t,"w",(function(){return Kl})),n.d(t,"x",(function(){return su})),n.d(t,"y",(function(){return Hc})),n.d(t,"z",(function(){return qc})),n.d(t,"A",(function(){return zc})),n.d(t,"B",(function(){return Nl})),n.d(t,"C",(function(){return zl})),n.d(t,"D",(function(){return lu})),n.d(t,"E",(function(){return Wc})),n.d(t,"F",(function(){return iu})),n.d(t,"G",(function(){return ou})),n.d(t,"H",(function(){return uu})),n.d(t,"I",(function(){return pl})),n.d(t,"J",(function(){return hl})),n.d(t,"K",(function(){return nu})),n.d(t,"L",(function(){return Bl})),n.d(t,"M",(function(){return Il})),n.d(t,"N",(function(){return kl})),n.d(t,"O",(function(){return Cl})),n.d(t,"P",(function(){return Ol})),n.d(t,"Q",(function(){return Tl})),n.d(t,"R",(function(){return Rl})),n.d(t,"S",(function(){return Hl})),n.d(t,"T",(function(){return sl})),n.d(t,"U",(function(){return cl})),n.d(t,"V",(function(){return fu})),n.d(t,"W",(function(){return du})),n.d(t,"X",(function(){return jl})),n.d(t,"Y",(function(){return Ll})),n.d(t,"Z",(function(){return ol})),n.d(t,"ab",(function(){return tl})),n.d(t,"bb",(function(){return Jc})),n.d(t,"cb",(function(){return Yc})),n.d(t,"db",(function(){return Ql})),n.d(t,"eb",(function(){return Vl})),n.d(t,"fb",(function(){return xl})),n.d(t,"gb",(function(){return k})),n.d(t,"hb",(function(){return Zu})),n.d(t,"ib",(function(){return fl})),n.d(t,"jb",(function(){return ll})),n.d(t,"kb",(function(){return Ml})),n.d(t,"lb",(function(){return cu})),n.d(t,"mb",(function(){return rl}));var r=n(112),i=n(54),o=n(38),a=n(17),s=n(13),c=n(0),u=n.n(c),l=n(2),f=n(14),d=n(15),h=n(359),p=n(44),g=n(3),v=n(4),m=n(22),y=n(43),b=n(51),A=n(10),_=n(56),E=function(){function e(t){Object(g.a)(this,e),this.uid=t}return Object(v.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");var w="9.0.0",I=new b.b("@firebase/firestore");function S(){return I.logLevel}function k(e){I.setLogLevel(e)}function C(e){if(I.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(R);I.debug.apply(I,["Firestore (".concat(w,"): ").concat(e)].concat(Object(p.a)(i)))}}function O(e){if(I.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(R);I.error.apply(I,["Firestore (".concat(w,"): ").concat(e)].concat(Object(p.a)(i)))}}function T(e){if(I.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(R);I.warn.apply(I,["Firestore (".concat(w,"): ").concat(e)].concat(Object(p.a)(i)))}}function R(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(w,") INTERNAL ASSERTION FAILED: ")+e;throw O(t),new Error(t)}function M(e,t){e||x()}function N(e,t){e||x()}function D(e,t){return e}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(Object(h.a)(Error)),B=function e(){var t=this;Object(g.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},P=function e(t,n){Object(g.a)(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},U=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(E.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),F=function(){function e(t){Object(g.a)(this,e),this.token=t,this.changeListener=null}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Q=function(){function e(t){Object(g.a)(this,e),this.t=t,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new B;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new B,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(t){e.enqueueRetryable(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("FirebaseCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),e.next=5,o.promise;case 5:return e.next=7,i(n.currentUser);case 7:case"end":return e.stop()}}),e)}))))};this.t.onInit((function(e){return a(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?a(e):(C("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new B)}}),0),e.enqueueRetryable(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0===n.i,!e.t0){e.next=6;break}return e.next=4,o.promise;case 4:return e.next=6,i(n.currentUser);case 6:case"end":return e.stop()}}),e)}))))}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(C("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(M("string"==typeof n.accessToken),new P(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e),new E(e)}}]),e}(),z=function(){function e(t,n,r){Object(g.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=E.FIRST_PARTY}return Object(v.a)(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),V=function(){function e(t,n,r){Object(g.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(E.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),K=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return Object(v.a)(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function G(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}K.T=-1;var H=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=G(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function q(e,t){return e<t?-1:e>t?1:0}function W(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Y(e){return e+"\0"}var J=function(){function e(t,n){if(Object(g.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(v.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(g.a)(this,e),this.timestamp=t}return Object(v.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new J(0,0))}}]),e}();function Z(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ee(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var te=function(){function e(t,n,r){Object(g.a)(this,e),void 0===n?n=0:n>t.length&&x(),void 0===r?r=t.length-n:r>t.length-n&&x(),this.segments=t,this.offset=n,this.len=r}return Object(v.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ne=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new L(j.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Object(p.a)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(te),re=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ie=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return re.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new L(j.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new L(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new L(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new L(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(te),oe=function(){function e(t){Object(g.a)(this,e),this.fields=t,t.sort(ie.comparator)}return Object(v.a)(e,[{key:"covers",value:function(e){var t,n=Object(s.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return W(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();function ae(){return"undefined"!=typeof atob}var se=function(){function e(t){Object(g.a)(this,e),this.binaryString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();se.EMPTY_BYTE_STRING=new se("");var ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ue(e){if(M(!!e),"string"==typeof e){var t=0,n=ce.exec(e);if(M(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:le(e.seconds),nanos:le(e.nanos)}}function le(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fe(e){return"string"==typeof e?se.fromBase64String(e):se.fromUint8Array(e)}function de(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function he(e){var t=e.mapValue.fields.__previous_value__;return de(t)?he(t):t}function pe(e){var t=ue(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}function ge(e){return null==e}function ve(e){return 0===e&&1/e==-1/0}function me(e){return"number"==typeof e&&Number.isInteger(e)&&!ve(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ye=function(){function e(t){Object(g.a)(this,e),this.path=t}return Object(v.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ne.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ne.fromString(t))}},{key:"fromName",value:function(t){return new e(ne.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ne.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ne(t.slice()))}}]),e}();function be(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?de(e)?4:10:x()}function Ae(e,t){var n=be(e);if(n!==be(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pe(e).isEqual(pe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ue(e.timestampValue),r=ue(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fe(e.bytesValue).isEqual(fe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return le(e.geoPointValue.latitude)===le(t.geoPointValue.latitude)&&le(e.geoPointValue.longitude)===le(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return le(e.integerValue)===le(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=le(e.doubleValue),r=le(t.doubleValue);return n===r?ve(n)===ve(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return W(e.arrayValue.values||[],t.arrayValue.values||[],Ae);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Z(n)!==Z(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ae(n[i],r[i])))return!1;return!0}(e,t);default:return x()}}function _e(e,t){return void 0!==(e.values||[]).find((function(e){return Ae(e,t)}))}function Ee(e,t){var n=be(e),r=be(t);if(n!==r)return q(n,r);switch(n){case 0:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=le(e.integerValue||e.doubleValue),r=le(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return we(e.timestampValue,t.timestampValue);case 4:return we(pe(e),pe(t));case 5:return q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fe(e),r=fe(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=q(n[i],r[i]);if(0!==o)return o}return q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=q(le(e.latitude),le(t.latitude));return 0!==n?n:q(le(e.longitude),le(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ee(n[i],r[i]);if(o)return o}return q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=q(r[a],o[a]);if(0!==s)return s;var c=Ee(n[r[a]],i[o[a]]);if(0!==c)return c}return q(r.length,o.length)}(e.mapValue,t.mapValue);default:throw x()}}function we(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return q(e,t);var n=ue(e),r=ue(t),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function Ie(e){return Se(e)}function Se(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ue(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fe(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ye.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(s.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Se(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,o=Object(s.a)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;i?i=!1:r+=",",r+="".concat(a,":").concat(Se(e.fields[a]))}}catch(c){o.e(c)}finally{o.f()}return r+"}"}(e.mapValue):x();var t,n}function ke(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ce(e){return!!e&&"integerValue"in e}function Oe(e){return!!e&&"arrayValue"in e}function Te(e){return!!e&&"nullValue"in e}function Re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xe(e){return!!e&&"mapValue"in e}function Me(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Me(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Me(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ne=function(){function e(t){Object(g.a)(this,e),this.value=t}return Object(v.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xe(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Me(t)}},{key:"setAll",value:function(e){var t=this,n=ie.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Me(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xe(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ae(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xe(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){$(t,(function(t,n){return e[t]=n}));var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Me(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function De(e){var t=[];return $(e.fields,(function(e,n){var r=new ie([e]);if(xe(n)){var i=De(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=Object(s.a)(i);try{for(a.s();!(o=a.n()).done;){var c=o.value;t.push(r.child(c))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new oe(t)}var je=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return Object(v.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ne.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ne.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),Ne.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ne.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ne.empty(),2)}}]),e}(),Le=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(g.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.A=null};function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Le(e,t,n,r,i,o,a)}function Pe(e){var t=D(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ie(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ge(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Xe(t.startAt)),t.endAt&&(n+="|ub:",n+=Xe(t.endAt)),t.A=n}return t.A}function Ue(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$e(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ae(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tt(e.startAt,t.startAt)&&tt(e.endAt,t.endAt)}function Fe(e){return ye.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Qe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ee(t,this.value)):null!==t&&be(this.value)===be(t)&&this.P(Ee(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return x()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new ze(e,t,r):"array-contains"===t?new He(e,r):"in"===t?new qe(e,r):"not-in"===t?new We(e,r):"array-contains-any"===t?new Ye(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new Ve(e,n):new Ke(e,n)}}]),n}(function(){return function e(){Object(g.a)(this,e)}}());var ze=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this,e,r,i)).key=ye.fromName(i.referenceValue),o}return Object(v.a)(n,[{key:"matches",value:function(e){var t=ye.comparator(e.key,this.key);return this.P(t)}}]),n}(Qe),Ve=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e,"in",r)).keys=Ge("in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qe),Ke=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=Ge("not-in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qe);function Ge(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ye.fromName(e.referenceValue)}))}var He=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(g.a)(this,n),t.call(this,e,"array-contains",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Oe(t)&&_e(t.arrayValue,this.value)}}]),n}(Qe),qe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(g.a)(this,n),t.call(this,e,"in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_e(this.value.arrayValue,t)}}]),n}(Qe),We=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(g.a)(this,n),t.call(this,e,"not-in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){if(_e(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_e(this.value.arrayValue,t)}}]),n}(Qe),Ye=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(g.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Oe(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _e(t.value.arrayValue,e)}))}}]),n}(Qe),Je=function e(t,n){Object(g.a)(this,e),this.position=t,this.before=n};function Xe(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Ie(e)})).join(","))}var Ze=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(g.a)(this,e),this.field=t,this.dir=n};function $e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function et(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ye.comparator(ye.fromName(a.referenceValue),n.key):Ee(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function tt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ae(e.position[n],t.position[n]))return!1;return!0}var nt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(g.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=c,this.V=null,this.S=null,this.startAt,this.endAt};function rt(e,t,n,r,i,o,a,s){return new nt(e,t,n,r,i,o,a,s)}function it(e){return new nt(e)}function ot(e){return!ge(e.limit)&&"F"===e.limitType}function at(e){return!ge(e.limit)&&"L"===e.limitType}function st(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ct(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ut(e){return null!==e.collectionGroup}function lt(e){var t=D(e);if(null===t.V){t.V=[];var n=ct(t),r=st(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Ze(n)),t.V.push(new Ze(ie.keyField(),"asc"));else{var i,o=!1,a=Object(s.a)(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var c=i.value;t.V.push(c),c.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ze(ie.keyField(),u))}}}return t.V}function ft(e){var t=D(e);if(!t.S)if("F"===t.limitType)t.S=Be(t.path,t.collectionGroup,lt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(s.a)(lt(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new Ze(o.field,a))}}catch(l){i.e(l)}finally{i.f()}var c=t.endAt?new Je(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Je(t.startAt.position,!t.startAt.before):null;t.S=Be(t.path,t.collectionGroup,r,t.filters,t.limit,c,u)}return t.S}function dt(e,t,n){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ht(e,t){return Ue(ft(e),ft(t))&&e.limitType===t.limitType}function pt(e){return"".concat(Pe(ft(e)),"|lt:").concat(e.limitType)}function gt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ie(t.value));var t})).join(", "),"]")),ge(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Xe(e.startAt)),e.endAt&&(t+=", endAt: "+Xe(e.endAt)),"Target(".concat(t,")")}(ft(e)),"; limitType=").concat(e.limitType,")")}function vt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ye.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(s.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!et(e.startAt,lt(e),t))&&(!e.endAt||!et(e.endAt,lt(e),t))}(e,t)}function mt(e){return function(t,n){var r,i=!1,o=Object(s.a)(lt(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,c=yt(a,t,n);if(0!==c)return c;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function yt(e,t,n){var r=e.field.isKeyField()?ye.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ee(r,i):x()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return x()}}function bt(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(t)?"-0":t}}function At(e){return{integerValue:""+e}}function _t(e,t){return me(t)?At(t):bt(e,t)}var Et=function e(){Object(g.a)(this,e),this._=void 0};function wt(e,t,n){return e instanceof kt?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ct?Ot(e,t):e instanceof Tt?Rt(e,t):function(e,t){var n=St(e,t),r=Mt(n)+Mt(e.C);return Ce(n)&&Ce(e.C)?At(r):bt(e.N,r)}(e,t)}function It(e,t,n){return e instanceof Ct?Ot(e,t):e instanceof Tt?Rt(e,t):n}function St(e,t){return e instanceof xt?Ce(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var kt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return n}(Et),Ct=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).elements=e,r}return n}(Et);function Ot(e,t){var n,r=Nt(t),i=Object(s.a)(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Ae(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Tt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).elements=e,r}return n}(Et);function Rt(e,t){var n,r=Nt(t),i=Object(s.a)(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Ae(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var xt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(Et);function Mt(e){return le(e.integerValue||e.doubleValue)}function Nt(e){return Oe(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Dt=function e(t,n){Object(g.a)(this,e),this.field=t,this.transform=n};var jt=function e(t,n){Object(g.a)(this,e),this.version=t,this.transformResults=n},Lt=function(){function e(t,n){Object(g.a)(this,e),this.updateTime=t,this.exists=n}return Object(v.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pt=function e(){Object(g.a)(this,e)};function Ut(e,t,n){e instanceof Kt?function(e,t,n){var r=e.value.clone(),i=qt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gt?function(e,t,n){if(Bt(e.precondition,t)){var r=qt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ht(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ft(e,t,n){e instanceof Kt?function(e,t,n){if(Bt(e.precondition,t)){var r=e.value.clone(),i=Wt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Vt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Gt?function(e,t,n){if(Bt(e.precondition,t)){var r=Wt(e.fieldTransforms,n,t),i=t.data;i.setAll(Ht(e)),i.setAll(r),t.convertToFoundDocument(Vt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Bt(e.precondition,t)&&t.convertToNoDocument(X.min())}(e,t)}function Qt(e,t){var n,r=null,i=Object(s.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),c=St(o.transform,a||null);null!=c&&(null==r&&(r=Ne.empty()),r.set(o.field,c))}}catch(u){i.e(u)}finally{i.f()}return r||null}function zt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&W(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ct&&t instanceof Ct||e instanceof Tt&&t instanceof Tt?W(e.elements,t.elements,Ae):e instanceof xt&&t instanceof xt?Ae(e.C,t.C):e instanceof kt&&t instanceof kt}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Vt(e){return e.isFoundDocument()?e.version:X.min()}var Kt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(g.a)(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return n}(Pt),Gt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(g.a)(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return n}(Pt);function Ht(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qt(e,t,n){var r=new Map;M(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,It(a,s,n[i]))}return r}function Wt(e,t,n){var r,i=new Map,o=Object(s.a)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=a.transform,u=n.data.field(a.field);i.set(a.field,wt(c,u,t))}}catch(l){o.e(l)}finally{o.f()}return i}var Yt,Jt,Xt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(Pt),Zt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(Pt),$t=function e(t){Object(g.a)(this,e),this.count=t};function en(e){switch(e){case j.OK:return x();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return x()}}function tn(e){if(void 0===e)return O("GRPC error has no .code"),j.UNKNOWN;switch(e){case Yt.OK:return j.OK;case Yt.CANCELLED:return j.CANCELLED;case Yt.UNKNOWN:return j.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return j.INTERNAL;case Yt.UNAVAILABLE:return j.UNAVAILABLE;case Yt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Yt.NOT_FOUND:return j.NOT_FOUND;case Yt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Yt.ABORTED:return j.ABORTED;case Yt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Yt.DATA_LOSS:return j.DATA_LOSS;default:return x()}}(Jt=Yt||(Yt={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";var nn=function(){function e(t,n){Object(g.a)(this,e),this.comparator=t,this.root=n||on.EMPTY}return Object(v.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rn(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rn(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rn(this.root,e,this.comparator,!0)}}]),e}(),rn=function(){function e(t,n,r,i){Object(g.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(v.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),on=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(v.a)(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw x();if(this.right.isRed())throw x();var e=this.left.check();if(e!==this.right.check())throw x();return e+(this.isRed()?0:1)}}]),e}();on.EMPTY=null,on.RED=!0,on.BLACK=!1,on.EMPTY=new(function(){function e(){Object(g.a)(this,e),this.size=0}return Object(v.a)(e,[{key:"key",get:function(){throw x()}},{key:"value",get:function(){throw x()}},{key:"color",get:function(){throw x()}},{key:"left",get:function(){throw x()}},{key:"right",get:function(){throw x()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new on(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var an=function(){function e(t){Object(g.a)(this,e),this.comparator=t,this.data=new nn(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new sn(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new sn(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),sn=function(){function e(t){Object(g.a)(this,e),this.iter=t}return Object(v.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),cn=new nn(ye.comparator);function un(){return cn}var ln=new nn(ye.comparator);function fn(){return ln}var dn=new nn(ye.comparator);function hn(){return dn}var pn=new an(ye.comparator);function gn(){for(var e=pn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var vn=new an(q);function mn(){return vn}var yn=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return Object(v.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,bn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,mn(),un(),gn())}}]),e}(),bn=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return Object(v.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(se.EMPTY_BYTE_STRING,n,gn(),gn(),gn())}}]),e}(),An=function e(t,n,r,i){Object(g.a)(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},_n=function e(t,n){Object(g.a)(this,e),this.targetId=t,this.O=n},En=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(g.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},wn=function(){function e(){Object(g.a)(this,e),this.F=0,this.M=kn(),this.L=se.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return Object(v.a)(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=gn(),t=gn(),n=gn();return this.M.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:x()}})),new bn(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=kn()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),In=function(){function e(t){Object(g.a)(this,e),this.tt=t,this.et=new Map,this.nt=un(),this.st=Sn(),this.it=new an(q)}return Object(v.a)(e,[{key:"rt",value:function(e){var t,n=Object(s.a)(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.at(r,e.key,e.$)}}catch(c){n.e(c)}finally{n.f()}var i,o=Object(s.a)(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.at(a,e.key,e.$)}}catch(c){o.e(c)}finally{o.f()}}},{key:"ct",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:x()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((function(e,r){n.ht(r)&&t(r)}))}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(Fe(i))if(0===n){var o=new ye(i.path);this.at(t,o,je.newNoDocument(o,X.min()))}else M(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach((function(r,i){var o=t.dt(i);if(o){if(r.current&&Fe(o.target)){var a=new ye(o.target.path);null!==t.nt.get(a)||t.gt(i,a)||t.at(i,a,je.newNoDocument(a,e))}r.K&&(n.set(i,r.W()),r.G())}}));var r=gn();this.st.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.dt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new yn(e,n,this.it,this.nt,r);return this.nt=un(),this.st=Sn(),this.it=new an(q),i}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new wn,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new an(q),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||C("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new wn),this.tt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sn(){return new nn(ye.comparator)}function kn(){return new nn(ye.comparator)}var Cn={asc:"ASCENDING",desc:"DESCENDING"},On={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tn=function e(t,n){Object(g.a)(this,e),this.databaseId=t,this.D=n};function Rn(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xn(e,t){return e.D?t.toBase64():t.toUint8Array()}function Mn(e,t){return Rn(e,t.toTimestamp())}function Nn(e){return M(!!e),X.fromTimestamp(function(e){var t=ue(e);return new J(t.seconds,t.nanos)}(e))}function Dn(e,t){return function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jn(e){var t=ne.fromString(e);return M(ar(t)),t}function Ln(e,t){return Dn(e.databaseId,t.path)}function Bn(e,t){var n=jn(t);if(n.get(1)!==e.databaseId.projectId)throw new L(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ye(Qn(n))}function Pn(e,t){return Dn(e.databaseId,t)}function Un(e){var t=jn(e);return 4===t.length?ne.emptyPath():Qn(t)}function Fn(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qn(e){return M(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zn(e,t,n){return{name:Ln(e,t),fields:n.value.mapValue.fields}}function Vn(e,t,n){var r=Bn(e,t.name),i=Nn(t.updateTime),o=new Ne({mapValue:{fields:t.fields}}),a=je.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Kn(e,t){return"found"in t?function(e,t){M(!!t.found),t.found.name,t.found.updateTime;var n=Bn(e,t.found.name),r=Nn(t.found.updateTime),i=new Ne({mapValue:{fields:t.found.fields}});return je.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){M(!!t.missing),M(!!t.readTime);var n=Bn(e,t.missing),r=Nn(t.readTime);return je.newNoDocument(n,r)}(e,t):x()}function Gn(e,t){var n;if(t instanceof Kt)n={update:zn(e,t.key,t.value)};else if(t instanceof Xt)n={delete:Ln(e,t.key)};else if(t instanceof Gt)n={update:zn(e,t.key,t.data),updateMask:or(t.fieldMask)};else{if(!(t instanceof Zt))return x();n={verify:Ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof kt)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ct)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xt)return{fieldPath:t.field.canonicalString(),increment:n.C};throw x()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:x()}(e,t.precondition)),n}function Hn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lt.updateTime(Nn(e.updateTime)):void 0!==e.exists?Lt.exists(e.exists):Lt.none()}(t.currentDocument):Lt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)M("REQUEST_TIME"===t.setToServerValue),n=new kt;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ct(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Tt(i)}else"increment"in t?n=new xt(e,t.increment):x();var o=ie.fromServerFormat(t.fieldPath);return new Dt(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bn(e,t.update.name),o=new Ne({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new oe(t.map((function(e){return ie.fromServerFormat(e)})))}(t.updateMask);return new Gt(i,o,a,n,r)}return new Kt(i,o,n,r)}if(t.delete){var s=Bn(e,t.delete);return new Xt(s,n)}if(t.verify){var c=Bn(e,t.verify);return new Zt(c,n)}return x()}function qn(e,t){return{documents:[Pn(e,t.path)]}}function Wn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Re(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NAN"}};if(Te(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Re(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NOT_NAN"}};if(Te(e.value))return{unaryFilter:{field:tr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tr(e.field),op:er(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:tr(e.field),direction:$n(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.D||ge(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Xn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Xn(t.endAt)),n}function Yn(e){var t=Un(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){M(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Jn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ze(nr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return ge(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=Zn(n.startAt));var l=null;return n.endAt&&(l=Zn(n.endAt)),rt(t,i,s,a,c,"F",u,l)}function Jn(e){return e?void 0!==e.unaryFilter?[ir(e)]:void 0!==e.fieldFilter?[rr(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jn(e)})).reduce((function(e,t){return e.concat(t)})):x():[]}function Xn(e){return{before:e.before,values:e.position}}function Zn(e){var t=!!e.before,n=e.values||[];return new Je(n,t)}function $n(e){return Cn[e]}function er(e){return On[e]}function tr(e){return{fieldPath:e.canonicalString()}}function nr(e){return ie.fromServerFormat(e.fieldPath)}function rr(e){return Qe.create(nr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return x()}}(e.fieldFilter.op),e.fieldFilter.value)}function ir(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nr(e.unaryFilter.field);return Qe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nr(e.unaryFilter.field);return Qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nr(e.unaryFilter.field);return Qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nr(e.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return x()}}function or(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ar(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ur(t)),t=cr(e.get(n),t);return ur(t)}function cr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ur(e){return e+"\x01\x01"}function lr(e){var t=e.length;if(M(t>=2),2===t)return M("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ne.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&x(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:x()}o=a+2}return new ne(r)}var fr=function e(t,n){Object(g.a)(this,e),this.seconds=t,this.nanoseconds=n},dr=function e(t,n,r){Object(g.a)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};dr.store="owner",dr.key="owner";var hr=function e(t,n,r){Object(g.a)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};hr.store="mutationQueues",hr.keyPath="userId";var pr=function e(t,n,r,i,o){Object(g.a)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o};pr.store="mutations",pr.keyPath="batchId",pr.userMutationsIndex="userMutationsIndex",pr.userMutationsKeyPath=["userId","batchId"];var gr=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,sr(t)]}},{key:"key",value:function(e,t,n){return[e,sr(t),n]}}]),e}();gr.store="documentMutations",gr.PLACEHOLDER=new gr;var vr=function e(t,n){Object(g.a)(this,e),this.path=t,this.readTime=n},mr=function e(t,n){Object(g.a)(this,e),this.path=t,this.version=n},yr=function e(t,n,r,i,o,a){Object(g.a)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a};yr.store="remoteDocuments",yr.readTimeIndex="readTimeIndex",yr.readTimeIndexPath="readTime",yr.collectionReadTimeIndex="collectionReadTimeIndex",yr.collectionReadTimeIndexPath=["parentPath","readTime"];var br=function e(t){Object(g.a)(this,e),this.byteSize=t};br.store="remoteDocumentGlobal",br.key="remoteDocumentGlobalKey";var Ar=function e(t,n,r,i,o,a,s){Object(g.a)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=s};Ar.store="targets",Ar.keyPath="targetId",Ar.queryTargetsIndexName="queryTargetsIndex",Ar.queryTargetsKeyPath=["canonicalId","targetId"];var _r=function e(t,n,r){Object(g.a)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};_r.store="targetDocuments",_r.keyPath=["targetId","path"],_r.documentTargetsIndex="documentTargetsIndex",_r.documentTargetsKeyPath=["path","targetId"];var Er=function e(t,n,r,i){Object(g.a)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};Er.key="targetGlobalKey",Er.store="targetGlobal";var wr=function e(t,n){Object(g.a)(this,e),this.collectionId=t,this.parent=n};wr.store="collectionParents",wr.keyPath=["collectionId","parent"];var Ir=function e(t,n,r,i){Object(g.a)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};Ir.store="clientMetadata",Ir.keyPath="clientId";var Sr=function e(t,n,r){Object(g.a)(this,e),this.bundleId=t,this.createTime=n,this.version=r};Sr.store="bundles",Sr.keyPath="bundleId";var kr=function e(t,n,r){Object(g.a)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};kr.store="namedQueries",kr.keyPath="name";var Cr=[hr.store,pr.store,gr.store,yr.store,Ar.store,dr.store,Er.store,_r.store].concat([Ir.store]).concat([br.store]).concat([wr.store]).concat([Sr.store,kr.store]),Or="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tr=function(){function e(){Object(g.a)(this,e),this.onCommittedListeners=[]}return Object(v.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Rr=function(){function e(t){var n=this;Object(g.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(v.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&x(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(s.a)(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),xr=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Tt=new B,this.transaction.oncomplete=function(){r.Tt.resolve()},this.transaction.onabort=function(){n.error?r.Tt.reject(new Dr(t,n.error)):r.Tt.resolve()},this.transaction.onerror=function(e){var n=Ur(e.target.error);r.Tt.reject(new Dr(t,n))}}return Object(v.a)(e,[{key:"It",get:function(){return this.Tt.promise}},{key:"abort",value:function(e){e&&this.Tt.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Lr(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Dr(n,t)}}}]),e}(),Mr=function(){function t(e,n,r){Object(g.a)(this,t),this.name=e,this.version=n,this.At=r,12.2===t.Rt(Object(A.l)())&&O("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(v.a)(t,[{key:"Dt",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return C("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Dr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Dr(t,n))},i.onupgradeneeded=function(e){C("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.At.Ct(t,i.transaction,e.oldVersion,n.version).next((function(){C("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Nt&&(this.db.onversionchange=function(e){return n.Nt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a,s,c,l=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Dt(t);case 2:return l.db=e.sent,n=xr.open(l.db,t,o?"readonly":"readwrite",r),(a=i(n).catch((function(e){return n.abort(e),Rr.reject(e)})).toPromise()).catch((function(){})),e.next=7,n.It;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),c="FirebaseError"!==e.t1.name&&a<3,C("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return C("SimpleDb","Removing database:",e),Br(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if("undefined"==typeof indexedDB)return!1;if(t.bt())return!0;var e=Object(A.l)(),n=t.Rt(e),r=0<n&&n<10,i=t.vt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}},{key:"bt",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Nr=function(){function e(t){Object(g.a)(this,e),this.kt=t,this.$t=!1,this.Ot=null}return Object(v.a)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Br(this.kt.delete())}}]),e}(),Dr=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,j.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(L);function jr(e){return"IndexedDbTransactionError"===e.name}var Lr=function(){function e(t){Object(g.a)(this,e),this.store=t}return Object(v.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(C("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Br(n)}},{key:"add",value:function(e){return C("SimpleDb","ADD",this.store.name,e,e),Br(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Br(this.store.get(e)).next((function(n){return void 0===n&&(n=null),C("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return C("SimpleDb","DELETE",this.store.name,e),Br(this.store.delete(e))}},{key:"count",value:function(){return C("SimpleDb","COUNT",this.store.name),Br(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"Ut",value:function(e,t){C("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,(function(e,t,n){return n.delete()}))}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new Rr((function(n,r){t.onerror=function(e){var t=Ur(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Bt",value:function(e,t){var n=[];return new Rr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Nr(i),a=t(i.primaryKey,i.value,o);if(a instanceof Rr){var s=a.catch((function(e){return o.done(),Rr.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return Rr.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Br(e){return new Rr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ur(e.target.error);n(t)}}))}var Pr=!1;function Ur(e){var t=Mr.Rt(Object(A.l)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pr||(Pr=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fr=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(Tr);function Qr(e,t){var n=D(e);return Mr.St(n.Qt,t)}var zr=function(){function e(t,n,r,i){Object(g.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(v.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ut(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Object(s.a)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ft(r,e,this.localWriteTime)}}catch(c){n.e(c)}finally{n.f()}var i,o=Object(s.a)(this.mutations);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.key.isEqual(e.key)&&Ft(a,e,this.localWriteTime)}}catch(c){o.e(c)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(X.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&W(this.mutations,e.mutations,(function(e,t){return zt(e,t)}))&&W(this.baseMutations,e.baseMutations,(function(e,t){return zt(e,t)}))}}]),e}(),Vr=function(){function e(t,n,r,i){Object(g.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(v.a)(e,null,[{key:"from",value:function(t,n,r){M(t.mutations.length===r.length);for(var i=hn(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),Kr=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:se.EMPTY_BYTE_STRING;Object(g.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return Object(v.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Gr=function e(t){Object(g.a)(this,e),this.Wt=t};function Hr(e,t){if(t.document)return Vn(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ye.fromSegments(t.noDocument.path),r=Xr(t.noDocument.readTime),i=je.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ye.fromSegments(t.unknownDocument.path),a=Xr(t.unknownDocument.version);return je.newUnknownDocument(o,a)}return x()}function qr(e,t,n){var r=Wr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rn(e,t.version.toTimestamp())}}(e.Wt,t),a=t.hasCommittedMutations;return new yr(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),c=Jr(t.version),u=t.hasCommittedMutations;return new yr(null,new vr(s,c),null,u,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Jr(t.version);return new yr(new mr(l,f),null,null,!0,r,i)}return x()}function Wr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Yr(e){var t=new J(e[0],e[1]);return X.fromTimestamp(t)}function Jr(e){var t=e.toTimestamp();return new fr(t.seconds,t.nanoseconds)}function Xr(e){var t=new J(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function Zr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hn(e.Wt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Hn(e.Wt,t)})),s=J.fromMillis(t.localWriteTimeMs);return new zr(t.batchId,s,n,a)}function $r(e){var t,n,r=Xr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Xr(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(M(1===(n=e.query).documents.length),t=ft(it(Un(n.documents[0])))):t=function(e){return ft(Yn(e))}(e.query),new Kr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,se.fromBase64String(e.resumeToken))}function ei(e,t){var n,r=Jr(t.snapshotVersion),i=Jr(t.lastLimboFreeSnapshotVersion);n=Fe(t.target)?qn(e.Wt,t.target):Wn(e.Wt,t.target);var o=t.resumeToken.toBase64();return new Ar(t.targetId,Pe(t.target),r,o,t.sequenceNumber,i,n)}function ti(e){var t=Yn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dt(t,t.limit,"L"):t}var ni=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ri(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Xr(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ri(e).put({bundleId:(n=t).id,createTime:Jr(Nn(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ii(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ti(t.bundledQuery),readTime:Xr(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ii(e).put(function(e){return{name:e.name,readTime:Jr(Nn(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ri(e){return Qr(e,Sr.store)}function ii(e){return Qr(e,kr.store)}var oi=function(){function e(){Object(g.a)(this,e),this.Gt=new ai}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),Rr.resolve()}},{key:"getCollectionParents",value:function(e,t){return Rr.resolve(this.Gt.getEntries(t))}}]),e}(),ai=function(){function e(){Object(g.a)(this,e),this.index={}}return Object(v.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new an(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new an(ne.comparator)).toArray()}}]),e}(),si=function(){function e(){Object(g.a)(this,e),this.zt=new ai}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.zt.add(t)}));var o={collectionId:r,parent:sr(i)};return ci(e).put(o)}return Rr.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return ci(e).Lt(r).next((function(e){var r,i=Object(s.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(lr(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}}]),e}();function ci(e){return Qr(e,wr.store)}var ui={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},li=function(){function e(t,n,r){Object(g.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(v.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fi(e,t,n){var r=e.store(pr.store),i=e.store(gr.store),o=[],a=IDBKeyRange.only(n.batchId),c=0,u=r.Kt({range:a},(function(e,t,n){return c++,n.delete()}));o.push(u.next((function(){M(1===c)})));var l,f=[],d=Object(s.a)(n.mutations);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=gr.key(t,h.key.path,n.batchId);o.push(i.delete(p)),f.push(h.key)}}catch(g){d.e(g)}finally{d.f()}return Rr.waitFor(o).next((function(){return f}))}function di(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw x();t=e.noDocument}return JSON.stringify(t).length}li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);var hi=function(){function e(t,n,r,i){Object(g.a)(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).Kt({index:pr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=vi(e),a=gi(e);return a.add({}).next((function(c){M("number"==typeof c);var u,l=new zr(c,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Gn(e.Wt,t)})),i=n.mutations.map((function(t){return Gn(e.Wt,t)}));return new pr(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.N,i.userId,l),d=[],h=new an((function(e,t){return q(e.canonicalString(),t.canonicalString())})),p=Object(s.a)(r);try{for(p.s();!(u=p.n()).done;){var g=u.value,v=gr.key(i.userId,g.key.path,c);h=h.add(g.key.path.popLast()),d.push(a.put(f)),d.push(o.put(v,gr.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return h.forEach((function(t){d.push(i.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Jt[c]=l.keys()})),Rr.waitFor(d).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return gi(e).get(t).next((function(e){return e?(M(e.userId===n.userId),Zr(n.N,e)):null}))}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?Rr.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gi(e).Kt({index:pr.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(M(t.batchId>=r),o=Zr(n.N,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gi(e).Kt({index:pr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).Lt(pr.userMutationsIndex,n).next((function(e){return e.map((function(e){return Zr(t.N,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return vi(e).Kt({range:i},(function(r,i,s){var c=Object(a.a)(r,3),u=c[0],l=c[1],f=c[2],d=lr(l);if(u===n.userId&&t.path.isEqual(d))return gi(e).get(f).next((function(e){if(!e)throw x();M(e.userId===n.userId),o.push(Zr(n.N,e))}));s.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new an(q),i=[];return t.forEach((function(t){var o=gr.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),c=vi(e).Kt({range:s},(function(e,i,o){var s=Object(a.a)(e,3),c=s[0],u=s[1],l=s[2],f=lr(u);c===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(c)})),Rr.waitFor(i).next((function(){return n.Zt(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=gr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),c=new an(q);return vi(e).Kt({range:s},(function(e,t,o){var s=Object(a.a)(e,3),u=s[0],l=s[1],f=s[2],d=lr(l);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(c=c.add(f)):o.done()})).next((function(){return n.Zt(e,c)}))}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gi(e).get(t).next((function(e){if(null===e)throw x();M(e.userId===n.userId),r.push(Zr(n.N,e))})))})),Rr.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fi(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.te(t.batchId)})),Rr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Rr.resolve();var r=IDBKeyRange.lowerBound(gr.prefixForUser(t.userId)),i=[];return vi(e).Kt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=lr(e[1]);i.push(o)}else r.done()})).next((function(){M(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pi(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return mi(e).get(this.userId).next((function(e){return e||new hr(t.userId,-1,"")}))}}],[{key:"Yt",value:function(t,n,r,i){return M(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pi(e,t,n){var r=gr.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return vi(e).Kt({range:o,qt:!0},(function(e,n,r){var o=Object(a.a)(e,3),c=o[0],u=o[1];o[2];c===t&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function gi(e){return Qr(e,pr.store)}function vi(e){return Qr(e,gr.store)}function mi(e){return Qr(e,hr.store)}var yi=function(){function e(t){Object(g.a)(this,e),this.ne=t}return Object(v.a)(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),bi=function(){function e(t,n){Object(g.a)(this,e),this.referenceDelegate=t,this.N=n}return Object(v.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next((function(n){var r=new yi(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next((function(e){return X.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.re(e).next((function(r){return r.targetCount+=1,n.ce(t,r),n.oe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ai(e).delete(t.targetId)})).next((function(){return n.re(e)})).next((function(t){return M(t.targetCount>0),t.targetCount-=1,n.oe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return Ai(e).Kt((function(a,s){var c=$r(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(e,c)))})).next((function(){return Rr.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ai(e).Kt((function(e,n){var r=$r(n);t(r)}))}},{key:"re",value:function(e){return _i(e).get(Er.key).next((function(e){return M(null!==e),e}))}},{key:"oe",value:function(e,t){return _i(e).put(Er.key,t)}},{key:"ae",value:function(e,t){return Ai(e).put(ei(this.N,t))}},{key:"ce",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Pe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ai(e).Kt({range:r,index:Ar.queryTargetsIndexName},(function(e,n,r){var o=$r(n);Ue(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=Ei(e);return t.forEach((function(t){var a=sr(t.path);i.push(o.put(new _r(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Rr.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ei(e);return Rr.forEach(t,(function(t){var o=sr(t.path);return Rr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ei(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ei(e),i=gn();return r.Kt({range:n,qt:!0},(function(e,t,n){var r=lr(e[1]),o=new ye(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sr(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Ei(e).Kt({index:_r.documentTargetsIndex,qt:!0,range:r},(function(e,t,n){var r=Object(a.a)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ai(e).get(t).next((function(e){return e?$r(e):null}))}}]),e}();function Ai(e){return Qr(e,Ar.store)}function _i(e){return Qr(e,Er.store)}function Ei(e){return Qr(e,_r.store)}function wi(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===j.FAILED_PRECONDITION&&t.message===Or){e.next=2;break}throw t;case 2:C("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1],o=Object(a.a)(t,2),s=o[0],c=o[1],u=q(r,s);return 0===u?q(i,c):u}var ki=function(){function e(t){Object(g.a)(this,e),this.ue=t,this.buffer=new an(Si),this.he=0}return Object(v.a)(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Si(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ci=function(){function e(t,n){Object(g.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return Object(v.a)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;C("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!jr(n.t0)){n.next=12;break}C("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,wi(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Oi=function(){function e(t,n){Object(g.a)(this,e),this.me=t,this.params=n}return Object(v.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Rr.resolve(K.T);var r=new ki(t);return this.me.forEachTarget(e,(function(e){return r.fe(e.sequenceNumber)})).next((function(){return n.me.ye(e,(function(e){return r.fe(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),Rr.resolve(ui)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ui):n.pe(e,t)}))}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,o,a,s,c,u=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(u.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=u.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),S()<=b.a.DEBUG&&C("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ti=function(){function e(t,n){Object(g.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Oi(e,t)}(this,n)}return Object(v.a)(e,[{key:"ge",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.ye(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Te(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ri(e,n)}},{key:"removeReference",value:function(e,t,n){return Ri(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ri(e,t)}},{key:"Ie",value:function(e,t){return function(e,t){var n=!1;return mi(e).jt((function(r){return pi(e,r,t).next((function(e){return e&&(n=!0),Rr.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Te(e,(function(a,s){if(s<=t){var c=n.Ie(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Ei(e).delete([0,sr(a.path)])}))}));i.push(c)}})).next((function(){return Rr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ri(e,t)}},{key:"Te",value:function(e,t){var n,r=Ei(e),i=K.T;return r.Kt({index:_r.documentTargetsIndex},(function(e,r){var o=Object(a.a)(e,2),s=o[0],c=(o[1],r.path),u=r.sequenceNumber;0===s?(i!==K.T&&t(new ye(lr(n)),i),i=u,n=c):i=K.T})).next((function(){i!==K.T&&t(new ye(lr(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ri(e,t){return Ei(e).put(function(e,t){return new _r(0,sr(e.path),t)}(t,e.currentSequenceNumber))}var xi=function(){function e(t,n){Object(g.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Object(v.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),c=o[0],u=o[1];if(this.equalsFn(c,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){$(this.inner,(function(t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),c=o[0],u=o[1];e(c,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ee(this.inner)}}]),e}(),Mi=function(){function e(){Object(g.a)(this,e),this.changes=new xi((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(v.a)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:X.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:je.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rr.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ni=function(){function e(t,n){Object(g.a)(this,e),this.N=t,this.Ht=n}return Object(v.a)(e,[{key:"addEntry",value:function(e,t,n){return Li(e).put(Bi(t),n)}},{key:"removeEntry",value:function(e,t){var n=Li(e),r=Bi(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Ae(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Li(e).get(Bi(t)).next((function(e){return n.Re(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Li(e).get(Bi(t)).next((function(e){return{document:n.Re(t,e),size:di(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=un();return this.be(e,t,(function(e,t){var i=n.Re(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ve",value:function(e,t){var n=this,r=un(),i=new nn(ye.comparator);return this.be(e,t,(function(e,t){var o=n.Re(e,t);r=r.insert(e,o),i=i.insert(e,di(t))})).next((function(){return{documents:r,Ve:i}}))}},{key:"be",value:function(e,t,n){if(t.isEmpty())return Rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Li(e).Kt({range:r},(function(e,t,r){for(var a=ye.fromSegments(e);o&&ye.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Mt(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=un(),o=t.path.length+1,a={};if(n.isEqual(X.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var c=t.path.toArray(),u=Wr(n);a.range=IDBKeyRange.lowerBound([c,u],!0),a.index=yr.collectionReadTimeIndex}return Li(e).Kt(a,(function(e,n,a){if(e.length===o){var s=Hr(r.N,n);t.path.isPrefixOf(s.key.path)?vt(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Di(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ji(e).get(br.key).next((function(e){return M(!!e),e}))}},{key:"Ae",value:function(e,t){return ji(e).put(br.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Hr(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return je.newInvalidDocument(e)}}]),e}(),Di=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new xi((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new an((function(e,t){return q(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.De.get(o);if(a.document.isValidDocument()){var c=qr(t.Se.N,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var u=di(c);r+=u-s,n.push(t.Se.addEntry(e,o,c))}else if(r-=s,t.trackRemovals){var l=qr(t.Se.N,je.newNoDocument(o,X.min()),t.getReadTime(o));n.push(t.Se.addEntry(e,o,l))}else n.push(t.Se.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))})),n.push(this.Se.updateMetadata(e,r)),Rr.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.Pe(e,t).next((function(e){return n.De.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next((function(e){var t=e.documents;return e.Ve.forEach((function(e,t){n.De.set(e,t)})),t}))}}]),n}(Mi);function ji(e){return Qr(e,br.store)}function Li(e){return Qr(e,yr.store)}function Bi(e){return e.path.toArray()}var Pi=function(){function e(t){Object(g.a)(this,e),this.N=t}return Object(v.a)(e,[{key:"Ct",value:function(e,t,n,r){var i=this;M(n<r&&n>=0&&r<=11);var o=new xr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(dr.store)}(e),function(e){e.createObjectStore(hr.store,{keyPath:hr.keyPath}),e.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gr.store)}(e),Ui(e),function(e){e.createObjectStore(yr.store)}(e));var a=Rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(_r.store),e.deleteObjectStore(Ar.store),e.deleteObjectStore(Er.store)}(e),Ui(e)),a=a.next((function(){return function(e){var t=e.store(Er.store),n=new Er(0,0,X.min().toTimestamp(),0);return t.put(Er.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(pr.store).Lt().next((function(n){e.deleteObjectStore(pr.store),e.createObjectStore(pr.store,{keyPath:pr.keyPath,autoIncrement:!0}).createIndex(pr.userMutationsIndex,pr.userMutationsKeyPath,{unique:!0});var r=t.store(pr.store),i=n.map((function(e){return r.put(e)}));return Rr.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Ir.store,{keyPath:Ir.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Ce(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(br.store)}(e),i.Ne(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.ke(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(yr.store);t.createIndex(yr.readTimeIndex,yr.readTimeIndexPath,{unique:!1}),t.createIndex(yr.collectionReadTimeIndex,yr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Sr.store,{keyPath:Sr.keyPath})}(e),function(e){e.createObjectStore(kr.store,{keyPath:kr.keyPath})}(e)}))),a}},{key:"Ne",value:function(e){var t=0;return e.store(yr.store).Kt((function(e,n){t+=di(n)})).next((function(){var n=new br(t);return e.store(br.store).put(br.key,n)}))}},{key:"Ce",value:function(e){var t=this,n=e.store(hr.store),r=e.store(pr.store);return n.Lt().next((function(n){return Rr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(pr.userMutationsIndex,i).next((function(r){return Rr.forEach(r,(function(r){M(r.userId===n.userId);var i=Zr(t.N,r);return fi(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(_r.store),n=e.store(yr.store);return e.store(Er.store).get(Er.key).next((function(e){var r=[];return n.Kt((function(n,i){var o=new ne(n),a=function(e){return[0,sr(e)]}(o);r.push(t.get(a).next((function(n){return n?Rr.resolve():function(n){return t.put(new _r(0,sr(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Rr.waitFor(r)}))}))}},{key:"ke",value:function(e,t){e.createObjectStore(wr.store,{keyPath:wr.keyPath});var n=t.store(wr.store),r=new ai,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sr(i)})}};return t.store(yr.store).Kt({qt:!0},(function(e,t){var n=new ne(e);return i(n.popLast())})).next((function(){return t.store(gr.store).Kt({qt:!0},(function(e,t){var n=Object(a.a)(e,3),r=(n[0],n[1]),o=(n[2],lr(r));return i(o.popLast())}))}))}},{key:"$e",value:function(e){var t=this,n=e.store(Ar.store);return n.Kt((function(e,r){var i=$r(r),o=ei(t.N,i);return n.put(o)}))}}]),e}();function Ui(e){e.createObjectStore(_r.store,{keyPath:_r.keyPath}).createIndex(_r.documentTargetsIndex,_r.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ar.store,{keyPath:Ar.keyPath}).createIndex(Ar.queryTargetsIndexName,Ar.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Er.store)}var Fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qi=function(){function e(t,n,r,i,o,a,s,c,u,l){if(Object(g.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=o,this.window=a,this.document=s,this.Fe=u,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.Pt())throw new L(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ti(this,i),this.We=n+"main",this.N=new Gr(c),this.Ge=new Mr(this.We,11,new Pi(this.N)),this.ze=new bi(this.referenceDelegate,this.N),this.Ht=new si,this.He=function(e,t){return new Ni(e,t)}(this.N,this.Ht),this.Je=new ni,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&O("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(v.a)(e,[{key:"start",value:function(){var e=this;return this.Xe().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(j.FAILED_PRECONDITION,Fi);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ze.getHighestSequenceNumber(t)}))})).then((function(t){e.Le=new K(t,e.Fe)})).then((function(){e.Be=!0})).catch((function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)}))}},{key:"nn",value:function(e){var t=this;return this.Qe=function(){var n=Object(l.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ge.xt(function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vi(t).put(new Ir(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.sn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.Qe(!1)})))}))})).next((function(){return e.rn(t)})).next((function(n){return e.isPrimary&&!n?e.on(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(jr(t))return C("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return C("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.Qe(t)})),e.isPrimary=t}))}},{key:"sn",value:function(e){var t=this;return zi(e).get(dr.key).next((function(e){return Rr.resolve(t.cn(e))}))}},{key:"un",value:function(e){return Vi(e).delete(this.clientId)}},{key:"hn",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,i,o=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ln(this.je,18e5)){e.next=6;break}return this.je=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Qr(e,Ir.store);return t.Lt().next((function(e){var n=o.fn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Rr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ye){n=Object(s.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ye.removeItem(this.dn(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Xe().then((function(){return e.hn()})).then((function(){return e.en()}))}))}},{key:"cn",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?Rr.resolve(!0):zi(e).get(dr.key).next((function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new L(j.FAILED_PRECONDITION,Fi);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vi(e).Lt().next((function(e){return void 0===t.fn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&C("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),e.next=7,this.Ge.runTransaction("shutdown","readwrite",[dr.store,Ir.store],(function(e){var n=new Fr(e,K.T);return t.on(n).next((function(){return t.un(n)}))}));case 7:this.Ge.close(),this.yn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fn",value:function(e,t){var n=this;return e.filter((function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)}))}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vi(t).Lt().next((function(t){return e.fn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return hi.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;C("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Ge.runTransaction(e,o,Cr,(function(o){return i=new Fr(o,r.Le?r.Le.next():K.T),"readwrite-primary"===t?r.sn(i).next((function(e){return!!e||r.rn(i)})).next((function(t){if(!t)throw O("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.Qe(!1)})),new L(j.FAILED_PRECONDITION,Or);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return zi(e).get(dr.key).next((function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.cn(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(j.FAILED_PRECONDITION,Fi)}))}},{key:"an",value:function(e){var t=new dr(this.clientId,this.allowTabSynchronization,Date.now());return zi(e).put(dr.key,t)}},{key:"on",value:function(e){var t=this,n=zi(e);return n.get(dr.key).next((function(e){return t.cn(e)?(C("IndexedDbPersistence","Releasing primary lease."),n.delete(dr.key)):Rr.resolve()}))}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(O("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),Object(A.v)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return C("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return O("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Ul){O("Failed to set zombie client id.",Ul)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Ul){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Mr.Pt()}}]),e}();function zi(e){return Qr(e,dr.store)}function Vi(e){return Qr(e,Ir.store)}function Ki(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gi=function e(t,n){Object(g.a)(this,e),this.progress=t,this.Tn=n},Hi=function(){function e(t,n,r){Object(g.a)(this,e),this.He=t,this.In=n,this.Ht=r}return Object(v.a)(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Rn(e,t,r)}))}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next((function(e){var t,r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Object(s.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}}))}},{key:"bn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next((function(t){return n.vn(e,t).next((function(){return t}))}))}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ye.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):ut(t)?this.Sn(e,t,n):this.Dn(e,t,n)}},{key:"Vn",value:function(e,t){return this.An(e,new ye(t)).next((function(e){var t=fn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,o=fn();return this.Ht.getCollectionParents(e,i).next((function(a){return Rr.forEach(a,(function(a){var s=function(e,t){return new nt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Dn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"Dn",value:function(e,t,n){var r,i,o=this;return this.He.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.In.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Cn(e,i,r).next((function(e){r=e;var t,n=Object(s.a)(i);try{for(n.s();!(t=n.n()).done;){var o,a=t.value,c=Object(s.a)(a.mutations);try{for(c.s();!(o=c.n()).done;){var u=o.value,l=u.key,f=r.get(l);null==f&&(f=je.newInvalidDocument(l),r=r.insert(l,f)),Ft(u,f,a.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){n.e(d)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){vt(t,n)||(r=r.remove(e))})),r}))}},{key:"Cn",value:function(e,t,n){var r,i=gn(),o=Object(s.a)(t);try{for(o.s();!(r=o.n()).done;){var a,c=r.value,u=Object(s.a)(c.mutations);try{for(u.s();!(a=u.n()).done;){var l=a.value;l instanceof Gt&&null===n.get(l.key)&&(i=i.add(l.key))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){o.e(d)}finally{o.f()}var f=n;return this.He.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))})),f}))}}]),e}(),qi=function(){function e(t,n,r,i){Object(g.a)(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return Object(v.a)(e,null,[{key:"kn",value:function(t,n){var r,i=gn(),o=gn(),a=Object(s.a)(n.docChanges);try{for(a.s();!(r=a.n()).done;){var c=r.value;switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),Wi=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(X.min())?this.Fn(e,t):this.On.bn(e,r).next((function(o){var a=i.Mn(t,o);return(ot(t)||at(t))&&i.Ln(t.limitType,a,r,n)?i.Fn(e,t):(S()<=b.a.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gt(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Mn",value:function(e,t){var n=new an(mt(e));return t.forEach((function(t,r){vt(e,r)&&(n=n.add(r))})),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return S()<=b.a.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",gt(t)),this.On.getDocumentsMatchingQuery(e,t,X.min())}}]),e}(),Yi=function(){function e(t,n,r,i){Object(g.a)(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new nn(q),this.qn=new xi((function(e){return Pe(e)}),Ue),this.Kn=X.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Hi(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return Object(v.a)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Un)}))}}]),e}();function Ji(e,t,n,r){return new Yi(e,t,n,r)}function Xi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=r.In,o=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.In.getAllMutationBatches(e).next((function(a){return t=a,i=r.persistence.getMutationQueue(n),o=new Hi(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],a=[],c=gn(),u=Object(s.a)(t);try{for(u.s();!(r=u.n()).done;){var l=r.value;i.push(l.batchId);var f,d=Object(s.a)(l.mutations);try{for(d.s();!(f=d.n()).done;){var h=f.value;c=c.add(h.key)}}catch(A){d.e(A)}finally{d.f()}}}catch(A){u.e(A)}finally{u.f()}var p,g=Object(s.a)(n);try{for(g.s();!(p=g.n()).done;){var v=p.value;a.push(v.batchId);var m,y=Object(s.a)(v.mutations);try{for(y.s();!(m=y.n()).done;){var b=m.value;c=c.add(b.key)}}catch(A){y.e(A)}finally{y.f()}}}catch(A){g.e(A)}finally{g.f()}return o.bn(e,c).next((function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:a}}))}))}));case 4:return a=e.sent,e.abrupt("return",(r.In=i,r.Qn=o,r.Bn.$n(r.Qn),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){var n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Rr.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);M(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e.In.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.bn(e,r)}))}))}function eo(e){var t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ze.getLastRemoteSnapshotVersion(e)}))}function to(e,t){var n=D(e),r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.ze.addMatchingKeys(e,t.addedDocuments,o)})));var c=t.resumeToken;if(c.approximateByteSize()>0){var u=s.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,u),function(e,t,n){return M(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,u,t)&&a.push(n.ze.updateTargetData(e,u))}}}));var s=un();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(no(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(X.min())){var c=n.ze.getLastRemoteSnapshotVersion(e).next((function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return Rr.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Qn.vn(e,s)})).next((function(){return s}))})).then((function(e){return n.Un=i,e}))}function no(e,t,n,r,i){var o=gn();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=un();return n.forEach((function(n,a){var s=e.get(n),c=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(X.min())?(t.removeEntry(n,c),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,c),o=o.insert(n,a)):C("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function ro(e,t){var n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)}))}function io(e,t){var n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ze.getTargetData(e,t).next((function(i){return i?(r=i,Rr.resolve(r)):n.ze.allocateTargetId(e).next((function(i){return r=new Kr(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function oo(e,t,n){return ao.apply(this,arguments)}function ao(){return(ao=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),o=i.Un.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),jr(e.t1)){e.next=12;break}throw e.t1;case 12:C("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function so(e,t,n){var r=D(e),i=X.min(),o=gn();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=D(e),i=r.qn.get(n);return void 0!==i?Rr.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,ft(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:X.min(),n?o:gn())})).next((function(e){return{documents:e,Gn:o}}))}))}function co(e,t){var n=D(e),r=D(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function uo(e){var t=D(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=D(e),i=un(),o=Wr(n),a=Li(t),s=IDBKeyRange.lowerBound(o,!0);return a.Kt({index:yr.readTimeIndex,range:s},(function(e,t){var n=Hr(r.N,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{Tn:i,readTime:Yr(o)}}))}(t.jn,e,t.Kn)})).then((function(e){var n=e.Tn,r=e.readTime;return t.Kn=r,n}))}function lo(e){return fo.apply(this,arguments)}function fo(){return(fo=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Li(e),n=X.min();return t.Kt({index:yr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Yr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Kn=e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t,n,r){return po.apply(this,arguments)}function po(){return(po=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a,c,l,f,d,h,p,g,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=D(t),a=gn(),c=un(),l=hn(),f=Object(s.a)(r);try{for(f.s();!(d=f.n()).done;)h=d.value,p=n.zn(h.metadata.name),h.document&&(a=a.add(p)),c=c.insert(p,n.Hn(h)),l=l.insert(p,n.Jn(h.metadata.readTime))}catch(u){f.e(u)}finally{f.f()}return g=o.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,io(o,function(e){return ft(it(ne.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return no(e,g,c,X.min(),l).next((function(t){return g.apply(e),t})).next((function(t){return o.ze.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return o.ze.addMatchingKeys(e,a,v.targetId)})).next((function(){return o.Qn.vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return vo.apply(this,arguments)}function vo(){return(vo=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:gn(),e.next=3,io(t,ft(ti(n.bundledQuery)));case 3:return i=e.sent,o=D(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Nn(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Je.saveNamedQuery(e,n);var a=i.withResumeToken(se.EMPTY_BYTE_STRING,t);return o.Un=o.Un.insert(a.targetId,a),o.ze.updateTargetData(e,a).next((function(){return o.ze.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.ze.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Je.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mo=function(){function e(t){Object(g.a)(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Rr.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Nn(n.createTime)}),Rr.resolve()}},{key:"getNamedQuery",value:function(e,t){return Rr.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:ti(e.bundledQuery),readTime:Nn(e.readTime)}}(t)),Rr.resolve()}}]),e}(),yo=function(){function e(){Object(g.a)(this,e),this.Zn=new an(bo.ts),this.es=new an(bo.ns)}return Object(v.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bo(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new bo(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"cs",value:function(e){var t=this,n=new ye(new ne([])),r=new bo(n,e),i=new bo(n,e+1),o=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),o.push(e.key)})),o}},{key:"us",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ye(new ne([])),n=new bo(t,e),r=new bo(t,e+1),i=gn();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bo(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bo=function(){function e(t,n){Object(g.a)(this,e),this.key=t,this.ls=n}return Object(v.a)(e,null,[{key:"ts",value:function(e,t){return ye.comparator(e.key,t.key)||q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return q(e.ls,t.ls)||ye.comparator(e.key,t.key)}}]),e}(),Ao=function(){function e(t,n){Object(g.a)(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new an(bo.ts)}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){return Rr.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];var o=new zr(i,t,n,r);this.In.push(o);var a,c=Object(s.a)(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;this.ds=this.ds.add(new bo(u.key,i)),this.Ht.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){c.e(l)}finally{c.f()}return Rr.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return Rr.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this._s(n),i=r<0?0:r;return Rr.resolve(this.In.length>i?this.In[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Rr.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Rr.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bo(t,0),i=new bo(t,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],(function(e){var t=n.ws(e.ls);o.push(t)})),Rr.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new an(q);return t.forEach((function(e){var t=new bo(e,0),i=new bo(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Rr.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ye.isDocumentKey(i)||(i=i.child(""));var o=new bo(new ye(i),0),a=new an(q);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),o),Rr.resolve(this.gs(a))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ws(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;M(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return Rr.forEach(t.mutations,(function(i){var o=new bo(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bo(t,0),r=this.ds.firstAfterOrEqual(n);return Rr.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.In.length,Rr.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),_o=function(){function e(t,n){Object(g.a)(this,e),this.Ht=t,this.ps=n,this.docs=new nn(ye.comparator),this.size=0}return Object(v.a)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Rr.resolve(n?n.document.clone():je.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=un();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():je.newInvalidDocument(e))})),Rr.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=un(),i=new ye(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,c=a.value,u=c.document,l=c.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||vt(t,u)&&(r=r.insert(u.key,u.clone()))}return Rr.resolve(r)}},{key:"Es",value:function(e,t){return Rr.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Eo(this)}},{key:"getSize",value:function(e){return Rr.resolve(this.size)}}]),e}(),Eo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).Se=e,r}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)})),Rr.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Mi),wo=function(){function e(t){Object(g.a)(this,e),this.persistence=t,this.Ts=new xi((function(e){return Pe(e)}),Ue),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Is=0,this.As=new yo,this.targetCount=0,this.Rs=yi.se()}return Object(v.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Rr.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Rr.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Rr.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Rr.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Rr.resolve()}},{key:"ae",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new yi(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Rr.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Rr.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Rr.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Ts.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Rr.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Rr.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Rr.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Rr.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rr.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),Rr.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Rr.resolve(n)}},{key:"containsKey",value:function(e,t){return Rr.resolve(this.As.containsKey(t))}}]),e}(),Io=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.Ps={},this.Le=new K(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new wo(this),this.Ht=new oi,this.He=function(e,t){return new _o(e,(function(e){return r.referenceDelegate.bs(e)}))}(this.Ht),this.N=new Gr(n),this.Je=new mo(this.N)}return Object(v.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Ao(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;C("MemoryPersistence","Starting transaction:",e);var i=new So(this.Le.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Vs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ss",value:function(e,t){return Rr.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),So=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(Tr),ko=function(){function e(t){Object(g.a)(this,e),this.persistence=t,this.Ds=new yo,this.Cs=null}return Object(v.a)(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw x()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Rr.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Rr.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Rr.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rr.forEach(this.xs,(function(r){var i=ye.fromPath(r);return t.ks(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Cs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"bs",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return Rr.or([function(){return Rr.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function Co(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Oo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function To(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ro=function(){function e(t,n,r,i){Object(g.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(v.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new L(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(O("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xo=function(){function e(t,n,r){Object(g.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(v.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),o?new e(t,i.state,r):(O("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Mo=function(){function e(t,n){Object(g.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(v.a)(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=mn(),a=0;i&&a<r.activeTargetIds.length;++a)i=me(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(O("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),No=function(){function e(t,n){Object(g.a)(this,e),this.clientId=t,this.onlineState=n}return Object(v.a)(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(O("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Do=function(){function e(){Object(g.a)(this,e),this.activeTargetIds=mn()}return Object(v.a)(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jo=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new nn(q),this.started=!1,this.Ks=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.js=Co(this.persistenceKey,this.Ls),this.Qs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Do),this.Ws=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.Hs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return Object(v.a)(e,[{key:"start",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,i,o,a,c,l,f,d,h,p=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.pn();case 2:t=e.sent,n=Object(s.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ls){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(Co(this.persistenceKey,i)))&&(a=Mo.$s(i,o))&&(this.qs=this.qs.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ys(),(c=this.storage.getItem(this.Hs))&&(l=this.Xs(c))&&this.Zs(l),f=Object(s.a)(this.Ks);try{for(f.s();!(d=f.n()).done;)h=d.value,this.Us(h)}catch(u){f.e(u)}finally{f.f()}this.Ks=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(To(this.persistenceKey,e));if(n){var r=xo.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(To(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ni(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return C("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){C("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){C("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(C("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void O("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Object(l.a)(u.a.mark((function e(){var r,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ci(r,null));case 6:if(!(i=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ci(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(o));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(a));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(s));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}(c=function(e){var t=K.T;if(null!=e)try{var n=JSON.parse(e);M("number"==typeof n),t=n}catch(e){O("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==K.T&&t.sequenceNumberHandler(c),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new Ro(this.currentUser,e,t,n),i=Oo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){var t=Oo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){var t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}},{key:"ii",value:function(e,t,n){var r=To(this.persistenceKey,e),i=new xo(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ai",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ai(e);return Mo.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ro.$s(new E(i),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return xo.$s(r,t)}},{key:"Xs",value:function(e){return No.$s(e)}},{key:"li",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine._i(t.batchId,t.state,t.error));case 2:C("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ci",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),o=this.ti(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.gi(a,s).then((function(){n.qs=r}))}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=mn();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Lo=function(){function e(){Object(g.a)(this,e),this.yi=new Do,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(v.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Do,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Bo=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Po=function(){function e(){var t=this;Object(g.a)(this,e),this.Ti=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.Pi=[],this.bi()}return Object(v.a)(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}},{key:"bi",value:function(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(s.a)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(s.a)(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Uo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fo=function(){function e(t){Object(g.a)(this,e),this.vi=t.vi,this.Vi=t.Vi}return Object(v.a)(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Qo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(v.a)(n,[{key:"qi",value:function(e,t,n,r){return new Promise((function(i,o){var a=new _.g;a.listenOnce(_.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case _.a.NO_ERROR:var t=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _.a.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new L(j.DEADLINE_EXCEEDED,"Request time out"));break;case _.a.HTTP_ERROR:var n=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(t)>=0?t:j.UNKNOWN}(r.status);o(new L(s,r.message))}else o(new L(j.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(j.UNAVAILABLE,"Connection failed."));break;default:x()}}finally{C("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(_.h)(),i=Object(_.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _.d({})),this.Ui(o.initMessageHeaders,t),Object(A.s)()||Object(A.u)()||Object(A.o)()||Object(A.q)()||Object(A.w)()||Object(A.n)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");C("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),c=!1,u=!1,l=new Fo({vi:function(e){u?C("Connection","Not sending because WebChannel is closed:",e):(c||(C("Connection","Opening WebChannel transport."),s.open(),c=!0),C("Connection","WebChannel sending:",e),s.send(e))},Vi:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,_.f.EventType.OPEN,(function(){u||C("Connection","WebChannel transport opened.")})),f(s,_.f.EventType.CLOSE,(function(){u||(u=!0,C("Connection","WebChannel transport closed"),l.$i())})),f(s,_.f.EventType.ERROR,(function(e){u||(u=!0,T("Connection","WebChannel transport errored:",e),l.$i(new L(j.UNAVAILABLE,"The operation could not be completed")))})),f(s,_.f.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];M(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){C("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Yt[e];if(void 0!==t)return tn(t)}(o),c=i.message;void 0===a&&(a=j.INTERNAL,c="Unknown error status: "+o+" with message "+i.message),u=!0,l.$i(new L(a,c)),s.close()}else C("Connection","WebChannel received:",n),l.Oi(n)}})),f(i,_.b.STAT_EVENT,(function(e){e.stat===_.e.PROXY?C("Connection","Detected buffering proxy"):e.stat===_.e.NOPROXY&&C("Connection","Detected no buffering proxy")})),setTimeout((function(){l.ki()}),0),l}}]),n}(function(){function e(t){Object(g.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(v.a)(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);C("RestConnection","Sending: ",i,n);var o={};return this.Ui(o,r),this.qi(e,i,o,n).then((function(e){return C("RestConnection","Received: ",e),e}),(function(t){throw T("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t}))}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+w,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){var n=Uo[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function zo(){return"undefined"!=typeof window?window:null}function Vo(){return"undefined"!=typeof document?document:null}function Ko(e){return new Tn(e,!0)}var Go=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(g.a)(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=o,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return Object(v.a)(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Ji=Date.now(),e()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),Ho=function(){function e(t,n,r,i,o,a){Object(g.a)(this,e),this.Oe=t,this.er=r,this.nr=i,this.credentialsProvider=o,this.listener=a,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Go(t,n)}return Object(v.a)(e,[{key:"ar",value:function(){return 1===this.state||2===this.state||4===this.state}},{key:"cr",value:function(){return 2===this.state}},{key:"start",value:function(){3!==this.state?this.auth():this.ur()}},{key:"stop",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ar(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hr",value:function(){this.state=0,this.rr.reset()}},{key:"lr",value:function(){var e=this;this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(function(){return e.dr()})))}},{key:"wr",value:function(e){this._r(),this.stream.send(e)}},{key:"dr",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_r",value:function(){this.ir&&(this.ir.cancel(),this.ir=null)}},{key:"close",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(O(n.toString()),O("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):n&&n.code===j.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,e.next=8,this.listener.Ci(n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then((function(t){e.sr===n&&e.yr(t)}),(function(n){t((function(){var t=new L(j.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))}},{key:"yr",value:function(e){var t=this,n=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si((function(){n((function(){return t.state=2,t.listener.Si()}))})),this.stream.Ci((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))}},{key:"ur",value:function(){var e=this;this.state=4,this.rr.Xi(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"pr",value:function(e){return C("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(3,e)}},{key:"gr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.sr===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,o,a){var s;return Object(g.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)).N=o,s}return Object(v.a)(n,[{key:"Er",value:function(e){return this.nr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:x()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.D?(M(void 0===t||"string"==typeof t),se.fromBase64String(t||"")):(M(void 0===t||t instanceof Uint8Array),se.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?j.UNKNOWN:tn(e.code);return new L(t,e.message||"")}(a);n=new En(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var c=t.documentChange;c.document,c.document.name,c.document.updateTime;var u=Bn(e,c.document.name),l=Nn(c.document.updateTime),f=new Ne({mapValue:{fields:c.document.fields}}),d=je.newFoundDocument(u,l,f),h=c.targetIds||[],p=c.removedTargetIds||[];n=new An(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var v=Bn(e,g.document),m=g.readTime?Nn(g.readTime):X.min(),y=je.newNoDocument(v,m),b=g.removedTargetIds||[];n=new An([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var A=t.documentRemove;A.document;var _=Bn(e,A.document),E=A.removedTargetIds||[];n=new An([],E,_,null)}else{if(!("filter"in t))return x();t.filter;var w=t.filter;w.targetId;var I=w.count||0,S=new $t(I),k=w.targetId;n=new _n(k,S)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?Nn(t.readTime):X.min()}(e);return this.listener.Tr(t,n)}},{key:"Ir",value:function(e){var t={};t.database=Fn(this.N),t.addTarget=function(e,t){var n,r=t.target;return(n=Fe(r)?{documents:qn(e,r)}:{query:Wn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xn(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=Rn(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return x()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.wr(t)}},{key:"Ar",value:function(e){var t={};t.database=Fn(this.N),t.removeTarget=e,this.wr(t)}}]),n}(Ho),Wo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,o,a){var s;return Object(g.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",r,i,a)).N=o,s.Rr=!1,s}return Object(v.a)(n,[{key:"Pr",get:function(){return this.Rr}},{key:"start",value:function(){this.Rr=!1,this.lastStreamToken=void 0,Object(i.a)(Object(o.a)(n.prototype),"start",this).call(this)}},{key:"mr",value:function(){this.Rr&&this.br([])}},{key:"Er",value:function(e){return this.nr.ji("Write",e)}},{key:"onMessage",value:function(e){if(M(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(M(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Nn(e.updateTime):Nn(t);return n.isEqual(X.min())&&(n=Nn(t)),new jt(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Nn(e.commitTime);return this.listener.vr(n,t)}return M(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}},{key:"Sr",value:function(){var e={};e.database=Fn(this.N),this.wr(e)}},{key:"br",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gn(t.N,e)}))};this.wr(n)}}]),n}(Ho),Yo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).credentials=e,o.nr=r,o.N=i,o.Dr=!1,o}return Object(v.a)(n,[{key:"Cr",value:function(){if(this.Dr)throw new L(j.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Li(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(j.UNKNOWN,e.toString())}))}},{key:"Ki",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Ki(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(j.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Dr=!0}}]),n}(function(){return function e(){Object(g.a)(this,e)}}()),Jo=function(){function e(t,n){Object(g.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}return Object(v.a)(e,[{key:"Or",value:function(){var e=this;0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.kr=null,e.Mr("Backend didn't respond within 10 seconds."),e.Fr("Offline"),Promise.resolve()})))}},{key:"Lr",value:function(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Fr("Offline")))}},{key:"set",value:function(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}},{key:"Fr",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Mr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.$r?(O(t),this.$r=!1):C("OnlineStateTracker",t)}},{key:"Br",value:function(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}]),e}(),Xo=function e(t,n,r,i,o){var a=this;Object(g.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=o,this.Qr.Ei((function(e){r.enqueueAndForget(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ca(a),!e.t0){e.next=5;break}return C("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).Kr.add(4),e.next=4,ea(n);case 4:return n.Wr.set("Unknown"),n.Kr.delete(4),e.next=8,Zo(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this.Wr=new Jo(r,i)};function Zo(e){return $o.apply(this,arguments)}function $o(){return($o=Object(l.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ca(t)){e.next=18;break}n=Object(s.a)(t.jr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(l.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(s.a)(t.jr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function na(e,t){var n=D(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),sa(n)?aa(n):ja(n).cr()&&ia(n,t))}function ra(e,t){var n=D(e),r=ja(n);n.qr.delete(t),r.cr()&&oa(n,t),0===n.qr.size&&(r.cr()?r.lr():ca(n)&&n.Wr.set("Unknown"))}function ia(e,t){e.Gr.Y(t.targetId),ja(e).Ir(t)}function oa(e,t){e.Gr.Y(t),ja(e).Ar(t)}function aa(e){e.Gr=new In({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.qr.get(t)||null}}),ja(e).start(),e.Wr.Or()}function sa(e){return ca(e)&&!ja(e).ar()&&e.qr.size>0}function ca(e){return 0===D(e).Kr.size}function ua(e){e.Gr=void 0}function la(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qr.forEach((function(e,n){ia(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ua(t),sa(t)?(t.Wr.Lr(n),aa(t)):t.Wr.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t,n){return ga.apply(this,arguments)}function ga(){return(ga=Object(l.a)(u.a.mark((function e(t,n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Wr.set("Online"),!(n instanceof En&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(s.a)(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.qr.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.qr.delete(a),t.Gr.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),C("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,va(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof An?t.Gr.rt(n):n instanceof _n?t.Gr.ft(n):t.Gr.ct(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,eo(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Gr._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qr.get(t);if(n){e.qr.set(t,n.withResumeToken(se.EMPTY_BYTE_STRING,n.snapshotVersion)),oa(e,t);var r=new Kr(n.target,t,1,n.sequenceNumber);ia(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),C("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,va(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function va(e,t,n){return ma.apply(this,arguments)}function ma(){return(ma=Object(l.a)(u.a.mark((function e(t,n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jr(n)){e.next=2;break}throw n;case 2:return t.Kr.add(1),e.next=5,ea(t);case 5:t.Wr.set("Offline"),r||(r=function(){return eo(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Kr.delete(1),e.next=6,Zo(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return t().catch((function(n){return va(e,n,t)}))}function ba(e){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(l.a)(u.a.mark((function e(t){var n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=D(t),r=La(n),i=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;case 2:if(!_a(n)){e.next=19;break}return e.prev=3,e.next=6,ro(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.Ur.length&&r.lr(),e.abrupt("break",19);case 10:i=o.batchId,Ea(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,va(n,e.t0);case 17:e.next=2;break;case 19:wa(n)&&Ia(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function _a(e){return ca(e)&&e.Ur.length<10}function Ea(e,t){e.Ur.push(t);var n=La(e);n.cr()&&n.Pr&&n.br(t.mutations)}function wa(e){return ca(e)&&!La(e).ar()&&e.Ur.length>0}function Ia(e){La(e).start()}function Sa(e){return ka.apply(this,arguments)}function ka(){return(ka=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:La(t).Sr();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(l.a)(u.a.mark((function e(t){var n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=La(t),r=Object(s.a)(t.Ur);try{for(r.s();!(i=r.n()).done;)o=i.value,n.br(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t,n){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(l.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Ur.shift(),o=Vr.from(i,n,r),e.next=3,ya(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,ba(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&La(t).Pr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!en(i=n.code)||i===j.ABORTED){e.next=7;break}return r=t.Ur.shift(),La(t).hr(),e.next=5,ya(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ba(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wa(t)&&Ia(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e,t){return Da.apply(this,arguments)}function Da(){return(Da=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),!n){e.next=7;break}return r.Kr.delete(2),e.next=5,Zo(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Kr.add(2),e.next=12,ea(r);case 12:r.Wr.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e){return e.zr||(e.zr=function(e,t,n){var r=D(e);return r.Cr(),new qo(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:la.bind(null,e),Ci:da.bind(null,e),Tr:pa.bind(null,e)}),e.jr.push(function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zr.hr(),sa(e)?aa(e):e.Wr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zr.stop();case 6:ua(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zr}function La(e){return e.Hr||(e.Hr=function(e,t,n){var r=D(e);return r.Cr(),new Wo(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Sa.bind(null,e),Ci:xa.bind(null,e),Vr:Ca.bind(null,e),vr:Ta.bind(null,e)}),e.jr.push(function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Hr.hr(),t.next=4,ba(e);case 4:t.next=9;break;case 6:return t.next=8,e.Hr.stop();case 8:e.Ur.length>0&&(C("RemoteStore","Stopping write stream with ".concat(e.Ur.length," pending writes")),e.Ur=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Hr}var Ba=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(v.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function Pa(e,t){if(O("AsyncQueue","".concat(t,": ").concat(e)),jr(e))return new L(j.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ua=function(){function e(t){Object(g.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ye.comparator(e.key,n.key)}:function(e,t){return ye.comparator(e.key,t.key)},this.keyedMap=fn(),this.sortedSet=new nn(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fa=function(){function e(){Object(g.a)(this,e),this.Jr=new nn(ye.comparator)}return Object(v.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):x():this.Jr=this.Jr.insert(t,e)}},{key:"Yr",value:function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Qa=function(){function e(t,n,r,i,o,a,s,c){Object(g.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=c}return Object(v.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ua.emptySet(n),o,r,i,!0,!1)}}]),e}(),za=function e(){Object(g.a)(this,e),this.Xr=void 0,this.listeners=[]},Va=function e(){Object(g.a)(this,e),this.queries=new xi((function(e){return pt(e)}),ht),this.onlineState="Unknown",this.Zr=new Set};function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new za),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Xr=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Pa(e.t0,"Initialization of query '".concat(gt(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.eo(r.onlineState),a.Xr&&n.no(a.Xr)&&Ja(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ha(e,t){return qa.apply(this,arguments)}function qa(){return(qa=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e,t){var n,r=D(e),i=!1,o=Object(s.a)(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,c=a.query,u=r.queries.get(c);if(u){var l,f=Object(s.a)(u.listeners);try{for(f.s();!(l=f.n()).done;){l.value.no(a)&&(i=!0)}}catch(d){f.e(d)}finally{f.f()}u.Xr=a}}}catch(d){o.e(d)}finally{o.f()}i&&Ja(r)}function Ya(e,t,n){var r=D(e),i=r.queries.get(t);if(i){var o,a=Object(s.a)(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(c){a.e(c)}finally{a.f()}}r.queries.delete(t)}function Ja(e){e.Zr.forEach((function(e){e.next()}))}var Xa=function(){function e(t,n,r){Object(g.a)(this,e),this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}return Object(v.a)(e,[{key:"no",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(s.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new Qa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.ao(e,this.onlineState)&&(this.co(e),o=!0),this.ro=e,o}},{key:"onError",value:function(e){this.so.error(e)}},{key:"eo",value:function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}},{key:"ao",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"oo",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"co",value:function(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}]),e}(),Za=function(){function e(t,n){Object(g.a)(this,e),this.payload=t,this.byteLength=n}return Object(v.a)(e,[{key:"ho",value:function(){return"metadata"in this.payload}}]),e}(),$a=function(){function e(t){Object(g.a)(this,e),this.N=t}return Object(v.a)(e,[{key:"zn",value:function(e){return Bn(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?Vn(this.N,e.document,!1):je.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return Nn(e)}}]),e}(),es=function(){function e(t,n,r){Object(g.a)(this,e),this.lo=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=ts(t)}return Object(v.a)(e,[{key:"fo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"wo",value:function(e){var t,n=new Map,r=new $a(this.N),i=Object(s.a)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,c=r.zn(o.metadata.name),u=Object(s.a)(o.metadata.queries);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=(n.get(l)||gn()).add(c);n.set(l,f)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(this.localStore,new $a(this.N),this.documents,this.lo.id);case 2:t=e.sent,n=this.wo(this.documents),r=Object(s.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,go(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Gi(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ts(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ns=function e(t){Object(g.a)(this,e),this.key=t},rs=function e(t){Object(g.a)(this,e),this.key=t},is=function(){function e(t,n){Object(g.a)(this,e),this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=gn(),this.mutatedKeys=gn(),this.po=mt(t),this.Eo=new Ua(this.po)}return Object(v.a)(e,[{key:"To",get:function(){return this._o}},{key:"Io",value:function(e,t){var n=this,r=t?t.Ao:new Fa,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,c=ot(this.query)&&i.size===this.query.limit?i.last():null,u=at(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=vt(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(c&&n.po(f,c)>0||u&&n.po(f,u)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(s=!0)),p&&(f?(a=a.add(f),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ot(this.query)||at(this.query))for(;a.size>this.query.limit;){var l=ot(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Ln:s,mutatedKeys:o}}},{key:"Ro",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return x()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.Po(n);var a=t?this.bo():[],s=0===this.yo.size&&this.current?1:0,c=s!==this.mo;return this.mo=s,0!==o.length||c?{snapshot:new Qa(this.query,e.Eo,i,o,e.mutatedKeys,0===s,c,!1),vo:a}:{vo:a}}},{key:"eo",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Fa,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}},{key:"Vo",value:function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}},{key:"Po",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)}},{key:"bo",value:function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=gn(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new rs(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new ns(e))})),n}},{key:"So",value:function(e){this._o=e.Gn,this.yo=gn();var t=this.Io(e.documents);return this.applyChanges(t,!0)}},{key:"Do",value:function(){return Qa.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}]),e}(),os=function e(t,n,r){Object(g.a)(this,e),this.query=t,this.targetId=n,this.view=r},as=function e(t){Object(g.a)(this,e),this.key=t,this.Co=!1},ss=function(){function e(t,n,r,i,o,a){Object(g.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.No={},this.xo=new xi((function(e){return pt(e)}),ht),this.ko=new Map,this.$o=new Set,this.Oo=new nn(ye.comparator),this.Fo=new Map,this.Mo=new yo,this.Lo={},this.Bo=new Map,this.Uo=yi.ie(),this.onlineState="Unknown",this.qo=void 0}return Object(v.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.qo}}]),e}();function cs(e,t){return us.apply(this,arguments)}function us(){return(us=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tc(t),!(a=r.xo.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.Do(),e.next=15;break;case 6:return e.next=8,io(r.localStore,ft(n));case 8:return s=e.sent,c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,ls(r,n,i,"current"===c);case 13:o=e.sent,r.isPrimaryClient&&na(r.remoteStore,s);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t,n,r){return fs.apply(this,arguments)}function fs(){return(fs=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a,s,c,f,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ko=function(e,n,r){return function(){var e=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Io(r),e.t0=o.Ln,!e.t0){e.next=6;break}return e.next=5,so(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Io(t,o)}));case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(xs(t,n.targetId,s.vo),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,so(t.localStore,n,!0);case 3:return o=e.sent,a=new is(n,o.Gn),s=a.Io(o.documents),c=bn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=a.applyChanges(s,t.isPrimaryClient,c),xs(t,r,f.vo),d=new os(n,r,a),e.abrupt("return",(t.xo.set(n,d),t.ko.has(r)?t.ko.get(r).push(n):t.ko.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t){return hs.apply(this,arguments)}function hs(){return(hs=Object(l.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=r.xo.get(n),!((o=r.ko.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ko.set(i.targetId,o.filter((function(e){return!ht(e,n)}))),void r.xo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,oo(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ra(r.remoteStore,i.targetId),Ts(r,i.targetId)})).catch(wi);case 9:e.next=14;break;case 11:return Ts(r,i.targetId),e.next=14,oo(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n){return gs.apply(this,arguments)}function gs(){return(gs=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nc(t),e.prev=1,e.next=4,function(e,t){var n,r=D(e),i=J.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Qn.bn(e,o).next((function(o){n=o;var a,c=[],u=Object(s.a)(t);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=Qt(l,n.get(l.key));null!=f&&c.push(new Gt(l.key,f,De(f.value.mapValue),Lt.exists(!0)))}}catch(d){u.e(d)}finally{u.f()}return r.In.addMutationBatch(e,i,c,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new nn(q)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,Ds(i,o.changes);case 9:return e.next=11,ba(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=Pa(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,to(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Fo.get(t);n&&(M(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Co=!0:e.modifiedDocuments.size>0?M(n.Co):e.removedDocuments.size>0&&(M(n.Co),n.Co=!1))})),e.next=8,Ds(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wi(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function ys(e,t,n){var r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.xo.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=D(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=Object(s.a)(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.eo(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&Ja(n)}(r.eventManager,t),i.length&&r.No.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bs(e,t,n){return As.apply(this,arguments)}function As(){return(As=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=D(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.Fo.get(n),!(a=o&&o.key)){e.next=14;break}return s=(s=new nn(ye.comparator)).insert(a,je.newNoDocument(a,X.min())),c=gn().add(a),l=new yn(X.min(),new Map,new an(q),s,c),e.next=9,vs(i,l);case 9:i.Oo=i.Oo.remove(a),i.Fo.delete(n),Ns(i),e.next=16;break;case 14:return e.next=16,oo(i.localStore,n,!1).then((function(){return Ts(i,n,r)})).catch(wi);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e,t){return Es.apply(this,arguments)}function Es(){return(Es=Object(l.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=n.batch.batchId,e.prev=1,e.next=4,$i(r.localStore,n);case 4:return o=e.sent,Os(r,i,null),Cs(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ds(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ws(e,t,n){return Is.apply(this,arguments)}function Is(){return(Is=Object(l.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(t),e.prev=1,e.next=4,function(e,t){var n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.In.lookupMutationBatch(e,t).next((function(t){return M(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.bn(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,Os(i,n,r),Cs(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ds(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ss(e,t){return ks.apply(this,arguments)}function ks(){return(ks=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca((r=D(t)).remoteStore)||C("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=D(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.In.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.Bo.get(i)||[]).push(n),r.Bo.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=Pa(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Cs(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function Os(e,t,n){var r=D(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Ts(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(s.a)(e.ko.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.xo.delete(o),n&&e.No.jo(o,n)}}catch(a){i.e(a)}finally{i.f()}e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((function(t){e.Mo.containsKey(t)||Rs(e,t)}))}function Rs(e,t){e.$o.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(ra(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Ns(e))}function xs(e,t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof ns?(e.Mo.addReference(o.key,t),Ms(e,o)):o instanceof rs?(C("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||Rs(e,o.key)):x()}}catch(a){i.e(a)}finally{i.f()}}function Ms(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(C("SyncEngine","New document in limbo: "+n),e.$o.add(r),Ns(e))}function Ns(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.$o.values().next().value;e.$o.delete(t);var n=new ye(ne.fromString(t)),r=e.Uo.next();e.Fo.set(r,new as(n)),e.Oo=e.Oo.insert(n,r),na(e.remoteStore,new Kr(ft(it(n.path)),r,2,K.T))}}function Ds(e,t,n){return js.apply(this,arguments)}function js(){return(js=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),o=[],a=[],c=[],e.t0=i.xo.isEmpty(),e.t0){e.next=9;break}return i.xo.forEach((function(e,t){c.push(i.Ko(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=qi.kn(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.No.Tr(o),e.next=9,function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,c,l,f,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rr.forEach(n,(function(t){return Rr.forEach(t.Nn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Rr.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),jr(e.t0)){e.next=10;break}throw e.t0;case 10:C("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(s.a)(n);try{for(i.s();!(o=i.n()).done;)a=o.value,c=a.targetId,a.fromCache||(l=r.Un.get(c),f=l.snapshotVersion,d=l.withLastLimboFreeSnapshotVersion(f),r.Un=r.Un.insert(c,d))}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=D(t)).currentUser.isEqual(n)){e.next=11;break}return C("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xi(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new L(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ds(r,i.Wn);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t){var n=D(e),r=n.Fo.get(t);if(r&&r.Co)return gn().add(r.key);var i=gn(),o=n.ko.get(t);if(!o)return i;var a,c=Object(s.a)(o);try{for(c.s();!(a=c.n()).done;){var u=a.value,l=n.xo.get(u);i=i.unionWith(l.view.To)}}catch(f){c.e(f)}finally{c.f()}return i}function Us(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=Object(l.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,so(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.So(i),e.abrupt("return",(r.isPrimaryClient&&xs(r,n.targetId,o.vo),o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e){return zs.apply(this,arguments)}function zs(){return(zs=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.abrupt("return",uo(n.localStore).then((function(e){return Ds(n,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t,n,r){return Ks.apply(this,arguments)}function Ks(){return(Ks=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=D(t),e.next=3,function(e,t){var n=D(e),r=D(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Xt(e,t).next((function(t){return t?n.Qn.bn(e,t):Rr.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ba(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Os(o,n,i||null),Cs(o,n),function(e,t){D(D(e).In).te(t)}(o.localStore,n)):x();case 11:return e.next=13,Ds(o,a);case 13:e.next=16;break;case 15:C("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Hs.apply(this,arguments)}function Hs(){return(Hs=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,c,l,f,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tc(r=D(t)),nc(r),!0!==n||!0===r.qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,qs(r,i.toArray());case 5:return o=e.sent,r.qo=!0,e.next=9,Na(r.remoteStore,!0);case 9:a=Object(s.a)(o);try{for(a.s();!(c=a.n()).done;)l=c.value,na(r.remoteStore,l)}catch(u){a.e(u)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.qo){e.next=25;break}return f=[],d=Promise.resolve(),r.ko.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):d=d.then((function(){return Ts(r,t),oo(r.localStore,t,!0)})),ra(r.remoteStore,t)})),e.next=19,d;case 19:return e.next=21,qs(r,f);case 21:return function(e){var t=D(e);t.Fo.forEach((function(e,n){ra(t.remoteStore,n)})),t.Mo.us(),t.Fo=new Map,t.Oo=new nn(ye.comparator)}(r),r.qo=!1,e.next=25,Na(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e,t,n){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,c,l,f,d,h,p,g,v,m,y,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=D(t),o=[],a=[],c=Object(s.a)(n),e.prev=2,c.s();case 4:if((l=c.n()).done){e.next=45;break}if(f=l.value,d=void 0,!(h=i.ko.get(f))||0===h.length){e.next=34;break}return e.next=11,io(i.localStore,ft(h[0]));case 11:d=e.sent,p=Object(s.a)(h),e.prev=13,p.s();case 15:if((g=p.n()).done){e.next=24;break}return v=g.value,m=i.xo.get(v),e.next=20,Us(i,m);case 20:(y=e.sent).snapshot&&a.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,co(i.localStore,f);case 36:return b=e.sent,e.next=39,io(i.localStore,b);case 39:return d=e.sent,e.next=42,ls(i,Ys(b),f,!1);case 42:o.push(d);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),c.e(e.t1);case 50:return e.prev=50,c.f(),e.finish(50);case 53:return e.abrupt("return",(i.No.Tr(a),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function Ys(e){return rt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Js(e){var t=D(e);return D(D(t.localStore).persistence).pn()}function Xs(e,t,n,r){return Zs.apply(this,arguments)}function Zs(){return(Zs=Object(l.a)(u.a.mark((function e(t,n,r,i){var o,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=D(t)).qo){e.next=5;break}C("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!o.ko.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,uo(o.localStore);case 11:return a=e.sent,s=yn.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Ds(o,a,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,oo(o.localStore,n,!0);case 18:return Ts(o,n,i),e.abrupt("break",21);case 20:x();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,c,l,f,d,h,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tc(t)).qo){e.next=45;break}o=Object(s.a)(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(c=a.value,!i.ko.has(c)){e.next=10;break}return C("SyncEngine","Adding an already active target "+c),e.abrupt("continue",19);case 10:return e.next=12,co(i.localStore,c);case 12:return l=e.sent,e.next=15,io(i.localStore,l);case 15:return f=e.sent,e.next=18,ls(i,Ys(l),f.targetId,!1);case 18:na(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:d=Object(s.a)(r),e.prev=30,p=u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ko.has(t),!e.t0){e.next=5;break}return e.next=5,oo(i.localStore,t,!1).then((function(){ra(i.remoteStore,t),Ts(i,t)})).catch(wi);case 5:case"end":return e.stop()}}),e)})),d.s();case 33:if((h=d.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),d.e(e.t2);case 42:return e.prev=42,d.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function tc(e){var t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ps.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bs.bind(null,t),t.No.Tr=Wa.bind(null,t.eventManager),t.No.jo=Ya.bind(null,t.eventManager),t}function nc(e){var t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_s.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ws.bind(null,t),t}function rc(e,t,n){var r=D(e);(function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=D(e),r=Nn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Je.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(ts(i)),o=new es(i,t.localStore,n.N),e.next=14,n.Qo();case 14:a=e.sent;case 15:if(!a){e.next=25;break}return e.next=18,o.fo(a);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Qo();case 22:a=e.sent;case 23:e.next=15;break;case 25:return e.next=27,o.complete();case 27:return c=e.sent,e.next=30,Ds(t,c.Tn,void 0);case 30:return e.next=32,function(e,t){var n=D(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Je.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(c.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),T("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ic=function(){function e(){Object(g.a)(this,e),this.synchronizeTabs=!1}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.N=Ko(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.zo(t),this.localStore=this.Ho(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"zo",value:function(e){return null}},{key:"Ho",value:function(e){return Ji(this.persistence,new Wi,e.initialUser,this.N)}},{key:"Go",value:function(e){return new Io(ko.Ns,this.N)}},{key:"Wo",value:function(e){return new Lo}},{key:"terminate",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oc=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).Jo=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(o.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,lo(this.localStore);case 4:return e.next=6,this.Jo.initialize(this,t);case 6:return e.next=8,nc(this.Jo.syncEngine);case 8:return e.next=10,ba(this.Jo.remoteStore);case 10:return e.next=12,this.persistence.nn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ho",value:function(e){return Ji(this.persistence,new Wi,e.initialUser,this.N)}},{key:"zo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ci(t,e.asyncQueue)}},{key:"Go",value:function(e){var t=Ki(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new Qi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,zo(),Vo(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Wo",value:function(e){return new Lo}}]),n}(ic),ac=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e,r,!1)).Jo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(o.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Jo.syncEngine,e.t0=this.sharedClientState instanceof jo,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={_i:Vs.bind(null,r),mi:Xs.bind(null,r),gi:$s.bind(null,r),pn:Js.bind(null,r),wi:Qs.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.nn(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(a.Jo.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):t||a.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wo",value:function(e){var t=zo();if(!jo.Pt(t))throw new L(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ki(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jo(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(oc),sc=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ys(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ls.bind(null,this.syncEngine),e.next=12,Na(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Va}},{key:"createDatastore",value:function(e){var t,n=Ko(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Qo(t));return function(e,t,n){return new Yo(e,t,n)}(e.credentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ys(a.syncEngine,e,0)},o=Po.Pt()?new Po:new Bo,new Xo(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new ss(e,t,n,r,i,o);return a&&(s.qo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),C("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),e.next=5,ea(n);case 5:n.Qr.shutdown(),n.Wr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(u.a.mark((function r(){var i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var uc=function(){function e(t){Object(g.a)(this,e),this.observer=t,this.muted=!1}return Object(v.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Yo(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Xo",value:function(){this.muted=!0}},{key:"Yo",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lc=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.Zo=t,this.N=n,this.metadata=new B,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((function(e){e&&e.ho()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(v.a)(e,[{key:"close",value:function(){return this.Zo.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ta.decode(t),r=Number(n),isNaN(r)&&this.sa("length string (".concat(n,") is not valid number")),e.next=9,this.ia(r);case 9:return i=e.sent,e.abrupt("return",new Za(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"na",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ra()<0)){e.next=7;break}return e.next=3,this.oa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ra())<0&&this.sa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.oa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.sa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"oa",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Zo.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fc=function(){function e(t){Object(g.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(v.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=Fn(r.N)+"/documents",o={documents:n.map((function(e){return Ln(r.N,e)}))},e.next=5,r.Ki("BatchGetDocuments",i,o);case 5:return a=e.sent,s=new Map,a.forEach((function(e){var t=Kn(r.N,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());M(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Xt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ye.fromPath(t);n.mutations.push(new Zt(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=Fn(r.N)+"/documents",o={writes:n.map((function(e){return Gn(r.N,e)}))},e.next=3,r.Li("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw x();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lt.updateTime(t):Lt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new L(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(t)}return Lt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),dc=function(){function e(t,n,r,i){Object(g.a)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.aa=5,this.rr=new Go(this.asyncQueue,"transaction_retry")}return Object(v.a)(e,[{key:"run",value:function(){this.aa-=1,this.ca()}},{key:"ca",value:function(){var e=this;this.rr.Xi(Object(l.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fc(e.datastore),(r=e.ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ha(t)}))}))})).catch((function(t){e.ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ua",value:function(e){try{var t=this.updateFunction(e);return!ge(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ha",value:function(e){var t=this;this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget((function(){return t.ca(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"la",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!en(t)}return!1}}]),e}(),hc=function(){function e(t,n,r){var i=this;Object(g.a)(this,e),this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=H.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("FirestoreClient","Received user=",t.uid),e.next=3,i.credentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(v.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(j.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Pa(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),t.promise}}]),e}();function pc(e,t){return gc.apply(this,arguments)}function gc(){return(gc=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xi(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yc(t);case 3:return r=e.sent,C("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=D(t)).asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials"),i=ca(r),r.Kr.add(3),e.next=6,ea(r);case 6:return i&&r.Wr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Kr.delete(3),e.next=12,Zo(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e){return bc.apply(this,arguments)}function bc(){return(bc=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return C("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,pc(t,new ic);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e){return _c.apply(this,arguments)}function _c(){return(_c=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return C("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,vc(t,new sc);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e){return yc(e).then((function(e){return e.persistence}))}function wc(e){return yc(e).then((function(e){return e.localStore}))}function Ic(e){return Ac(e).then((function(e){return e.remoteStore}))}function Sc(e){return Ac(e).then((function(e){return e.syncEngine}))}function kc(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=cs.bind(null,n.syncEngine),r.onUnlisten=ds.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new uc({next:function(o){t.enqueueAndForget((function(){return Ha(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new L(j.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new L(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Xa(it(n.path),o,{includeMetadataChanges:!0,uo:!0});return Ka(e,a)},i.next=3,kc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new uc({next:function(n){t.enqueueAndForget((function(){return Ha(e,a)})),n.fromCache&&"server"===r.source?i.reject(new L(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Xa(n,o,{includeMetadataChanges:!0,uo:!0});return Ka(e,a)},i.next=3,kc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Rc=function e(t,n,r,i,o,a,s,c){Object(g.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=c},xc=function(){function e(t,n){Object(g.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(v.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Mc=new Map;function Nc(e,t,n){if(!n)throw new L(j.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dc(e,t,n,r){if(!0===t&&!0===r)throw new L(j.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function jc(e){if(!ye.isDocumentKey(e))throw new L(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lc(e){if(ye.isDocumentKey(e))throw new L(j.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":x()}function Pc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bc(e);throw new L(j.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Uc(e,t){if(t<=0)throw new L(j.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Fc=function(){function e(t){var n;if(Object(g.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Dc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Qc=function(){function e(t,n){Object(g.a)(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fc({}),this._settingsFrozen=!1,t instanceof xc?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(e.options.projectId)}(t))}return Object(v.a)(e,[{key:"app",get:function(){if(!this._app)throw new L(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fc(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return M(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new V(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(j.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Mc.get(e);t&&(C("ComponentProvider","Removing Datastore"),Mc.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zc(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=Pc(e,Qc))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&T("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,s;if("string"==typeof i.mockUserToken)a=i.mockUserToken,s=E.MOCK_USER;else{a=Object(A.f)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new L(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new E(c)}e._credentials=new F(new P(a,s))}}var Vc=function(){function e(t,n,r){Object(g.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(v.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Kc=function(){function e(t,n,r){Object(g.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gc=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this,e,r,it(i)))._path=i,o.type="collection",o}return Object(v.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Vc(this.firestore,null,new ye(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Kc);function Hc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(A.k)(e),Nc("collection","path",t),e instanceof Qc){var o=ne.fromString.apply(ne,[t].concat(r));return Lc(o),new Gc(e,null,o)}if(!(e instanceof Vc||e instanceof Gc))throw new L(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=ne.fromString.apply(ne,[e.path].concat(r)).child(ne.fromString(t));return Lc(a),new Gc(e.firestore,null,a)}function qc(e,t){if(e=Pc(e,Qc),Nc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(j.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Kc(e,null,function(e){return new nt(ne.emptyPath(),e)}(t))}function Wc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(A.k)(e),1===arguments.length&&(t=H.I()),Nc("doc","path",t),e instanceof Qc){var o=ne.fromString.apply(ne,[t].concat(r));return jc(o),new Vc(e,null,new ye(o))}if(!(e instanceof Vc||e instanceof Gc))throw new L(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(ne.fromString.apply(ne,[t].concat(r)));return jc(a),new Vc(e.firestore,e instanceof Gc?e.converter:null,new ye(a))}function Yc(e,t){return e=Object(A.k)(e),t=Object(A.k)(t),(e instanceof Vc||e instanceof Gc)&&(t instanceof Vc||t instanceof Gc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Jc(e,t){return e=Object(A.k)(e),t=Object(A.k)(t),e instanceof Kc&&t instanceof Kc&&e.firestore===t.firestore&&ht(e._query,t._query)&&e.converter===t.converter}var Xc=function(){function e(){var t=this;Object(g.a)(this,e),this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Go(this,"async_queue_retry"),this.Ea=function(){var e=Vo();e&&C("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.tr()};var n=Vo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}return Object(v.a)(e,[{key:"isShuttingDown",get:function(){return this.wa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ta(),this.Ia(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.wa){this.wa=!0,this.ya=e||!1;var t=Vo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ta(),this.wa)return new Promise((function(){}));var n=new B;return this.Ia((function(){return t.wa&&t.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.da.push(e),t.Aa()}))}},{key:"Aa",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.da.length){e.next=14;break}return e.prev=1,e.next=4,this.da[0]();case 4:this.da.shift(),this.rr.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),jr(e.t0)){e.next=12;break}throw e.t0;case 12:C("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.da.length>0&&this.rr.Xi((function(){return t.Aa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){var t=this,n=this.fa.then((function(){return t.ga=!0,e().catch((function(e){throw t.ma=e,t.ga=!1,O("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.ga=!1,e}))}));return this.fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ta(),this.pa.indexOf(e)>-1&&(t=0);var i=Ba.createAndSchedule(this,e,t,n,(function(e){return r.Ra(e)}));return this._a.push(i),i}},{key:"Ta",value:function(){this.ma&&x()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Pa",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fa,e.next=3,t;case 3:if(t!==this.fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t,n=Object(s.a)(this._a);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"va",value:function(e){var t=this;return this.Pa().then((function(){t._a.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(s.a)(t._a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.Pa()}))}},{key:"Va",value:function(e){this.pa.push(e)}},{key:"Ra",value:function(e){var t=this._a.indexOf(e);this._a.splice(t,1)}}]),e}();function Zc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(s.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var $c=function(){function e(){Object(g.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new B,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(v.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),eu=-1,tu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new Xc,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(v.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||ru(this),this._firestoreClient.terminate()}}]),n}(Qc);function nu(e){return e._firestoreClient||ru(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ru(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Rc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hc(e._credentials,e._queue,r)}function iu(e,t){hu(e=Pc(e,tu));var n=nu(e),r=e._freezeSettings(),i=new sc;return au(n,i,new oc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ou(e){hu(e=Pc(e,tu));var t=nu(e),n=e._freezeSettings(),r=new sc;return au(t,r,new ac(r,n.cacheSizeBytes))}function au(e,t,n){var r=new B;return e.asyncQueue.enqueue(Object(l.a)(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pc(e,n);case 3:return i.next=5,vc(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===j.FAILED_PRECONDITION||e.code===j.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function su(e){if(e._initialized&&!e._terminated)throw new L(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new B;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mr.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Mr.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ki(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function cu(e){return function(e){var t=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ss,n.next=3,Sc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nu(e=Pc(e,tu)))}function uu(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ec(e);case 2:return n=t.sent,t.next=5,Ic(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=D(e);return t.Kr.delete(0),Zo(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nu(e=Pc(e,tu)))}function lu(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ec(e);case 2:return n=t.sent,t.next=5,Ic(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).Kr.add(0),e.next=4,ea(n);case 4:n.Wr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nu(e=Pc(e,tu)))}function fu(e,t){var n=nu(e=Pc(e,tu)),r=new $c;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lc(e,t)}(function(e,t){if(e instanceof Uint8Array)return cc(e,t);if(e instanceof ArrayBuffer)return cc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ko(t));e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rc,t.next=3,Sc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function du(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=D(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Je.getNamedQuery(e,t)}))},n.next=3,wc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nu(e=Pc(e,tu)),t).then((function(t){return t?new Kc(e,null,t.query):null}))}function hu(e){if(e._initialized||e._terminated)throw new L(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pu=function(){function e(){Object(g.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(n)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gu=function(){function e(t){Object(g.a)(this,e),this._byteString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(se.fromBase64String(t))}catch(t){throw new L(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(se.fromUint8Array(t))}}]),e}(),vu=function e(t){Object(g.a)(this,e),this._methodName=t},mu=function(){function e(t,n){if(Object(g.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(v.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return q(this._lat,e._lat)||q(this._long,e._long)}}]),e}(),yu=/^__.*__$/,bu=function(){function e(t,n,r){Object(g.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gt(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kt(e,this.data,t,this.fieldTransforms)}}]),e}(),Au=function(){function e(t,n,r){Object(g.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return new Gt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _u(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw x()}}var Eu=function(){function e(t,n,r,i,o,a){Object(g.a)(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Sa(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object(v.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Da",get:function(){return this.settings.Da}},{key:"Ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}},{key:"$a",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}},{key:"Oa",value:function(e){return this.Ca({path:void 0,xa:!0})}},{key:"Fa",value:function(e){return zu(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Sa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ka(this.path.get(e))}},{key:"ka",value:function(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(_u(this.Da)&&yu.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}]),e}(),wu=function(){function e(t,n,r){Object(g.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Ko(t)}return Object(v.a)(e,[{key:"Ba",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Eu({Da:e,methodName:t,La:n,path:ie.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function Iu(e){var t=e._freezeSettings(),n=Ko(e._databaseId);return new wu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Su(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);Pu("Data must be an object, but it was:",a,r);var c,u,l=Lu(r,a);if(o.merge)c=new oe(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var f,d=[],h=Object(s.a)(o.mergeFields);try{for(h.s();!(f=h.n()).done;){var p=f.value,g=Uu(t,p,n);if(!a.contains(g))throw new L(j.INVALID_ARGUMENT,"Field '".concat(g,"' is specified in your field mask but missing from your input data."));Vu(d,g)||d.push(g)}}catch(v){h.e(v)}finally{h.f()}c=new oe(d),u=a.fieldTransforms.filter((function(e){return c.covers(e.field)}))}else c=null,u=a.fieldTransforms;return new bu(new Ne(l),c,u)}var ku=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Da)throw 1===e.Da?e.Fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vu);function Cu(e,t,n){return new Eu({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var Ou=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){return new Dt(e.path,new kt)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vu),Tu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e)).Ua=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Cu(this,e,!0),n=this.Ua.map((function(e){return ju(e,t)})),r=new Ct(n);return new Dt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vu),Ru=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e)).Ua=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Cu(this,e,!0),n=this.Ua.map((function(e){return ju(e,t)})),r=new Tt(n);return new Dt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vu),xu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e)).qa=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new xt(e.N,_t(e.N,this.qa));return new Dt(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vu);function Mu(e,t,n,r){var i=e.Ba(1,t,n);Pu("Data must be an object, but it was:",i,r);var o=[],a=Ne.empty();$(r,(function(e,r){var s=Qu(t,e,n);r=Object(A.k)(r);var c=i.$a(s);if(r instanceof ku)o.push(s);else{var u=ju(r,c);null!=u&&(o.push(s),a.set(s,u))}}));var s=new oe(o);return new Au(a,s,i.fieldTransforms)}function Nu(e,t,n,r,i,o){var a=e.Ba(1,t,n),s=[Uu(t,r,n)],c=[i];if(o.length%2!=0)throw new L(j.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var u=0;u<o.length;u+=2)s.push(Uu(t,o[u])),c.push(o[u+1]);for(var l=[],f=Ne.empty(),d=s.length-1;d>=0;--d)if(!Vu(l,s[d])){var h=s[d],p=c[d];p=Object(A.k)(p);var g=a.$a(h);if(p instanceof ku)l.push(h);else{var v=ju(p,g);null!=v&&(l.push(h),f.set(h,v))}}var m=new oe(l);return new Au(f,m,a.fieldTransforms)}function Du(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ju(n,e.Ba(r?4:3,t))}function ju(e,t){if(Bu(e=Object(A.k)(e)))return Pu("Unsupported field value:",t,e),Lu(e,t);if(e instanceof vu)return function(e,t){if(!_u(t.Da))throw t.Fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=Object(s.a)(e);try{for(o.s();!(n=o.n()).done;){var a=ju(n.value,t.Oa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(c){o.e(c)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(A.k)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _t(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=J.fromDate(e);return{timestampValue:Rn(t.N,n)}}if(e instanceof J){var r=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rn(t.N,r)}}if(e instanceof mu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gu)return{bytesValue:xn(t.N,e._byteString)};if(e instanceof Vc){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.Fa("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa("Unsupported field value: ".concat(Bc(e)))}(e,t)}function Lu(e,t){var n={};return ee(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$(e,(function(e,r){var i=ju(r,t.Na(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof mu||e instanceof gu||e instanceof Vc||e instanceof vu)}function Pu(e,t,n){if(!Bu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Bc(n);throw"an object"===r?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}function Uu(e,t,n){if((t=Object(A.k)(t))instanceof pu)return t._internalPath;if("string"==typeof t)return Qu(e,t);throw zu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Fu=new RegExp("[~\\*/\\[\\]]");function Qu(e,t,n){if(t.search(Fu)>=0)throw zu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(pu,Object(p.a)(t.split(".")))._internalPath}catch(i){throw zu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zu(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(i)),c+=")"),new L(j.INVALID_ARGUMENT,s+e+c)}function Vu(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ku=function(){function e(t,n,r,i,o){Object(g.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object(v.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Vc(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Gu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Gu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(o.a)(n.prototype),"data",this).call(this)}}]),n}(Ku);function Hu(e,t){return"string"==typeof t?Qu(e,t):t instanceof pu?t._internalPath:t._delegate._internalPath}var qu=function(){function e(t,n){Object(g.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,o,a,s){var c;return Object(g.a)(this,n),(c=t.call(this,e,r,i,o,s))._firestore=e,c._firestoreImpl=e,c.metadata=a,c}return Object(v.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(o.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Hu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Ku),Yu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(o.a)(n.prototype),"data",this).call(this,e)}}]),n}(Wu),Ju=function(){function e(t,n,r,i){Object(g.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}return Object(v.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yu(n._firestore,n._userDataWriter,r.key,r,new qu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Yu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Xu(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Xu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return x()}}function Zu(e,t){return e instanceof Wu&&t instanceof Wu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ju&&t instanceof Ju&&e._firestore===t._firestore&&Jc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $u(e){if(at(e)&&0===e.explicitOrderBy.length)throw new L(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var el=function e(){Object(g.a)(this,e)};function tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var nl=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).Ka=e,o.ja=r,o.Qa=i,o.type="where",o}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=Iu(e.firestore),n=function(e,t,n,r,i,o,a){var c;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new L(j.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on FieldPath.documentId()."));if("in"===o||"not-in"===o){ml(a,o);var u,l=[],f=Object(s.a)(a);try{for(f.s();!(u=f.n()).done;){var d=u.value;l.push(vl(r,e,d))}}catch(p){f.e(p)}finally{f.f()}c={arrayValue:{values:l}}}else c=vl(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ml(a,o),c=Du(n,"where",a,"in"===o||"not-in"===o);var h=Qe.create(i,o,c);return function(e,t){if(t.v()){var n=ct(e);if(null!==n&&!n.isEqual(t.field))throw new L(j.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=st(e);null!==r&&yl(e,t.field,r)}var i=function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new L(j.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(j.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Kc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(el);function rl(e,t,n){var r=t,i=Hu("where",e);return new nl(i,r,n)}var il=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this)).Ka=e,i.Wa=r,i.type="orderBy",i}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ze(t,n);return function(e,t){if(null===st(e)){var n=ct(e);null!==n&&yl(e,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Kc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(el);function ol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Hu("orderBy",e);return new il(r,n)}var al=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).type=e,o.Ga=r,o.za=i,o}return Object(v.a)(n,[{key:"_apply",value:function(e){return new Kc(e.firestore,e.converter,dt(e._query,this.Ga,this.za))}}]),n}(el);function sl(e){return Uc("limit",e),new al("limit",e,"F")}function cl(e){return Uc("limitToLast",e),new al("limitToLast",e,"L")}var ul=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).type=e,o.Ha=r,o.Ja=i,o}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=gl(e,this.type,this.Ha,this.Ja);return new Kc(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(el);function ll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ul("startAt",t,!0)}function fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ul("startAfter",t,!1)}var dl=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var o;return Object(g.a)(this,n),(o=t.call(this)).type=e,o.Ha=r,o.Ja=i,o}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=gl(e,this.type,this.Ha,this.Ja);return new Kc(e.firestore,e.converter,function(e,t){return new nt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(el);function hl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dl("endBefore",t,!0)}function pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dl("endAt",t,!1)}function gl(e,t,n,r){if(n[0]=Object(A.k)(n[0]),n[0]instanceof Ku)return function(e,t,n,r,i){if(!r)throw new L(j.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],c=Object(s.a)(lt(e));try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(ke(t,r.key));else{var l=r.data.field(u.field);if(de(l))throw new L(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=u.field.canonicalString();throw new L(j.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}a.push(l)}}}catch(d){c.e(d)}finally{c.f()}return new Je(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Iu(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new L(j.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],c=0;c<i.length;c++){var u=i[c];if(a[c].field.isKeyField()){if("string"!=typeof u)throw new L(j.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof u));if(!ut(e)&&-1!==u.indexOf("/"))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(u,"' contains a slash."));var l=e.path.child(ne.fromString(u));if(!ye.isDocumentKey(l))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ye(l);s.push(ke(t,f))}else{var d=Du(n,r,u);s.push(d)}}return new Je(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function vl(e,t,n){if("string"==typeof(n=Object(A.k)(n))){if(""===n)throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ut(t)&&-1!==n.indexOf("/"))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ne.fromString(n));if(!ye.isDocumentKey(r))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ke(e,new ye(r))}if(n instanceof Vc)return ke(e,n._key);throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bc(n),"."))}function ml(e,t){if(!Array.isArray(e)||0===e.length)throw new L(j.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(j.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function yl(e,t,n){if(!n.isEqual(t))throw new L(j.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bl=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(be(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw x()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return $(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mu(le(e.latitude),le(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=he(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pe(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ue(e);return new J(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ne.fromString(e);M(ar(n));var r=new xc(n.get(1),n.get(3)),i=new ye(n.popFirst(5));return r.isEqual(t)||O("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Al(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _l=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new gu(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vc(this.firestore,null,t)}}]),n}(bl),El=function(){function e(t,n){Object(g.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Iu(t)}return Object(v.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wl(e,this._firestore),i=Al(r.converter,t,n),o=Su(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Lt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wl(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Object(A.k)(t))||t instanceof pu?Nu(this._dataReader,"WriteBatch.update",i._key,t,n,a):Mu(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wl(e,this._firestore);return this._mutations=this._mutations.concat(new Xt(t._key,Lt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wl(e,t){if((e=Object(A.k)(e)).firestore!==t)throw new L(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Il(e){e=Pc(e,Vc);var t=Pc(e.firestore,tu);return Oc(nu(t),e._key).then((function(n){return Pl(t,e,n)}))}var Sl=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new gu(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vc(this.firestore,null,t)}}]),n}(bl);function kl(e){e=Pc(e,Vc);var t=Pc(e.firestore,tu),n=nu(t),r=new Sl(t);return function(e,t){var n=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=D(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Qn.An(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=Pa(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Wu(t,r,e._key,n,new qu(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Cl(e){e=Pc(e,Vc);var t=Pc(e.firestore,tu);return Oc(nu(t),e._key,{source:"server"}).then((function(n){return Pl(t,e,n)}))}function Ol(e){e=Pc(e,Kc);var t=Pc(e.firestore,tu),n=nu(t),r=new Sl(t);return $u(e._query),Tc(n,e._query).then((function(n){return new Ju(t,r,e,n)}))}function Tl(e){e=Pc(e,Kc);var t=Pc(e.firestore,tu),n=nu(t),r=new Sl(t);return function(e,t){var n=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so(t,n,!0);case 3:i=e.sent,o=new is(n,i.Gn),a=o.Io(i.documents),s=o.applyChanges(a,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=Pa(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ju(t,r,e,n)}))}function Rl(e){e=Pc(e,Kc);var t=Pc(e.firestore,tu),n=nu(t),r=new Sl(t);return Tc(n,e._query,{source:"server"}).then((function(n){return new Ju(t,r,e,n)}))}function xl(e,t,n){e=Pc(e,Vc);var r=Pc(e.firestore,tu),i=Al(e.converter,t,n);return Bl(r,[Su(Iu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lt.none())])}function Ml(e,t,n){e=Pc(e,Vc);for(var r=Pc(e.firestore,tu),i=Iu(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return Bl(r,[("string"==typeof(t=Object(A.k)(t))||t instanceof pu?Nu(i,"updateDoc",e._key,t,n,a):Mu(i,"updateDoc",e._key,t)).toMutation(e._key,Lt.exists(!0))])}function Nl(e){return Bl(Pc(e.firestore,tu),[new Xt(e._key,Lt.none())])}function Dl(e,t){var n=Pc(e.firestore,tu),r=Wc(e),i=Al(e.converter,t);return Bl(n,[Su(Iu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lt.exists(!1))]).then((function(){return r}))}function jl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Object(A.k)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Zc(n[c])||(s=n[c],c++);var f,d,h,p={includeMetadataChanges:s.includeMetadataChanges};if(Zc(n[c])){var g=n[c];n[c]=null===(i=g.next)||void 0===i?void 0:i.bind(g),n[c+1]=null===(o=g.error)||void 0===o?void 0:o.bind(g),n[c+2]=null===(a=g.complete)||void 0===a?void 0:a.bind(g)}if(e instanceof Vc)d=Pc(e.firestore,tu),h=it(e._key.path),f={next:function(t){n[c]&&n[c](Pl(d,e,t))},error:n[c+1],complete:n[c+2]};else{var v=Pc(e,Kc);d=Pc(v.firestore,tu),h=v._query;var m=new Sl(d);f={next:function(e){n[c]&&n[c](new Ju(d,m,v,e))},error:n[c+1],complete:n[c+2]},$u(e._query)}return function(e,t,n,r){var i=new uc(r),o=new Xa(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ka,t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Xo(),e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ha,t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nu(d),h,p,f)}function Ll(e,t){return function(e,t){var n=new uc(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).Zr.add(t),t.next()},t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Xo(),e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).Zr.delete(t)},t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nu(e=Pc(e,tu)),Zc(t)?t:{next:t})}function Bl(e,t){return function(e,t){var n=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ps,r.next=3,Sc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nu(e),t)}function Pl(e,t,n){var r=n.docs.get(t._key),i=new Sl(e);return new Wu(e,i,t._key,r,new qu(n.hasPendingWrites,n.fromCache),t.converter)}var Ul,Fl=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(g.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(v.a)(n,[{key:"get",value:function(e){var t=this,r=wl(e,this._firestore),a=new Sl(this._firestore);return Object(i.a)(Object(o.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Wu(t._firestore,a,r._key,e._document,new qu(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(g.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Iu(t)}return Object(v.a)(e,[{key:"get",value:function(e){var t=this,n=wl(e,this._firestore),r=new _l(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return x();var i=e[0];if(i.isFoundDocument())return new Ku(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ku(t._firestore,r,n._key,null,n.converter);throw x()}))}},{key:"set",value:function(e,t,n){var r=wl(e,this._firestore),i=Al(r.converter,t,n),o=Su(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=wl(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Object(A.k)(t))||t instanceof pu?Nu(this._dataReader,"Transaction.update",i._key,t,n,a):Mu(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wl(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ql(e,t){return function(e,t){var n=new B;return e.asyncQueue.enqueueAndForget(Object(l.a)(u.a.mark((function r(){var i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Ac(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new dc(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(nu(e),(function(n){return t(new Fl(e,n))}))}function zl(){return new ku("deleteField")}function Vl(){return new Ou("serverTimestamp")}function Kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tu("arrayUnion",t)}function Gl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ru("arrayRemove",t)}function Hl(e){return new xu("increment",e)}Ul=m.SDK_VERSION,w=Ul,Object(m._registerComponent)(new y.a("firestore",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=new tu(r,new Q(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),i._setSettings(n),i}),"PUBLIC")),Object(m.registerVersion)("@firebase/firestore","3.0.0",undefined)}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(88);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(111);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(38),i=n(165);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(60);function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(a.a)(e):t}function c(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(35);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(162);var i=n(88),o=n(163);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r,a=new(n(382)),s=a.getBrowser(),c=(a.getCPU(),a.getDevice()),u=a.getEngine(),l=a.getOS(),f=a.getUA(),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},h=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},p=function(e){var t=h();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I="mobile",S="tablet",k="smarttv",C="console",O="wearable",T=void 0,R={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},x={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},M={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},N=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:d(t.vendor),model:d(t.model),os:d(n.name),osVersion:d(n.version),ua:d(r)})},D=function(e){switch(e){case I:return{isMobile:!0};case S:return{isTablet:!0};case k:return{isSmartTV:!0};case C:return{isConsole:!0};case O:return{isWearable:!0};case T:return{isBrowser:!0};default:return M}}(c.type);var j=function(){return"string"===typeof f&&-1!==f.indexOf("Edg/")},L=function(){return c.type===T},B=function(){return s.name===R.Edge},P=function(){return p("iPad")},U=c.type===k,F=c.type===C,Q=c.type===O,z=s.name===R.MobileSafari||P(),V=s.name===R.Chromium,K=function(){switch(c.type){case I:case S:return!0;default:return!1}}()||P(),G=c.type===I,H=c.type===S||P(),q=L(),W=L(),Y=l.name===x.Android,J=l.name===x.WindowsPhone,X=l.name===x.IOS||P(),Z=s.name===R.Chrome,$=s.name===R.Firefox,ee=s.name===R.Safari||s.name===R.MobileSafari,te=s.name===R.Opera,ne=s.name===R.InternetExplorer||s.name===R.Ie,re=d(l.version),ie=d(l.name),oe=d(s.version),ae=d(s.major),se=d(s.name),ce=d(c.vendor),ue=d(c.model),le=d(u.name),fe=d(u.version),de=d(f),he=B()||j(),pe=s.name===R.Yandex,ge=d(c.type,"browser"),ve=function(){var e=h();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream}(),me=P(),ye=p("iPhone"),be=p("iPod"),Ae=function(){var e=h(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)}(),_e=j(),Ee=B()&&!j(),we=l.name===x.Windows,Ie=l.name===x.MAC_OS,Se=s.name===R.MIUI,ke=s.name===R.SamsungBrowser;t.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return Y?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.BrowserTypes=R,t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return q?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return F?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.CustomView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=e.condition,c=E(e,["renderWithFragment","children","viewClassName","style","condition"]);return s?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},c),n):null},t.IEView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return ne?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return X?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return G?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return K?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.OsTypes=x,t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return U?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return H?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return Q?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,a=e.style,s=E(e,["renderWithFragment","children","viewClassName","style"]);return J?t?o.createElement(i.Fragment,null,n):o.createElement("div",y({className:r,style:a},s),n):null},t.browserName=se,t.browserVersion=ae,t.deviceDetect=function(){var e=D.isBrowser,t=D.isMobile,n=D.isTablet,r=D.isSmartTV,i=D.isConsole,o=D.isWearable;return e?function(e,t,n,r,i){return{isBrowser:e,browserMajorVersion:d(t.major),browserFullVersion:d(t.version),browserName:d(t.name),engineName:d(n.name),engineVersion:d(n.version),osName:d(r.name),osVersion:d(r.version),userAgent:d(i)}}(e,s,u,l,f):r?function(e,t,n,r){return{isSmartTV:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(r)}}(r,u,l,f):i?function(e,t,n,r){return{isConsole:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(r)}}(i,u,l,f):t||n?N(D,c,l,f):o?function(e,t,n,r){return{isWearable:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(r)}}(o,u,l,f):void 0},t.deviceType=ge,t.engineName=le,t.engineVersion=fe,t.fullBrowserVersion=oe,t.getUA=de,t.isAndroid=Y,t.isBrowser=q,t.isChrome=Z,t.isChromium=V,t.isConsole=F,t.isDesktop=W,t.isEdge=he,t.isEdgeChromium=_e,t.isElectron=Ae,t.isFirefox=$,t.isIE=ne,t.isIOS=X,t.isIOS13=ve,t.isIPad13=me,t.isIPhone13=ye,t.isIPod13=be,t.isLegacyEdge=Ee,t.isMIUI=Se,t.isMacOs=Ie,t.isMobile=K,t.isMobileOnly=G,t.isMobileSafari=z,t.isOpera=te,t.isSafari=ee,t.isSamsungBrowser=ke,t.isSmartTV=U,t.isTablet=H,t.isWearable=Q,t.isWinPhone=J,t.isWindows=we,t.isYandex=pe,t.mobileModel=ue,t.mobileVendor=ce,t.osName=ie,t.osVersion=re,t.withOrientationChange=function(e){return function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?w(e):t}(this,A(n).call(this,e))).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(w(t)),t.onOrientationChange=t.onOrientationChange.bind(w(t)),t.onPageLoad=t.onPageLoad.bind(w(t)),t.state={isLandscape:!1,isPortrait:!1},t}var r,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,t),r=n,(i=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"===typeof window?"undefined":g(window))&&K&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return o.createElement(e,y({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&v(r.prototype,i),a&&v(r,a),n}(o.Component)}},function(e,t,n){e.exports=n(376)()},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return M})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return y})),n.d(t,"_addComponent",(function(){return E})),n.d(t,"_addOrOverwriteComponent",(function(){return w})),n.d(t,"_apps",(function(){return A})),n.d(t,"_clearComponents",(function(){return C})),n.d(t,"_components",(function(){return _})),n.d(t,"_getProvider",(function(){return S})),n.d(t,"_registerComponent",(function(){return I})),n.d(t,"_removeServiceInstance",(function(){return k})),n.d(t,"deleteApp",(function(){return L})),n.d(t,"getApp",(function(){return D})),n.d(t,"getApps",(function(){return j})),n.d(t,"initializeApp",(function(){return N})),n.d(t,"onLog",(function(){return U})),n.d(t,"registerVersion",(function(){return P})),n.d(t,"setLogLevel",(function(){return F}));var r,i,o=n(0),a=n.n(o),s=n(2),c=n(13),u=n(8),l=n(3),f=n(4),d=n(43),h=n(51),p=n(10);n.d(t,"FirebaseError",(function(){return p.c}));var g=function(){function e(t){Object(l.a)(this,e),this.container=t}return Object(f.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var v="@firebase/app",m=new h.b("@firebase/app"),y="[DEFAULT]",b=(r={},Object(u.a)(r,v,"fire-core"),Object(u.a)(r,"@firebase/app-compat","fire-core-compat"),Object(u.a)(r,"@firebase/analytics","fire-analytics"),Object(u.a)(r,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(r,"@firebase/app-check","fire-app-check"),Object(u.a)(r,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(r,"@firebase/auth","fire-auth"),Object(u.a)(r,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(r,"@firebase/database","fire-rtdb"),Object(u.a)(r,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(r,"@firebase/functions","fire-fn"),Object(u.a)(r,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(r,"@firebase/installations","fire-iid"),Object(u.a)(r,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(r,"@firebase/messaging","fire-fcm"),Object(u.a)(r,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(r,"@firebase/performance","fire-perf"),Object(u.a)(r,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(r,"@firebase/remote-config","fire-rc"),Object(u.a)(r,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(r,"@firebase/storage","fire-gcs"),Object(u.a)(r,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(r,"@firebase/firestore","fire-fst"),Object(u.a)(r,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(r,"fire-js","fire-js"),Object(u.a)(r,"firebase","fire-js-all"),r),A=new Map,_=new Map;function E(e,t){try{e.container.addComponent(t)}catch(n){m.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function w(e,t){e.container.addOrOverwriteComponent(t)}function I(e){var t=e.name;if(_.has(t))return m.debug("There were multiple attempts to register component ".concat(t,".")),!1;_.set(t,e);var n,r=Object(c.a)(A.values());try{for(r.s();!(n=r.n()).done;){E(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function S(e,t){return e.container.getProvider(t)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;S(e,t).clearInstance(n)}function C(){_.clear()}var O,T=(i={},Object(u.a)(i,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(i,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(i,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(i,"invalid-log-argument","First argument to `onLog` must be null or a function."),i),R=new p.b("app","Firebase",T),x=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d.a("app",(function(){return i}),"PUBLIC"))}return Object(f.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw R.create("app-deleted",{appName:this._name})}}]),e}(),M="9.0.0";function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:y,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw R.create("bad-app-name",{appName:String(i)});var o=A.get(i);if(o){if(Object(p.h)(e,o.options)&&Object(p.h)(r,o.config))return o;throw R.create("duplicate-app",{appName:i})}var a,s=new d.b(i),u=Object(c.a)(_.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var f=new x(e,r,s);return A.set(i,f),f}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=A.get(e);if(!t)throw R.create("no-app",{appName:e});return t}function j(){return Array.from(A.values())}function L(e){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!A.has(n)){e.next=6;break}return A.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){var r,i=null!==(r=b[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void m.warn(s.join(" "))}I(new d.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function U(e,t){if(null!==e&&"function"!==typeof e)throw R.create("invalid-log-argument");Object(h.d)(e,t)}function F(e){Object(h.c)(e)}I(new d.a("platform-logger",(function(e){return new g(e)}),"PRIVATE")),P(v,"0.7.0",O),P("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return v}));var r=n(25),i=r.a.Start,o=r.a.Stop,a=r.a.Raise,s=r.a.Send,c=r.a.Cancel,u=r.a.NullEvent,l=r.a.Assign,f=(r.a.After,r.a.DoneState,r.a.Log),d=r.a.Init,h=r.a.Invoke,p=(r.a.ErrorExecution,r.a.ErrorPlatform),g=r.a.ErrorCustom,v=r.a.Update,m=r.a.Choose,y=r.a.Pure},function(e,t,n){var r=n(48),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(r||(r={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(i||(i={}))},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=n.n(o),s=(n(21),n(166)),c=n.n(s),u=n(618),l=n(646),f=n(361),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,d=void 0!==s&&s,h=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var g=h,v=Object(u.a)(e,Object(r.a)({defaultTheme:o,Component:n,name:h||n.displayName,classNamePrefix:g},p)),m=a.a.forwardRef((function(e,t){e.classes;var s,c=e.innerRef,u=Object(i.a)(e,["classes","innerRef"]),p=v(Object(r.a)({},n.defaultProps,e)),g=u;return("string"===typeof h||d)&&(s=Object(f.a)()||o,h&&(g=Object(l.a)({theme:s,name:h,props:u})),d&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(r.a)({ref:c||t,classes:p},g))}));return c()(m,n),m}},h=n(113);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return d}));var r=n(9),i=n(37),o=n(6),a=n(25),s=n(23),c=Object(o.D)({type:s.f});function u(e,t){return t&&t[e]||void 0}function l(e,t){var n;if(Object(o.l)(e)||"number"===typeof e){var i=u(e,t);n=Object(o.h)(i)?{type:e,exec:i}:i||{type:e,exec:void 0}}else if(Object(o.h)(e))n={type:e.name||e.toString(),exec:e};else{i=u(e.type,t);if(Object(o.h)(i))n=Object(r.a)(Object(r.a)({},e),{exec:i});else if(i){var a=i.type||e.type;n=Object(r.a)(Object(r.a)(Object(r.a)({},i),e),{type:a})}else n=e}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}var f=function(e,t){return e?(Object(o.e)(e)?e:[e]).map((function(e){return l(e,t)})):[]};function d(e){var t=l(e);return Object(r.a)(Object(r.a)({id:Object(o.l)(e)?e:t.id},t),{type:t.type})}function h(e){return Object(o.l)(e)?{type:s.k,event:e}:p(e,{to:a.b.Internal})}function p(e,t){return{to:t?t.to:void 0,type:s.l,event:Object(o.h)(e)?e:Object(o.z)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Object(o.h)(e)?e.name:Object(o.c)(e)}}var g=function(e){return{type:s.b,sendId:e}};function v(e){var t=d(e);return{type:a.a.Start,activity:t,exec:void 0}}function m(e){var t=Object(o.h)(e)?e:d(e);return{type:a.a.Stop,activity:t,exec:void 0}}var y=function(e){return{type:s.a,assignment:e}};function b(e,t){var n=t?"#"+t:"";return a.a.After+"("+e+")"+n}function A(e,t){var n=a.a.DoneState+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function _(e,t){var n=a.a.DoneInvoke+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function E(e,t){var n=a.a.ErrorPlatform+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function w(e,t,n,c,u,d){void 0===d&&(d=!1);var h=Object(r.b)(d?[[],u]:Object(o.t)(u,(function(e){return e.type===s.a})),2),p=h[0],g=h[1],v=p.length?Object(o.J)(n,c,p,t):n,m=d?[n]:void 0;return[Object(o.b)(g.map((function(n){var u,h;switch(n.type){case s.k:return h=n,{type:s.k,_event:Object(o.D)(h.event)};case s.l:var p=function(e,t,n,i){var a,s={_event:n},c=Object(o.D)(Object(o.h)(e.event)?e.event(t,n.data,s):e.event);if(Object(o.l)(e.delay)){var u=i&&i[e.delay];a=Object(o.h)(u)?u(t,n.data,s):u}else a=Object(o.h)(e.delay)?e.delay(t,n.data,s):e.delay;var l=Object(o.h)(e.to)?e.to(t,n.data,s):e.to;return Object(r.a)(Object(r.a)({},e),{to:l,_event:c,event:c.data,delay:a})}(n,v,c,e.options.delays);return i.a||Object(o.L)(!Object(o.l)(n.delay)||"number"===typeof p.delay,"No delay reference for delay expression '"+n.delay+"' was found on machine '"+e.id+"'"),p;case s.h:return function(e,t,n){return Object(r.a)(Object(r.a)({},e),{value:Object(o.l)(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(n,v,c);case s.c:if(!(A=null===(u=n.conds.find((function(n){var r=Object(o.A)(n.cond,e.options.guards);return!r||Object(o.a)(e,r,v,c,t)})))||void 0===u?void 0:u.actions))return[];var g=Object(r.b)(w(e,t,v,c,f(Object(o.y)(A),e.options.actions),d),2),y=g[0],b=g[1];return v=b,null===m||void 0===m||m.push(v),y;case s.j:var A;if(!(A=n.get(v,c.data)))return[];var _=Object(r.b)(w(e,t,v,c,f(Object(o.y)(A),e.options.actions),d),2),E=_[0],I=_[1];return v=I,null===m||void 0===m||m.push(v),E;case s.n:return function(e,t,n){var r=Object(o.h)(e.activity)?e.activity(t,n.data):e.activity,i="string"===typeof r?{id:r}:r;return{type:a.a.Stop,activity:i}}(n,v,c);case s.a:v=Object(o.J)(v,c,[n],t),null===m||void 0===m||m.push(v);break;default:var S=l(n,e.options.actions),k=S.exec;if(k&&m){var C=m.length-1;S.exec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];null===k||void 0===k||k.apply(void 0,Object(r.d)([m[C]],Object(r.b)(t)))}}return S}})).filter((function(e){return!!e}))),v]}},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:q(e)}function r(e){return s(e)?e:W(e)}function i(e){return c(e)?e:Y(e)}function o(e){return a(e)&&!u(e)?e:J(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function c(e){return!(!e||!e[h])}function u(e){return s(e)||c(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=u,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",g="delete",v=5,m=1<<v,y=m-1,b={},A={value:!1},_={value:!1};function E(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function I(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function C(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function O(){return!0}function T(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function R(e,t){return M(e,t,0)}function x(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N=0,D=1,j=2,L="function"===typeof Symbol&&Symbol.iterator,B="@@iterator",P=L||B;function U(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Q(){return{value:void 0,done:!0}}function z(e){return!!G(e)}function V(e){return e&&"function"===typeof e.next}function K(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(L&&e[L]||e[B]);if("function"===typeof t)return t}function H(e){return e&&"number"===typeof e.length}function q(e){return null===e||void 0===e?ae():a(e)?e.toSeq():ue(e)}function W(e){return null===e||void 0===e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function Y(e){return null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function J(e){return(null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=N,U.VALUES=D,U.ENTRIES=j,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[P]=function(){return this},t(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(e,t){return fe(this,e,t,!0)},q.prototype.__iterator=function(e,t){return de(this,e,t,!0)},t(W,q),W.prototype.toKeyedSeq=function(){return this},t(Y,q),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return fe(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return de(this,e,t,!1)},t(J,q),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},q.isSeq=oe,q.Keyed=W,q.Set=J,q.Indexed=Y;var X,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return X||(X=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():V(e)?new ie(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():"object"===typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=le(e)||"object"===typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return H(e)?new te(e):V(e)?new ie(e):z(e)?new re(e):void 0}function fe(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new U((function(){var e=i[n?o-a:a];return a++>o?Q():F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?pe(t,e,"",{"":e}):ge(e)}function pe(e,t,n,r){return Array.isArray(t)?e.call(r,n,Y(t).map((function(n,r){return pe(e,n,r,t)}))):ve(t)?e.call(r,n,W(t).map((function(n,r){return pe(e,n,r,t)}))):t}function ge(e){return Array.isArray(e)?Y(e).map(ge).toList():ve(e)?W(e).map(ge).toMap():e}function ve(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&me(i[1],e)&&(n||me(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!me(t,e.get(r,b)):!me(e.get(r,b),t))return f=!1,!1}));return f&&e.size===d}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function Ae(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(Ae(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Ee(){throw TypeError("Abstract")}function we(){}function Ie(){}function Se(){}q.prototype[ee]=!0,t(te,Y),te.prototype.get=function(e,t){return this.has(e)?this._array[C(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new U((function(){return i>r?Q():F(e,i,n[t?r-i++:i++])}))},t(ne,W),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new U((function(){var a=r[t?i-o:o];return o++>i?Q():F(e,a,n[a])}))},ne.prototype[p]=!0,t(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!V(n))return new U(Q);var r=0;return new U((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,Y),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new U((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(be,Y),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return me(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:new be(this._value,x(t,n)-R(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return me(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new U((function(){return r<n.size?F(e,r++,n._value):Q()}))},be.prototype.equals=function(e){return e instanceof be?me(this._value,e._value):ye(e)},t(_e,Y),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+C(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=R(e,this.size),(t=x(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new U((function(){var a=i;return i+=t?-r:r,o>n?Q():F(e,o++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Ee,n),t(we,Ee),t(Ie,Ee),t(Se,Ee),Ee.Keyed=we,Ee.Indexed=Ie,Ee.Set=Se;var ke="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ce(e){return e>>>1&1073741824|3221225471&e}function Oe(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ce(n)}if("string"===t)return e.length>Ue?Te(e):Re(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return xe(e);if("function"===typeof e.toString)return Re(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Te(e){var t=ze[e];return void 0===t&&(t=Re(e),Qe===Fe&&(Qe=0,ze={}),Qe++,ze[e]=t),t}function Re(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ce(t)}function xe(e){var t;if(Le&&void 0!==(t=je.get(e)))return t;if(void 0!==(t=e[Pe]))return t;if(!Ne){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe]))return t;if(void 0!==(t=De(e)))return t}if(t=++Be,1073741824&Be&&(Be=0),Le)je.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ne)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Pe]=t}}return t}var Me=Object.isExtensible,Ne=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function De(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var je,Le="function"===typeof WeakMap;Le&&(je=new WeakMap);var Be=0,Pe="__immutablehash__";"function"===typeof Symbol&&(Pe=Symbol(Pe));var Ue=16,Fe=255,Qe=0,ze={};function Ve(e){Ae(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null===e||void 0===e?it():Ge(e)&&!l(e)?e:it().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ge(e){return!(!e||!e[qe])}t(Ke,we),Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return ot(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},Ke.prototype.remove=function(e){return ot(this,e,b)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=vt(this,En(e),t,n);return r===b?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},Ke.prototype.merge=function(){return dt(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return dt(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ke.prototype.mergeDeep=function(){return dt(this,ht,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return dt(this,pt(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ke.prototype.sort=function(e){return zt(fn(this,e))},Ke.prototype.sortBy=function(e,t){return zt(fn(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=Ge;var He,qe="@@__IMMUTABLE_MAP__@@",We=Ke.prototype;function Ye(e,t){this.ownerID=e,this.entries=t}function Je(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(We);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return He||(He=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=E(A),a=E(_);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===b?-1:1:0)}else{if(n===b)return e;i=1,r=new Ye(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===b?e:(w(s),w(a),new $e(t,r,[i,o]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Je(t,1<<a|1<<s,a===s?[ct(e,t,n+v,r,i)]:(o=new $e(t,r,i),a<s?[e,o]:[o,e]))}function ut(e,t,n,r){e||(e=new I);for(var i=new $e(e,Oe(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function lt(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,u=t.length;s<u;s++,c<<=1){var l=t[s];void 0!==l&&s!==r&&(i|=c,a[o++]=l)}return new Je(e,i,a)}function ft(e,t,n,r,i){for(var o=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Xe(e,o+1,a)}function dt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return he(e)}))),i.push(c)}return gt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function pt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return me(t,i)?t:i}}function gt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,b,(function(e){return e===b?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function vt(e,t,n,r){var i=e===b,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}Ae(i||e&&e.set,"invalid keyPath");var c=o.value,u=i?b:e.get(c,b),l=vt(u,t,n,r);return l===u?e:l===b?e.remove(c):(i?it():e).set(c,l)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function bt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function At(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}We[qe]=!0,We[g]=We.remove,We.removeIn=We.deleteIn,Ye.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ye.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===b,c=this.entries,u=0,l=c.length;u<l&&!me(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(w(a),(s||!f)&&w(o),!s||1!==c.length){if(!f&&!s&&c.length>=_t)return ut(e,c,r,i);var d=e&&e===this.ownerID,h=d?c:S(c);return f?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Ye(e,h)}},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Oe(n));var i=1<<((0===e?t:t>>>e)&y),o=this.bitmap;return 0===(o&i)?r:this.nodes[mt(o&i-1)].get(e+v,t,n,r)},Je.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=(0===t?n:n>>>t)&y,c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&i===b)return this;var f=mt(u&c-1),d=this.nodes,h=l?d[f]:void 0,p=at(h,e,t+v,n,r,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=Et)return ft(e,d,u,s,p);if(l&&!p&&2===d.length&&st(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&st(p))return p;var g=e&&e===this.ownerID,m=l?p?u:u^c:u|c,A=l?p?yt(d,f,p,g):At(d,f,g):bt(d,f,p,g);return g?(this.bitmap=m,this.nodes=A,this):new Je(e,m,A)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Oe(n));var i=(0===e?t:t>>>e)&y,o=this.nodes[i];return o?o.get(e+v,t,n,r):r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=(0===t?n:n>>>t)&y,c=i===b,u=this.nodes,l=u[s];if(c&&!l)return this;var f=at(l,e,t+v,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<wt)return lt(e,u,d,s)}else d++;var h=e&&e===this.ownerID,p=yt(u,s,f,h);return h?(this.count=d,this.nodes=p,this):new Xe(e,d,p)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=i===b;if(n!==this.keyHash)return s?this:(w(a),w(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!me(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(w(a),(s||!f)&&w(o),s&&2===l)return new $e(e,this.keyHash,c[1^u]);var d=e&&e===this.ownerID,h=d?c:S(c);return f?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Ze(e,this.keyHash,h)},$e.prototype.get=function(e,t,n,r){return me(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var s=i===b,c=me(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(w(a),s?void w(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(w(o),ct(this,e,t,Oe(r),[r,i])))},Ye.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Je.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,U),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return Q()};var _t=m/4,Et=m/2,wt=m/4;function It(e){var t=Dt();if(null===e||void 0===e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ve(r),r>0&&r<m?Nt(0,r,v,null,new Ot(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[kt])}t(It,Ie),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("List [","]")},It.prototype.get=function(e,t){if((e=C(this,e))>=0&&e<this.size){var n=Pt(this,e+=this._origin);return n&&n.array[e&y]}return t},It.prototype.set=function(e,t){return jt(this,e,t)},It.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},It.prototype.insert=function(e,t){return this.splice(e,0,t)},It.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Dt()},It.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ut(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},It.prototype.pop=function(){return Ut(this,0,-1)},It.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ut(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},It.prototype.shift=function(){return Ut(this,1)},It.prototype.merge=function(){return Ft(this,void 0,arguments)},It.prototype.mergeWith=function(t){return Ft(this,t,e.call(arguments,1))},It.prototype.mergeDeep=function(){return Ft(this,ht,arguments)},It.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ft(this,pt(t),n)},It.prototype.setSize=function(e){return Ut(this,0,e)},It.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:Ut(this,R(e,n),x(t,n))},It.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new U((function(){var t=r();return t===xt?Q():F(e,n++,t)}))},It.prototype.__iterate=function(e,t){for(var n,r=0,i=Mt(this,t);(n=i())!==xt&&!1!==e(n,r++,this););return r},It.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Nt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},It.isList=St;var kt="@@__IMMUTABLE_LIST__@@",Ct=It.prototype;function Ot(e,t){this.array=e,this.ownerID=t}Ct[kt]=!0,Ct[g]=Ct.remove,Ct.setIn=We.setIn,Ct.deleteIn=Ct.removeIn=We.removeIn,Ct.update=We.update,Ct.updateIn=We.updateIn,Ct.mergeIn=We.mergeIn,Ct.mergeDeepIn=We.mergeDeepIn,Ct.withMutations=We.withMutations,Ct.asMutable=We.asMutable,Ct.asImmutable=We.asImmutable,Ct.wasAltered=We.wasAltered,Ot.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Ot([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-v,n))===a&&o)return this}if(o&&!i)return this;var s=Bt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Ot.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&y;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-v,n))===o&&i===this.array.length-1)return this}var a=Bt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Tt,Rt,xt={};function Mt(e,t){var n=e._origin,r=e._capacity,i=Qt(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,u=r-a;return u>m&&(u=m),function(){if(c===u)return xt;var e=t?--u:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>m&&(l=m),function(){for(;;){if(s){var e=s();if(e!==xt)return e;s=null}if(u===l)return xt;var n=t?--l:u++;s=a(c&&c[n],i-v,o+(n<<i))}}}}function Nt(e,t,n,r,i,o,a){var s=Object.create(Ct);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Dt(){return Tt||(Tt=Nt(0,0,v))}function jt(e,t,n){if((t=C(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ut(e,t).set(0,n):Ut(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=E(_);return t>=Qt(e._capacity)?r=Lt(r,e.__ownerID,0,t,n,o):i=Lt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Nt(e._origin,e._capacity,e._level,i,r):e}function Lt(e,t,n,r,i,o){var a,s=r>>>n&y,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var u=e&&e.array[s],l=Lt(u,t,n-v,r,i,o);return l===u?e:((a=Bt(e,t)).array[s]=l,a)}return c&&e.array[s]===i?e:(w(o),a=Bt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Bt(e,t){return t&&e&&t===e.ownerID?e:new Ot(e?e.array.slice():[],t)}function Pt(e,t){if(t>=Qt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=v;return n}}function Ut(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new I,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,u=e._root,l=0;a+l<0;)u=new Ot(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=v);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Qt(o),d=Qt(s);d>=1<<c+v;)u=new Ot(u&&u.array.length?[u]:[],r),c+=v;var h=e._tail,p=d<f?Pt(e,s-1):d>f?new Ot([],r):h;if(h&&d>f&&a<o&&h.array.length){for(var g=u=Bt(u,r),m=c;m>v;m-=v){var b=f>>>m&y;g=g.array[b]=Bt(g.array[b],r)}g.array[f>>>v&y]=h}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=d)a-=d,s-=d,c=v,u=null,p=p&&p.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;u;){var A=a>>>c&y;if(A!==d>>>c&y)break;A&&(l+=(1<<c)*A),c-=v,u=u.array[A]}u&&a>i&&(u=u.removeBefore(r,c,a-l)),u&&d<f&&(u=u.removeAfter(r,c,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):Nt(a,s,c,u,p)}function Ft(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],u=i(c);u.size>o&&(o=u.size),a(c)||(u=u.map((function(e){return he(e)}))),r.push(u)}return o>e.size&&(e=e.setSize(o)),gt(e,t,r)}function Qt(e){return e<m?0:e-1>>>v<<v}function zt(e){return null===e||void 0===e?Gt():Vt(e)?e:Gt().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Vt(e){return Ge(e)&&l(e)}function Kt(e,t,n,r){var i=Object.create(zt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Gt(){return Rt||(Rt=Kt(it(),Dt()))}function Ht(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===b){if(!c)return e;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Kt(r,i)}function qt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Wt(e){this._iter=e,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=An,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===j){var r=e.__iterator(t,n);return new U((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===D?N:D,n)},t}function Zt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,b);return o===b?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(j,i);return new U((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),i)}))},r}function $t(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=An,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=bn(e);return r&&(i.has=function(r){var i=e.get(r,b);return i!==b&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,b);return o!==b&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(j,o),s=0;return new U((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(t.call(n,l,u,e))return F(i,r?u:s++,l,o)}}))},i}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(l(e)?zt():Ke()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=yn(e);return i.map((function(t){return gn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),T(t,n,i))return e;var o=R(t,i),a=x(n,i);if(o!==o||a!==a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c===c&&(s=c<0?0:c);var u=bn(e);return u.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=C(this,t))>=0&&t<s?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,u=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return u++,!1!==t(e,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new U((function(){for(;a++<o;)i.next();if(++c>s)return Q();var e=i.next();return r||t===D?e:F(t,c-1,t===N?void 0:e.value[1],e)}))},u}function on(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(j,i),s=!0;return new U((function(){if(!s)return Q();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],u=i[1];return t.call(n,u,c,o)?r===j?e:F(r,c,u,e):(s=!1,Q())}))},r}function an(e,t,n,r){var i=bn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,u){if(!s||!(s=t.call(n,e,o,u)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(j,o),c=!0,u=0;return new U((function(){var e,o,l;do{if((e=s.next()).done)return r||i===D?e:F(i,u++,i===N?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],c&&(c=t.call(n,l,o,a))}while(c);return i===j?e:F(i,o,l,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var u=new te(i);return n?u=u.toKeyedSeq():c(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),u}function cn(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,u){var l=this;e.__iterate((function(e,i){return(!t||u<t)&&a(e)?c(e,u+1):!1===r(e,n?i:o++,l)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new U((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(r===j&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:F(r,c++,u,e);s.push(o),o=u.__iterator(r,i)}else o=s.pop()}return Q()}))},r}function un(e,t,n){var r=yn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function ln(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(D,r),a=0;return new U((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}function fn(e,t,n){t||(t=_n);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?W(o):c(e)?Y(o):J(o)}function dn(e,t,n){if(t||(t=_n),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function pn(e,t,r){var i=bn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(D,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),K(i?e.reverse():e)})),a=0,s=!1;return new U((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?Q():F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function gn(e,t){return oe(e)?t:e.constructor(t)}function vn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function mn(e){return Ve(e.size),k(e)}function yn(e){return s(e)?r:c(e)?i:o}function bn(e){return Object.create((s(e)?W:c(e)?Y:J).prototype)}function An(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function _n(e,t){return e>t?1:e<t?-1:0}function En(e){var t=K(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function wn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);Cn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Ke(o)},i=r.prototype=Object.create(In);return i.constructor=r,r}t(zt,Ke),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Gt()},zt.prototype.set=function(e,t){return Ht(this,e,t)},zt.prototype.remove=function(e){return Ht(this,e,b)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},zt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},zt.isOrderedMap=Vt,zt.prototype[p]=!0,zt.prototype[g]=zt.prototype.remove,t(qt,W),qt.prototype.get=function(e,t){return this._iter.get(e,t)},qt.prototype.has=function(e){return this._iter.has(e)},qt.prototype.valueSeq=function(){return this._iter.valueSeq()},qt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},qt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},qt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?mn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},qt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(D,t),r=t?mn(this):0;return new U((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},qt.prototype[p]=!0,t(Wt,Y),Wt.prototype.includes=function(e){return this._iter.includes(e)},Wt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Wt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t),r=0;return new U((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Yt,J),Yt.prototype.has=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new U((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Jt,W),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){vn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new U((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){vn(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Wt.prototype.cacheResult=qt.prototype.cacheResult=Yt.prototype.cacheResult=Jt.prototype.cacheResult=An,t(wn,we),wn.prototype.toString=function(){return this.__toString(kn(this)+" {","}")},wn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},wn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},wn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},wn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},wn.prototype.wasAltered=function(){return this._map.wasAltered()},wn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},wn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var In=wn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function kn(e){return e._name||e.constructor.name||"Record"}function Cn(e,t){try{t.forEach(On.bind(void 0,e))}catch(n){}}function On(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Ae(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Tn(e){return null===e||void 0===e?Ln():Rn(e)&&!l(e)?e:Ln().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function Rn(e){return!(!e||!e[Mn])}In[g]=In.remove,In.deleteIn=In.removeIn=We.removeIn,In.merge=We.merge,In.mergeWith=We.mergeWith,In.mergeIn=We.mergeIn,In.mergeDeep=We.mergeDeep,In.mergeDeepWith=We.mergeDeepWith,In.mergeDeepIn=We.mergeDeepIn,In.setIn=We.setIn,In.update=We.update,In.updateIn=We.updateIn,In.withMutations=We.withMutations,In.asMutable=We.asMutable,In.asImmutable=We.asImmutable,t(Tn,Se),Tn.of=function(){return this(arguments)},Tn.fromKeys=function(e){return this(r(e).keySeq())},Tn.prototype.toString=function(){return this.__toString("Set {","}")},Tn.prototype.has=function(e){return this._map.has(e)},Tn.prototype.add=function(e){return Dn(this,this._map.set(e,!0))},Tn.prototype.remove=function(e){return Dn(this,this._map.remove(e))},Tn.prototype.clear=function(){return Dn(this,this._map.clear())},Tn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Tn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Tn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Tn.prototype.merge=function(){return this.union.apply(this,arguments)},Tn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Tn.prototype.sort=function(e){return Bn(fn(this,e))},Tn.prototype.sortBy=function(e,t){return Bn(fn(this,t,e))},Tn.prototype.wasAltered=function(){return this._map.wasAltered()},Tn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Tn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Tn.isSet=Rn;var xn,Mn="@@__IMMUTABLE_SET__@@",Nn=Tn.prototype;function Dn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function jn(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ln(){return xn||(xn=jn(it()))}function Bn(e){return null===e||void 0===e?zn():Pn(e)?e:zn().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function Pn(e){return Rn(e)&&l(e)}Nn[Mn]=!0,Nn[g]=Nn.remove,Nn.mergeDeep=Nn.merge,Nn.mergeDeepWith=Nn.mergeWith,Nn.withMutations=We.withMutations,Nn.asMutable=We.asMutable,Nn.asImmutable=We.asImmutable,Nn.__empty=Ln,Nn.__make=jn,t(Bn,Tn),Bn.of=function(){return this(arguments)},Bn.fromKeys=function(e){return this(r(e).keySeq())},Bn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Bn.isOrderedSet=Pn;var Un,Fn=Bn.prototype;function Qn(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return Un||(Un=Qn(Gt()))}function Vn(e){return null===e||void 0===e?Yn():Kn(e)?e:Yn().unshiftAll(e)}function Kn(e){return!(!e||!e[Hn])}Fn[p]=!0,Fn.__empty=zn,Fn.__make=Qn,t(Vn,Ie),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(e,t){var n=this._head;for(e=C(this,e);n&&e--;)n=n.next;return n?n.value:t},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Wn(e,t)},Vn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ve(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Wn(t,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(e){return this.pushAll(e)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yn()},Vn.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var n=R(e,this.size);if(x(t,this.size)!==this.size)return Ie.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Wn(r,i)},Vn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Wn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Vn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new U((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return Q()}))},Vn.isStack=Kn;var Gn,Hn="@@__IMMUTABLE_STACK__@@",qn=Vn.prototype;function Wn(e,t,n,r){var i=Object.create(qn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Yn(){return Gn||(Gn=Wn(0))}function Jn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}qn[Hn]=!0,qn.withMutations=We.withMutations,qn.asMutable=We.asMutable,qn.asImmutable=We.asImmutable,qn.wasAltered=We.wasAltered,n.Iterator=U,Jn(n,{toArray:function(){Ve(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Wt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new qt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){Ve(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return Bn(s(this)?this.valueSeq():this)},toSet:function(){return Tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Yt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(s(this)?this.valueSeq():this)},toList:function(){return It(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return gn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(j)},every:function(e,t){Ve(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return gn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ve(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ve(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(N)},map:function(e,t){return gn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ve(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,$t(this,!0))},slice:function(e,t){return gn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return gn(this,fn(this,e))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(O)},flatMap:function(e,t){return gn(this,un(this,e,t))},flatten:function(e){return gn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find((function(t,n){return me(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=En(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return dn(this,e)},maxBy:function(e,t){return dn(this,t,e)},min:function(e){return dn(this,e?nr(e):or)},minBy:function(e,t){return dn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return gn(this,fn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[f]=!0,Xn[P]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Jn(r,{flip:function(){return gn(this,Xt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return me(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return gn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return gn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"===typeof e?JSON.stringify(e):e}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Oe(e),Oe(t))|0}:function(e,t){r=r+cr(Oe(e),Oe(t))|0}:t?function(e){r=31*r+Oe(e)|0}:function(e){r=r+Oe(e)|0}),r)}function sr(e,t){return t=ke(t,3432918353),t=ke(t<<15|t>>>-15,461845907),t=ke(t<<13|t>>>-13,5),t=ke((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ce((t=ke(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[d]=!0,Zn[P]=Xn.entries,Zn.__toJS=Xn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Jn(i,{toKeyedSeq:function(){return new qt(this,!1)},filter:function(e,t){return gn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return gn(this,$t(this,!1))},slice:function(e,t){return gn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=R(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return gn(this,cn(this,e,!1))},get:function(e,t){return(e=C(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=C(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return gn(this,ln(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=pn(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),gn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,!1))},zip:function(){return gn(this,pn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,gn(this,pn(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,Jn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,Jn(W,r.prototype),Jn(Y,i.prototype),Jn(J,o.prototype),Jn(we,r.prototype),Jn(Ie,i.prototype),Jn(Se,o.prototype),{Iterable:n,Seq:q,Collection:Ee,Map:Ke,OrderedMap:zt,List:It,Stack:Vn,Set:Tn,OrderedSet:Bn,Record:wn,Range:_e,Repeat:be,is:me,fromJS:he}}()},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(368)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(362);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(79);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(514),a=n(201),s=n(516),c=n(150),u=n(28),l=u.OrderedSet,f=u.Record,d=u.Stack,h=u.OrderedMap,p=u.List,g=f({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()}),v=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,n){return t.createWithContent(a.createFromText(e),n)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:d(),redoStack:d(),decorator:n||null,selection:c.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=r({},e,{treeMap:y(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new g(i))},t.fromJS=function(e){return new t(new g(r({},e,{directionMap:null!=e.directionMap?h(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?l(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?d(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?h(e.treeMap).map((function(e){return p(e).map((function(e){return o.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?d(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||e.getCurrentContent();if(i!==r){var s,c=t.get("treeMap");return s=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(a,a.getBlockMap(),c,i,r):y(a,i),void t.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),a=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return o.generate(i,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),i)),t.merge(n)})))};var e=t.prototype;function t(e){i(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return A(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return A(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return m(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),m(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new c({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var a=e.getSelection(),c=e.getCurrentContent(),u=e.getUndoStack(),l=n;a!==c.getSelectionAfter()||b(e,r)?(u=u.push(c),l=l.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",c.getSelectionBefore()));var f=e.getInlineStyleOverride(),h=["adjust-depth","change-block-type","split-block"];-1===h.indexOf(r)&&(f=null);var p={currentContent:l,directionMap:o,undoStack:u,redoStack:d(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return t.set(e,p)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function m(e,t,n){return v.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function y(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function b(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function A(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=v},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!0},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return h}));var r=n(9),i=n(6),o=function(e){return"atomic"===e.type||"final"===e.type};function a(e){return Object(i.m)(e.states).map((function(t){return e.states[t]}))}function s(e){var t=[e];return o(e)?t:t.concat(Object(i.b)(a(e).map(s)))}function c(e,t){var n,i,o,s,c,u,f,d,h=l(new Set(e)),p=new Set(t);try{for(var g=Object(r.e)(p),v=g.next();!v.done;v=g.next())for(var m=(k=v.value).parent;m&&!p.has(m);)p.add(m),m=m.parent}catch(C){n={error:C}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var y=l(p);try{for(var b=Object(r.e)(p),A=b.next();!A.done;A=b.next()){if("compound"!==(k=A.value).type||y.get(k)&&y.get(k).length){if("parallel"===k.type)try{for(var _=(c=void 0,Object(r.e)(a(k))),E=_.next();!E.done;E=_.next()){var w=E.value;"history"!==w.type&&(p.has(w)||(p.add(w),h.get(w)?h.get(w).forEach((function(e){return p.add(e)})):w.initialStateNodes.forEach((function(e){return p.add(e)}))))}}catch(O){c={error:O}}finally{try{E&&!E.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}}else h.get(k)?h.get(k).forEach((function(e){return p.add(e)})):k.initialStateNodes.forEach((function(e){return p.add(e)}))}}catch(T){o={error:T}}finally{try{A&&!A.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}try{for(var I=Object(r.e)(p),S=I.next();!S.done;S=I.next()){var k;for(m=(k=S.value).parent;m&&!p.has(m);)p.add(m),m=m.parent}}catch(R){f={error:R}}finally{try{S&&!S.done&&(d=I.return)&&d.call(I)}finally{if(f)throw f.error}}return p}function u(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(o(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=u(e,t)})),i}function l(e){var t,n,i=new Map;try{for(var o=Object(r.e)(e),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function f(e,t){return u(e,l(c([e],t)))}function d(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function h(e){return Object(r.d)([],Object(r.b)(new Set(Object(i.b)(Object(r.d)([],Object(r.b)(e.map((function(e){return e.ownEvents}))))))))}function p(e,t){return"compound"===t.type?a(t).some((function(t){return"final"===t.type&&d(e,t)})):"parallel"===t.type&&a(t).every((function(t){return p(e,t)}))}function g(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return M}));var r=n(46),i=n(1),o=n.n(i),a=(n(21),n(70)),s=n(213),c=n(63),u=n(5),l=n(214),f=n.n(l),d=(n(384),n(35)),h=(n(166),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(h.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var v=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var m={},y=0;function b(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(m[e])return m[e];var t=f.a.compile(e);return y<1e4&&(m[e]=t,y++),t}(e)(t,{pretty:!0})}function A(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(p.Consumer,null,(function(e){e||Object(c.a)(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,f=Object(a.c)(t?"string"===typeof n?b(n,t.params):Object(u.a)({},n,{pathname:b(n.pathname,t.params)}):n);return s?(l(f),null):o.a.createElement(v,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(u.a)({},f,{key:n.key}))||l(f)},to:n})}))}var _={},E=0;function w(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=_[n]||(_[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return E<1e4&&(r[e]=o,E++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?w(n.pathname,e.props):t.match,i=Object(u.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function S(e){return"/"===e.charAt(0)?e:"/"+e}function k(e,t){if(!e)return t;var n=S(e);return 0!==t.pathname.indexOf(n)?t:Object(u.a)({},t,{pathname:t.pathname.substr(n.length)})}function C(e){return"string"===typeof e?e:Object(a.e)(e)}function O(e){return function(){Object(c.a)(!1)}}function T(){}o.a.Component;o.a.Component;var R=o.a.useContext;function x(){return R(h)}function M(){var e=R(p).match;return e?e.params:{}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(47),i=n(10),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),c=s[0],u=s[1],l=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService({instanceIdentifier:l});u.resolve(f)}catch(d){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.e)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.e)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Object(r.h)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(r.e)(u.value,2),f=l[0],d=l[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(s)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=Object(r.h)(o),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(132);var i=n(164),o=n(88);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(342);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},function(e,t,n){"use strict";(function(e){var r=n(399),i=n(400),o=n(231);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return Q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function A(e,t,n,r){return V(Q(t,e.length-n),e,n,r)}function _(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function w(e,t,n,r){return V(z(t),e,n,r)}function I(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:Q(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(39))},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(443).Buffer}catch(I){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function c(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?g+n:u[d-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,g=h>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],A=8191&b,_=b>>>13,E=0|a[4],w=8191&E,I=E>>>13,S=0|a[5],k=8191&S,C=S>>>13,O=0|a[6],T=8191&O,R=O>>>13,x=0|a[7],M=8191&x,N=x>>>13,D=0|a[8],j=8191&D,L=D>>>13,B=0|a[9],P=8191&B,U=B>>>13,F=0|s[0],Q=8191&F,z=F>>>13,V=0|s[1],K=8191&V,G=V>>>13,H=0|s[2],q=8191&H,W=H>>>13,Y=0|s[3],J=8191&Y,X=Y>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(u+(r=Math.imul(f,Q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,Q)|0))<<13)|0;u=((o=Math.imul(d,z))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,Q),i=(i=Math.imul(p,z))+Math.imul(g,Q)|0,o=Math.imul(g,z);var me=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,Q),i=(i=Math.imul(m,z))+Math.imul(y,Q)|0,o=Math.imul(y,z),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,G)|0;var ye=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(A,Q),i=(i=Math.imul(A,z))+Math.imul(_,Q)|0,o=Math.imul(_,z),r=r+Math.imul(m,K)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,G)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,W)|0;var be=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,Q),i=(i=Math.imul(w,z))+Math.imul(I,Q)|0,o=Math.imul(I,z),r=r+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var Ae=(u+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,$)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(k,Q),i=(i=Math.imul(k,z))+Math.imul(C,Q)|0,o=Math.imul(C,z),r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,G)|0,r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(T,Q),i=(i=Math.imul(T,z))+Math.imul(R,Q)|0,o=Math.imul(R,z),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(A,J)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0;var Ee=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,Q),i=(i=Math.imul(M,z))+Math.imul(N,Q)|0,o=Math.imul(N,z),r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,G)|0,r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,W)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0;var we=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,z))+Math.imul(L,Q)|0,o=Math.imul(L,z),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0;var Ie=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(P,Q),i=(i=Math.imul(P,z))+Math.imul(U,Q)|0,o=Math.imul(U,z),r=r+Math.imul(j,K)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,W)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,de)|0;var Se=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,K),i=(i=Math.imul(P,G))+Math.imul(U,K)|0,o=Math.imul(U,G),r=r+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(T,$)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var ke=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,W))+Math.imul(U,q)|0,o=Math.imul(U,W),r=r+Math.imul(j,J)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Ce=(u+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(P,J),i=(i=Math.imul(P,X))+Math.imul(U,J)|0,o=Math.imul(U,X),r=r+Math.imul(j,$)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Oe=(u+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(P,$),i=(i=Math.imul(P,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var Te=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(P,ne),i=(i=Math.imul(P,re))+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,de)|0;var Re=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(P,oe),i=(i=Math.imul(P,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0;var xe=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(P,ce),i=(i=Math.imul(P,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(L,fe)|0,o=o+Math.imul(L,de)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(P,fe),i=(i=Math.imul(P,de))+Math.imul(U,fe)|0,o=Math.imul(U,de);var Ne=(u+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var De=(u+(r=Math.imul(P,pe))|0)+((8191&(i=(i=Math.imul(P,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,ge))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ve,c[1]=me,c[2]=ye,c[3]=be,c[4]=Ae,c[5]=_e,c[6]=Ee,c[7]=we,c[8]=Ie,c[9]=Se,c[10]=ke,c[11]=Ce,c[12]=Oe,c[13]=Te,c[14]=Re,c[15]=xe,c[16]=Me,c[17]=Ne,c[18]=De,0!==u&&(c[19]=u,n.length++),n};function p(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=n[l+h],g=r[l+h],v=n[l+h+a],m=r[l+h+a],y=f*v-d*m;m=f*m+d*v,v=y,n[l+h]=p+v,r[l+h]=g+m,n[l+h+a]=p-v,r[l+h+a]=g-m,h!==s&&(y=c*f-u*d,d=c*d+u*f,f=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function w(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},i(y,m),y.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,m),i(A,m),i(_,m),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return v[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));d=d.redMul(m),f=m.redSqr(),h=h.redMul(f),p=v}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new w(e)},i(w,E),w.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},w.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},w.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},w.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},w.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(190)(e))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return d}));var r=n(362);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(u+="a",l.push(t[3])),a({type:u,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?f(e,t):d(e,t)}function l(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(38);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},function(e,t,n){"use strict";var r=n(68);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.0.0","app-compat")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return fr})),n.d(t,"b",(function(){return hr})),n.d(t,"c",(function(){return dr})),n.d(t,"d",(function(){return gr})),n.d(t,"e",(function(){return pr})),n.d(t,"f",(function(){return vr})),n.d(t,"g",(function(){return mr})),n.d(t,"h",(function(){return ur})),n.d(t,"i",(function(){return lr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},c=a||self;function u(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var d="closure_uid_"+(1e9*Math.random()>>>0),h=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g).apply(null,arguments)}function m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var A={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++h)}(this);delete A[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function w(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e){return/^[\s\xa0]*$/.test(e)}var k,C=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function O(e,t){return-1!=e.indexOf(t)}function T(e,t){return e<t?-1:e>t?1:0}e:{var R=c.navigator;if(R){var x=R.userAgent;if(x){k=x;break e}}k=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function N(e){var t={};for(var n in e)t[n]=e[n];return t}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=u;var B,P=O(k,"Opera"),U=O(k,"Trident")||O(k,"MSIE"),F=O(k,"Edge"),Q=F||U,z=O(k,"Gecko")&&!(O(k.toLowerCase(),"webkit")&&!O(k,"Edge"))&&!(O(k,"Trident")||O(k,"MSIE"))&&!O(k,"Edge"),V=O(k.toLowerCase(),"webkit")&&!O(k,"Edge");function K(){var e=c.document;return e?e.documentMode:void 0}e:{var G="",H=function(){var e=k;return z?/rv:([^\);]+)(\)|;)/.exec(e):F?/Edge\/([\d\.]+)/.exec(e):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):V?/WebKit\/(\S+)/.exec(e):P?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(H&&(G=H?H[1]:""),U){var q=K();if(null!=q&&q>parseFloat(G)){B=String(q);break e}}B=G}var W,Y={};function J(){return function(e){var t=Y;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=C(String(B)).split("."),n=C("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=T(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||T(0==o[2].length,0==a[2].length)||T(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(c.document&&U){var X=K();W=X||(parseInt(B,10)||void 0)}else W=void 0;var Z=W,$=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",u,t),c.removeEventListener("test",u,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},y(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function se(e){this.src=e,this.g={},this.h=0}function ce(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=_(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ue(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ue(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new oe(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=_e(n),e&&e[re]?e.N(t,n,f(r)?!!r.capture:!!r,i):he(e,t,n,!1,r,i)}function he(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=be(e);if(s||(e[le]=s=new se(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ye;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=_e(n),e&&e[re]?e.O(t,n,f(r)?!!r.capture:!!r,i):he(e,t,n,!0,r,i)}function ge(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=_e(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ue(o=e.g[t],n,r,i))&&(ae(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ue(t,n,r,i)),(n=-1<e?t[e]:null)&&ve(n))}function ve(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ce(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ce(n,e),0==n.h&&(n.src=null,t[le]=null)):ae(e)}}}function me(e){return e in fe?fe[e]:fe[e]="on"+e}function ye(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ve(e),e=n.call(r,t)}return e}function be(e){return(e=e[le])instanceof se?e:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(e){return"function"===typeof e?e:(e[Ae]||(e[Ae]=function(t){return e.handleEvent(t)}),e[Ae])}function Ee(){b.call(this),this.i=new se(this),this.P=this,this.I=null}function we(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;j(t=new ee(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ie(a,r,!0,t)&&i}if(i=Ie(a=t.g=e,r,!0,t)&&i,i=Ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ie(a=t.g=n[o],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,c=a.ia||a.src;a.fa&&ce(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}y(Ee,b),Ee.prototype[re]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){ge(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=c.JSON.stringify;function ke(){var e=De,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ce,Oe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Te.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Te=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Re}),(function(e){return e.reset()})),Re=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function xe(e){c.setTimeout((function(){throw e}),0)}function Me(e,t){Ce||function(){var e=c.Promise.resolve(void 0);Ce=function(){e.then(je)}}(),Ne||(Ce(),Ne=!0),De.add(e,t)}var Ne=!1,De=new Oe;function je(){for(var e;e=ke();){try{e.h.call(e.g)}catch(n){xe(n)}var t=Te;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ne=!1}function Le(e,t){Ee.call(this),this.h=e||1,this.g=t||c,this.j=v(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Pe(e,t,n){if("function"===typeof e)n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function Ue(e){e.g=Pe((function(){e.g=null,e.i&&(e.i=!1,Ue(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}y(Le,Ee),(o=Le.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),we(this,"tick"),this.da&&(Be(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){Le.Z.M.call(this),Be(this),delete this.g};var Fe=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ue(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function Qe(e){b.call(this),this.h=e,this.g={}}y(Qe,b);var ze=[];function Ve(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ke(e){M(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ve(e)}),e),e.g={}}function Ge(){this.g=!0}function He(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Se(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Qe.prototype.M=function(){Qe.Z.M.call(this),Ke(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ge.prototype.Aa=function(){this.g=!1},Ge.prototype.info=function(){};var qe={},We=null;function Ye(){return We=We||new Ee}function Je(e){ee.call(this,qe.Ma,e)}function Xe(e){var t=Ye();we(t,new Je(t,e))}function Ze(e,t){ee.call(this,qe.STAT_EVENT,e),this.stat=t}function $e(e){var t=Ye();we(t,new Ze(t,e))}function et(e,t){ee.call(this,qe.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){e()}),t)}qe.Ma="serverreachability",y(Je,ee),qe.STAT_EVENT="statevent",y(Ze,ee),qe.Na="timingevent",y(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function it(){}function ot(e){return e.h||(e.h=e.i())}function at(){}it.prototype.h=null;var st,ct={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ut(){ee.call(this,"d")}function lt(){ee.call(this,"c")}function ft(){}function dt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qe(this),this.P=pt,e=Q?125:void 0,this.W=new Le(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}y(ut,ee),y(lt,ee),y(ft,it),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},st=new ft;var pt=45e3,gt={},vt={};function mt(e,t,n){e.K=1,e.v=Ft(Dt(t)),e.s=n,e.U=!0,yt(e,null)}function yt(e,t){e.F=Date.now(),Et(e),e.A=Dt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$t(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ht,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fe(v(e.Ia,e,e.g),e.O)),Ve(e.V,e.g,"readystatechange",e.gb),t=e.H?N(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xe(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function At(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_t(e,n))==vt){4==t&&(e.o=4,$e(14),i=!1),He(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,$e(15),He(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}He(e.j,e.m,r,null),Ct(e,r)}bt(e)&&r!=vt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$e(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wn(t),t.L=!0,$e(11))):(He(e.j,e.m,n,"[Invalid Chunked Response]"),kt(e),St(e))}function _t(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?vt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,wt(e,e.P)}function wt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(v(e.eb,e),t)}function It(e){e.B&&(c.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||Xn(e.l,e)}function kt(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Ke(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ct(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cn(n.i,e)))if(n.I=e.N,!e.J&&cn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jn(n),Un(n)}qn(n),$e(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(v(n.ab,n),6e3));if(1>=sn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else $n(n,11)}else if((e.J||n.g==e)&&Jn(n),!S(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(un(f,f.h),f.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ut(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),h.J){ln(r.i,h);var p=h,g=r.K;g&&p.setTimeout(g),p.B&&(It(p),Et(p)),r.g=h}else Hn(r);0<n.l.length&&zn(n)}else"stop"!=o[0]&&"close"!=o[0]||$n(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?$n(n,7):Pn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Xe(4)}catch(o){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)E(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Tt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];xt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)xt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=dt.prototype).setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;var t=this.L;t&&3==Nn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{var t=Nn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Q||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=t||7==n||Xe(8==n||0>=r?3:2),It(this);var i=this.g.ba();this.N=i;t:if(bt(this)){var o=Dn(this.g);e="";var a=o.length,s=4==Nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){kt(this),St(this);var u="";break t}this.h.i=new c.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,f=this.g;if((l=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var d=l;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,$e(12),kt(this),St(this);break e}He(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,i)}this.U?(At(this,t,u),Q&&this.i&&3==t&&(Ve(this.V,this.W,"tick",this.fb),this.W.start())):(He(this.j,this.m,u,null),Ct(this,u)),4==t&&kt(this),this.i&&!this.I&&(4==t?Xn(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,$e(12)):(this.o=0,$e(13)),kt(this),St(this)}}}catch(t){}},o.fb=function(){if(this.g){var e=Nn(this.g),t=this.g.ga();this.C<t.length&&(It(this),At(this,e,t),this.i&&4!=e&&Et(this))}},o.cancel=function(){this.I=!0,kt(this)},o.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xe(3),$e(17)),kt(this),this.o=2,St(this)):wt(this,this.Y-e)},(o=Tt.prototype).R=function(){Rt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return Rt(this),this.g.concat()},o.get=function(e,t){return xt(this.h,e)?this.h[e]:t},o.set=function(e,t){xt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Nt){this.g=void 0!==t?t:e.g,jt(this,e.j),this.s=e.s,Lt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new Yt;n.i=t.i,t.g&&(n.g=new Tt(t.g),n.h=t.h),Pt(this,n),this.o=e.o}else e&&(n=String(e).match(Mt))?(this.g=!!t,jt(this,n[1]||"",!0),this.s=Qt(n[2]||""),Lt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Qt(n[5]||"",!0),Pt(this,n[6]||"",!0),this.o=Qt(n[7]||"")):(this.g=!!t,this.h=new Yt(null,this.g))}function Dt(e){return new Nt(e)}function jt(e,t,n){e.j=n?Qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t,n){e.i=n?Qt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pt(e,t,n){t instanceof Yt?(e.h=t,function(e,t){t&&!e.j&&(Jt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),$t(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zt(t,qt)),e.h=new Yt(t,e.g))}function Ut(e,t,n){e.h.set(t,n)}function Ft(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zt(t,Kt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Ht:Gt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zt(n,Wt)),e.join("")};var Kt=/[#\/\?@]/g,Gt=/[#\?:]/g,Ht=/[#\?]/g,qt=/[#\?@]/g,Wt=/#/g;function Yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jt(e){e.g||(e.g=new Tt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Jt(e),t=en(e,t),xt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,xt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rt(e)))}function Zt(e,t){return Jt(e),t=en(e,t),xt(e.g.h,t)}function $t(e,t,n){Xt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),I(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(o=Yt.prototype).add=function(e,t){Jt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){Jt(this),this.g.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.T=function(){Jt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.R=function(e){Jt(this);var t=[];if("string"===typeof e)Zt(this,e)&&(t=w(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=w(t,e[n])}return t},o.set=function(e,t){return Jt(this),this.i=null,Zt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||on,c.PerformanceNavigationTiming?e=0<(e=c.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(c.g&&c.g.Ea&&c.g.Ea()&&c.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,on=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sn(e){return e.h?1:e.g?e.g.size:0}function cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function un(e,t){e.g?e.g.add(t):e.h=t}function ln(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return I(e.i)}function dn(){}function hn(){this.g=new dn}function pn(e,t,n){var r=n||"";try{Ot(e,(function(e,n){var i=e;f(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function vn(e){this.l=e.$b||null,this.j=e.ib||!1}function mn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},dn.prototype.stringify=function(e){return c.JSON.stringify(e,void 0)},dn.prototype.parse=function(e){return c.JSON.parse(e,void 0)},y(vn,it),vn.prototype.g=function(){return new mn(this.l,this.j)},vn.prototype.i=(rn={},function(){return rn}),y(mn,Ee);var yn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function An(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=mn.prototype).open=function(e,t){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||c).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,An(this)),this.readyState=yn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof c.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?An(this):_n(this),3==this.readyState&&bn(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,An(this))},o.Ta=function(e){this.g&&(this.response=e,An(this))},o.ha=function(){this.g&&An(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=c.JSON.parse;function wn(e){Ee.call(this),this.headers=new Tt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}y(wn,Ee);var In="",Sn=/^https?$/i,kn=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function On(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),xn(e)}function Tn(e){e.D||(e.D=!0,we(e,"complete"),we(e,"error"))}function Rn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Nn(e)||2!=e.ba()))if(e.v&&4==Nn(e))Pe(e.Fa,0,e);else if(we(e,"readystatechange"),4==Nn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Mt)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sn.test(o?o.toLowerCase():"")}t=i}if(t)we(e,"complete"),we(e,"success");else{e.m=6;try{var u=2<Nn(e)?e.g.statusText:""}catch(l){u=""}e.j=u+" ["+e.ba()+"]",Tn(e)}}finally{xn(e)}}}function xn(e,t){if(e.g){Mn(e);var n=e.g,r=e.C[0]?u:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(c.clearTimeout(e.A),e.A=null)}function Nn(e){return e.g?e.g.readyState:0}function Dn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case In:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Ln(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.za=0,this.l=[],this.h=new Ge,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ln("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ln("baseRetryDelayMs",5e3,e),this.$a=Ln("retryDelaySeedMs",1e4,e),this.Ya=Ln("forwardChannelMaxRetries",2,e),this.ra=Ln("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new hn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Pn(e){if(Fn(e),3==e.G){var t=e.V++,n=Dt(e.F);Ut(n,"SID",e.J),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Kn(e,n),(t=new dt(e,e.h,t,void 0)).K=2,t.v=Ft(Dt(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(t.v.toString(),"")),!n&&c.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}er(e)}function Un(e){e.g&&(Wn(e),e.g.cancel(),e.g=null)}function Fn(e){Un(e),e.u&&(c.clearTimeout(e.u),e.u=null),Jn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&c.clearTimeout(e.m),e.m=null)}function Qn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&zn(e)}function zn(e){an(e.i)||e.m||(e.m=!0,Me(e.Ha,e),e.C=0)}function Vn(e,t){var n;n=t?t.m:e.V++;var r=Dt(e.F);Ut(r,"SID",e.J),Ut(r,"RID",n),Ut(r,"AID",e.U),Kn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new dt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),un(e.i,n),mt(n,r,t)}function Kn(e,t){e.j&&Ot({},(function(e,n){Ut(t,n,e)}))}function Gn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?v(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(0>(u-=o))o=Math.max(0,i[c].h-100),s=!1;else try{pn(l,a,"req"+u+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Y=1,Me(e.Ga,e),e.A=0)}function qn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(v(e.Ga,e),Zn(e,e.A)),e.A++,!0)}function Wn(e){null!=e.B&&(c.clearTimeout(e.B),e.B=null)}function Yn(e){e.g=new dt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dt(e.oa);Ut(t,"RID","rpc"),Ut(t,"SID",e.J),Ut(t,"CI",e.N?"0":"1"),Ut(t,"AID",e.U),Kn(e,t),Ut(t,"TYPE","xmlhttp"),e.o&&e.s&&jn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ft(Dt(t)),n.s=null,n.U=!0,yt(n,e)}function Jn(e){null!=e.v&&(c.clearTimeout(e.v),e.v=null)}function Xn(e,t){var n=null;if(e.g==t){Jn(e),Wn(e),e.g=null;var r=2}else{if(!cn(e.i,t))return;n=t.D,ln(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;we(r=Ye(),new et(r,n,t,i)),zn(e)}else Hn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(v(e.Ha,e,t),Zn(e,e.C)),e.C++,!0))}(e,t)||2==r&&qn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}function Zn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $n(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=v(e.jb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||jt(n,"https"),Ft(n)),function(e,t){var n=new Ge;if(c.Image){var r=new Image;r.onload=m(gn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=m(gn,n,r,"TestLoadImage: error",!1,t),r.onabort=m(gn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=m(gn,n,r,"TestLoadImage: timeout",!1,t),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $e(2);e.G=0,e.j&&e.j.va(t),er(e),Fn(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==fn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Nt?Dt(e):new Nt(e,void 0)}(n);if(""!=r.i)t&&Lt(r,t+"."+r.i),Bt(r,r.m);else{var i=c.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&jt(i,e),t&&Lt(i,t),n&&Bt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&M(e.aa,(function(e,t){Ut(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ut(r,t,n),Ut(r,"VER",e.ma),Kn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wn(new vn({ib:!0})):new wn(e.qa)).L=e.H,t}function rr(){}function ir(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function or(e,t){Ee.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!S(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cr(this)}function ar(e){ut.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sr(){lt.call(this),this.status=1}function cr(e){this.g=e}(o=wn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?ot(this.u):ot(st),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void On(this,o)}e=n||"";var i=new Tt(this.headers);r&&Ot(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Cn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=c.FormData&&e instanceof c.FormData,!(0<=_(kn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mn(this),0<this.B&&((this.K=function(e){return U&&J()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=Pe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){On(this,o)}},o.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),xn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xn(this,!0)),wn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},o.cb=function(){Rn(this)},o.ba=function(){try{return 2<Nn(this)?this.g.status:-1}catch(rn){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Bn.prototype).ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new dt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?j(n=N(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Gn(this,t,r),Ut(i=Dt(this.F),"RID",e),Ut(i,"CVER",22),this.D&&Ut(i,"X-HTTP-Session-Id",this.D),Kn(this,i),this.o&&n&&jn(i,this.o,n),un(this.i,t),this.Ra&&Ut(i,"TYPE","init"),this.ja?(Ut(i,"$req",r),Ut(i,"SID","null"),t.$=!0,mt(t,i,null)):mt(t,i,r),this.G=2}}else 3==this.G&&(e?Vn(this,e):0==this.l.length||an(this.i)||Vn(this))},o.Ga=function(){if(this.u=null,Yn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(v(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$e(10),Un(this),Yn(this))},o.ab=function(){null!=this.v&&(this.v=null,Un(this),qn(this),$e(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$e(2)):(this.h.info("Failed to ping google.com"),$e(1))},(o=rr.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},ir.prototype.g=function(e,t){return new or(e,t)},y(or,Ee),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Me(v(e.hb,e,t))),$e(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),zn(e)},or.prototype.close=function(){Pn(this.g)},or.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Qn(this.g,t)}else this.v?((t={}).__data__=Se(e),Qn(this.g,t)):Qn(this.g,e)},or.prototype.M=function(){this.g.j=null,delete this.j,Pn(this.g),delete this.g,or.Z.M.call(this)},y(ar,ut),y(sr,lt),y(cr,rr),cr.prototype.xa=function(){we(this.g,"a")},cr.prototype.wa=function(e){we(this.g,new ar(e))},cr.prototype.va=function(e){we(this.g,new sr(e))},cr.prototype.ua=function(){we(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.La,wn.prototype.getLastErrorCode=wn.prototype.Da,wn.prototype.getStatus=wn.prototype.ba,wn.prototype.getResponseJson=wn.prototype.Qa,wn.prototype.getResponseText=wn.prototype.ga,wn.prototype.send=wn.prototype.ea;var ur=function(){return new ir},lr=function(){return Ye()},fr=nt,dr=rt,hr=qe,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=vn,vr=at,mr=wn}).call(this,n(39))},function(e,t,n){"use strict";var r=n(66),i=n(504),o=n(505),a=n(507),s=n(148),c=n(28),u=n(510),l=n(511),f=n(29),d=n(292),h=n(290),p=n(512),g=n(513),v=c.OrderedSet,m={replaceText:function(e,t,n,i,o){var a=h(e,t),s=p(a,t),c=r.create({style:i||v(),entity:o||null});return l(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,i){return t.isCollapsed()||f(!1),m.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=s(e,t),i=m.removeRange(e,t,"backward");return m.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=h(e,t),o=p(i,t);return u(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(i);var c=t.getStartOffset(),u=t.getEndOffset(),l=o.getEntityAt(c),f=s.getEntityAt(u-1);if(r===i&&l&&l===f){var d=a(e.getEntityMap(),o,s,t,n);return p(e,d)}var g=h(e,t);return p(g,t)},splitBlock:function(e,t){var n=h(e,t),r=p(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=h(e,t);return o(r,t,n)}};e.exports=m},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,n){"use strict";var r=n(523),i=n(525),o=n(526),a=n(527);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var u={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(u,a)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=t,i=n(49),o=n(64),a=n(269);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=0===(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==u?c:-c,n[0].push(a),s=0===(1&u)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==c?u:-u,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";var r=n(28),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),c={style:s,entity:null},u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return l;var t=i({style:s,entity:null}).merge(e),n=f.get(t);if(n)return n;var o=new r(t);return f=f.set(t,o),o},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?o(t):t,entity:Array.isArray(n)?o(n):n})},r}(a(c)),l=new u,f=i([[i(c),l]]);u.EMPTY=l,e.exports=u},function(e,t,n){"use strict";var r=n(66),i=n(126),o=n(28),a=o.List,s=o.Map,c=o.OrderedSet,u=o.Record,l=o.Repeat,f=c(),d={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},p=function(e,t){return e.getEntity()===t.getEntity()},g=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e},v=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e.call(this,g(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},o.findEntityRanges=function(e,t){i(this.getCharacterList(),p,e,t)},r}(u(d));e.exports=v},function(e,t,n){"use strict";var r,i=n(8),o=n(3),a=n(4),s=n(10),c=n(43),u=n(22),l=n(51),f=function(){function e(t,n){var r=this;Object(o.a)(this,e),this._delegate=t,this.firebase=n,Object(u._addComponent)(t,new c.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(a.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(u.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(u._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(u._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),d=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),h=new s.b("app-compat","Firebase",d);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=u.initializeApp(r,i);if(Object(s.e)(t,o.name))return t[o.name];var a=new e(o,n);return t[o.name]=a,a},app:r,registerVersion:u.registerVersion,setLogLevel:u.setLogLevel,onLog:u.onLog,apps:null,SDK_VERSION:u.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,o=i.replace("-compat","");if(u._registerComponent(t)&&"PUBLIC"===t.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[o])throw h.create("invalid-app-argument",{appName:i});return e[o]()};void 0!==t.serviceProps&&Object(s.i)(a,t.serviceProps),n[o]=a,e.prototype[o]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:u}};function r(e){if(e=e||u._DEFAULT_ENTRY_NAME,!Object(s.e)(t,e))throw h.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.i)(t,e)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),t}(),g=new l.b("@firebase/app-compat");if(Object(s.m)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m,y=p;Object(u.registerVersion)("@firebase/app-compat","0.1.0",m),t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c}));var r=n(9),i=n(73),o=n(6),a=n(40),s=n(27);function c(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Object(o.l)(e)||Object(o.l)(t))return e===t;var n=Object(o.m)(e),r=Object(o.m)(t);return n.length===r.length&&n.every((function(n){return c(e[n],t[n])}))}function u(e){return!Object(o.l)(e)&&("value"in e&&"history"in e)}function l(e,t){var n=e.exec;return Object(r.a)(Object(r.a)({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}var f=function(){function e(e){var t,n=this;this.actions=[],this.activities=i.b,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||i.b,this.meta=Object(a.d)(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=e.tags)&&void 0!==t?t:new Set,Object.defineProperty(this,"nextEvents",{get:function(){return Object(a.i)(n.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:s.h,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=s.h;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Object(o.l)(e))return[e];var i=Object(o.m)(e);return i.concat.apply(i,Object(r.d)([],Object(r.b)(i.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))})))))},e.prototype.toJSON=function(){var e=this,t=(e.configuration,e.transitions,e.tags),n=Object(r.c)(e,["configuration","transitions","tags"]);return Object(r.a)(Object(r.a)({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return Object(o.q)(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(5);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),u=s||c;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=a.length;d>=0;d--){var h=a[d];"."===h?o(a,d):".."===h?(o(a,d),f++):f&&(o(a,d),f--)}if(!u)for(;f--;f)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(63);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var A="popstate",_="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,c=o.getUserConfirmation,f=void 0===c?b:c,v=o.keyLength,w=void 0===v?6:v,I=e.basename?h(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=d(o,I)),g(o,r,n)}function k(){return Math.random().toString(36).substr(2,w)}var C=m();function O(e){Object(r.a)(F,e),F.length=t.length,C.notifyListeners(F.location,F.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(S(e.state))}function R(){M(S(E()))}var x=!1;function M(e){if(x)x=!1,O();else{C.confirmTransitionTo(e,"POP",f,(function(t){t?O({action:"POP",location:e}):function(e){var t=F.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(e)}))}}var N=S(E()),D=[N.key];function j(e){return I+p(e)}function L(e){t.go(e)}var B=0;function P(e){1===(B+=e)&&1===e?(window.addEventListener(A,T),i&&window.addEventListener(_,R)):0===B&&(window.removeEventListener(A,T),i&&window.removeEventListener(_,R))}var U=!1;var F={length:t.length,action:"POP",location:N,createHref:j,push:function(e,r){var i="PUSH",o=g(e,r,k(),F.location);C.confirmTransitionTo(o,i,f,(function(e){if(e){var r=j(o),a=o.key,c=o.state;if(n)if(t.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var u=D.indexOf(F.location.key),l=D.slice(0,u+1);l.push(o.key),D=l,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,k(),F.location);C.confirmTransitionTo(o,i,f,(function(e){if(e){var r=j(o),a=o.key,c=o.state;if(n)if(t.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var u=D.indexOf(F.location.key);-1!==u&&(D[u]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return U||(P(1),U=!0),function(){return U&&(U=!1,P(-1)),t()}},listen:function(e){var t=C.appendListener(e);return P(1),function(){P(-1),t()}}};return F}var I="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(k(window.location.href)+"#"+e)}function T(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,c=e.basename?h(l(e.basename)):"",f=S[s],v=f.encodePath,A=f.decodePath;function _(){var e=A(C());return c&&(e=d(e,c)),g(e)}var E=m();function w(e){Object(r.a)(F,e),F.length=t.length,E.notifyListeners(F.location,F.action)}var T=!1,R=null;function x(){var e,t,n=C(),r=v(n);if(n!==r)O(r);else{var i=_(),a=F.location;if(!T&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(R===p(i))return;R=null,function(e){if(T)T=!1,w();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?w({action:t,location:e}):function(e){var t=F.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,L(i))}(e)}))}}(i)}}var M=C(),N=v(M);M!==N&&O(N);var D=_(),j=[p(D)];function L(e){t.go(e)}var B=0;function P(e){1===(B+=e)&&1===e?window.addEventListener(I,x):0===B&&window.removeEventListener(I,x)}var U=!1;var F={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+v(c+p(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,F.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(c+t);if(C()!==i){R=t,function(e){window.location.hash=e}(i);var o=j.lastIndexOf(p(F.location)),a=j.slice(0,o+1);a.push(t),j=a,w({action:n,location:r})}else w()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,F.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(c+t);C()!==i&&(R=t,O(i));var o=j.indexOf(p(F.location));-1!==o&&(j[o]=t),w({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return U||(P(1),U=!0),function(){return U&&(U=!1,P(-1)),t()}},listen:function(e){var t=E.appendListener(e);return P(1),function(){P(-1),t()}}};return F}function R(e,t,n){return Math.min(Math.max(e,t),n)}function x(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,u=void 0===c?6:c,l=m();function f(e){Object(r.a)(A,e),A.length=A.entries.length,l.notifyListeners(A.location,A.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=R(s,0,o.length-1),v=o.map((function(e){return g(e,void 0,"string"===typeof e?d():e.key||d())})),y=p;function b(e){var t=R(A.index+e,0,A.entries.length-1),r=A.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var A={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:y,push:function(e,t){var r="PUSH",i=g(e,t,d(),A.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=A.index+1,n=A.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,d(),A.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(A.entries[A.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=A.index+e;return t>=0&&t<A.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return A}},function(e,t,n){var r=n(392);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(92),i=n(393),o=n(227);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a}));var r=".",i={},o="xstate.guard",a=""},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(c[s[f]]=n[s[f]])}}return c}},function(e,t,n){"use strict";var r=n(64),i=n(18);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=c(i.toString(16))}return n},t.zero2=s,t.zero8=c,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+n+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,c,u){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+a+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,c,u){return t+r+o+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";var r={},i=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(598)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(41))},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=r},function(e,t,n){"use strict";function r(e,t){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="-",i={encode:function(e,t,n){return e+r+t+r+n},decode:function(e){var t=e.split(r).reverse(),n=t[0],i=t[1];return{blockKey:t.slice(2).reverse().join(r),decoratorKey:parseInt(i,10),leafKey:parseInt(n,10)}}};e.exports=i},function(e,t,n){"use strict";t.a=function(e,t){}},,function(e,t,n){var r=n(24).Buffer,i=n(414).Transform,o=n(94).StringDecoder;function a(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(18)(a,i),a.prototype.update=function(e,t,n){"string"===typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){r=i}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(132);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(134);var i=n(343),o=n(168);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(503),i=n(125),o=n(66),a=n(519),s=n(96),c=n(201),u=n(203),l=n(297),f=n(520),d=n(313),h=n(149),p=n(57),g=n(295),v=n(34),m=n(209),y=n(584),b=n(324),A=n(150),_=n(585),E=n(588),w=n(77),I=n(325),S=n(594),k={Editor:f,EditorBlock:d,EditorState:v,CompositeDecorator:a,Entity:h,EntityInstance:g,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:c,RawDraftContentState:y,SelectionState:A,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:p,RichUtils:b,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:l,convertFromHTML:n(322),convertFromRaw:E,convertToRaw:_,genKey:w,getDefaultKeyBinding:I,getVisibleSelectionRect:S};e.exports=k},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=[],i=function(e,t){r.push(e);var n=t(e);return r.pop(),n},o=function(e){return e(r[r.length-1])}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(24).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(143),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=Object.create(n(121));o.inherits=n(18);var a=n(241),s=n(186);o.inherits(f,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(66),i=n(126),o=n(28),a=o.List,s=o.Map,c=o.OrderedSet,u=o.Record,l=o.Repeat,f=c(),d=u({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),h=function(e){var t,n;function o(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e}(t))||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},s.findEntityRanges=function(e,t){i(this.getCharacterList(),g,e,t)},o}(d);function p(e,t){return e.getStyle()===t.getStyle()}function g(e,t){return e.getEntity()===t.getEntity()}e.exports=h},function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,n){"use strict";var r=n(29),i=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function a(e){return i.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=s(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=s(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(e,o);return e.substring(i,o)}var u={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=u},function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return i.a})),n.d(t,"createSvgIcon",(function(){return o.a})),n.d(t,"debounce",(function(){return a.a})),n.d(t,"deprecatedPropType",(function(){return s.a})),n.d(t,"isMuiElement",(function(){return c.a})),n.d(t,"ownerDocument",(function(){return u.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return f})),n.d(t,"setRef",(function(){return d.a})),n.d(t,"unsupportedProp",(function(){return h})),n.d(t,"useControlled",(function(){return g})),n.d(t,"useEventCallback",(function(){return v.a})),n.d(t,"useForkRef",(function(){return m.a})),n.d(t,"unstable_useId",(function(){return y})),n.d(t,"useIsFocusVisible",(function(){return b.a}));var r=n(31),i=n(80),o=n(341),a=n(109),s=n(82),c=n(160),u=n(45),l=n(110);function f(e){return function(){return null}}var d=n(79);function h(e,t,n,r,i){return null}var p=n(1);function g(e){var t=e.controlled,n=e.default,r=(e.name,e.state,p.useRef(void 0!==t).current),i=p.useState(n),o=i[0],a=i[1];return[r?t:o,p.useCallback((function(e){r||a(e)}),[])]}var v=n(53),m=n(33);function y(e){var t=p.useState(e),n=t[0],r=t[1],i=e||n;return p.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(159)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(9),i=n(6),o=n(91);function a(e){return{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}}}function s(e,t,n,r){var o,s=Object(i.B)(e.src),u=null===(o=null===t||void 0===t?void 0:t.options.services)||void 0===o?void 0:o[s.type],l=e.data?Object(i.n)(e.data,n,r):void 0,f=u?c(u,e.id,l):a(e.id);return f.meta=e,f}function c(e,t,n){var r=a(t);if(r.deferred=!0,Object(i.i)(e)){var s=r.state=Object(o.b)(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return s}}return r}function u(e){return function(e){try{return"function"===typeof e.send}catch(t){return!1}}(e)&&"id"in e}function l(e){return Object(r.a)({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e)}},function(e,t,n){"use strict";(function(t,r){var i=65536,o=4294967295;var a=n(24).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>i)for(var c=0;c<e;c+=i)s.getRandomValues(n.slice(c,c+i));else s.getRandomValues(n);if("function"===typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(39),n(41))},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s;if("string"===typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var c=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(233),o=n(237);n(18)(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(41))},function(e,t,n){var r=n(24).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(a+=u)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s;if("string"===typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var c=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(263),o=n(267);n(18)(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(42),i=n(46),o=n(1),a=n.n(o),s=n(70),c=(n(21),n(5)),u=n(35),l=n(63),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},g=a.a.forwardRef;"undefined"===typeof g&&(g=p);var v=g((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(u.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(c.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==g&&t||n,a.a.createElement("a",l)}));var m=g((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,s=e.to,f=e.innerRef,m=Object(u.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(d(s,e.location),e.location),u=r?n.createHref(r):"",v=Object(c.a)({},m,{href:u,navigate:function(){var t=d(s,e.location);(o?n.replace:n.push)(t)}});return p!==g?v.ref=t||f:v.innerRef=f,a.a.createElement(i,v)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,g=e.exact,v=e.isActive,A=e.location,_=e.sensitive,E=e.strict,w=e.style,I=e.to,S=e.innerRef,k=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=A||e.location,o=h(d(I,n),n),u=o.pathname,C=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=C?Object(r.e)(n.pathname,{path:C,exact:g,sensitive:_,strict:E}):null,T=!!(v?v(O,n):O),R=T?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,x=T?Object(c.a)({},w,{},f):w,M=Object(c.a)({"aria-current":T&&i||null,className:R,style:x,to:o},k);return y!==b?M.ref=t||S:M.innerRef=S,a.a.createElement(m,M)}))}))},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(45);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(111),i=n(165);function o(e,t,n){return(o=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(358),i=Object(r.a)();t.a=i},function(e,t,n){"use strict";(function(t,r){var i=n(386),o=n(178),a=n(227),s=n(119),c=n(92),u=n(71),l=n(72),f=n(228),d=n(61),h=n(62),p=n(0),g=n(397),v=n(229),m=n(398);e.exports=function(){var e,n,y,b,A;function _(e,t,n){return e(n={path:t,exports:{},require:function(e,t){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},n.exports),n.exports}function E(e,t,n){return(e=e.match(t))&&e.length>=n&&Za(e[n],10)}function w(e,t,n){if(e.RTCPeerConnection){var r=(e=e.RTCPeerConnection.prototype).addEventListener;e.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var o=function(e){(e=n(e))&&i(e)};return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[e,o])};var i=e.removeEventListener;e.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Ka(e,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function I(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):($a=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function S(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(es=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function k(){"object"!=typeof window||$a||"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}function C(e,t){es&&console.warn(e+" is deprecated, please use "+t+" instead.")}function O(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=E(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=E(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=E(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=E(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function T(e){var t;return"[object Object]"===Object.prototype.toString.call(e)?za(t=Ba(e)).call(t,(function(t,n){var r="[object Object]"===Object.prototype.toString.call(e[n]),i=r?T(e[n]):e[n];return r=r&&!Ba(i).length,void 0===i||r?t:ja(t,m({},n,i))}),{}):e}function R(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new pa;if(null===t)return i;var o=[];return xa(e).call(e,(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),xa(o).call(o,(function(t){xa(e).call(e,(function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){var i;n&&!r.has(n.id)&&(r.set(n.id,n),xa(i=Ba(n)).call(i,(function(i){if(Sa(i).call(i,"Id"))e(t,t.get(n[i]),r);else if(Sa(i).call(i,"Ids")){var o;xa(o=n[i]).call(o,(function(n){e(t,t.get(n),r)}))}})))}(e,n,i)}))})),i}function x(e){var t=e&&e.navigator;if(t.mediaDevices){var n=O(e),r=function(e){var t;if("object"!=typeof e||e.mandatory||e.optional)return e;var n,r={};return xa(t=Ba(e)).call(t,(function(t){if("require"!==t&&"advanced"!==t&&"mediaSource"!==t){var n="object"==typeof e[t]?e[t]:{ideal:e[t]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i,o=function(e,t){return e?e+t.charAt(0).toUpperCase()+au(t).call(t,1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){r.optional=r.optional||[];var a={};"number"==typeof n.ideal?(a[o("min",t)]=n.ideal,r.optional.push(a),(a={})[o("max",t)]=n.ideal,r.optional.push(a)):(a[o("",t)]=n.ideal,r.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(r.mandatory=r.mandatory||{},r.mandatory[o("",t)]=n.exact):xa(i=["min","max"]).call(i,(function(e){void 0!==n[e]&&(r.mandatory=r.mandatory||{},r.mandatory[o(e,t)]=n[e])}))}})),e.advanced&&(r.optional=bs(n=r.optional||[]).call(n,e.advanced)),r},i=function(e,i){if(61<=n.version)return i(e);if((e=JSON.parse(ri(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(ri(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){var a,s=e.video.facingMode;if(s=s&&("object"==typeof s?s:{ideal:s}),o=66>n.version,!(!s||"user"!==s.exact&&"environment"!==s.exact&&"user"!==s.ideal&&"environment"!==s.ideal||t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!o)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?a=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(a=["front"]),a))return t.mediaDevices.enumerateDevices().then((function(t){t=Es(t).call(t,(function(e){return"videoinput"===e.kind}));var n=lu(t).call(t,(function(e){return wu(a).call(a,(function(t){var n;return Au(n=e.label.toLowerCase()).call(n,t)}))}));return!n&&t.length&&Au(a).call(a,"back")&&(n=t[t.length-1]),n&&(e.video.deviceId=s.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),Iu("chrome: "+ri(e)),i(e)}));e.video=r(e.video)}return Iu("chrome: "+ri(e)),i(e)},o=function(e){return 64<=n.version?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(e=function(e,n,r){i(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(o(e))}))}))},t.getUserMedia=gu(e).call(e,t),t.mediaDevices.getUserMedia){var a,s=gu(a=t.mediaDevices.getUserMedia).call(a,t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return s(e).then((function(t){var n;if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw xa(n=t.getTracks()).call(n,(function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Fc.reject(o(e))}))}))}}}}function M(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function N(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)w(e,"track",(function(e){return e.transceiver||Ka(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Ka(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){var r;t.stream.addEventListener("addtrack",(function(r){var i,o;i=e.RTCPeerConnection.prototype.getReceivers?lu(o=n.getReceivers()).call(o,(function(e){return e.track&&e.track.id===r.track.id})):{track:r.track},(o=new Event("track")).track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),xa(r=t.stream.getTracks()).call(r,(function(r){var i,o;i=e.RTCPeerConnection.prototype.getReceivers?lu(o=n.getReceivers()).call(o,(function(e){return e.track&&e.track.id===r.id})):{track:r},(o=new Event("track")).track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function D(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){var e;return this._senders=this._senders||[],au(e=this._senders).call(e)};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t;r.apply(this,arguments);var n,i=eu(t=this._senders).call(t,e);-1!==i&&Wc(n=this._senders).call(n,i,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n,r=this;this._senders=this._senders||[],i.apply(this,[e]),xa(n=e.getTracks()).call(n,(function(e){r._senders.push(t(r,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t,n=this;this._senders=this._senders||[],o.apply(this,[e]),xa(t=e.getTracks()).call(t,(function(e){var t,r,i,o=lu(t=n._senders).call(t,(function(t){return t.track===e}));o&&Wc(r=n._senders).call(r,eu(i=n._senders).call(i,o),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return xa(t).call(t,(function(t){return t._pc=e})),t},Ka(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function j(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(0<arguments.length&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var a=function(e){var t={};return e=e.result(),xa(e).call(e,(function(e){var n,r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};xa(n=e.names()).call(n,(function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){var t;return new pa(Vc(t=Ba(e)).call(t,(function(t){return[t,e[t]]})))};return 2<=arguments.length?t.apply(this,[function(e){i(s(a(e)))},r]):new Fc((function(n,r){t.apply(e,[function(e){n(s(a(e)))},r])})).then(i,o)}}}function L(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return xa(n).call(n,(function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return R(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return xa(t).call(t,(function(t){return t._pc=e})),t}),w(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return R(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o,a,s=arguments[0];return xa(t=this.getSenders()).call(t,(function(e){e.track===s&&(r?a=!0:r=e)})),xa(n=this.getReceivers()).call(n,(function(e){return e.track===s&&(o?a=!0:o=e),e.track===s})),a||r&&o?Fc.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Fc.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function B(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e,t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Vc(e=Ba(this._shimmedLocalStreams)).call(e,(function(e){return t._shimmedLocalStreams[e][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var r;if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===eu(r=this._shimmedLocalStreams[n.id]).call(r,i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t,r,i,o=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},xa(t=e.getTracks()).call(t,(function(e){var t;if(lu(t=o.getSenders()).call(t,(function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var a=this.getSenders();n.apply(this,arguments),t=Es(r=this.getSenders()).call(r,(function(e){return-1===eu(a).call(a,e)})),this._shimmedLocalStreams[e.id]=bs(i=[e]).call(i,t)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&xa(t=Ba(this._shimmedLocalStreams)).call(t,(function(t){var r,i,o=eu(r=n._shimmedLocalStreams[t]).call(r,e);-1!==o&&Wc(i=n._shimmedLocalStreams[t]).call(i,o,1),1===n._shimmedLocalStreams[t].length&&delete n._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function P(e){function t(e,t){var n,r=t.sdp;return xa(n=Ba(e._reverseStreams||[])).call(n,(function(t){t=e._reverseStreams[t],r=r.replace(new RegExp(e._streams[t.id].id,"g"),t.id)})),new RTCSessionDescription({type:t.type,sdp:r})}function n(e,t){var n,r=t.sdp;return xa(n=Ba(e._reverseStreams||[])).call(n,(function(t){t=e._reverseStreams[t],r=r.replace(new RegExp(t.id,"g"),e._streams[t.id].id)})),new RTCSessionDescription({type:t.type,sdp:r})}var r;if(e.RTCPeerConnection){var i=O(e);if(e.RTCPeerConnection.prototype.addTrack&&65<=i.version)return B(e);var o=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=o.apply(this);return this._reverseStreams=this._reverseStreams||{},Vc(t).call(t,(function(t){return e._reverseStreams[t.id]}))};var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n,r=this;this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},xa(n=t.getTracks()).call(n,(function(e){var t;if(lu(t=r.getSenders()).call(t,(function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),this._reverseStreams[t.id]||(n=new e.MediaStream(t.getTracks()),this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n),a.apply(this,[t])};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r,i,o,a=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var s=au([]).call(arguments,1);if(1!==s.length||!lu(r=s[0].getTracks()).call(r,(function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(lu(i=this.getSenders()).call(i,(function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");return this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},(r=this._streams[n.id])?(r.addTrack(t),Fc.resolve().then((function(){a.dispatchEvent(new Event("negotiationneeded"))}))):(r=new e.MediaStream([t]),this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)),lu(o=this.getSenders()).call(o,(function(e){return e.track===t}))},xa(r=["createOffer","createAnswer"]).call(r,(function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=m({},n,(function(){var e=this,n=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){r=t(e,r),n[0].apply(null,[r])},function(e){n[1]&&n[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(n){return t(e,n)}))}))[n]}));var c=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=n(this,arguments[0]),c.apply(this,arguments)):c.apply(this,arguments)};var u=os(e.RTCPeerConnection.prototype,"localDescription");Ka(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=u.get.apply(this);return""===e.type?e:t(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},xa(t=Ba(this._streams)).call(t,(function(t){var i;lu(i=r._streams[t].getTracks()).call(i,(function(t){return e.track===t}))&&(n=r._streams[t])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}}function U(e){var t=O(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){var n;53>t.version&&xa(n=["setLocalDescription","setRemoteDescription","addIceCandidate"]).call(n,(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=m({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}))[t]}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?78>t.version&&arguments[0]&&""===arguments[0].candidate?Fc.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Fc.resolve())}}}function F(e){w(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))}function Q(e,t,n,r,i){return t=Pu.writeRtpDescription(e.kind,t),t+=Pu.writeIceParameters(e.iceGatherer.getLocalParameters()),t+=Pu.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),t+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?t+="a=sendrecv\r\n":e.rtpSender?t+="a=sendonly\r\n":e.rtpReceiver?t+="a=recvonly\r\n":t+="a=inactive\r\n",e.rtpSender&&(n=e.rtpSender._initialTrackId||e.rtpSender.track.id,e.rtpSender._initialTrackId=n,t=t+"a="+(r="msid:"+(r?r.id:"-")+" "+n+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+r,e.sendEncodingParameters[0].rtx&&(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+r,t+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")),t+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+Pu.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+Pu.localCName+"\r\n"),t}function z(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){return e=r(e.parameters.apt,n),t=r(t.parameters.apt,i),e&&t&&e.name.toLowerCase()===t.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate&&("rtx"!==r.name.toLowerCase()||!r.parameters||!a.parameters.apt||i(r,a,e.codecs,t.codecs))){(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function V(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function K(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function G(e,t){return(t=Error(t)).name=e,t.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],t}function H(e){var t;e=e&&e.navigator;var n=gu(t=e.mediaDevices.getUserMedia).call(t,e.mediaDevices);e.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Fc.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}function q(e){var t;"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=gu(t=e.navigator.getDisplayMedia).call(t,e.navigator)))}function W(e){var t=O(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),15025>t.version)){var n=os(e.MediaStreamTrack.prototype,"enabled");Ka(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Ka(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=Uu(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){var n=!1;return e=JSON.parse(ri(e)),Es(e).call(e,(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&C("RTCIceServer.url","RTCIceServer.urls");var r="string"==typeof t;return r&&(t=[t]),t=Es(t).call(t,(function(e){return 0!==eu(e).call(e,"stun:")&&((e=xu(e).call(e,"turn")&&!xu(e).call(e,"turn:[")&&Au(e).call(e,"transport=udp"))&&!n?(n=!0,!0):e&&!n)})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}(e.iceServers,t.version),k("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function Y(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function J(e){var t=O(e),n=e&&e.navigator;if(e=e&&e.MediaStreamTrack,n.getUserMedia=function(e,t,r){C("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(55<t.version&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var r,i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=gu(r=n.mediaDevices.getUserMedia).call(r,n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(ri(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},e&&e.prototype.getSettings){var a=e.prototype.getSettings;e.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(e&&e.prototype.applyConstraints){var s=e.prototype.applyConstraints;e.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(ri(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function X(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Ka(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Z(e){var t=O(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){var n;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),53>t.version&&xa(n=["setLocalDescription","setRemoteDescription","addIceCandidate"]).call(n,(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=m({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}))[t]}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?68>t.version&&arguments[0]&&""===arguments[0].candidate?Fc.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Fc.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],a=e[2];return o.apply(this,[n||null]).then((function(e){if(53>t.version&&!r)try{xa(e).call(e,(function(e){e.type=i[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;xa(e).call(e,(function(t,n){e.set(n,ja({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,a)}}}function $(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return xa(n).call(n,(function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Fc.resolve(new pa)}}}function ee(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return xa(n).call(n,(function(t){return t._pc=e})),n}),w(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function te(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t,n=this;C("removeStream","removeTrack"),xa(t=this.getSenders()).call(t,(function(t){var r;t.track&&Au(r=e.getTracks()).call(r,t.track)&&n.removeTrack(t)}))})}function ne(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function re(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n,r,i,o=this;this._localStreams||(this._localStreams=[]),Au(n=this._localStreams).call(n,e)||this._localStreams.push(e),xa(r=e.getAudioTracks()).call(r,(function(n){return t.call(o,n,e)})),xa(i=e.getVideoTracks()).call(i,(function(n){return t.call(o,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){var r;return n&&(this._localStreams?Au(r=this._localStreams).call(r,n)||this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t,n,r,i=this;this._localStreams||(this._localStreams=[]);var o=eu(t=this._localStreams).call(t,e);if(-1!==o){Wc(n=this._localStreams).call(n,o,1);var a=e.getTracks();xa(r=this.getSenders()).call(r,(function(e){Au(a).call(a,e.track)&&i.removeTrack(e)}))}})}}function ie(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Ka(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){var n;xa(n=e.streams).call(n,(function(e){var n;t._remoteStreams||(t._remoteStreams=[]),Au(n=t._remoteStreams).call(n,e)||(t._remoteStreams.push(e),(n=new Event("addstream")).stream=e,t.dispatchEvent(n))}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){var n;xa(n=t.streams).call(n,(function(t){var n;e._remoteStreams||(e._remoteStreams=[]),0<=eu(n=e._remoteStreams).call(n,t)||(e._remoteStreams.push(t),(n=new Event("addstream")).stream=t,e.dispatchEvent(n))}))}),t.apply(e,arguments)}}}function oe(e){if("object"==typeof e&&e.RTCPeerConnection){var t=(e=e.RTCPeerConnection.prototype).createOffer,n=e.createAnswer,r=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(e,n){var r=t.apply(this,[2<=arguments.length?arguments[2]:arguments[0]]);return n?(r.then(e,n),Fc.resolve()):r},e.createAnswer=function(e,t){var r=n.apply(this,[2<=arguments.length?arguments[2]:arguments[0]]);return t?(r.then(e,t),Fc.resolve()):r};var a=function(e,t,n){return e=r.apply(this,[e]),n?(e.then(t,n),Fc.resolve()):e};e.setLocalDescription=a,a=function(e,t,n){return e=i.apply(this,[e]),n?(e.then(t,n),Fc.resolve()):e},e.setRemoteDescription=a,a=function(e,t,n){return e=o.apply(this,[e]),n?(e.then(t,n),Fc.resolve()):e},e.addIceCandidate=a}}function ae(e){var t,n=e&&e.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){var r;e=n.mediaDevices;var i=gu(r=e.getUserMedia).call(r,e);n.mediaDevices.getUserMedia=function(e){return i(se(e))}}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=gu(t=function(e,t,r){n.mediaDevices.getUserMedia(e).then(t,r)}).call(t,n))}function se(e){return e&&void 0!==e.video?ja({},e,{video:T(e.video)}):e}function ce(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(C("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(ri(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Ka(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function ue(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Ka(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function le(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){var n,r;void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var i=lu(n=this.getTransceivers()).call(n,(function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveAudio||i||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo),n=lu(r=this.getTransceivers()).call(r,(function(e){return"video"===e.receiver.track.kind})),!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function fe(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){var n;if("object"==typeof e&&e.candidate&&0===eu(n=e.candidate).call(n,"a=")&&((e=JSON.parse(ri(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){n=new t(e),e=Pu.parseCandidate(e.candidate);var r=ja(n,e);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,w(e,"icecandidate",(function(t){return t.candidate&&Ka(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function de(e){if(e.RTCPeerConnection){var t=O(e);"sctp"in e.RTCPeerConnection.prototype||Ka(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){return!(!e||!e.sdp)&&((e=Pu.splitSections(e.sdp)).shift(),wu(e).call(e,(function(e){var t;return(e=Pu.parseMLine(e))&&"application"===e.kind&&-1!==eu(t=e.protocol).call(t,"SCTP")})))},r=function(e){return null===(e=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/))||2>e.length||(e=Za(e[1],10))!=e?-1:e},i=function(e){var n=65536;return"firefox"===t.browser&&(n=57>t.version?-1===e?16384:2147483637:60>t.version?57===t.version?65535:65536:2147483637),n},o=function(e,n){var r=65536;return"firefox"===t.browser&&57===t.version&&(r=65535),0<(e=Pu.matchPrefix(e.sdp,"a=max-message-size:")).length?r=Za(e[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&76<=t.version){var e=this.getConfiguration().sdpSemantics;"plan-b"===e&&Ka(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var s,c=r(arguments[0]);e=i(c),c=o(arguments[0],c),s=0===e&&0===c?Number.POSITIVE_INFINITY:0===e||0===c?Math.max(e,c):Math.min(e,c),Ka(e={},"maxMessageSize",{get:function(){return s}}),this._sctp=e}return a.apply(this,arguments)}}}function he(e){function t(e,t){var n=e.send;e.send=function(){var r=arguments[0];if(r=r.length||r.size||r.byteLength,"open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e},w(e,"datachannel",(function(e){return t(e.channel,e.target),e}))}}function pe(e){var t;if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var n=e.RTCPeerConnection.prototype;Ka(n,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Ka(n,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),xa(t=["setLocalDescription","setRemoteDescription"]).call(t,(function(e){var t=n[e];n[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}}))}}function ge(e){if(e.RTCPeerConnection){var t=O(e);if(!("chrome"===t.browser&&71<=t.version)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t,r;return e&&e.sdp&&-1!==eu(t=e.sdp).call(t,"\na=extmap-allow-mixed")&&(e.sdp=Es(r=e.sdp.split("\n")).call(r,(function(e){return"a=extmap-allow-mixed"!==Bu(e).call(e)})).join("\n")),n.apply(this,arguments)}}}}function ve(e){return"string"==typeof e?ja({},Wu[e]):e}function me(e){return"string"==typeof e?ja({},Yu[e]):e}function ye(e){return"string"==typeof e?ja({},Ju[e]):e}function be(e){return"string"==typeof e?ja({},Xu[e]):e}function Ae(e,t){var n;Au(n=Ba(Zu)).call(n,e)&&(Zu[e]=t)}function _e(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function Ee(e,t,n,r,i){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:i}}function we(e,t,n,r,i){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:i}}function Ie(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}function Se(e){return"[object Array]"===dl.call(e)}function ke(e){return null!==e&&"object"==typeof e}function Ce(e){return"[object Function]"===dl.call(e)}function Oe(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Se(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function Te(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Re(){this.handlers=[]}function xe(e,t){!hl.isUndefined(e)&&hl.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Me(e){this.defaults=e,this.interceptors={request:new gl,response:new gl}}function Ne(e){this.message=e}function De(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new Tl(e),t(n.reason))}))}function je(e){e=new Ol(e);var t=fl(Ol.prototype.request,e);return hl.extend(t,Ol.prototype,e),hl.extend(t,e),t}function Le(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function Be(e,t){if("boolean"!=typeof e)throw new Pl(ul.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function Pe(e,t,n){var r;if(!Au(n).call(n,e))throw new Pl(ul.INVALID_PARAMS,bs(r="".concat(t," can only be set as ")).call(r,ri(n)))}function Ue(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<i||e>o||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&("number"!=typeof e||0!=e%1))throw new Pl(ul.INVALID_PARAMS,bs(n=bs(r="invalid ".concat(t,": the value range is [")).call(r,i,", ")).call(n,o,"]. integer only"))}function Fe(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new Pl(ul.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!Ke(e,o,a,s))throw new Pl(ul.INVALID_PARAMS,bs(n=bs(r=bs(i="Invalid ".concat(t||"string param",": Length of the string: [")).call(i,o,",")).call(r,a,"].")).call(n,s?" ASCII characters only.":""))}function Qe(e,t){if(!ll(e))throw new Pl(ul.INVALID_PARAMS,"".concat(t," should be an array"))}function ze(e){if("string"!=typeof e||!/^[a-zA-Z0-9 !#\$%&\(\)\+\-:;<=\.>\?@\[\]\^_\{\}\|~,]{1,64}$/.test(e))throw Bl.error("Invalid Channel Name ".concat(e)),new Pl(ul.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function Ve(e){var t;if(!("number"==typeof e&&Math.floor(e)===e&&0<=e&&4294967295>=e||Ke(e,1,255)))throw Bl.error(bs(t="Invalid UID ".concat(e," ")).call(t,typeof e)),new Pl(ul.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t="string"==typeof e&&e.length<=n&&e.length>=t){if(!(r=!r))e:if("string"!=typeof e)r=!1;else{for(r=0;r<e.length;r+=1)if(0>(t=e.charCodeAt(r))||255<t){r=!1;break e}r=!0}t=r}return t}function Ge(e){return Fe(e.reportId,"params.reportId",0,100,!1),Fe(e.category,"params.category",0,100,!1),Fe(e.event,"params.event",0,100,!1),Fe(e.label,"params.label",0,100,!1),Ue(e.value,"params.value",-9007199254740991,9007199254740991,!1),!0}function He(e){return Ue(e.timeout,"config.timeout",0,1e5),Ue(e.timeoutFactor,"config.timeoutFactor",0,100,!1),Ue(e.maxRetryCount,"config.maxRetryConfig",0,1/0),Ue(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function qe(e){if(!ll(e)||1>e.length)return!1;try{xa(e).call(e,(function(e){if(!e.urls)throw Error()}))}catch(t){return!1}return!0}function We(e){return Fe(e.turnServerURL,"turnServerURL"),Fe(e.username,"username"),Fe(e.password,"password"),e.udpport&&Ue(e.udpport,"udpport",1,99999,!0),e.forceturn&&Be(e.forceturn,"forceturn"),e.security&&Be(e.security,"security"),e.tcpport&&Ue(e.tcpport,"tcpport",1,99999,!0),!0}function Ye(e){return void 0!==e.level&&Pe(e.level,"level",[1,2,3]),!0}function Je(e,t){Fe(e.url,"".concat(t,".url"),1,1e3,!1),null==e.x||Ue(e.x,"".concat(t,".x"),0,1e4),null==e.y||Ue(e.y,"".concat(t,".y"),0,1e4),null==e.width||Ue(e.width,"".concat(t,".width"),0,1e4),null==e.height||Ue(e.height,"".concat(t,".height"),0,1e4),null==e.zOrder||Ue(e.zOrder,"".concat(t,".zOrder"),0,255),null==e.alpha||Ue(e.alpha,"".concat(t,".alpha"),0,1,!1)}function Xe(e){if(!e.channelName)throw new Pl(ul.INVALID_PARAMS,"invalid channelName in info");if(!e.uid||"number"!=typeof e.uid)throw new Pl(ul.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&Fe(e.token,"info.token",1,2047),Ve(e.uid),ze(e.channelName),!0}function Ze(e){return Pe(e,"mediaSource",["screen","window","application"]),!0}function $e(e){var t,n,r,i,o=(e=e||navigator.userAgent).match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===o[1]){var a=e.match(/(OPR(?=\/))\/?(\d+)/i);null!==a&&(o=a)}"Safari"===o[1]&&null!==(a=e.match(/version\/(\d+)/i))&&(o[2]=a[1]),-1!==eu(t=e.toLowerCase()).call(t,"qqbrowser")&&null!==(t=e.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(o=t),-1!==eu(n=e.toLowerCase()).call(n,"micromessenger")&&null!==(n=e.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(o=n),-1!==eu(r=e.toLowerCase()).call(r,"edge")&&null!==(r=e.match(/(edge(?=\/))\/?(\d+)/i))&&(o=r),-1!==eu(i=e.toLowerCase()).call(i,"trident")&&null!==(i=/\brv[ :]+(\d+)/g.exec(e)||[])&&(o=["","IE",i[1]]),i=null,r=[{s:Mu.WIN_10,r:/(Windows 10.0|Windows NT 10.0)/},{s:Mu.WIN_81,r:/(Windows 8.1|Windows NT 6.3)/},{s:Mu.WIN_8,r:/(Windows 8|Windows NT 6.2)/},{s:Mu.WIN_7,r:/(Windows 7|Windows NT 6.1)/},{s:Mu.WIN_VISTA,r:/Windows NT 6.0/},{s:Mu.WIN_SERVER_2003,r:/Windows NT 5.2/},{s:Mu.WIN_XP,r:/(Windows NT 5.1|Windows XP)/},{s:Mu.WIN_2000,r:/(Windows NT 5.0|Windows 2000)/},{s:Mu.ANDROID,r:/Android/},{s:Mu.OPEN_BSD,r:/OpenBSD/},{s:Mu.SUN_OS,r:/SunOS/},{s:Mu.LINUX,r:/(Linux|X11)/},{s:Mu.IOS,r:/(iPhone|iPad|iPod)/},{s:Mu.MAC_OS_X,r:/Mac OS X/},{s:Mu.MAC_OS,r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:Mu.QNX,r:/QNX/},{s:Mu.UNIX,r:/UNIX/},{s:Mu.BEOS,r:/BeOS/},{s:Mu.OS_2,r:/OS\/2/},{s:Mu.SEARCH_BOT,r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];var s,c=v(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.r.test(e)){i=u.s;break}}}catch(l){c.e(l)}finally{c.f()}return{name:o[1],version:o[2],os:i}}function et(){return $e().name===Nu.CHROME}function tt(){return $e().name===Nu.FIREFOX}function nt(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&35>=window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]}function rt(){var e=$e();return e.name!==Nu.EDGE&&e.name!==Nu.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function it(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e,t,n){return new Fc((function(r,i){t.timeout=t.timeout||Zu.HTTP_CONNECT_TIMEOUT,t.responseType=t.responseType||"json",t.data&&!n?(t.data=ri(t.data),Qt(t.data)):n&&t.data.size,t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,Dl.request(t).then((function(e){"string"==typeof e.data?Qt(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?e.data.byteLength:Qt(ri(e.data)),r(e.data)})).catch((function(e){Dl.isCancel(e)?i(new Pl(ul.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?i(new Pl(ul.NETWORK_TIMEOUT,e.message)):e.response?i(new Pl(ul.NETWORK_RESPONSE_ERROR,e.response.status)):i(new Pl(ul.NETWORK_ERROR,e.message))}))}))}function at(e,t){return st.apply(this,arguments)}function st(){return(st=g(p.mark((function e(t,n){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([n.data],{type:"buffer"}),e.next=3,ot(t,function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=it(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=it(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}({},n,{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=ct(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=ct(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:Nd};return function(t,n,r){var i=t[n];if("function"==typeof i){var o="AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name;r.value=function(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var c=e.report.reportApiInvoke(this._sessionId||null,{name:bs(t="".concat(o,".")).call(t,n),options:a,tag:Vl.TRACER});try{var u=i.apply(this,a);return c.onSuccess(),u}catch(l){throw c.onError(l),l}}}return r}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:Nd};return function(t,n,r){var i=t[n];if("function"==typeof i){var o="AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name;r.value=g(p.mark((function t(){var r,a,s,c,u,l,f=arguments;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=f.length,s=new Array(a),c=0;c<a;c++)s[c]=f[c];return u=e.report.reportApiInvoke(this._sessionId||null,{name:bs(r="".concat(o,".")).call(r,n),options:s,tag:Vl.TRACER}),t.prev=2,t.next=5,i.apply(this,s);case 5:return l=t.sent,t.abrupt("return",(u.onSuccess(),l));case 9:throw t.prev=9,t.t0=t.catch(2),u.onError(t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])})))}return r}}function dt(){Pd?(Bl.info("create audio context"),(Ud=new Pd).onstatechange=function(){Fd.emit("state-change")},function(e){function t(t){"running"===e.state?n(!1):"closed"!==e.state&&(n(!0),t?e.resume().then(r,r):n(!1))}function n(e){if(f!==e){f=e;for(var t=0,n=l;t<n.length;t+=1){var r=n[t];e?window.addEventListener(r,i,{capture:!0,passive:!0}):window.removeEventListener(r,i,{capture:!0,passive:!0})}}}function r(){t(!1)}function i(){t(!0)}function o(e){if(!h)if(u.paused)if(e){a(!1),h=!0,e=void 0;try{(e=u.play())?e.then(s,s):(u.addEventListener("playing",s),u.addEventListener("abort",s),u.addEventListener("error",s))}catch(t){s()}}else a(!0);else a(!1)}function a(e){if(d!==e){d=e;for(var t=0,n=l;t<n.length;t++){var r=n[t];e?window.addEventListener(r,c,{capture:!0,passive:!0}):window.removeEventListener(r,c,{capture:!0,passive:!0})}}}function s(){u.removeEventListener("playing",s),u.removeEventListener("abort",s),u.removeEventListener("error",s),h=!1,o(!1)}function c(){o(!0)}var u,l="click contextmenu auxclick dblclick mousedown mouseup touchend keydown keyup".split(" "),f=!1,d=!1,h=!1;if($e().os===Mu.IOS){var p=e.createOscillator();p.type="square",p.frequency.setValueAtTime(440,e.currentTime),p.start();var g=e.createGain();g.gain.setValueAtTime(0,e.currentTime);var v=e.createMediaStreamDestination();p.connect(g),g.connect(v),(p=document.createElement("div")).innerHTML="<audio x-webkit-airplay='deny'></audio>",(u=p.children.item(0)).controls=!1,u.disableRemotePlayback=!0,u.preload="auto",u.srcObject=v.stream,o(!0)}e.onstatechange=function(){t(!0)},t(!1)}(Ud)):Bl.error("your browser is not support web audio")}function ht(){if(!Ud&&(dt(),!Ud))throw new Pl(ul.NOT_SUPPORTED,"can not create audio context");return Ud}function pt(e){if(!function(){if(null!==Qd)return Qd;var e=ht(),t=e.createBufferSource(),n=e.createGain();e=e.createGain(),t.connect(n),t.connect(e),t.disconnect(n),e=!1;try{t.disconnect(n)}catch(r){e=!0}return t.disconnect(),Qd=e,e}()){Bl.debug("polyfill audio node");var t=e.connect,n=e.disconnect;e.connect=function(n,r,i){var o;return e._inputNodes||(e._inputNodes=[]),Au(o=e._inputNodes).call(o,n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,i)):t.call(e,n,r)),e},e.disconnect=function(r,i,o){n.call(e),r?Xt(e._inputNodes,r):e._inputNodes=[];var a,s=v(e._inputNodes);try{for(s.s();!(a=s.n()).done;){var c=a.value;t.call(e,c)}}catch(u){s.e(u)}finally{s.f()}}}}function gt(e,t){var n=1/t,r=ht(),i=r.createGain();i.gain.value=0,i.connect(r.destination);var o=!1;return function t(){if(o)i=null;else{var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime)}}(),function(){o=!0}}function vt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=g(p.mark((function e(t,n){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxHeight:(r=function(e,t){return e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t})(n.height,1080),maxWidth:r(n.width,1920)}}},n.frameRate&&"number"!=typeof n.frameRate?(t.video.mandatory.maxFrameRate=n.frameRate.max,t.video.mandatory.minFrameRate=n.frameRate.min):"number"==typeof n.frameRate&&(t.video.mandatory.maxFrameRate=n.frameRate),e.next=5,navigator.mediaDevices.getUserMedia(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return bt.apply(this,arguments)}function bt(){return(bt=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e){return new Fc((function(t,n){var r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");var a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");var c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=function(){document.body.removeChild(u);var e=Error("NotAllowedError");e.name="NotAllowedError",n(e)},s.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(s);var u=document.createElement("div");u.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),u.appendChild(r),u.appendChild(i),document.body.appendChild(u),Vc(e).call(e,(function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var r=e.thumbnail;1920<r.getSize().width&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=function(){document.body.removeChild(u),t(e.id)},a.appendChild(n)}}))}))},e.next=3,At(t.mediaSource);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:return n=e.sent,e.next=9,vt(n,t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return _t.apply(this,arguments)}function _t(){return(_t=g(p.mark((function e(t){var n,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=["window","screen"],"application"!==t&&"window"!==t||(n=["window"]),"screen"===t&&(n=["screen"]),r=Et()){e.next=6;break}throw new Pl(ul.ELECTRON_IS_NULL);case 6:t=null;try{t=r.desktopCapturer.getSources({types:n})}catch(i){t=null}return t&&t.then||(t=new Fc((function(e,t){r.desktopCapturer.getSources({types:n},(function(n,r){n?t(n):e(r)}))}))),e.prev=9,e.next=12,t;case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(9),new Pl(ul.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.t0.toString());case 18:case"end":return e.stop()}}),e,null,[[9,15]])})))).apply(this,arguments)}function Et(){if(Kd)return Kd;try{return Kd=window.require("electron")}catch(Du){return null}}function wt(e,t){return It.apply(this,arguments)}function It(){return(It=g(p.mark((function e(t,n){var r,i,o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,i=null;case 1:if(!(2>r)){e.next=24;break}return e.prev=2,e.next=5,St(t,n,0<r);case 5:return i=e.sent,e.abrupt("break",24);case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof Pl)){e.next=13;break}throw Bl.error(bs(a="[".concat(n,"] ")).call(a,e.t0.toString())),e.t0;case 13:if((s=Ct(e.t0.name||e.t0.code||e.t0,e.t0.message)).code!==ul.MEDIA_OPTION_INVALID){e.next=21;break}return Bl.debug("[".concat(n,"] detect media option invalid, retry")),r+=1,e.next=19,zt(500);case 19:e.next=22;break;case 21:throw Bl.error(bs(o="[".concat(n,"] ")).call(o,s.toString())),s;case 22:e.next=1;break;case 24:if(i){e.next=26;break}throw new Pl(ul.UNEXPECTED_ERROR,"can not find stream after getUserMedia");case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function St(e,t,n){return kt.apply(this,arguments)}function kt(){return(kt=g(p.mark((function e(t,n,r){var i,o,a,s,c;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Pl(ul.NOT_SUPPORTED,"can not find getUserMedia");case 2:if(r&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height)),i=Nf,r=new MediaStream,t.audioSource&&r.addTrack(t.audioSource),t.videoSource&&r.addTrack(t.videoSource),t.audio||t.video||t.screen){e.next=7;break}return e.abrupt("return",(Bl.debug("Using Video Source/ Audio Source"),r));case 7:if(!t.screen){e.next=65;break}if(!Et()){e.next=26;break}if(!t.screen.sourceId){e.next=18;break}return e.t0=Ot,e.t1=r,e.next=14,vt(t.screen.sourceId,t.screen);case 14:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=24;break;case 18:return e.t3=Ot,e.t4=r,e.next=22,yt(t.screen);case 22:e.t5=e.sent,(0,e.t3)(e.t4,e.t5);case 24:e.next=65;break;case 26:if(!(et()&&t.screen.extensionId&&t.screen.mandatory)){e.next=42;break}if(i.getStreamFromExtension){e.next=29;break}throw new Pl(ul.NOT_SUPPORTED,"This browser does not support screen sharing");case 29:return Bl.debug("[".concat(n,'] Screen access on chrome stable, looking for extension"')),e.next=32,a=t.screen.extensionId,s=n,new Fc((function(e,t){try{chrome.runtime.sendMessage(a,{getStream:!0},(function(n){if(!n||!n.streamId)return Bl.error("[".concat(s,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new Pl(ul.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(r){var n;Bl.error(bs(n="[".concat(s,"] AgoraRTC screensharing plugin is not accessible(")).call(n,a,")"),r.toString()),t(new Pl(ul.CHROME_PLUGIN_NOT_INSTALL))}}));case 32:return o=e.sent,t.screen.mandatory.chromeMediaSourceId=o,e.t6=Ot,e.t7=r,e.next=38,navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}});case 38:e.t8=e.sent,(0,e.t6)(e.t7,e.t8),e.next=65;break;case 42:if(!i.getDisplayMedia){e.next=54;break}return t.screen.mediaSource&&Ze(t.screen.mediaSource),o={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:"screen"===t.screen.mediaSource?"monitor":t.screen.mediaSource},Bl.debug("[".concat(n,"] getDisplayMedia:"),ri({video:o,audio:!!t.screenAudio})),e.t9=Ot,e.t10=r,e.next=50,navigator.mediaDevices.getDisplayMedia({video:o,audio:!!t.screenAudio});case 50:e.t11=e.sent,(0,e.t9)(e.t10,e.t11),e.next=65;break;case 54:if(tt()){e.next=56;break}throw Bl.error("[".concat(n,"] This browser does not support screenSharing")),new Pl(ul.NOT_SUPPORTED,"This browser does not support screen sharing");case 56:return t.screen.mediaSource&&Ze(t.screen.mediaSource),i={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}},Bl.debug(bs(o="[".concat(n,"] getUserMedia: ")).call(o,ri(i))),e.t12=Ot,e.t13=r,e.next=63,navigator.mediaDevices.getUserMedia(i);case 63:e.t14=e.sent,(0,e.t12)(e.t13,e.t14);case 65:if(t.video||t.audio){e.next=67;break}return e.abrupt("return",r);case 67:if(t={video:t.video,audio:t.audio},Bl.debug("[".concat(n,"] GetUserMedia"),ri(t)),n=$e(),o=null,e.t15=n.name!==Nu.SAFARI&&n.os!==Mu.IOS,e.t15){e.next=76;break}return e.next=75,Gd.lock();case 75:o=e.sent;case 76:return e.prev=76,e.next=79,navigator.mediaDevices.getUserMedia(t);case 79:c=e.sent,e.next=85;break;case 82:throw e.prev=82,e.t16=e.catch(76),o&&o(),e.t16;case 85:return e.abrupt("return",(t.audio&&(Hd=!0),t.video&&(qd=!0),Ot(r,c),o&&o(),r));case 86:case"end":return e.stop()}}),e,null,[[76,82]])})))).apply(this,arguments)}function Ct(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":var n;return new Pl(ul.MEDIA_OPTION_INVALID,bs(n="".concat(e,": ")).call(n,t));case"NotFoundError":case"DevicesNotFoundError":var r;return new Pl(ul.DEVICE_NOT_FOUND,bs(r="".concat(e,": ")).call(r,t));case"NotSupportedError":var i;return new Pl(ul.NOT_SUPPORTED,bs(i="".concat(e,": ")).call(i,t));case"NotReadableError":var o;return new Pl(ul.NOT_READABLE,bs(o="".concat(e,": ")).call(o,t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":var a;return new Pl(ul.PERMISSION_DENIED,bs(a="".concat(e,": ")).call(a,t));case"ConstraintNotSatisfiedError":var s;return new Pl(ul.CONSTRAINT_NOT_SATISFIED,bs(s="".concat(e,": ")).call(s,t));default:var c;return Bl.error("getUserMedia unexpected error",e),new Pl(ul.UNEXPECTED_ERROR,bs(c="".concat(e,": ")).call(c,t))}}function Ot(e,t){var n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],i=t.getVideoTracks()[0];(t=t.getAudioTracks()[0])&&(r&&e.removeTrack(r),e.addTrack(t)),i&&(n&&e.removeTrack(n),e.addTrack(i))}function Tt(){if(!$d){var e=function e(t){t.preventDefault(),$d=!1,document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0)};$d=!0,document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0),eh.emit("autoplay-failed")}}function Rt(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Rt(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Rt(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Mt(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Mt(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Mt(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Dt(e){if(!e.address||!e.tcp)throw new Pl(ul.UNEXPECTED_RESPONSE,"Invalid address format ".concat(e));return e.address.match(/^[\.:\d]+$/)?"".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(Bl.info("Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),bs(t="".concat(e.address,":")).call(t,e.tcp));var t}function jt(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function Lt(e,t){var n=e.videoSend[0];return n?(t=t&&t.videoSend[0]?t.videoSend[0].inputFrame:void 0,e={id:Kt(10,""),timestamp:new Date(e.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:n.ssrc.toString()},n.inputFrame&&(t&&n.inputFrame.height===t.height||(e.A_fhi=n.inputFrame.height?n.inputFrame.height.toString():"0"),t&&n.inputFrame.width===t.width||(e.A_fwi=n.inputFrame.width?n.inputFrame.width.toString():"0"),t&&n.inputFrame.frameRate===t.frameRate||(e.A_fri=n.inputFrame.frameRate?n.inputFrame.frameRate.toString():"0")),e):null}function Bt(e){return 0<=e&&.17>e?1:.17<=e&&.36>e?2:.36<=e&&.59>e?3:.59<=e&&1>=e?4:1<e?5:0}function Pt(e,t){var n={};return e.height&&e.width&&(t=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height,n.scaleResolutionDownBy=t?t/jt(e.height):4),n.maxFramerate=e.framerate?jt(e.framerate):void 0,n.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,n}function Ut(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Ut(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Ut(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Qt(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function zt(e){return new Fc((function(t){window.setTimeout(t,e)}))}function Vt(e){var t=new Pl(ul.TIMEOUT,"timeout");return new Fc((function(n,r){window.setTimeout((function(){return r(t)}),e)}))}function Kt(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,r=arguments.length>1?arguments[1]:void 0,i=Math.random().toString(16).substr(2,n).toLowerCase();return i.length===n?bs(e="".concat(r)).call(e,i):bs(t="".concat(r)).call(t,i)+Kt(n-i.length,"")}function Gt(e){return new Fc((function(t,n){var r=!1,i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.muted=!0,i.autoplay=!0,i.setAttribute("playsinline",""),i.setAttribute("style","position: absolute; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(i),i.addEventListener("playing",(function(){!i.videoWidth&&tt()||(r=!0,i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))})),i.srcObject=new MediaStream([e]),i.play().catch(dh),wd((function(){r||(i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))}),4e3)}))}function Ht(e){return Fc.all(Vc(e).call(e,(function(e){return e.then((function(e){throw e}),(function(e){return e}))}))).then((function(e){throw e}),(function(e){return e}))}function qt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?Fc.reject(new Pl(ul.UNEXPECTED_ERROR,"can not emit promise")):new Fc((function(n,i){e.emit.apply(e,[t].concat(r,[n,i]))}))}function Wt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?Fc.resolve():qt.apply(void 0,[e,t].concat(r))}function Yt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?null:Jt.apply(void 0,[e,t].concat(r))}function Jt(e,t){for(var n=null,r=null,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(e.emit.apply(e,[t].concat(o,[function(e){n=e},function(e){r=e}])),null!==r)throw r;if(null===n)throw new Pl(ul.UNEXPECTED_ERROR,"handler is not sync");return n}function Xt(e,t){-1!==(t=eu(e).call(e,t))&&Wc(e).call(e,t,1)}function Zt(e){var t=[];return xa(e).call(e,(function(e){-1===eu(t).call(t,e)&&t.push(e)})),t}function $t(e){Fc.resolve().then(e)}function en(e,t){hh[t]||(hh[t]=!0,e())}function tn(e){e=window.atob(e);for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}function nn(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function rn(e){var t=mh[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};if(!(t=t[e%1e4])){if(Math.floor(e/1e4)===Hl.ACCESS_POINT){if("1"===(e%=1e4).toString()[0])return{desc:e.toString(),retry:!1};if("2"===e.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return t}function on(e){return yh[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}function an(e,t,n,r){var i=ja({},bh,r),o=i.timeout,a=function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt(o);case 2:o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=!1;return(r=new Fc(function(){var r=g(p.mark((function r(o,c){var u,l;return p.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=t||function(){return!1},n=n||function(){return!0},u=0;case 3:if(!(u<i.maxRetryCount)){r.next=25;break}if(!s){r.next=6;break}return r.abrupt("return",c(new Pl(ul.OPERATION_ABORTED)));case 6:return r.prev=6,r.next=9,e();case 9:if(l=r.sent,t(l,u)&&u+1!==i.maxRetryCount){r.next=12;break}return r.abrupt("return",o(l));case 12:return r.next=14,a();case 14:r.next=22;break;case 16:if(r.prev=16,r.t0=r.catch(6),n(r.t0,u)&&u+1!==i.maxRetryCount){r.next=20;break}return r.abrupt("return",c(r.t0));case 20:return r.next=22,a();case 22:u+=1,r.next=3;break;case 25:case"end":return r.stop()}}),r,null,[[6,16]])})));return function(e,t){return r.apply(this,arguments)}}())).cancel=function(){return s=!0},r}function sn(){return cn.apply(this,arguments)}function cn(){return(cn=g(p.mark((function e(){var t,n,r,i,o,a,s,c,u,l,f,d,h,v,m,y,b,A,_,E,w,I,S,k,C,O,T,R,x,M,N,D,j;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){function t(){if(!R&&(R=!0,c.calledRun=!0,!m)){if(i(w),i(I),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();S.unshift(e)}i(S)}}0<k||(function(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;){var e=c.preRun.shift();E.unshift(e)}i(E)}(),0<k||(c.setStatus?(c.setStatus("Running..."),wd((function(){wd((function(){c.setStatus("")}),1),t()}),1)):t()))},i=function(e){for(;0<e.length;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?_.get(n)():_.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(c)}},r=function(e){throw c.onAbort&&c.onAbort(e),v(e+=""),m=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")},n=function(e,n,r,i,o){o={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);t=j(n);var r=A,i=t;if(0<n){n=i+n-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(i>=n)break;r[i++]=a}else{if(2047>=a){if(i+1>=n)break;r[i++]=192|a>>6}else{if(65535>=a){if(i+2>=n)break;r[i++]=224|a>>12}else{if(i+3>=n)break;r[i++]=240|a>>18,r[i++]=128|a>>12&63}r[i++]=128|a>>6&63}r[i++]=128|63&a}}r[i]=0}}return t},array:function(e){var t=j(e.length);return b.set(e,t),t}};var a=t(e),s=[];if(e=0,i)for(var c=0;c<i.length;c++){var u=o[r[c]];u?(0===e&&(e=N()),s[c]=u(i[c])):s[c]=i[c]}return r=function(e){if("string"===n)if(s=e){e=A;for(var t=s+r,r=s,i="";e[r]&&!(r>=t);)++r;if(16<r-s&&e.subarray&&y)e=y.decode(e.subarray(s,r));else{for(;s<r;)if(128&(t=e[s++])){var o=63&e[s++];if(192!=(224&t)){var a=63&e[s++];65536>(t=224==(240&t)?(15&t)<<12|o<<6|a:(7&t)<<18|o<<12|a<<6|63&e[s++])?i+=String.fromCharCode(t):(t-=65536,i+=String.fromCharCode(55296|t>>10,56320|1023&t))}else i+=String.fromCharCode((31&t)<<6|o)}else i+=String.fromCharCode(t);e=i}}else e="";else e="boolean"===n?!!e:e;return e;var s}(r=a.apply(null,s)),0!==e&&D(e),r},t=function(e){var t=c["_"+e];return t||r("Assertion failed: Cannot call unknown function "+e+", make sure it is exported"),t},!Fh){e.next=7;break}return e.abrupt("return",Fh);case 7:for(u in l={},c={})Object.prototype.hasOwnProperty.call(c,u)&&(l[u]=c[u]);for(u in f=!1,d=!1,f="object"==typeof window,d="function"==typeof importScripts,h="",(f||d)&&(d?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),h=0!==eu(h).call(h,"blob:")?h.substr(0,Hh(h).call(h,"/")+1):""),c.print||gu(a=console.log).call(a,console),v=c.printErr||gu(s=console.warn).call(s,console),l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u]);return l=null,"object"!=typeof WebAssembly&&r("no native wasm support detected"),m=!1,y="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),E=[],I=[],S=[],(w=[]).push({func:function(){x()}}),k=0,C=null,c.preloadedImages={},c.preloadedAudios={},xu(O=a="deflate.wasm").call(O,"data:application/octet-stream;base64,")||(a=function(e){return c.locateFile?c.locateFile(e,h):h+e}(a)),T={emscripten_memcpy_big:function(e,t,n){var r=A.copyWithin;(A===wh||A instanceof Array&&r===wh.copyWithin?Eh:r).call(A,e,t,t+n)},emscripten_resize_heap:function(e){r("OOM")}},e.next=31,g(p.mark((function e(){var t,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t){c.asm=e.exports,e=c.asm.memory.buffer,c.HEAP8=b=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=new Int32Array(e),c.HEAPU8=A=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=new Float64Array(e),_=c.asm.__indirect_function_table,k--,c.monitorRunDependencies&&c.monitorRunDependencies(k),0==k&&C&&(e=C,C=null,e())},n={env:T,wasi_snapshot_preview1:T},k++,c.monitorRunDependencies&&c.monitorRunDependencies(k),!c.instantiateWasm){e.next=10;break}return e.prev=3,e.abrupt("return",c.instantiateWasm(n,t));case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",(v("Module.instantiateWasm callback failed with error: "+e.t0),!1));case 10:return e.next=12,function(e){return new Fc((function(e,t){e(qh().buffer)})).then((function(e){return WebAssembly.instantiate(e,n)})).then(e,(function(e){v("failed to asynchronously prepare wasm: "+e),r(e)}))}((function(e){t(e.instance)}));case 12:return e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[3,7]])})))();case 31:if(x=c.___wasm_call_ctors=function(){return(x=c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},M=c._malloc=function(){return(M=c._malloc=c.asm.malloc).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)},c._zlibCompress=function(){return(c._zlibCompress=c.asm.zlibCompress).apply(null,arguments)},N=c.stackSave=function(){return(N=c.stackSave=c.asm.stackSave).apply(null,arguments)},D=c.stackRestore=function(){return(D=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},j=c.stackAlloc=function(){return(j=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)},c.ccall=n,c.cwrap=function(e,r,i,o){var a=kh(i=i||[]).call(i,(function(e){return"number"===e}));return"string"!==r&&a&&!o?t(e):function(){return n(e,r,i,arguments)}},c.allocate=function(e,t){var n;return n=1==t?j(e.length):M(e.length),e.subarray||au(e)?A.set(e,n):A.set(new Uint8Array(e),n),n},C=function e(){R||o(),R||(C=e)},c.run=o,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return e.abrupt("return",(o(),Fh=c,c));case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=un(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=un(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function fn(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e,t,n,r,i){ap+=1;var o,a,s={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(xd()/1e3),seq:ap,requestId:ap,version:Ku,cname:n.cname},c={service_name:t,json_body:ri(s)},u=e[0];return an(g(p.mark((function e(){var n,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=xd(),e.next=3,ot(u,{data:c,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});case 3:if(n=e.sent,a=xd()-o,0===n.code){e.next=7;break}throw i=new Pl(ul.UNEXPECTED_RESPONSE,"live streaming ap error, code"+n.code,{retry:!0,responseTime:a}),Bl.error(i.toString()),i;case 7:if(200===(n=JSON.parse(n.json_body)).code){e.next=10;break}throw n=new Pl(ul.UNEXPECTED_RESPONSE,bs(i="live streaming app center error, code: ".concat(n.code,", reason: ")).call(i,n.reason),{code:n.code,responseTime:a}),Bl.error(n.toString()),n;case 10:if(n.servers&&0!==n.servers.length){e.next=12;break}throw i=new Pl(ul.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:a}),Bl.error(i.toString()),i;case 12:return i=function(e,t){var n;return{addressList:Vc(n=e.servers).call(n,(function(e){var n,r;return bs(n=bs(r="wss://".concat(e.address.replace(/\./g,"-"),".edge.agora.io:")).call(r,e.wss,"?serviceName=")).call(n,encodeURIComponent(t))})),workerToken:e.workerToken,vid:e.vid}}(n,t),e.abrupt("return",(Zu.LIVE_STREAMING_ADDRESS&&(i.addressList=Zu.LIVE_STREAMING_ADDRESS instanceof Array?Zu.LIVE_STREAMING_ADDRESS:[Zu.LIVE_STREAMING_ADDRESS]),function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=fn(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=fn(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}({},i,{responseTime:a})));case 14:case"end":return e.stop()}}),e)}))),(function(r,i){return Nd.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:ri(r.addressList),firstSuccess:0===i,responseTime:a,serverIp:e[i%e.length]}),!1}),(function(r,i){return Nd.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:a,serverIp:e[i%e.length]}),!!(r.code!==ul.OPERATION_ABORTED&&r.code!==ul.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(u=e[(i+1)%e.length],!0)}),i)}function hn(e,t,n,r){var i=e.url,o=e.areaCode,a=xd(),s={opid:133,flag:4096,ts:xd(),key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:o},uid:t.uid||0};return t.multiIP&&t.multiIP.gateway_ip&&(s.detail[5]=ri({vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]})),an(g(p.mark((function e(){var t,r,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(i+"".concat(-1===eu(i).call(i,"?")?"?":"&","action=wrtc_gateway"),{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":69}});case 2:if(!(t=e.sent).addresses||0!==t.addresses.length||0!==t.code){e.next=5;break}throw new Pl(ul.VOID_GATEWAY_ADDRESS,"",{retry:!0,csIp:t.detail&&t.detail[502]});case 5:return Zu.GATEWAY_ADDRESS&&0<Zu.GATEWAY_ADDRESS.length&&(console.log(Zu.GATEWAY_ADDRESS),o=Vc(r=Zu.GATEWAY_ADDRESS).call(r,(function(e,n){return{ip:e.ip,port:e.port,ticket:t.addresses[0]&&t.addresses[0].ticket}})),t.addresses=o),e.abrupt("return",function(e,t){var n,r=Zu.GATEWAY_DOMAINS,i=r[1]&&-1!==eu(t).call(t,r[1])?1:0;return e.addresses=e.addresses||[],{gatewayAddrs:Vc(n=e.addresses).call(n,(function(e){var t,n,o;return e.ip.match(/^[\.:\d]+$/)?bs(t=bs(n="".concat(e.ip.replace(/[^\d]/g,"-"),".")).call(n,r[i++%r.length],":")).call(t,e.port):(Bl.info("Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),bs(o="".concat(e.ip,":")).call(o,e.port))})),uid:e.uid,cid:e.cid,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}(t,i));case 7:case"end":return e.stop()}}),e)}))),(function(e){if(0===e.res.code)return Nd.joinChooseServer(t.sid,{lts:a,succ:!0,csAddr:i,serverList:e.gatewayAddrs,ec:null,cid:e.res.cid.toString(),uid:e.res.uid.toString(),csIp:e.csIp}),!1;var n=rn(e.res.code);throw new Pl(ul.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{retry:n.retry,csIp:e.csIp})}),(function(e){return e.code!==ul.OPERATION_ABORTED&&(e.code===ul.CAN_NOT_GET_GATEWAY_SERVER||e.code===ul.VOID_GATEWAY_ADDRESS?(Nd.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:i,serverList:null,ec:e.message,csIp:e.data&&e.data.csIp}),Bl.warning(bs(n=bs(r=bs(o="[".concat(t.clientId,"] Choose server ")).call(o,i," failed, message: ")).call(r,e.message,", retry: ")).call(n,e.data.retry)),e.data.retry):(Nd.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:i,serverList:null,ec:e.code,csIp:e.data&&e.data.csIp}),Bl.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),!0));var n,r,o}),r)}function pn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=g(p.mark((function e(t,n,r){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=g(p.mark((function e(t,n,r){var i,o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vc(i=au(o=Zu.WEBCS_DOMAIN).call(o,0,Zu.AJAX_REQUEST_CONCURRENT)).call(i,(function(e){var n;return{url:t.proxyServer?bs(n="https://".concat(t.proxyServer,"/ap/?url=")).call(n,e+"/api/v1"):"https://".concat(e,"/api/v1"),areaCode:cp()}})),s=null,e.next=4,Ht([g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vh({fragementLength:Zu.FRAGEMENT_LENGTH,referenceList:a,asyncMapHandler:function(e){return Bl.debug("[".concat(t.clientId,"] Connect to choose_server:"),e.url),hn(e,t,n,r)},allFailedhandler:function(e){throw e[0]}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))(),g(p.mark((function e(){var i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt(1e3);case 2:if(null===s){e.next=4;break}return e.abrupt("return",s);case 4:return o=Vc(i=Zu.WEBCS_DOMAIN_BACKUP_LIST).call(i,(function(e){var n;return{url:t.proxyServer?bs(n="https://".concat(t.proxyServer,"/ap/?url=")).call(n,e+"/api/v1"):"https://".concat(e,"/api/v1"),areaCode:cp()}})),e.next=7,vh({fragementLength:Zu.FRAGEMENT_LENGTH,referenceList:o,asyncMapHandler:function(e){return Bl.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),e.url),hn(e,t,n,r)},allFailedhandler:function(e){throw e[0]}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()]);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,n,r);case 2:return e.t0=e.sent,e.abrupt("return",{gatewayInfo:e.t0});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t,n,r){return mn.apply(this,arguments)}function mn(){return(mn=g(p.mark((function e(t,n,r,o){var a,s,c,u,l,f,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disabled"!==t.cloudProxyServer){e.next=9;break}if(!o){e.next=7;break}return e.next=4,pn(t,n,r);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return e.abrupt("return",e.t0);case 9:if(!o){e.next=31;break}if("normal"===t.cloudProxyServer){e.next=20;break}return e.next=13,Fc.all([An(t,n,r),pn(t,n,r)]);case 13:a=e.sent,s=i(a,2),f=s[0],d=s[1],e.next=29;break;case 20:return e.next=22,An(t,n,r);case 22:return f=e.sent,t.proxyServer=f.addresses[0],Nd.setProxyServer(t.proxyServer),Bl.setProxyServer(t.proxyServer),e.next=28,pn(t,n,r);case 28:d=e.sent;case 29:e.next=44;break;case 31:if(d=void 0,"normal"===t.cloudProxyServer){e.next=38;break}return e.next=35,An(t,n,r);case 35:f=e.sent,e.next=44;break;case 38:return e.next=40,An(t,n,r);case 40:f=e.sent,t.proxyServer=f.addresses[0],Nd.setProxyServer(t.proxyServer),Bl.setProxyServer(t.proxyServer);case 44:return t.turnServer={mode:"manual",servers:Vc(c=f.addresses).call(c,(function(e){return{turnServerURL:e,tcpport:"proxy3"===t.cloudProxyServer?void 0:f.serverResponse.tcpport?f.serverResponse.tcpport:qu.tcpport,udpport:"proxy4"===t.cloudProxyServer?void 0:f.serverResponse.udpport?f.serverResponse.udpport:qu.udpport,username:f.serverResponse.username||qu.username,password:f.serverResponse.password||qu.password,forceturn:"proxy4"!==t.cloudProxyServer&&"proxy5"!==t.cloudProxyServer,security:"proxy5"===t.cloudProxyServer}}))},Bl.debug(bs(u=bs(l="[".concat(t.clientId,"] set proxy server: ")).call(l,t.proxyServer,", mode: ")).call(u,t.cloudProxyServer)),e.abrupt("return",d);case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t,n,r){return bn.apply(this,arguments)}function bn(){return(bn=g(p.mark((function e(t,n,r,i){var o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=au(o=Zu.ACCOUNT_REGISTER).call(o,0,Zu.AJAX_REQUEST_CONCURRENT),o=[],o=n.proxyServer?Vc(a).call(a,(function(e){var t;return bs(t="https://".concat(n.proxyServer,"/ap/?url=")).call(t,e+"/api/v1")})):Vc(a).call(a,(function(e){return"https://".concat(e,"/api/v1")})),e.next=5,function(){var e=g(p.mark((function e(t,n,r,i,o){var a,s,c;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xd(),s={sid:r.sid,opid:10,appid:r.appId,string_uid:n},c=t[0],e.next=3,an((function(){return ot(c+"".concat(-1===eu(c).call(c,"?")?"?":"&","action=stringuid"),{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})}),(function(e,r){if(0===e.code){var i;if(0>=e.uid||e.uid>=Math.pow(2,32))throw Bl.error(bs(i="Invalid Uint Uid ".concat(n," => ")).call(i,e.uid),e),Nd.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:c,stringUid:s.string_uid,uid:e.uid,errorCode:ul.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new Pl(ul.INVALID_UINT_UID_FROM_STRING_UID);return Nd.reqUserAccount(s.sid,{lts:a,success:!0,serverAddr:c,stringUid:s.string_uid,uid:e.uid,errorCode:null,extend:s}),!1}return(i=rn(e.code)).retry&&(c=t[(r+1)%t.length]),Nd.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:c,stringUid:s.string_uid,uid:e.uid,errorCode:i.desc,extend:s}),i.retry}),(function(e,n){return e.code!==ul.OPERATION_ABORTED&&(Nd.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:c,stringUid:s.string_uid,uid:null,errorCode:e.code,extend:s}),c=t[(n+1)%t.length],!0)}),o);case 3:if(0===(r=e.sent).code){e.next=6;break}throw r=rn(r.code),new Pl(ul.UNEXPECTED_RESPONSE,r.desc);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()(o,t,n,r,i);case 5:return e.abrupt("return",e.sent.uid);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t,n){return _n.apply(this,arguments)}function _n(){return(_n=g(p.mark((function e(t,n,r){var i,o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=xd(),a=Vc(i=Zu["normal"===t.cloudProxyServer?"PROXY_CS":"WEBCS_DOMAIN"]).call(i,(function(e){var n;return t.proxyServer?bs(n="https://".concat(t.proxyServer,"/ap/?url=")).call(n,e+"/api/v1"):"https://".concat(e,"/api/v1")})),"proxy3"!==t.cloudProxyServer&&"proxy4"!==t.cloudProxyServer&&"proxy5"!==t.cloudProxyServer){e.next=11;break}return o=Vc(a).call(a,(function(e){return{url:e,areaCode:cp()}})),s=null,e.next=6,vh({fragementLength:Zu.FRAGEMENT_LENGTH,referenceList:o,asyncMapHandler:function(e){return function(e,t,n,r){var i=e.url,o=e.areaCode,a=xd(),s={opid:133,flag:"proxy5"===t.cloudProxyServer?4194304:1048576,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:o},uid:t.uid||0};return an(g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(i,{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":69}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){var n;if(0===e.code)return Nd.joinWebProxyAP(t.sid,{lts:a,sucess:1,apServerAddr:i,turnServerAddrList:Vc(n=e.addresses).call(n,(function(e){return e.ip})).join(","),errorCode:null,eventType:t.cloudProxyServer}),!1;throw e=rn(e.code),new Pl(ul.CAN_NOT_GET_GATEWAY_SERVER,e.desc,{retry:e.retry})}),(function(e){return e.code!==ul.OPERATION_ABORTED&&(e.code===ul.CAN_NOT_GET_GATEWAY_SERVER||e.code===ul.VOID_GATEWAY_ADDRESS?(Nd.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),Bl.warning(bs(n=bs(r=bs(o="[".concat(t.clientId,"] proxy ap server ")).call(o,i," failed, message: ")).call(r,e.message,", retry: ")).call(n,e.data.retry)),e.data.retry):(Nd.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),!0));var n,r,o}),r)}(e,t,n,r)},allFailedhandler:function(){throw Bl.error("[".concat(t.clientId,"] can not get proxy server after trying several times")),new Pl(ul.CAN_NOT_GET_PROXY_SERVER)}});case 6:if(s=e.sent,(o=s.addresses)&&0!==o.length){e.next=10;break}throw Bl.error("[".concat(t.clientId,"] can not get proxy server, empty proxy server list")),new Pl(ul.CAN_NOT_GET_PROXY_SERVER,"empty proxy server list");case 10:return e.abrupt("return",{addresses:Vc(o).call(o,(function(e){return e.ip})),serverResponse:{tcpport:o[0].port||443,udpport:o[0].port||qu.udpport,username:qu.username,password:qu.password}});case 11:return i=null,e.next=14,vh({fragementLength:Zu.FRAGEMENT_LENGTH,referenceList:a,asyncMapHandler:function(e){return function(e,t,n,r){var i=xd(),o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,uid:t.uid,cname:t.cname,ts:Math.floor(xd()/1e3),version:Ku,seq:0,requestId:1};return an(g(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(e,{data:{service_name:"webrtc_proxy",json_body:ri(o)},cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{res:t.t0,url:t.t1});case 5:case"end":return t.stop()}}),t)}))),(function(e){if(!e.res.json_body)throw Bl.debug("[".concat(t.clientId,"] Get proxy server failed: no json_body")),new Pl(ul.UNEXPECTED_RESPONSE,ri(e.res));var n,r,i=JSON.parse(e.res.json_body);if(200!==i.code)throw Bl.debug(bs(n=bs(r="[".concat(t.clientId,"] Get proxy server failed: response code [")).call(r,i.code,"], reason [")).call(n,i.reason,"]")),new Pl(ul.UNEXPECTED_RESPONSE,ri(e.res));return Bl.debug("[".concat(t.clientId,"] App return server length"),i.servers.length),!1}),(function(t){return t.code!==ul.OPERATION_ABORTED&&(Nd.requestProxyAppCenter(o.sid,{lts:i,succ:!1,APAddr:e,workerManagerList:null,ec:t.code,response:t.message}),!0)}),r)}(e,t,n,r)},allFailedhandler:function(){throw Bl.error("[".concat(t.clientId,"] can not get proxy server after trying several times")),new Pl(ul.CAN_NOT_GET_PROXY_SERVER)}});case 14:if(i=e.sent,a=JSON.parse(i.res.json_body),a=Vc(s=a.servers).call(s,Dt),"443only"!==t.cloudProxyServer){e.next=19;break}return e.abrupt("return",{addresses:a,serverResponse:{tcpport:443,udpport:qu.udpport,username:qu.username,password:qu.password}});case 19:return Nd.requestProxyAppCenter(t.sid,{lts:o,succ:!0,APAddr:i.url,workerManagerList:ri(a),ec:null,response:ri(i.res)}),o=xd(),s=Vc(a).call(a,(function(e){return function(e,t,n,r){var i=xd(),o=e;xu(e).call(e,"http")||(o="https://".concat(e,":4000/v2/machine"));var a={command:"request",gatewayType:"http",appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sdkVersion:"2.3.1",sid:t.sid,seq:1,ts:xd(),requestId:3,clientRequest:{appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sid:t.sid}};return an(g(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(o,{data:a,cancelToken:n});case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{res:t.t0,url:t.t1});case 5:case"end":return t.stop()}}),t)}))),(function(e){if(!e.res.serverResponse)throw new Pl(ul.UNEXPECTED_RESPONSE,"requeet worker manager server failed: serverResponse is undefined");return!1}),(function(t){return t.code!==ul.OPERATION_ABORTED&&(Nd.requestProxyWorkerManager(a.sid,{lts:i,succ:!1,workerManagerAddr:e,ec:t.code,response:t.message}),!0)}),r)}(e,t,n,r)})),i=null,e.prev=23,e.next=26,Ht(s);case 26:i=e.sent,e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(23),Bl.error("[".concat(t.clientId,"] can not get worker manager after trying several times")),new Pl(ul.CAN_NOT_GET_PROXY_SERVER);case 32:return e.abrupt("return",(xa(s).call(s,(function(e){return e.cancel()})),Nd.requestProxyWorkerManager(t.sid,{lts:o,succ:!0,workerManagerAddr:i.url,ec:null,response:ri(i.res)}),{addresses:[i.url],serverResponse:i.res.serverResponse}));case 33:case"end":return e.stop()}}),e,null,[[23,29]])})))).apply(this,arguments)}function En(e,t,n){return wn.apply(this,arguments)}function wn(){return(wn=g(p.mark((function e(t,n,r){var i,o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vc(i=au(o=Zu.CDS_AP).call(o,0,Zu.AJAX_REQUEST_CONCURRENT)).call(i,(function(e){var n;return t.proxyServer?bs(n="https://".concat(t.proxyServer,"/ap/?url=")).call(n,e+"/api/v1"):"https://".concat(e,"/api/v1?action=config")})),i=Vc(a).call(a,(function(e){return function(e,t,n,r){var i=$e(),o={flag:64,cipher_method:0,features:{device:i.name,system:i.os,vendor:t.appId,version:Ku,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return an((function(){return ot(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})}),void 0,(function(e){return e.code!==ul.OPERATION_ABORTED}),r)}(e,t,n,r)})),a=o=null,s={},e.prev=4,e.next=7,Ht(i);case 7:o=e.sent,e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(4),e.t0.code!==ul.OPERATION_ABORTED){e.next=14;break}throw e.t0;case 14:a=e.t0;case 15:if(xa(i).call(i,(function(e){return e.cancel()})),Nd.reportApiInvoke(t.sid,{name:zl.REQUEST_CONFIG_DISTRIBUTE,options:{error:a,res:o}}).onSuccess(),o&&o.test_tags)try{s=function(e){if(!e.test_tags)return{};var t=e.test_tags;e=Ba(t);var n={};return xa(e).call(e,(function(e){var r,i=Bu(r=au(e).call(e,4)).call(r);e=JSON.parse(t[e])[1],n[i]=e})),n}(o)}catch(c){}return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function In(e,t,n,r){return Sn.apply(this,arguments)}function Sn(){return(Sn=g(p.mark((function e(t,n,r,i){var o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Vc(o=au(a=Zu.UAP_AP).call(a,0,Zu.AJAX_REQUEST_CONCURRENT)).call(o,(function(e){var t;return n.proxyServer?bs(t="https://".concat(n.proxyServer,"/ap/?url=")).call(t,e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})),e.next=3,dn(s,t,n,r,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=g(p.mark((function e(t,n,r){var i,o,a,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vc(i=au(o=Zu.UAP_AP).call(o,0,Zu.AJAX_REQUEST_CONCURRENT)).call(i,(function(e){var n;return t.proxyServer?bs(n="https://".concat(t.proxyServer,"/ap/?url=")).call(n,e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})),i=Vc(a).call(a,(function(e){return function(e,t,n,r){t={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:xd(),version:Ku,cname:t.cname,uid:t.uid.toString(),requestId:sp,seq:sp},sp+=1;var i={service_name:"tele_channel",json_body:ri(t)};return an(g(p.mark((function t(){var r,o,a;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(e,{data:i,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});case 2:if(0===(r=t.sent).code){t.next=6;break}throw o=new Pl(ul.UNEXPECTED_RESPONSE,"cross channel ap error, code"+r.code,{retry:!0}),Bl.error(o.toString()),o;case 6:if(200===(r=JSON.parse(r.json_body)).code){t.next=10;break}throw a=new Pl(ul.UNEXPECTED_RESPONSE,bs(o="cross channel app center error, code: ".concat(r.code,", reason: ")).call(o,r.reason)),Bl.error(a.toString()),a;case 10:if(r.servers&&0!==r.servers.length){t.next=12;break}throw o=new Pl(ul.UNEXPECTED_RESPONSE,"cross channel app center empty server"),Bl.error(o.toString()),o;case 12:return t.abrupt("return",{vid:r.vid,workerToken:r.workerToken,addressList:Vc(a=r.servers).call(a,(function(e){var t;return bs(t="wss://".concat(e.address.replace(/\./g,"-"),".edge.agora.io:")).call(t,e.wss)}))});case 13:case"end":return t.stop()}}),t)}))),void 0,(function(e){return!!(e.code!==ul.OPERATION_ABORTED&&e.code!==ul.UNEXPECTED_RESPONSE||e.data&&e.data.retry)}),r)}(e,t,n,r)})),e.prev=2,e.next=5,Ht(i);case 5:return s=e.sent,e.abrupt("return",(xa(i).call(i,(function(e){return e.cancel()})),s));case 9:throw e.prev=9,e.t0=e.catch(2),e.t0[0];case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function On(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!Rn(e))return e;var t,n={};for(t in e)Rn(e[t])||Array.isArray(e[t])?n[t]=Tn(e[t]):n[t]=e[t];return n}function Rn(e){return!("object"!=typeof e||Array.isArray(e)||!e)}function xn(e,t){function n(){this.constructor=e}gp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Mn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Nn(e,t){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=0<(o=s.trys).length&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))s.label=n[1];else if(6===n[0]&&s.label<o[1])s.label=o[1],o=n;else{if(!(o&&s.label<o[2])){o[2]&&s.ops.pop(),s.trys.pop();continue}s.label=o[2],s.ops.push(n)}}n=t.call(e,s)}catch(a){n=[6,a],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function Dn(e,t,n){return(n=e.createShader(n))?(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(t=e.getShaderInfoLog(n),e.deleteShader(n),new Pl(ul.WEBGL_INTERNAL_ERROR,"error compiling shader:"+t).throw())):new Pl(ul.WEBGL_INTERNAL_ERROR,"can not create shader").throw()}function jn(e,t,n,r){for(var i=[],o=0;o<t.length;++o)i.push(Dn(e,t[o],0===o?e.VERTEX_SHADER:e.FRAGMENT_SHADER));return function(e,t,n,r){var i=e.createProgram();if(!i)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"can not create webgl program");if(xa(t).call(t,(function(t){e.attachShader(i,t)})),n&&xa(n).call(n,(function(t,n){e.bindAttribLocation(i,r?r[n]:n,t)})),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw t=e.getProgramInfoLog(i),e.deleteProgram(i),new Pl(ul.WEBGL_INTERNAL_ERROR,"error in program linking:"+t);return i}(e,i,n,r)}function Ln(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e.length,i=new Uint8Array(r),o=new Uint8Array(256),a=0;256>a;a++)o[a]=a;a=0;for(var s=0;256>s;s++){var c;c=[o[a=(a+o[s]+t[s%n])%256],o[s]],o[s]=c[0],o[a]=c[1]}for(a=n=0,s=0;s<0+r;s++){var u;u=[o[a=(a+o[n=(n+1)%256])%256],o[n]],o[n]=u[0],o[a]=u[1],t=o[(o[n]+o[a])%256],0<=s&&(i[s-0]=e[s-0]^t)}return e=String.fromCharCode.apply(null,Rd(i)),Function("var winSize = 5; return `"+e+"`")()}function Bn(e){var t={};return e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),e.encoderConfig?(e=ve(e.encoderConfig),t.width=e.width,t.height=e.height,!nt()&&e.frameRate&&(t.frameRate=e.frameRate),$e().name===Nu.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),tt()&&(t.frameRate={ideal:30,max:30}),t):t}function Pn(e){var t={};if(nt()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC,et()&&(t.googAutoGainControl=e.AGC,t.googAutoGainControl2=e.AGC)),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,et()&&(t.googNoiseSuppression=e.ANS))),e.encoderConfig){var n=be(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),et()&&2===t.channelCount&&(t.googAutoGainControl=!1,t.googAutoGainControl2=!1,t.echoCancellation=!1,t.googNoiseSuppression=!1),t}function Un(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Un(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Un(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Qn(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1X/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),t}function zn(e,t){var n=e.match(/a=rtpmap:(\d+) opus/);if(!n||!n[0]||!n[1])return e;var r,i=n[1];return(n=e.match("a=fmtp:".concat(i,".*\r\n")))&&n[0]?(i="a=fmtp:".concat(i," minptime=10;useinbandfec=1;"),t.bitrate&&!tt()&&(i+="maxaveragebitrate=".concat(Math.floor(1e3*t.bitrate),";")),t.sampleRate&&(i+=bs(r="maxplaybackrate=".concat(t.sampleRate,";sprop-maxcapturerate=")).call(r,t.sampleRate,";")),t.stereo&&(i+="stereo=1;sprop-stereo-1;"),i+="\r\n",e.replace(n[0],i)):e}function Vn(e){return e.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")}function Kn(e,t,n){var r=!1;switch(t){case"h264":case"vp8":return e;case"vp9":case"av1":r=!0}if(r){var i,o,a,s,c=gu(i=RegExp.prototype.test).call(i,/^([a-z])=(.*)/),u=e.split("m="),l=null,f=null,d=null,h=[];i=[],t=[];for(var p,g,v=r=null,m=[],y=[],b=0;b<u.length;++b)if(l=u[b].match(/a=msid-semantic:/)){l=u[b];break}for(b=0;b<u.length;++b)if(f=u[b].match(/audio /)){o=b,f="m="+u[b];break}for(b=0;b<u.length;++b)if(d=u[b].match(/video /)){a=b,d="m="+u[b];break}if(l&&(h=Es(s=l.split(/(\r\n|\r|\n)/)).call(s,c)),0<h.length&&(t=bs(t).call(t,h)),f&&(i=Es(p=f.split(/(\r\n|\r|\n)/)).call(p,c)),!d)return e;for(s=Es(g=d.split(/(\r\n|\r|\n)/)).call(g,c),g=0;g<s.length;++g)if(null===r&&null!==(r=s[g].match(/cname:/))){r="cname:"+s[g].split("cname:")[1];break}for(p=0;p<s.length;++p)if(null===v&&null!==(v=s[p].match(/a=msid:/))&&(v="msid:"+s[p].split(":")[1]),s[p].match(/a=ssrc-group:FID/)){g=s[p].split(" "),m.push(Number(g[1])),g[2]&&y.push(Number(g[2])),s.length=p;break}for(g=1;g<n.numSpatialLayers;++g)m.push(m[0]+g),0<y.length&&y.push(y[0]+g);for(g="a=ssrc-group:SIM ",p=0;p<m.length;++p)g=bs(g).call(g,String(m[p])),p<m.length-1&&(g=bs(g).call(g," "));for(s.push(g),g=0;g<n.numSpatialLayers;++g){var A,_;p=bs(A=bs(_=bs("a=ssrc-group:FID ").call("a=ssrc-group:FID ",String(m[g]))).call(_," ")).call(A,String(y[g])),s.push(p)}for(A=0;A<n.numSpatialLayers;++A){var E,w,I,S;if(null===r||null===v)return e;_=bs(E=bs(w="a=ssrc:".concat(String(m[A]))).call(w," ")).call(E,r),g=bs(I=bs(S="a=ssrc:".concat(String(m[A]))).call(S," ")).call(I,v),s.push(_),s.push(g)}for(E=0;E<n.numSpatialLayers;++E){var k,C,O,T;if(null===r||null===v)return e;w=bs(k=bs(C="a=ssrc:".concat(String(y[E]))).call(C," ")).call(k,r),I=bs(O=bs(T="a=ssrc:".concat(String(y[E]))).call(T," ")).call(O,v),s.push(w),s.push(I)}o&&a&&o>a?(t=bs(t).call(t,s),t=bs(t).call(t,i)):(t=bs(t).call(t,i),t=bs(t).call(t,s)),e=t.join("\r\n")+"\r\n"}return e}function Gn(e,t){var n=function e(t,n){var i=sg(t,n);return i?e(r(t,i),n):t},r=function(e,t){var n,r,i=gu(n=RegExp.prototype.test).call(n,/^([a-z])=(.*)/),o=["a=rtpmap:".concat(t),"a=rtcp-fb:".concat(t),"a=fmtp:".concat(t)],a=Es(r=e.split(/(\r\n|\r|\n)/)).call(r,i),s=[];if(xa(a).call(a,(function(e,t){xa(o).call(o,(function(n){Au(e).call(e,n)&&s.push(t)}))})),e=ag(a).call(a,(function(e){return Au(e).call(e,"apt=".concat(t))}))){s.push(e,e-1);var c=(c=a[e-1].match(/a=rtpmap:(\d+) rtx.*/))&&c[1]}return xa(s).call(s,(function(e){a[e]=""})),e=ag(a).call(a,(function(e){return Au(e).call(e,"m=video")})),a[e]=a[e].replace(" ".concat(t),""),c&&(a[e]=a[e].replace(" ".concat(c),"")),Es(a).call(a,(function(e){return!!e})).join("\r\n")+"\r\n"};return xa(t).call(t,(function(t){e=n(e,t)})),e}function Hn(e,t){var n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=jt(t.width),r.height=jt(t.height),t=jt(t.framerate||15),document.body.append(n),document.body.append(r);var i=e._mediaStreamTrack;n.srcObject=new MediaStream([i]),n.play();var o=r.getContext("2d");if(!o)throw new Pl(ul.UNEXPECTED_ERROR,"can not get canvas context");var a=r.captureStream(Nf.supportRequestFrame?0:t).getVideoTracks()[0],s=gt((function(){if(n.paused&&n.play(),2<n.videoHeight&&2<n.videoWidth){var t,s,c,u=n.videoHeight/n.videoWidth*r.width;2<=Math.abs(u-r.height)&&(Bl.debug("adjust low stream resolution",bs(t=bs(s=bs(c="".concat(r.width,"x")).call(c,r.height," -> ")).call(s,r.width,"x")).call(t,u)),r.height=u)}o.drawImage(n,0,0,r.width,r.height),a.requestFrame&&a.requestFrame(),i!==e._mediaStreamTrack&&(i=e._mediaStreamTrack,n.srcObject=new MediaStream([i]))}),t),c=a.stop;return a.stop=function(){c.call(a),s(),n.remove(),r.width=0,r.remove(),n=r=null,Bl.debug("clean low stream renderer")},a}function qn(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=qn(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=qn(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Yn(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Yn(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Yn(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function Xn(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=Xn(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=Xn(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function $n(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=$n(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=$n(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function tr(e){if(!(e instanceof gg))return new Pl(ul.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();var t=e.getSrcChannelMediaInfo();return e=e.getDestChannelMediaInfo(),t?0===e.size?new Pl(ul.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new Pl(ul.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}function nr(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=nr(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=nr(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function ir(e,t){return or.apply(this,arguments)}function or(){return(or=g(p.mark((function e(t,n){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,"string"!=typeof t){e.next=16;break}if(!(i=Ig.get(t))){e.next=5;break}return e.abrupt("return",(Bl.debug("use cached audio resource: ",t),i));case 5:return e.prev=5,e.next=8,an((function(){return Dl.get(t,{responseType:"arraybuffer"})}),void 0,void 0,{maxRetryCount:3});case 8:r=e.sent.data,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Pl(ul.FETCH_AUDIO_FILE_FAILED,e.t0.toString());case 14:e.next=19;break;case 16:return e.next=18,new Fc((function(e,n){var r=new FileReader;r.onload=function(t){t.target?e(t.target.result):n(new Pl(ul.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=function(){n(new Pl(ul.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(t)}));case 18:r=e.sent;case 19:return e.next=21,function(e){var t=ht();return new Fc((function(n,r){t.decodeAudioData(e,(function(e){n(e)}),(function(e){r(new Pl(ul.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(r);case 21:return r=e.sent,e.abrupt("return",("string"==typeof t&&n&&Ig.set(t,r),r));case 23:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function ar(e,t){var n=Ba(e);if(bd){var r=bd(e);t&&(r=Es(r).call(r,(function(t){return os(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=ar(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=ar(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}function cr(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=sr({},r,{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?Bl.debug("[".concat(e,"] set content hint to"),n.optimizationMode):Bl.debug("[".concat(e,"] set content hint failed")))):Bl.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}var ur="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},lr=function(e){return e&&e.Math==Math&&e},fr=lr("object"==typeof globalThis&&globalThis)||lr("object"==typeof window&&window)||lr("object"==typeof self&&self)||lr("object"==typeof ur&&ur)||Function("return this")(),dr=function(e){try{return!!e()}catch(t){return!0}},hr=!dr((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),pr={}.propertyIsEnumerable,gr=Object.getOwnPropertyDescriptor,vr=gr&&!pr.call({1:2},1)?function(e){return!!(e=gr(this,e))&&e.enumerable}:pr,mr=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},yr={}.toString,br=function(e){return yr.call(e).slice(8,-1)},Ar="".split,_r=dr((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==br(e)?Ar.call(e,""):Object(e)}:Object,Er=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},wr=function(e){return _r(Er(e))},Ir=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Sr=function(e,t){if(!Ir(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Ir(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!Ir(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!Ir(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},kr={}.hasOwnProperty,Cr=function(e,t){return kr.call(e,t)},Or=fr.document,Tr=Ir(Or)&&Ir(Or.createElement),Rr=!hr&&!dr((function(){return 7!=Object.defineProperty(Tr?Or.createElement("div"):{},"a",{get:function(){return 7}}).a})),xr=Object.getOwnPropertyDescriptor,Mr=hr?xr:function(e,t){if(e=wr(e),t=Sr(t,!0),Rr)try{return xr(e,t)}catch(Nl){}if(Cr(e,t))return mr(!vr.call(e,t),e[t])},Nr=/#|\.prototype\./,Dr=function(e,t){return(e=Lr[jr(e)])==Pr||e!=Br&&("function"==typeof t?dr(t):!!t)},jr=Dr.normalize=function(e){return String(e).replace(Nr,".").toLowerCase()},Lr=Dr.data={},Br=Dr.NATIVE="N",Pr=Dr.POLYFILL="P",Ur={},Fr=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Qr=function(e,t,n){if(Fr(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},zr=function(e){if(!Ir(e))throw TypeError(String(e)+" is not an object");return e},Vr=Object.defineProperty,Kr={f:hr?Vr:function(e,t,n){if(zr(e),t=Sr(t,!0),zr(n),Rr)try{return Vr(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Gr=hr?function(e,t,n){return Kr.f(e,t,mr(1,n))}:function(e,t,n){return e[t]=n,e},Hr=Mr,qr=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},Wr=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat,l=e.proto,f=c?fr:u?fr[s]:(fr[s]||{}).prototype,d=c?Ur:Ur[s]||(Ur[s]={}),h=d.prototype;for(r in t){var p=!Dr(c?r:s+(u?".":"#")+r,e.forced)&&f&&Cr(f,r),g=d[r];p&&(i=e.noTargetGet?(a=Hr(f,r))&&a.value:f[r]);var v=p&&i?i:t[r];p&&typeof g==typeof v||(o=e.bind&&p?Qr(v,fr):e.wrap&&p?qr(v):l&&"function"==typeof v?Qr(Function.call,v):v,(e.sham||v&&v.sham||g&&g.sham)&&Gr(o,"sham",!0),d[r]=o,l&&(Cr(Ur,n=s+"Prototype")||Gr(Ur,n,{}),Ur[n][r]=v,e.real&&h&&!h[r]&&Gr(h,r,v)))}},Yr=function(e){return"function"==typeof e?e:void 0},Jr=function(e,t){return 2>arguments.length?Yr(Ur[e])||Yr(fr[e]):Ur[e]&&Ur[e][t]||fr[e]&&fr[e][t]},Xr=Jr("JSON","stringify"),Zr=/[\uD800-\uDFFF]/g,$r=/^[\uD800-\uDBFF]$/,ei=/^[\uDC00-\uDFFF]$/,ti=function(e,t,n){var r=n.charAt(t-1);return t=n.charAt(t+1),$r.test(e)&&!ei.test(t)||ei.test(e)&&!$r.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},ni=dr((function(){return'"\\udf06\\ud834"'!==Xr("\udf06\ud834")||'"\\udead"'!==Xr("\udead")}));Xr&&Wr({target:"JSON",stat:!0,forced:ni},{stringify:function(e,t,n){var r=Xr.apply(null,arguments);return"string"==typeof r?r.replace(Zr,ti):r}}),Ur.JSON||(Ur.JSON={stringify:JSON.stringify});var ri=function(e,t,n){return Ur.JSON.stringify.apply(null,arguments)},ii={},oi=0,ai=Math.random(),si=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++oi+ai).toString(36)},ci=!dr((function(){return Object.isExtensible(Object.preventExtensions({}))})),ui=_((function(e){var t=Kr.f,n=si("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Ir(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Cr(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!Cr(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return ci&&a.REQUIRED&&i(e)&&!Cr(e,n)&&o(e),e}};ii[n]=!0})),li=fr["__core-js_shared__"]||function(e,t){try{Gr(fr,e,t)}catch(Nl){fr[e]=t}return t}("__core-js_shared__",{}),fi=_((function(e){(e.exports=function(e,t){return li[e]||(li[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.3",mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),di=!!Object.getOwnPropertySymbols&&!dr((function(){return!String(Symbol())})),hi=di&&!Symbol.sham&&"symbol"==typeof Symbol(),pi=fi("wks"),gi=fr.Symbol,vi=hi?gi:si,mi=function(e){return Cr(pi,e)||(di&&Cr(gi,e)?pi[e]=gi[e]:pi[e]=vi("Symbol."+e)),pi[e]},yi={},bi=mi("iterator"),Ai=Array.prototype,_i=function(e){return void 0!==e&&(yi.Array===e||Ai[bi]===e)},Ei=Math.ceil,wi=Math.floor,Ii=function(e){return isNaN(e=+e)?0:(0<e?wi:Ei)(e)},Si=Math.min,ki=function(e){return 0<e?Si(Ii(e),9007199254740991):0},Ci={};Ci[mi("toStringTag")]="z";var Oi="[object z]"===String(Ci),Ti=mi("toStringTag"),Ri="Arguments"==br(function(){return arguments}()),xi=Oi?br:function(e){var t;if(void 0===e)var n="Undefined";else{if(null===e)var r="Null";else{e:{var i=e=Object(e);try{r=i[Ti];break e}catch(o){}r=void 0}r="string"==typeof(n=r)?n:Ri?br(e):"Object"==(t=br(e))&&"function"==typeof e.callee?"Arguments":t}n=r}return n},Mi=mi("iterator"),Ni=function(e){if(null!=e)return e[Mi]||e["@@iterator"]||yi[xi(e)]},Di=function(e,t,n,r){try{return r?t(zr(n)[0],n[1]):t(n)}catch(i){throw void 0!==(t=e.return)&&zr(t.call(e)),i}},ji=_((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s;if(n=Qr(n,r,i?2:1),!o){if("function"!=typeof(o=Ni(e)))throw TypeError("Target is not iterable");if(_i(o)){for(o=0,r=ki(e.length);r>o;o++)if((a=i?n(zr(s=e[o])[0],s[1]):n(e[o]))&&a instanceof t)return a;return new t(!1)}e=o.call(e)}for(o=e.next;!(s=o.call(e)).done;)if("object"==typeof(a=Di(e,n,s.value,i))&&a&&a instanceof t)return a;return new t(!1)}).stop=function(e){return new t(!0,e)}})),Li=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Bi=Oi?{}.toString:function(){return"[object "+xi(this)+"]"},Pi=Kr.f,Ui=mi("toStringTag"),Fi=function(e,t,n,r){e&&(e=n?e:e.prototype,Cr(e,Ui)||Pi(e,Ui,{configurable:!0,value:t}),r&&!Oi&&Gr(e,"toString",Bi))},Qi=function(e){return Object(Er(e))},zi=Array.isArray||function(e){return"Array"==br(e)},Vi=mi("species"),Ki=function(e,t){var n;return zi(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!zi(n.prototype)?Ir(n)&&null===(n=n[Vi])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Gi=[].push,Hi=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,c,u,l){var f,d,h=Qi(s),p=_r(h);c=Qr(c,u,3),u=ki(p.length);var g=0;for(l=l||Ki,s=t?l(s,u):n?l(s,0):void 0;u>g;g++)if((a||g in p)&&(d=c(f=p[g],g,h),e))if(t)s[g]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return g;case 2:Gi.call(s,f)}else if(i)return!1;return o?-1:r||i?i:s}},qi=Hi(0),Wi=Hi(1),Yi=Hi(2),Ji=Hi(3),Xi=Hi(4),Zi=Hi(5),$i=Hi(6),eo=fi("native-function-to-string",Function.toString),to=fr.WeakMap,no="function"==typeof to&&/native code/.test(eo.call(to)),ro=fi("keys"),io=function(e){return ro[e]||(ro[e]=si(e))},oo=fr.WeakMap;if(no)var ao=new oo,so=ao.get,co=ao.has,uo=ao.set,lo=function(e,t){return uo.call(ao,e,t),t},fo=function(e){return so.call(ao,e)||{}},ho=function(e){return co.call(ao,e)};else{var po=io("state");ii[po]=!0,lo=function(e,t){return Gr(e,po,t),t},fo=function(e){return Cr(e,po)?e[po]:{}},ho=function(e){return Cr(e,po)}}var go={set:lo,get:fo,has:ho,enforce:function(e){return ho(e)?fo(e):lo(e,{})},getterFor:function(e){return function(t){var n;if(!Ir(t)||(n=fo(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},vo=Kr.f,mo=go.set,yo=go.getterFor,bo=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=fr[e],s=a&&a.prototype,c={};if(hr&&"function"==typeof a&&(i||s.forEach&&!dr((function(){(new a).entries().next()})))){var u=t((function(t,n){mo(Li(t,u,e),{type:e,collection:new a}),null!=n&&ji(n,t[o],t,r)})),l=yo(e);qi("add clear delete forEach get has set keys values entries".split(" "),(function(e){var t="add"==e||"set"==e;!(e in s)||i&&"clear"==e||Gr(u.prototype,e,(function(n,r){var o=l(this).collection;return t||!i||Ir(n)?(n=o[e](0===n?0:n,r),t?this:n):"get"==e&&void 0}))})),i||vo(u.prototype,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else u=n.getConstructor(t,e,r,o),ui.REQUIRED=!0;return Fi(u,e,!1,!0),c[e]=u,Wr({global:!0,forced:!0},c),i||n.setStrong(u,e,r),u},Ao=Math.max,_o=Math.min,Eo=function(e,t){return 0>(e=Ii(e))?Ao(e+t,0):_o(e,t)},wo=function(e){return function(t,n,r){var i;t=wr(t);var o=ki(t.length);if(r=Eo(r,o),e&&n!=n){for(;o>r;)if((i=t[r++])!=i)return!0}else for(;o>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},Io=wo(!0),So=wo(!1),ko=function(e,t){var n;e=wr(e);var r=0,i=[];for(n in e)!Cr(ii,n)&&Cr(e,n)&&i.push(n);for(;t.length>r;)Cr(e,n=t[r++])&&(~So(i,n)||i.push(n));return i},Co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Oo=Object.keys||function(e){return ko(e,Co)},To=hr?Object.defineProperties:function(e,t){zr(e);for(var n,r=Oo(t),i=r.length,o=0;i>o;)Kr.f(e,n=r[o++],t[n]);return e},Ro=Jr("document","documentElement"),xo=io("IE_PROTO"),Mo=function(){},No=function(){var e=Tr?Or.createElement("iframe"):{},t=Co.length;for(e.style.display="none",Ro.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),No=e.F;t--;)delete No.prototype[Co[t]];return No()},Do=Object.create||function(e,t){var n;return null!==e?(Mo.prototype=zr(e),n=new Mo,Mo.prototype=null,n[xo]=e):n=No(),void 0===t?n:To(n,t)};ii[xo]=!0;var jo,Lo,Bo,Po=function(e,t,n,r){r&&r.enumerable?e[t]=n:Gr(e,t,n)},Uo=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Po(e,r,t[r],n);return e},Fo=!dr((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Qo=io("IE_PROTO"),zo=Object.prototype,Vo=Fo?Object.getPrototypeOf:function(e){return e=Qi(e),Cr(e,Qo)?e[Qo]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?zo:null},Ko=(mi("iterator"),!1);[].keys&&("next"in(Bo=[].keys())?(Lo=Vo(Vo(Bo)))!==Object.prototype&&(jo=Lo):Ko=!0),null==jo&&(jo={});var Go=jo,Ho=Ko,qo=function(){return this},Wo=(Object.setPrototypeOf||"__proto__"in{}&&function(){var e={};try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call(e,[])}catch(t){}}(),Go),Yo=mi("iterator"),Jo=function(){return this},Xo=function(e,t,n,r,i,o,a){var s,c,u;!function(e,t,n){t+=" Iterator",e.prototype=Do(Go,{next:mr(1,n)}),Fi(e,t,!1,!0),yi[t]=qo}(n,t,r),r=function(e){if(e===i&&p)return p;if(!Ho&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}};var l=t+" Iterator",f=!1,d=e.prototype,h=d[Yo]||d["@@iterator"]||i&&d[i],p=!Ho&&h||r(i),g="Array"==t&&d.entries||h;if(g&&(s=Vo(g.call(new e)),Wo!==Object.prototype&&s.next&&(Fi(s,l,!0,!0),yi[l]=Jo)),"values"==i&&h&&"values"!==h.name&&(f=!0,p=function(){return h.call(this)}),a&&d[Yo]!==p&&Gr(d,Yo,p),yi[t]=p,i)if(c={values:r("values"),keys:o?p:r("keys"),entries:r("entries")},a)for(u in c)!Ho&&!f&&u in d||Po(d,u,c[u]);else Wr({target:t,proto:!0,forced:Ho||f},c);return c},Zo=mi("species"),$o=function(e){e=Jr(e);var t=Kr.f;hr&&e&&!e[Zo]&&t(e,Zo,{configurable:!0,get:function(){return this}})},ea=Kr.f,ta=ui.fastKey,na=go.set,ra=go.getterFor,ia=(bo("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var i=e((function(e,o){Li(e,i,t),na(e,{type:t,index:Do(null),first:void 0,last:void 0,size:0}),hr||(e.size=0),null!=o&&ji(o,e[r],e,n)})),o=ra(t),a=function(e,t,n){var r,i,a=o(e),c=s(e,t);return c?c.value=n:(a.last=c={index:i=ta(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=c),r&&(r.next=c),hr?a.size++:e.size++,"F"!==i&&(a.index[i]=c)),e},s=function(e,t){e=o(e);var n=ta(t);if("F"!==n)return e.index[n];for(e=e.first;e;e=e.next)if(e.key==t)return e};return Uo(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,hr?e.size=0:this.size=0},delete:function(e){var t=o(this);if(e=s(this,e)){var n=e.next,r=e.previous;delete t.index[e.index],e.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==e&&(t.first=n),t.last==e&&(t.last=r),hr?t.size--:this.size--}return!!e},forEach:function(e){for(var t,n=o(this),r=Qr(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Uo(i.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),hr&&ea(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=ra(t),o=ra(r);Xo(e,t,(function(e,t){na(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),$o(t)}}),function(e){return function(t,n){var r,i;t=String(Er(t)),n=Ii(n);var o=t.length;return 0>n||n>=o?e?"":void 0:55296>(r=t.charCodeAt(n))||56319<r||n+1===o||56320>(i=t.charCodeAt(n+1))||57343<i?e?t.charAt(n):r:e?t.slice(n,n+2):i-56320+(r-55296<<10)+65536}}),oa=(ia(!1),ia(!0)),aa=go.set,sa=go.getterFor("String Iterator");Xo(String,"String",(function(e){aa(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=sa(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=oa(n,r),t.index+=e.length,{value:e,done:!1})}));var ca=go.set,ua=go.getterFor("Array Iterator");Xo(Array,"Array",(function(e,t){ca(this,{type:"Array Iterator",target:wr(e),index:0,kind:t})}),(function(){var e=ua(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),yi.Arguments=yi.Array;var la,fa=mi("toStringTag");for(la in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var da=fr[la],ha=da&&da.prototype;ha&&!ha[fa]&&Gr(ha,fa,la),yi[la]=yi.Array}var pa=Ur.Map,ga=mi("match"),va=function(e){var t;if(Ir(e)&&(void 0!==(t=e[ga])?t:"RegExp"==br(e)))throw TypeError("The method doesn't accept regular expressions");return e},ma=mi("match"),ya=function(e){var t=/./;try{"/./"[e](t)}catch(Nl){try{return t[ma]=!1,"/./"[e](t)}catch(n){}}return!1},ba="".endsWith,Aa=Math.min,_a=ya("endsWith");Wr({target:"String",proto:!0,forced:!_a},{endsWith:function(e){var t=String(Er(this));va(e);var n=1<arguments.length?arguments[1]:void 0,r=ki(t.length);return n=void 0===n?r:Aa(ki(n),r),r=String(e),ba?ba.call(t,r,n):t.slice(n-r.length,n)===r}});var Ea=function(e){return Ur[e+"Prototype"]},wa=Ea("String").endsWith,Ia=String.prototype,Sa=function(e){var t=e.endsWith;return"string"==typeof e||e===Ia||e instanceof String&&t===Ia.endsWith?wa:t},ka=function(e,t){var n=[][e];return!n||!dr((function(){n.call(null,t||function(){throw 1},1)}))},Ca=ka("forEach")?function(e){return qi(this,e,1<arguments.length?arguments[1]:void 0)}:[].forEach;Wr({target:"Array",proto:!0,forced:[].forEach!=Ca},{forEach:Ca});var Oa=Ea("Array").forEach,Ta=Array.prototype,Ra={DOMTokenList:!0,NodeList:!0},xa=function(e){var t=e.forEach;return e===Ta||e instanceof Array&&t===Ta.forEach||Ra.hasOwnProperty(xi(e))?Oa:t},Ma={f:Object.getOwnPropertySymbols},Na=Object.assign,Da=!Na||dr((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Na({},e)[n]||"abcdefghijklmnopqrst"!=Oo(Na({},t)).join("")}))?function(e,t){for(var n=Qi(e),r=arguments.length,i=1,o=Ma.f,a=vr;r>i;)for(var s,c=_r(arguments[i++]),u=o?Oo(c).concat(o(c)):Oo(c),l=u.length,f=0;l>f;)s=u[f++],hr&&!a.call(c,s)||(n[s]=c[s]);return n}:Na;Wr({target:"Object",stat:!0,forced:Object.assign!==Da},{assign:Da});var ja=Ur.Object.assign,La=dr((function(){Oo(1)}));Wr({target:"Object",stat:!0,forced:La},{keys:function(e){return Oo(Qi(e))}});var Ba=Ur.Object.keys,Pa=function(e){return function(t,n,r,i){Fr(n),t=Qi(t);var o=_r(t),a=ki(t.length),s=e?a-1:0,c=e?-1:1;if(2>r)for(;;){if(s in o){i=o[s],s+=c;break}if(s+=c,e?0>s:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=s:a>s;s+=c)s in o&&(i=n(i,o[s],s,t));return i}},Ua=[Pa(!1),Pa(!0)][0];Wr({target:"Array",proto:!0,forced:ka("reduce")},{reduce:function(e){return Ua(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Fa=Ea("Array").reduce,Qa=Array.prototype,za=function(e){var t=e.reduce;return e===Qa||e instanceof Array&&t===Qa.reduce?Fa:t};Wr({target:"Object",stat:!0,forced:!hr,sham:!hr},{defineProperty:Kr.f});var Va=_((function(e){var t=Ur.Object;e=e.exports=function(e,n,r){return t.defineProperty(e,n,r)},t.defineProperty.sham&&(e.sham=!0)})),Ka=Va,Ga=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,Ha=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,qa=function(e){return function(t){return t=String(Er(t)),1&e&&(t=t.replace(Ga,"")),2&e&&(t=t.replace(Ha,"")),t}};qa(1),qa(2);var Wa=qa(3),Ya=fr.parseInt,Ja=/^[+-]?0[Xx]/,Xa=8!==Ya("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff08")||22!==Ya("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff0x16")?function(e,t){return e=Wa(String(e)),Ya(e,t>>>0||(Ja.test(e)?16:10))}:Ya;Wr({global:!0,forced:parseInt!=Xa},{parseInt:Xa});var Za=Ur.parseInt,$a=!0,es=!0,ts=Mr,ns=dr((function(){ts(1)}));Wr({target:"Object",stat:!0,forced:!hr||ns,sham:!hr},{getOwnPropertyDescriptor:function(e,t){return ts(wr(e),t)}});var rs,is,os=_((function(e){var t=Ur.Object;e=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)},t.getOwnPropertyDescriptor.sham&&(e.sham=!0)})),as=function(e,t,n){(t=Sr(t))in e?Kr.f(e,t,mr(0,n)):e[t]=n},ss=Jr("navigator","userAgent")||"",cs=fr.process,us=cs&&cs.versions,ls=us&&us.v8;ls?is=(rs=ls.split("."))[0]+rs[1]:ss&&(!(rs=ss.match(/Edge\/(\d+)/))||74<=rs[1])&&(rs=ss.match(/Chrome\/(\d+)/))&&(is=rs[1]);var fs=is&&+is,ds=mi("species"),hs=function(e){return 51<=fs||!dr((function(){var t=[];return(t.constructor={})[ds]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},ps=mi("isConcatSpreadable"),gs=51<=fs||!dr((function(){var e=[];return e[ps]=!1,e.concat()[0]!==e})),vs=hs("concat");Wr({target:"Array",proto:!0,forced:!gs||!vs},{concat:function(e){var t,n,r=Qi(this),i=Ki(r,0),o=0,a=-1;for(t=arguments.length;a<t;a++){var s=n=-1===a?r:arguments[a];if(Ir(s)){var c=s[ps];s=void 0!==c?!!c:zi(s)}else s=!1;if(s){if(9007199254740991<o+(c=ki(n.length)))throw TypeError("Maximum allowed index exceeded");for(s=0;s<c;s++,o++)s in n&&as(i,o,n[s])}else{if(9007199254740991<=o)throw TypeError("Maximum allowed index exceeded");as(i,o++,n)}}return i.length=o,i}});var ms=Ea("Array").concat,ys=Array.prototype,bs=function(e){var t=e.concat;return e===ys||e instanceof Array&&t===ys.concat?ms:t};Wr({target:"Array",proto:!0,forced:!hs("filter")},{filter:function(e){return Yi(this,e,1<arguments.length?arguments[1]:void 0)}});var As=Ea("Array").filter,_s=Array.prototype,Es=function(e){var t=e.filter;return e===_s||e instanceof Array&&t===_s.filter?As:t},ws=fr.Promise,Is=mi("iterator"),Ss=!1;try{var ks=0,Cs={next:function(){return{done:!!ks++}},return:function(){Ss=!0}};Cs[Is]=function(){return this},Array.from(Cs,(function(){throw 2}))}catch(Du){}var Os,Ts,Rs,xs=function(e,t){if(!t&&!Ss)return!1;var n=!1;try{(t={})[Is]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch(r){}return n},Ms=mi("species"),Ns=function(e,t){var n;return void 0===(e=zr(e).constructor)||null==(n=zr(e)[Ms])?t:Fr(n)},Ds=/(iphone|ipod|ipad).*applewebkit/i.test(ss),js=fr.location,Ls=fr.setImmediate,Bs=fr.clearImmediate,Ps=fr.process,Us=fr.MessageChannel,Fs=fr.Dispatch,Qs=0,zs={},Vs=function(e){if(zs.hasOwnProperty(e)){var t=zs[e];delete zs[e],t()}},Ks=function(e){return function(){Vs(e)}},Gs=function(e){Vs(e.data)},Hs=function(e){fr.postMessage(e+"",js.protocol+"//"+js.host)};Ls&&Bs||(Ls=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return zs[++Qs]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Os(Qs),Qs},Bs=function(e){delete zs[e]},"process"==br(Ps)?Os=function(e){Ps.nextTick(Ks(e))}:Fs&&Fs.now?Os=function(e){Fs.now(Ks(e))}:Us&&!Ds?(Rs=(Ts=new Us).port2,Ts.port1.onmessage=Gs,Os=Qr(Rs.postMessage,Rs,1)):!fr.addEventListener||"function"!=typeof postMessage||fr.importScripts||dr(Hs)?Os="onreadystatechange"in(Tr?Or.createElement("script"):{})?function(e){Ro.appendChild(Tr?Or.createElement("script"):{}).onreadystatechange=function(){Ro.removeChild(this),Vs(e)}}:function(e){setTimeout(Ks(e),0)}:(Os=Hs,fr.addEventListener("message",Gs,!1)));var qs,Ws,Ys,Js,Xs,Zs,$s,ec,tc=Ls,nc=Mr,rc=fr.MutationObserver||fr.WebKitMutationObserver,ic=fr.process,oc=fr.Promise,ac="process"==br(ic),sc=nc(fr,"queueMicrotask"),cc=sc&&sc.value;cc||(qs=function(){var e;for(ac&&(e=ic.domain)&&e.exit();Ws;){var t=Ws.fn;Ws=Ws.next;try{t()}catch(Nl){throw Ws?Js():Ys=void 0,Nl}}Ys=void 0,e&&e.enter()},ac?Js=function(){ic.nextTick(qs)}:rc&&!Ds?(Xs=!0,Zs=document.createTextNode(""),new rc(qs).observe(Zs,{characterData:!0}),Js=function(){Zs.data=Xs=!Xs}):oc&&oc.resolve?($s=oc.resolve(void 0),ec=$s.then,Js=function(){ec.call($s,qs)}):Js=function(){tc.call(fr,qs)});var uc,lc,fc=cc||function(e){e={fn:e,next:void 0},Ys&&(Ys.next=e),Ws||(Ws=e,Js()),Ys=e},dc=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Fr(t),this.reject=Fr(n)},hc={f:function(e){return new dc(e)}},pc=function(e,t){return zr(e),Ir(t)&&t.constructor===e?t:((0,(e=hc.f(e)).resolve)(t),e.promise)},gc=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},vc=mi("species"),mc=go.get,yc=go.set,bc=go.getterFor("Promise"),Ac=ws,_c=fr.TypeError,Ec=fr.document,wc=fr.process,Ic=fi("inspectSource"),Sc=(Jr("fetch"),hc.f),kc=Sc,Cc="process"==br(wc),Oc=!!(Ec&&Ec.createEvent&&fr.dispatchEvent),Tc=Dr("Promise",(function(){if(Ic(Ac)===String(Ac)&&(66===fs||!Cc&&"function"!=typeof PromiseRejectionEvent)||!Ac.prototype.finally)return!0;if(51<=fs&&/native code/.test(Ac))return!1;var e=Ac.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[vc]=t,!(e.then((function(){}))instanceof t)})),Rc=Tc||!xs((function(e){Ac.all(e).catch((function(){}))})),xc=function(e){var t;return!(!Ir(e)||"function"!=typeof(t=e.then))&&t},Mc=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;fc((function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,c,u,l=r[a++],f=o?l.ok:l.fail,d=l.resolve,h=l.reject,p=l.domain;try{f?(o||(2===t.rejection&&jc(e,t),t.rejection=1),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),u=!0)),s===l.promise?h(_c("Promise-chain cycle")):(c=xc(s))?c.call(s,d,h):d(s)):h(i)}catch(g){p&&!u&&p.exit(),h(g)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Dc(e,t)}))}},Nc=function(e,t,n){var r,i;Oc?((r=Ec.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),fr.dispatchEvent(r)):r={promise:t,reason:n},(i=fr["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=fr.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Dc=function(e,t){tc.call(fr,(function(){var n,r=t.value;if(1!==t.rejection&&!t.parent&&(n=gc((function(){Cc?wc.emit("unhandledRejection",r,e):Nc("unhandledrejection",e,r)})),t.rejection=Cc||1!==t.rejection&&!t.parent?2:1,n.error))throw n.value}))},jc=function(e,t){tc.call(fr,(function(){Cc?wc.emit("rejectionHandled",e):Nc("rejectionhandled",e,t.value)}))},Lc=function(e,t,n,r){return function(i){e(t,n,i,r)}},Bc=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Mc(e,t,!0))},Pc=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw _c("Promise can't be resolved itself");var o=xc(r);o?fc((function(){var i={done:!1};try{o.call(r,Lc(e,t,i,n),Lc(Bc,t,i,n))}catch(a){Bc(t,i,a,n)}})):(n.value=r,n.state=1,Mc(t,n,!1))}catch(a){Bc(t,{done:!1},a,n)}}};Tc&&(Ac=function(e){Li(this,Ac,"Promise"),Fr(e),uc.call(this);var t=mc(this);try{e(Lc(Pc,this,t),Lc(Bc,this,t))}catch(Nl){Bc(this,t,Nl)}},(uc=function(e){yc(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Uo(Ac.prototype,{then:function(e,t){var n=bc(this),r=Sc(Ns(this,Ac));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Cc?wc.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Mc(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),lc=function(){var e=new uc,t=mc(e);this.promise=e,this.resolve=Lc(Pc,e,t),this.reject=Lc(Bc,e,t)},hc.f=Sc=function(e){return e===Ac||e===Uc?new lc(e):kc(e)}),Wr({global:!0,wrap:!0,forced:Tc},{Promise:Ac}),Fi(Ac,"Promise",!1,!0),$o("Promise");var Uc=Jr("Promise");Wr({target:"Promise",stat:!0,forced:Tc},{reject:function(e){var t=Sc(this);return t.reject.call(void 0,e),t.promise}}),Wr({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return pc(this===Uc?Ac:this,e)}}),Wr({target:"Promise",stat:!0,forced:Rc},{all:function(e){var t=this,n=Sc(t),r=n.resolve,i=n.reject,o=gc((function(){var n=Fr(t.resolve),o=[],a=0,s=1;ji(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Sc(t),r=n.reject,i=gc((function(){var i=Fr(t.resolve);ji(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),Wr({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=hc.f(t),r=n.resolve,i=n.reject,o=gc((function(){var n=Fr(t.resolve),i=[],o=0,a=1;ji(e,(function(e){var s=o++,c=!1;i.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}}),Wr({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=Ns(this,Jr("Promise")),n="function"==typeof e;return this.then(n?function(n){return pc(t,e()).then((function(){return n}))}:e,n?function(n){return pc(t,e()).then((function(){throw n}))}:e)}});var Fc=Ur.Promise;Wr({target:"Array",proto:!0,forced:!hs("map")},{map:function(e){return Wi(this,e,1<arguments.length?arguments[1]:void 0)}});var Qc=Ea("Array").map,zc=Array.prototype,Vc=function(e){var t=e.map;return e===zc||e instanceof Array&&t===zc.map?Qc:t},Kc=Math.max,Gc=Math.min;Wr({target:"Array",proto:!0,forced:!hs("splice")},{splice:function(e,t){var n,r,i,o,a=Qi(this),s=ki(a.length),c=Eo(e,s),u=arguments.length;if(0===u?n=r=0:1===u?(n=0,r=s-c):(n=u-2,r=Gc(Kc(Ii(t),0),s-c)),9007199254740991<s+n-r)throw TypeError("Maximum allowed length exceeded");for(u=Ki(a,r),i=0;i<r;i++)(o=c+i)in a&&as(u,i,a[o]);if(u.length=r,n<r){for(i=c;i<s-r;i++){var l=i+n;(o=i+r)in a?a[l]=a[o]:delete a[l]}for(i=s;i>s-r+n;i--)delete a[i-1]}else if(n>r)for(i=s-r;i>c;i--)l=i+n-1,(o=i+r-1)in a?a[l]=a[o]:delete a[l];for(i=0;i<n;i++)a[i+c]=arguments[i+2];return a.length=s-r+n,u}});var Hc=Ea("Array").splice,qc=Array.prototype,Wc=function(e){var t=e.splice;return e===qc||e instanceof Array&&t===qc.splice?Hc:t},Yc=[].indexOf,Jc=!!Yc&&0>1/[1].indexOf(1,-0),Xc=ka("indexOf");Wr({target:"Array",proto:!0,forced:Jc||Xc},{indexOf:function(e){return Jc?Yc.apply(this,arguments)||0:So(this,e,1<arguments.length?arguments[1]:void 0)}});var Zc=Ea("Array").indexOf,$c=Array.prototype,eu=function(e){var t=e.indexOf;return e===$c||e instanceof Array&&t===$c.indexOf?Zc:t},tu=mi("species"),nu=[].slice,ru=Math.max;Wr({target:"Array",proto:!0,forced:!hs("slice")},{slice:function(e,t){var n,r=wr(this),i=ki(r.length);if(e=Eo(e,i),t=Eo(void 0===t?i:t,i),zi(r)&&("function"!=typeof(n=r.constructor)||n!==Array&&!zi(n.prototype)?Ir(n)&&null===(n=n[tu])&&(n=void 0):n=void 0,n===Array||void 0===n))return nu.call(r,e,t);for(n=new(void 0===n?Array:n)(ru(t-e,0)),i=0;e<t;e++,i++)e in r&&as(n,i,r[e]);return n.length=i,n}});var iu=Ea("Array").slice,ou=Array.prototype,au=function(e){var t=e.slice;return e===ou||e instanceof Array&&t===ou.slice?iu:t},su=!0;"find"in[]&&Array(1).find((function(){su=!1})),Wr({target:"Array",proto:!0,forced:su},{find:function(e){return Zi(this,e,1<arguments.length?arguments[1]:void 0)}});var cu=Ea("Array").find,uu=Array.prototype,lu=function(e){var t=e.find;return e===uu||e instanceof Array&&t===uu.find?cu:t},fu=[].slice,du={};Wr({target:"Function",proto:!0},{bind:Function.bind||function(e){var t=Fr(this),n=fu.call(arguments,1),r=function r(){var i=n.concat(fu.call(arguments));if(this instanceof r){var o=i.length;if(!(o in du)){for(var a=[],s=0;s<o;s++)a[s]="a["+s+"]";du[o]=Function("C,a","return new C("+a.join(",")+")")}i=du[o](t,i)}else i=t.apply(e,i);return i};return Ir(t.prototype)&&(r.prototype=t.prototype),r}});var hu=Ea("Function").bind,pu=Function.prototype,gu=function(e){var t=e.bind;return e===pu||e instanceof Function&&t===pu.bind?hu:t};Wr({target:"Array",proto:!0},{includes:function(e){return Io(this,e,1<arguments.length?arguments[1]:void 0)}});var vu=Ea("Array").includes;Wr({target:"String",proto:!0,forced:!ya("includes")},{includes:function(e){return!!~String(Er(this)).indexOf(va(e),1<arguments.length?arguments[1]:void 0)}});var mu=Ea("String").includes,yu=Array.prototype,bu=String.prototype,Au=function(e){var t=e.includes;return e===yu||e instanceof Array&&t===yu.includes?vu:"string"==typeof e||e===bu||e instanceof String&&t===bu.includes?mu:t};Wr({target:"Array",proto:!0,forced:ka("some")},{some:function(e){return Ji(this,e,1<arguments.length?arguments[1]:void 0)}});var _u=Ea("Array").some,Eu=Array.prototype,wu=function(e){var t=e.some;return e===Eu||e instanceof Array&&t===Eu.some?_u:t},Iu=k,Su=Object.freeze({__proto__:null,shimMediaStream:M,shimOnTrack:N,shimGetSendersWithDtmf:D,shimGetStats:j,shimSenderReceiverGetStats:L,shimAddTrackRemoveTrackWithNative:B,shimAddTrackRemoveTrack:P,shimPeerConnection:U,fixNegotiationNeeded:F,shimGetUserMedia:x,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:n.video&&n.video.frameRate||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}),ku="".startsWith,Cu=Math.min,Ou=ya("startsWith");Wr({target:"String",proto:!0,forced:!Ou},{startsWith:function(e){var t=String(Er(this));va(e);var n=ki(Cu(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return ku?ku.call(t,r,n):t.slice(n,n+r.length)===r}});var Tu=Ea("String").startsWith,Ru=String.prototype,xu=function(e){var t=e.startsWith;return"string"==typeof e||e===Ru||e instanceof String&&t===Ru.startsWith?Tu:t};Wr({target:"String",proto:!0,forced:dr((function(){return"trim"!=="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff".trim.name}))},{trim:function(){return Wa(this)}});var Mu,Nu,Du,ju=Ea("String").trim,Lu=String.prototype,Bu=function(e){var t=e.trim;return"string"==typeof e||e===Lu||e instanceof String&&t===Lu.trim?ju:t},Pu=_((function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){var t;return Vc(t=Bu(e).call(e).split("\n")).call(t,(function(e){return Bu(e).call(e)}))},t.splitSections=function(e){return e=e.split("\nm="),Vc(e).call(e,(function(e,t){var n;return Bu(n=0<t?"m="+e:e).call(n)+"\r\n"}))},t.getDescription=function(e){return(e=t.splitSections(e))&&e[0]},t.getMediaSections=function(e){return(e=t.splitSections(e)).shift(),e},t.matchPrefix=function(e,n){var r;return Es(r=t.splitLines(e)).call(r,(function(e){return 0===eu(e).call(e,n)}))},t.parseCandidate=function(e){var t;e={foundation:(t=0===eu(e).call(e,"a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:Za(t[1],10),protocol:t[2].toLowerCase(),priority:Za(t[3],10),ip:t[4],address:t[4],port:Za(t[5],10),type:t[7]};for(var n=8;n<t.length;n+=2)switch(t[n]){case"raddr":e.relatedAddress=t[n+1];break;case"rport":e.relatedPort=Za(t[n+1],10);break;case"tcptype":e.tcpType=t[n+1];break;case"ufrag":e.ufrag=t[n+1],e.usernameFragment=t[n+1];break;default:e[t[n]]=t[n+1]}return e},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){e=e.substr(9).split(" ");var t={payloadType:Za(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=Za(e[1],10),t.channels=3===e.length?Za(e[2],10):1,t.numChannels=t.channels,t},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t;return e=e.substr(9).split(" "),{id:Za(e[0],10),direction:0<eu(t=e[0]).call(t,"/")?e[0].split("/")[1]:"sendrecv",uri:e[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t={},n=e.substr(eu(e).call(e," ")+1).split(";"),r=0;r<n.length;r++){var i,o;e=Bu(i=n[r]).call(i).split("="),t[Bu(o=e[0]).call(o)]=e[1]}return t},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Ba(e.parameters).length){var r,i=[];xa(r=Ba(e.parameters)).call(r,(function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){return{type:(e=e.substr(eu(e).call(e," ")+1).split(" ")).shift(),parameter:e.join(" ")}},t.writeRtcpFb=function(e){var t,n="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&xa(t=e.rtcpFeedback).call(t,(function(e){n+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),n},t.parseSsrcMedia=function(e){var t=eu(e).call(e," "),n={ssrc:Za(e.substr(7,t-7),10)},r=eu(e).call(e,":",t);return-1<r?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){return{semantics:(e=e.substr(13).split(" ")).shift(),ssrcs:Vc(e).call(e,(function(e){return Za(e,10)}))}},t.getMid=function(e){if(e=t.matchPrefix(e,"a=mid:")[0])return e.substr(6)},t.parseFingerprint=function(e){return{algorithm:(e=e.substr(14).split(" "))[0].toLowerCase(),value:e[1]}},t.getDtlsParameters=function(e,n){return e=t.matchPrefix(e+n,"a=fingerprint:"),{role:"auto",fingerprints:Vc(e).call(e,t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n,r="a=setup:"+t+"\r\n";return xa(n=e.fingerprints).call(n,(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.getIceParameters=function(e,n){return e=t.splitLines(e),e=bs(e).call(e,t.splitLines(n)),{usernameFragment:Es(e).call(e,(function(e){return 0===eu(e).call(e,"a=ice-ufrag:")}))[0].substr(12),password:Es(e).call(e,(function(e){return 0===eu(e).call(e,"a=ice-pwd:")}))[0].substr(10)}},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n,r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" "),o=3;o<i.length;o++){var a=i[o],s=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){var c;s=t.parseRtpMap(s);var u=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=u.length?t.parseFmtp(u[0]):{},s.rtcpFeedback=Vc(c=t.matchPrefix(e,"a=rtcp-fb:"+a+" ")).call(c,t.parseRtcpFb),r.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(s.name.toUpperCase())}}}return xa(n=t.matchPrefix(e,"a=extmap:")).call(n,(function(e){r.headerExtensions.push(t.parseExtmap(e))})),r},t.writeRtpDescription=function(e,n){var r,i,o,a="";a+="m="+e+" ",a+=0<n.codecs.length?"9":"0",a+=" UDP/TLS/RTP/SAVPF ",a+=Vc(r=n.codecs).call(r,(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",a+="c=IN IP4 0.0.0.0\r\n",a+="a=rtcp:9 IN IP4 0.0.0.0\r\n",xa(i=n.codecs).call(i,(function(e){a+=t.writeRtpMap(e),a+=t.writeFmtp(e),a+=t.writeRtcpFb(e)}));var s,c=0;return xa(o=n.codecs).call(o,(function(e){e.maxptime>c&&(c=e.maxptime)})),0<c&&(a+="a=maxptime:"+c+"\r\n"),a+="a=rtcp-mux\r\n",n.headerExtensions&&xa(s=n.headerExtensions).call(s,(function(e){a+=t.writeExtmap(e)})),a},t.parseRtpEncodingParameters=function(e){var n,r,i,o,a,s,c,u=[],l=t.parseRtpParameters(e),f=-1!==eu(n=l.fecMechanisms).call(n,"RED"),d=-1!==eu(r=l.fecMechanisms).call(r,"ULPFEC"),h=0<(n=Es(i=Vc(o=t.matchPrefix(e,"a=ssrc:")).call(o,(function(e){return t.parseSsrcMedia(e)}))).call(i,(function(e){return"cname"===e.attribute}))).length&&n[0].ssrc;0<(i=Vc(a=t.matchPrefix(e,"a=ssrc-group:FID")).call(a,(function(e){return e=e.substr(17).split(" "),Vc(e).call(e,(function(e){return Za(e,10)}))}))).length&&1<i[0].length&&i[0][0]===h&&(c=i[0][1]),xa(s=l.codecs).call(s,(function(e){"RTX"===e.name.toUpperCase()&&e.parameters.apt&&(e={ssrc:h,codecPayloadType:Za(e.parameters.apt,10)},h&&c&&(e.rtx={ssrc:c}),u.push(e),f&&((e=JSON.parse(ri(e))).fec={ssrc:h,mechanism:d?"red+ulpfec":"red"},u.push(e)))})),0===u.length&&h&&u.push({ssrc:h});var p,g,v=t.matchPrefix(e,"b=");return v.length&&(v=0===eu(p=v[0]).call(p,"b=TIAS:")?Za(v[0].substr(7),10):0===eu(g=v[0]).call(g,"b=AS:")?950*Za(v[0].substr(5),10)-16e3:void 0,xa(u).call(u,(function(e){e.maxBitrate=v}))),u},t.parseRtcpParameters=function(e){var n,r,i={},o=Es(n=Vc(r=t.matchPrefix(e,"a=ssrc:")).call(r,(function(e){return t.parseSsrcMedia(e)}))).call(n,(function(e){return"cname"===e.attribute}))[0];return o&&(i.cname=o.value,i.ssrc=o.ssrc),n=t.matchPrefix(e,"a=rtcp-rsize"),i.reducedSize=0<n.length,i.compound=0===n.length,e=t.matchPrefix(e,"a=rtcp-mux"),i.mux=0<e.length,i},t.parseMsid=function(e){var n,r,i,o=t.matchPrefix(e,"a=msid:");return 1===o.length?{stream:(i=o[0].substr(7).split(" "))[0],track:i[1]}:0<(e=Es(n=Vc(r=t.matchPrefix(e,"a=ssrc:")).call(r,(function(e){return t.parseSsrcMedia(e)}))).call(n,(function(e){return"msid"===e.attribute}))).length?{stream:(i=e[0].value.split(" "))[0],track:i[1]}:void 0},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){return n=void 0!==n?n:2,"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){return n=t.writeRtpDescription(e.kind,n),n+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),n+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),n+="a=mid:"+e.mid+"\r\n",e.direction?n+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?n+="a=sendrecv\r\n":e.rtpSender?n+="a=sendonly\r\n":e.rtpReceiver?n+="a=recvonly\r\n":n+="a=inactive\r\n",e.rtpSender&&(n=n+"a="+(r="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+r,e.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+r,n+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")),n+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),n},t.getDirection=function(e,n){e=t.splitLines(e);for(var r=0;r<e.length;r++)switch(e[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return e[r].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){return{kind:(e=t.splitLines(e)[0].substr(2).split(" "))[0],port:Za(e[1],10),protocol:e[2],fmt:au(e).call(e,3).join(" ")}},t.parseOLine=function(e){return{username:(e=t.matchPrefix(e,"o=")[0].substr(2).split(" "))[0],sessionId:e[1],sessionVersion:Za(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;e=t.splitLines(e);for(var n=0;n<e.length;n++)if(2>e[n].length||"="!==e[n].charAt(1))return!1;return!0},e.exports=t})),Uu=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function r(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var i=function(n){var r=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw G("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&14393<=t&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;0<o;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=Pu.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(e,t){var n=0<this.transceivers.length;return e={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0},this.usingBundle&&n?(e.iceTransport=this.transceivers[0].iceTransport,e.dtlsTransport=this.transceivers[0].dtlsTransport):(n=this._createIceAndDtlsTransports(),e.iceTransport=n.iceTransport,e.dtlsTransport=n.dtlsTransport),t||this.transceivers.push(e),e},i.prototype.addTrack=function(t,n){if(this._isClosed)throw G("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw G("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},i.prototype.addStream=function(e){var n=this;if(15025<=t)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},i.prototype.removeTrack=function(t){if(this._isClosed)throw G("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw G("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&-1<this.localStreams.indexOf(r)&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},i.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},i.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},i.prototype._createIceGatherer=function(t,n){var r=this;if(n&&0<t)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},i.prototype._gather=function(t,n){var r=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(r.usingBundle&&0<n)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate;(e=!a||0===Object.keys(a).length)?"new"!==i.state&&"gathering"!==i.state||(i.state="completed"):("new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment,a=Pu.writeCandidate(a),o.candidate=Object.assign(o.candidate,Pu.parseCandidate(a)),o.candidate.candidate=a,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}),(a=Pu.getMediaSections(r._localDescription.sdp))[o.candidate.sdpMLineIndex]+=e?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",r._localDescription.sdp=Pu.getDescription(r._localDescription.sdp)+a.join(""),a=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})),"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),e||r._dispatchEvent("icecandidate",o),a&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},i.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer),(t=this.transceivers[e].iceTransport)&&(delete t.onicestatechange,delete this.transceivers[e].iceTransport),(t=this.transceivers[e].dtlsTransport)&&(delete t.ondtlsstatechange,delete t.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,n,r){var i=z(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:Pu.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&0<i.codecs.length&&("video"===e.kind&&e.recvEncodingParameters&&15019>t&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},i.prototype.setLocalDescription=function(e){var t=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(G("TypeError",'Unsupported type "'+e.type+'"'));if(!V("setLocalDescription",e.type,t.signalingState)||t._isClosed)return Promise.reject(G("InvalidStateError","Can not set local "+e.type+" in state "+t.signalingState));if("offer"===e.type){var n=Pu.splitSections(e.sdp),r=n.shift();n.forEach((function(e,n){e=Pu.parseRtpParameters(e),t.transceivers[n].localCapabilities=e})),t.transceivers.forEach((function(e,n){t._gather(e.mid,n)}))}else if("answer"===e.type){n=Pu.splitSections(t._remoteDescription.sdp),r=n.shift();var i=0<Pu.matchPrefix(r,"a=ice-lite").length;n.forEach((function(e,n){var o=t.transceivers[n],a=o.iceGatherer,s=o.iceTransport,c=o.dtlsTransport,u=o.localCapabilities,l=o.remoteCapabilities;if(!(Pu.isRejected(e)&&0===Pu.matchPrefix(e,"a=bundle-only").length||o.rejected)){var f=Pu.getIceParameters(e,r);e=Pu.getDtlsParameters(e,r),i&&(e.role="server"),t.usingBundle&&0!==n||(t._gather(o.mid,n),"new"===s.state&&s.start(a,f,i?"controlling":"controlled"),"new"===c.state&&c.start(e)),n=z(u,l),t._transceive(o,0<n.codecs.length,!1)}}))}return t._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?t._updateSignalingState("have-local-offer"):t._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(G("TypeError",'Unsupported type "'+i.type+'"'));if(!V("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(G("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var a={};o.remoteStreams.forEach((function(e){a[e.id]=e}));var s=[],c=Pu.splitSections(i.sdp),u=c.shift(),l=0<Pu.matchPrefix(u,"a=ice-lite").length,f=0<Pu.matchPrefix(u,"a=group:BUNDLE ").length;o.usingBundle=f;var d=Pu.matchPrefix(u,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!d&&0<=d.substr(14).split(" ").indexOf("trickle"),c.forEach((function(r,c){var d=Pu.splitLines(r),h=Pu.getKind(r),p=Pu.isRejected(r)&&0===Pu.matchPrefix(r,"a=bundle-only").length,g=d[0].substr(2).split(" ")[2];d=Pu.getDirection(r,u);var v=Pu.parseMsid(r),m=Pu.getMid(r)||Pu.generateIdentifier();if(p||"application"===h&&("DTLS/SCTP"===g||"UDP/DTLS/SCTP"===g))o.transceivers[c]={mid:m,kind:h,protocol:g,rejected:!0};else{var y,b;!p&&o.transceivers[c]&&o.transceivers[c].rejected&&(o.transceivers[c]=o._createTransceiver(h,!0));var A,_,E=Pu.parseRtpParameters(r);p||(A=Pu.getIceParameters(r,u),(_=Pu.getDtlsParameters(r,u)).role="client"),g=Pu.parseRtpEncodingParameters(r);var w=Pu.parseRtcpParameters(r),I=0<Pu.matchPrefix(r,"a=end-of-candidates",u).length;if(r=Pu.matchPrefix(r,"a=candidate:").map((function(e){return Pu.parseCandidate(e)})).filter((function(e){return 1===e.component})),("offer"===i.type||"answer"===i.type)&&!p&&f&&0<c&&o.transceivers[c]&&(o._disposeIceAndDtlsTransports(c),o.transceivers[c].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[c].iceTransport=o.transceivers[0].iceTransport,o.transceivers[c].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[c].rtpSender&&o.transceivers[c].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[c].rtpReceiver&&o.transceivers[c].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||p){if("answer"===i.type&&!p){h=(y=o.transceivers[c]).iceGatherer;var S=y.iceTransport,k=y.dtlsTransport,C=y.rtpReceiver;p=y.sendEncodingParameters,m=y.localCapabilities,o.transceivers[c].recvEncodingParameters=g,o.transceivers[c].remoteCapabilities=E,o.transceivers[c].rtcpParameters=w,r.length&&"new"===S.state&&(!l&&!I||f&&0!==c?r.forEach((function(e){K(y.iceTransport,e)})):S.setRemoteCandidates(r)),f&&0!==c||("new"===S.state&&S.start(h,A,"controlling"),"new"===k.state&&k.start(_)),!z(y.localCapabilities,y.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&y.sendEncodingParameters[0].rtx&&delete y.sendEncodingParameters[0].rtx,o._transceive(y,"sendrecv"===d||"recvonly"===d,"sendrecv"===d||"sendonly"===d),!C||"sendrecv"!==d&&"sendonly"!==d?delete y.rtpReceiver:(b=C.track,v?(a[v.stream]||(a[v.stream]=new e.MediaStream),n(b,a[v.stream]),s.push([b,C,a[v.stream]])):(a.default||(a.default=new e.MediaStream),n(b,a.default),s.push([b,C,a.default])))}}else(y=o.transceivers[c]||o._createTransceiver(h)).mid=m,y.iceGatherer||(y.iceGatherer=o._createIceGatherer(c,f)),r.length&&"new"===y.iceTransport.state&&(!I||f&&0!==c?r.forEach((function(e){K(y.iceTransport,e)})):y.iceTransport.setRemoteCandidates(r)),m=e.RTCRtpReceiver.getCapabilities(h),15019>t&&(m.codecs=m.codecs.filter((function(e){return"rtx"!==e.name}))),p=y.sendEncodingParameters||[{ssrc:1001*(2*c+2)}],A=!1,"sendrecv"===d||"sendonly"===d?(A=!y.rtpReceiver,C=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,h),A&&(b=C.track,v&&"-"===v.stream||(v?(a[v.stream]||(a[v.stream]=new e.MediaStream,Object.defineProperty(a[v.stream],"id",{get:function(){return v.stream}})),Object.defineProperty(b,"id",{get:function(){return v.track}}),S=a[v.stream]):(a.default||(a.default=new e.MediaStream),S=a.default)),S&&(n(b,S),y.associatedRemoteMediaStreams.push(S)),s.push([b,C,S]))):y.rtpReceiver&&y.rtpReceiver.track&&(y.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===y.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),y.associatedRemoteMediaStreams=[]),y.localCapabilities=m,y.remoteCapabilities=E,y.rtpReceiver=C,y.rtcpParameters=w,y.sendEncodingParameters=p,y.recvEncodingParameters=g,o._transceive(o.transceivers[c],!1,A)}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",i)}))}s.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&r(o,t,i,[n])}))}})),s.forEach((function(e){e[2]||r(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&0<e.iceTransport.getRemoteCandidates().length&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e,e=new Event("signalingstatechange"),this._dispatchEvent("signalingstatechange",e)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},i.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",0<t.failed?e="failed":0<t.checking?e="checking":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected?e="connected":0<t.completed&&(e="completed"),e!==this.iceConnectionState&&(this.iceConnectionState=e,e=new Event("iceconnectionstatechange"),this._dispatchEvent("iceconnectionstatechange",e))},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",0<t.failed?e="failed":0<t.connecting?e="connecting":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected&&(e="connected"),e!==this.connectionState&&(this.connectionState=e,e=new Event("connectionstatechange"),this._dispatchEvent("connectionstatechange",e))},i.prototype.createOffer=function(n){var r=this;if(r._isClosed)return Promise.reject(G("InvalidStateError","Can not call createOffer after close"));var i=r.transceivers.filter((function(e){return"audio"===e.kind})).length,o=r.transceivers.filter((function(e){return"video"===e.kind})).length;if(n){if(n.mandatory||n.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==n.offerToReceiveAudio&&(i=!0===n.offerToReceiveAudio?1:!1===n.offerToReceiveAudio?0:n.offerToReceiveAudio),void 0!==n.offerToReceiveVideo&&(o=!0===n.offerToReceiveVideo?1:!1===n.offerToReceiveVideo?0:n.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?0>--i&&(e.wantReceive=!1):"video"===e.kind&&0>--o&&(e.wantReceive=!1)}));0<i||0<o;)0<i&&(r._createTransceiver("audio"),i--),0<o&&(r._createTransceiver("video"),o--);var a=Pu.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);return r.transceivers.forEach((function(n,i){var o=n.track,a=n.kind,s=n.mid||Pu.generateIdentifier();n.mid=s,n.iceGatherer||(n.iceGatherer=r._createIceGatherer(i,r.usingBundle)),s=e.RTCRtpSender.getCapabilities(a),15019>t&&(s.codecs=s.codecs.filter((function(e){return"rtx"!==e.name}))),s.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),n.remoteCapabilities&&n.remoteCapabilities.codecs&&n.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),s.headerExtensions.forEach((function(e){(n.remoteCapabilities&&n.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))})),i=n.sendEncodingParameters||[{ssrc:1001*(2*i+1)}],o&&15019<=t&&"video"===a&&!i[0].rtx&&(i[0].rtx={ssrc:i[0].ssrc+1}),n.wantReceive&&(n.rtpReceiver=new e.RTCRtpReceiver(n.dtlsTransport,a)),n.localCapabilities=s,n.sendEncodingParameters=i})),"max-compat"!==r._config.bundlePolicy&&(a+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){a+=Q(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+Pu.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))})),n=new e.RTCSessionDescription({type:"offer",sdp:a}),Promise.resolve(n)},i.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(G("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(G("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=Pu.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var i=Pu.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,o){if(!(o+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&15019<=t&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1})),!(o=z(e.localCapabilities,e.remoteCapabilities)).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=Q(e,o,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var o=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(o)},i.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,i){if(!n._remoteDescription)return i(G("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){o=a;break}var s=n.transceivers[o];if(!s)return i(G("OperationError","Can not add ICE candidate"));if(s.rejected)return r();if("tcp"===(a=0<Object.keys(e.candidate).length?Pu.parseCandidate(e.candidate):{}).protocol&&(0===a.port||9===a.port)||a.component&&1!==a.component)return r();if((0===o||0<o&&s.iceTransport!==n.transceivers[0].iceTransport)&&!K(s.iceTransport,a))return i(G("OperationError","Can not add ICE candidate"));0===(i=e.candidate.trim()).indexOf("a=")&&(i=i.substr(2)),(t=Pu.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(a.type?i:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=Pu.getDescription(n._remoteDescription.sdp)+t.join("")}else for(o=0;o<n.transceivers.length&&(n.transceivers[o].rejected||(n.transceivers[o].iceTransport.addRemoteCandidate({}),(t=Pu.getMediaSections(n._remoteDescription.sdp))[o]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=Pu.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));o++);r()}))},i.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw G("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){if((t=e[t])&&t.prototype&&t.prototype.getStats){var n=t.prototype.getStats;t.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var o=["createOffer","createAnswer"];return o.forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(o=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),i},Fu=Object.freeze({__proto__:null,shimPeerConnection:W,shimReplaceTrack:Y,shimGetUserMedia:H,shimGetDisplayMedia:q}),Qu=Object.freeze({__proto__:null,shimOnTrack:X,shimPeerConnection:Z,shimSenderGetStats:$,shimReceiverGetStats:ee,shimRemoveStream:te,shimRTCDataChannel:ne,shimGetUserMedia:J,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){return n&&n.video?(!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)):((n=new DOMException("getDisplayMedia without video constraints is undefined")).name="NotFoundError",n.code=8,Fc.reject(n))})}}),zu=Object.freeze({__proto__:null,shimLocalStreamsAPI:re,shimRemoteStreamsAPI:ie,shimCallbacksAPI:oe,shimGetUserMedia:ae,shimConstraints:se,shimRTCIceServerUrls:ce,shimTrackEventTransceiver:ue,shimCreateOfferLegacy:le}),Vu=Object.freeze({__proto__:null,shimRTCIceCandidate:fe,shimMaxMessageSize:de,shimSendThrowTypeError:he,shimConnectionState:pe,removeAllowExtmapMixed:ge});!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=O(e),r={browserDetails:n,commonShim:Vu,extractVersion:E,disableLog:I,disableWarnings:S};switch(n.browser){case"chrome":if(!Su||!U||!t.shimChrome)return k("Chrome shim is not included in this adapter release."),r;k("adapter.js shimming chrome."),r.browserShim=Su,x(e),M(e),U(e),N(e),P(e),D(e),j(e),L(e),F(e),fe(e),pe(e),de(e),he(e),ge(e);break;case"firefox":if(!Qu||!Z||!t.shimFirefox)return k("Firefox shim is not included in this adapter release."),r;k("adapter.js shimming firefox."),r.browserShim=Qu,J(e),Z(e),X(e),te(e),$(e),ee(e),ne(e),fe(e),pe(e),de(e),he(e);break;case"edge":if(!Fu||!W||!t.shimEdge)return k("MS edge shim is not included in this adapter release."),r;k("adapter.js shimming edge."),r.browserShim=Fu,H(e),q(e),W(e),Y(e),de(e),he(e);break;case"safari":if(!zu||!t.shimSafari)return k("Safari shim is not included in this adapter release."),r;k("adapter.js shimming safari."),r.browserShim=zu,ce(e),le(e),oe(e),re(e),ie(e),ue(e),ae(e),fe(e),de(e),he(e),ge(e);break;default:k("Unsupported browser!")}}({window:window}),(Du=Mu||(Mu={})).WIN_10="Windows 10",Du.WIN_81="Windows 8.1",Du.WIN_8="Windows 8",Du.WIN_7="Windows 7",Du.WIN_VISTA="Windows Vista",Du.WIN_SERVER_2003="Windows Server 2003",Du.WIN_XP="Windows XP",Du.WIN_2000="Windows 2000",Du.ANDROID="Android",Du.OPEN_BSD="Open BSD",Du.SUN_OS="Sun OS",Du.LINUX="Linux",Du.IOS="iOS",Du.MAC_OS_X="Mac OS X",Du.MAC_OS="Mac OS",Du.QNX="QNX",Du.UNIX="UNIX",Du.BEOS="BeOS",Du.OS_2="OS/2",Du.SEARCH_BOT="Search Bot",function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(Nu||(Nu={}));var Ku=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;var t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){var n,r=t[2];return bs(n="".concat(t[1],".")).call(n,r)}return(t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/))&&t[1]&&t[2]?(n=t[2],bs(r="".concat(t[1],".")).call(r,100*(Number(n)+1))):"4.0.0.999"}("4.6.3");try{var Gu=!0===JSON.parse("true")}catch(Du){Gu=!0}var Hu=Gu,qu={username:"test",password:"111111",turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1},Wu={"90p":Ee(160,90),"90p_1":Ee(160,90),"120p":Ee(160,120,15,30,65),"120p_1":Ee(160,120,15,30,65),"120p_3":Ee(120,120,15,30,50),"120p_4":Ee(212,120),"180p":Ee(320,180,15,30,140),"180p_1":Ee(320,180,15,30,140),"180p_3":Ee(180,180,15,30,100),"180p_4":Ee(240,180,15,30,120),"240p":Ee(320,240,15,40,200),"240p_1":Ee(320,240,15,40,200),"240p_3":Ee(240,240,15,40,140),"240p_4":Ee(424,240,15,40,220),"360p":Ee(640,360,15,80,400),"360p_1":Ee(640,360,15,80,400),"360p_3":Ee(360,360,15,80,260),"360p_4":Ee(640,360,30,80,600),"360p_6":Ee(360,360,30,80,400),"360p_7":Ee(480,360,15,80,320),"360p_8":Ee(480,360,30,80,490),"360p_9":Ee(640,360,15,80,800),"360p_10":Ee(640,360,24,80,800),"360p_11":Ee(640,360,24,80,1e3),"480p":Ee(640,480,15,100,500),"480p_1":Ee(640,480,15,100,500),"480p_2":Ee(640,480,30,100,1e3),"480p_3":Ee(480,480,15,100,400),"480p_4":Ee(640,480,30,100,750),"480p_6":Ee(480,480,30,100,600),"480p_8":Ee(848,480,15,100,610),"480p_9":Ee(848,480,30,100,930),"480p_10":Ee(640,480,10,100,400),"720p":Ee(1280,720,15,120,1130),"720p_1":Ee(1280,720,15,120,1130),"720p_2":Ee(1280,720,30,120,2e3),"720p_3":Ee(1280,720,30,120,1710),"720p_5":Ee(960,720,15,120,910),"720p_6":Ee(960,720,30,120,1380),"1080p":Ee(1920,1080,15,120,2080),"1080p_1":Ee(1920,1080,15,120,2080),"1080p_2":Ee(1920,1080,30,120,3e3),"1080p_3":Ee(1920,1080,30,120,3150),"1080p_5":Ee(1920,1080,60,120,4780),"1440p":Ee(2560,1440,30,120,4850),"1440p_1":Ee(2560,1440,30,120,4850),"1440p_2":Ee(2560,1440,60,120,7350),"4k":Ee(3840,2160,30,120,8910),"4k_1":Ee(3840,2160,30,120,8910),"4k_3":Ee(3840,2160,60,120,13500)},Yu={"480p":we(640,480,5),"480p_1":we(640,480,5),"480p_2":we(640,480,30),"480p_3":we(640,480,15),"720p":we(1280,720,5),"720p_1":we(1280,720,5),"720p_2":we(1280,720,30),"720p_3":we(1280,720,15),"1080p":we(1920,1080,5),"1080p_1":we(1920,1080,5),"1080p_2":we(1920,1080,30),"1080p_3":we(1920,1080,15)},Ju={"1SL1TL":Ie(1,1),"3SL3TL":Ie(3,3),"2SL3TL":Ie(2,3)},Xu={speech_low_quality:_e(16e3,!1),speech_standard:_e(32e3,!1,18),music_standard:_e(48e3,!1),standard_stereo:_e(48e3,!0,56),high_quality:_e(48e3,!1,128),high_quality_stereo:_e(48e3,!0,192)},Zu={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,HTTP_CONNECT_TIMEOUT:5e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_TIMEOUT:1e4,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],FILEPATH_LENMAX:255,SUBSCRIBE_TCC:!0,PING_PONG_TIME_OUT:10,DUALSTREAM_OPERATION_CHECK:!0,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,MEDIA_ELEMENT_EXISTS_DEPTH:3,CANDIDATE_TIMEOUT:5e3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,SHOW_REPORT_INVOKER_LOG:!1,STATS_FILTER:{transportId:!0,googTrackId:!0},JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:"webrtc-cloud-proxy.sd-rtn.com",CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1};Hu||(Zu.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],Zu.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],Zu.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],Zu.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],Zu.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],Zu.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],Zu.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",Zu.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",Zu.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",Zu.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",Zu.AREAS=["NORTH_AMERICA","OVERSEA"]);var $u=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],el=[],tl=[],nl=tl.sort,rl=dr((function(){tl.sort(void 0)})),il=dr((function(){tl.sort(null)})),ol=ka("sort");Wr({target:"Array",proto:!0,forced:rl||!il||ol},{sort:function(e){return void 0===e?nl.call(Qi(this)):nl.call(Qi(this),Fr(e))}});var al=Ea("Array").sort,sl=Array.prototype,cl=function(e){var t=e.sort;return e===sl||e instanceof Array&&t===sl.sort?al:t};Wr({target:"Array",stat:!0},{isArray:zi});var ul,ll=Ur.Array.isArray;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR"}(ul||(ul={}));var fl=function(e,t){return function(){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},dl=Object.prototype.toString,hl={isArray:Se,isArrayBuffer:function(e){return"[object ArrayBuffer]"===dl.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ke,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===dl.call(e)},isFile:function(e){return"[object File]"===dl.call(e)},isBlob:function(e){return"[object Blob]"===dl.call(e)},isFunction:Ce,isStream:function(e){return ke(e)&&Ce(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Oe,merge:function e(){function t(t,r){"object"==typeof n[r]&&"object"==typeof t?n[r]=e(n[r],t):n[r]=t}for(var n={},r=0,i=arguments.length;r<i;r++)Oe(arguments[r],t);return n},deepMerge:function e(){function t(t,r){"object"==typeof n[r]&&"object"==typeof t?n[r]=e(n[r],t):n[r]="object"==typeof t?e({},t):t}for(var n={},r=0,i=arguments.length;r<i;r++)Oe(arguments[r],t);return n},extend:function(e,t,n){return Oe(t,(function(t,r){e[r]=n&&"function"==typeof t?fl(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},pl=function(e,t,n){if(!t)return e;if(n)t=n(t);else if(hl.isURLSearchParams(t))t=t.toString();else{var r=[];hl.forEach(t,(function(e,t){null!=e&&(hl.isArray(e)?t+="[]":e=[e],hl.forEach(e,(function(e){hl.isDate(e)?e=e.toISOString():hl.isObject(e)&&(e=JSON.stringify(e)),r.push(Te(t)+"="+Te(e))})))})),t=r.join("&")}return t&&(-1!==(n=e.indexOf("#"))&&(e=e.slice(0,n)),e+=(-1===e.indexOf("?")?"?":"&")+t),e};Re.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Re.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Re.prototype.forEach=function(e){hl.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var gl=Re,vl=function(e,t,n){return hl.forEach(n,(function(n){e=n(e,t)})),e},ml=function(e){return!(!e||!e.__CANCEL__)},yl=function(e,t){hl.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},bl=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(Error(e),t,n,r,i)},Al="age authorization content-length content-type etag expires from host if-modified-since if-unmodified-since last-modified location max-forwards proxy-authorization referer retry-after user-agent".split(" "),_l=hl.isStandardBrowserEnv()?function(){function e(e){return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){return(n=hl.isString(n)?e(n):n).protocol===t.protocol&&n.host===t.host}}():function(){return!0},El=hl.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),hl.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),hl.isString(r)&&a.push("path="+r),hl.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},wl=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;hl.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth&&(i.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password||""))),o.open(e.method.toUpperCase(),pl(e.url,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r,i,a,s,c,u="getAllResponseHeaders"in o?(r=o.getAllResponseHeaders(),c={},r?(hl.forEach(r.split("\n"),(function(e){s=e.indexOf(":"),i=hl.trim(e.substr(0,s)).toLowerCase(),a=hl.trim(e.substr(s+1)),!i||c[i]&&0<=Al.indexOf(i)||(c[i]="set-cookie"===i?(c[i]?c[i]:[]).concat([a]):c[i]?c[i]+", "+a:a)})),c):c):null;!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(bl("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,{data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:u,config:e,request:o}),o=null}},o.onabort=function(){o&&(n(bl("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(bl("Network Error",e,null,o)),o=null},o.ontimeout=function(){n(bl("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",o)),o=null},hl.isStandardBrowserEnv()){var a=(e.withCredentials||_l(e.url))&&e.xsrfCookieName?El.read(e.xsrfCookieName):void 0;a&&(i[e.xsrfHeaderName]=a)}if("setRequestHeader"in o&&hl.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),e.withCredentials&&(o.withCredentials=!0),e.responseType)try{o.responseType=e.responseType}catch(s){if("json"!==e.responseType)throw s}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),void 0===r&&(r=null),o.send(r)}))},Il={"Content-Type":"application/x-www-form-urlencoded"},Sl={adapter:function(){var e;return("undefined"!=typeof r&&"[object process]"===Object.prototype.toString.call(r)||"undefined"!=typeof XMLHttpRequest)&&(e=wl),e}(),transformRequest:[function(e,t){return yl(t,"Accept"),yl(t,"Content-Type"),hl.isFormData(e)||hl.isArrayBuffer(e)||hl.isBuffer(e)||hl.isStream(e)||hl.isFile(e)||hl.isBlob(e)?e:hl.isArrayBufferView(e)?e.buffer:hl.isURLSearchParams(e)?(xe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):hl.isObject(e)?(xe(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&300>e},headers:{common:{Accept:"application/json, text/plain, */*"}}};hl.forEach(["delete","get","head"],(function(e){Sl.headers[e]={}})),hl.forEach(["post","put","patch"],(function(e){Sl.headers[e]=hl.merge(Il)}));var kl=function(e){var t,n,r;return e.cancelToken&&e.cancelToken.throwIfRequested(),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=vl(e.data,e.headers,e.transformRequest),e.headers=hl.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),hl.forEach("delete get head post put patch common".split(" "),(function(t){delete e.headers[t]})),(e.adapter||Sl.adapter)(e).then((function(t){return e.cancelToken&&e.cancelToken.throwIfRequested(),t.data=vl(t.data,t.headers,e.transformResponse),t}),(function(t){return ml(t)||(e.cancelToken&&e.cancelToken.throwIfRequested(),t&&t.response&&(t.response.data=vl(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Cl=function(e,t){t=t||{};var n={};return hl.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),hl.forEach(["headers","auth","proxy"],(function(r){hl.isObject(t[r])?n[r]=hl.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:hl.isObject(e[r])?n[r]=hl.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),hl.forEach("baseURL transformRequest transformResponse paramsSerializer timeout withCredentials adapter responseType xsrfCookieName xsrfHeaderName onUploadProgress onDownloadProgress maxContentLength validateStatus maxRedirects httpAgent httpsAgent cancelToken socketPath".split(" "),(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};Me.prototype.request=function(e,t){"string"==typeof e?(e=t||{}).url=e:e=e||{},(e=Cl(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var n=[kl,void 0];for(e=Promise.resolve(e),this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)e=e.then(n.shift(),n.shift());return e},Me.prototype.getUri=function(e){return e=Cl(this.defaults,e),pl(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},hl.forEach(["delete","get","head","options"],(function(e){Me.prototype[e]=function(t,n){return this.request(hl.merge(n||{},{method:e,url:t}))}})),hl.forEach(["post","put","patch"],(function(e){Me.prototype[e]=function(t,n,r){return this.request(hl.merge(r||{},{method:e,url:t,data:n}))}}));var Ol=Me;Ne.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ne.prototype.__CANCEL__=!0;var Tl=Ne;De.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},De.source=function(){var e;return{token:new De((function(t){e=t})),cancel:e}};var Rl=je(Sl);Rl.Axios=Ol,Rl.create=function(e){return je(Cl(Rl.defaults,e))},Rl.Cancel=Tl,Rl.CancelToken=De,Rl.isCancel=ml,Rl.all=function(e){return Promise.all(e)},Rl.spread=function(e){return function(t){return e.apply(null,t)}};var xl,Ml,Nl,Dl=Rl.default=Rl,jl={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Ll=function(e){for(var t in jl)if(Object.prototype.hasOwnProperty.call(jl,t)&&jl[t]===e)return t;return"DEFAULT"},Bl=new(function(){function e(){d(this,e),this.logLevel=jl.DEBUG,this.uploadState="collecting",this.uploadLogWaitingList=[],this.uploadLogUploadingList=[],this.currentLogID=this.uploadErrorCount=0}return h(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;t=bs(r=[jl.DEBUG]).call(r,t),this.log.apply(this,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;t=bs(r=[jl.INFO]).call(r,t),this.log.apply(this,t)}},{key:"warning",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;t=bs(r=[jl.WARNING]).call(r,t),this.log.apply(this,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;t=bs(r=[jl.ERROR]).call(r,t),this.log.apply(this,t)}},{key:"setLogLevel",value:function(e){this.logLevel=e=Math.min(Math.max(0,e),4)}},{key:"enableLogUpload",value:function(){Ae("UPLOAD_LOG",!0)}},{key:"disableLogUpload",value:function(){Ae("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}},{key:"setProxyServer",value:function(e){this.proxyServerURL=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,a,s=Math.max(0,Math.min(4,t[0]));if(t[0]=Le()+" Agora-SDK [".concat(Ll(s),"]:"),this.appendLogToWaitingList(s,t),!(s<this.logLevel)){var c=Le()+" %cAgora-SDK [".concat(Ll(s),"]:");switch(s){case jl.DEBUG:t=bs(r=[c,"color: #64B5F6;"]).call(r,au(t).call(t,1)),console.log.apply(console,t);break;case jl.INFO:t=bs(i=[c,"color: #1E88E5; font-weight: bold;"]).call(i,au(t).call(t,1)),console.log.apply(console,t);break;case jl.WARNING:t=bs(o=[c,"color: #FB8C00; font-weight: bold;"]).call(o,au(t).call(t,1)),console.warn.apply(console,t);break;case jl.ERROR:t=bs(a=[c,"color: #B00020; font-weight: bold;"]).call(a,au(t).call(t,1)),console.error.apply(console,t)}}}},{key:"appendLogToWaitingList",value:function(e){if(Zu.UPLOAD_LOG){for(var t="",n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xa(r).call(r,(function(e){"object"==typeof e&&(e=ri(e)),t+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:t,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}}},{key:"startUpload",value:function(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}},{key:"uploadLogs",value:function(){var e=g(p.mark((function e(){var t,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={sdk_version:Ku,process_id:Zu.PROCESS_ID,payload:ri(this.uploadLogUploadingList)},e.next=3,Dl.post(this.url||(this.proxyServerURL?bs(t="https://".concat(this.proxyServerURL,"/ls/?h=")).call(t,Zu.LOG_UPLOAD_SERVER,"&p=443&d=upload/v1"):"https://".concat(Zu.LOG_UPLOAD_SERVER,"/upload/v1")),n,{responseType:"text"});case 3:if("OK"===(n=e.sent).data){e.next=6;break}throw Error("unexpected upload log response: "+n.data);case 6:this.uploadLogUploadingList=[];case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"uploadLogInterval",value:function(){var e,t=this;0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=Wc(e=this.uploadLogWaitingList).call(e,0,10)),this.uploadLogs().then((function(){t.uploadErrorCount=0,0<t.uploadLogWaitingList.length&&window.setTimeout((function(){return t.uploadLogInterval()}),3e3)})).catch((function(e){t.uploadErrorCount+=1,2>t.uploadErrorCount?window.setTimeout((function(){return t.uploadLogInterval()}),200):window.setTimeout((function(){return t.uploadLogInterval()}),1e3)})))}}]),e}()),Pl=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;d(this,e),this.name="AgoraRTCException",this.code=t,this.message=bs(n="AgoraRTCError ".concat(this.code,": ")).call(n,r),this.data=i}return h(e,[{key:"toString",value:function(){var e;return this.data?bs(e="".concat(this.message," data: ")).call(e,ri(this.data)):this.message}},{key:"print",value:function(){return Bl.error(this.toString()),this}},{key:"throw",value:function(){throw this.print(),this}}]),e}();(Nl=xl||(xl={})).FREE="free",Nl.UPLOADING="uploading",function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied"}(Ml||(Ml={})),Wr({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Wr({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Ul,Fl,Ql,zl,Vl,Kl,Gl,Hl,ql,Wl,Yl,Jl,Xl,Zl,$l,ef,tf,nf,rf,of,af,sf={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics"}(Ul||(Ul={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAT="io.agora.pb.Wrtc.JoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics"}(Fl||(Fl={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(Ql||(Ql={})),function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange"}(zl||(zl={})),(Vl||(Vl={})).TRACER="tracer",function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(Kl||(Kl={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(Gl||(Gl={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(Hl||(Hl={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(ql||(ql={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(Wl||(Wl={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(Yl||(Yl={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(Jl||(Jl={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error"}(Xl||(Xl={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE"}(Zl||(Zl={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}($l||($l={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success"}(ef||(ef={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v2",e.REJOIN="rejoin",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer"}(tf||(tf={})),function(e){e.PUBLISH_STATS="publish_stats",e.PUBLISH_RELATED_STATS="publish_related_stats",e.SUBSCRIBE_STATS="subscribe_stats",e.SUBSCRIBE_RELATED_STATS="subscribe_related_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length"}(nf||(nf={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio"}(rf||(rf={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(of||(of={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer"}(af||(af={}));var cf,uf,lf={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},ff={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},df={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},hf={uplinkNetworkQuality:0,downlinkNetworkQuality:0},pf={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};!function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls"}(cf||(cf={})),function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(uf||(uf={}));var gf,vf,mf,yf,bf,Af,_f,Ef,wf,If,Sf={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},kf={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},Cf={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Of={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(gf||(gf={})),(vf||(vf={})).REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(mf||(mf={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(yf||(yf={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(bf||(bf={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid"}(Af||(Af={})),function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ADD_TRACK="@need_add_track",e.NEED_REMOVE_TRACK="@need_remove_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.SET_VIDEO_TRACK_MUTED="@set_video_track_muted",e.SET_AUDIO_TRACK_MUTED="@set_audio_track_muted"}(_f||(_f={})),function(e){e.SCREEN_TRACK="screen_track",e.LOW_STREAM="low_stream"}(Ef||(Ef={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload"}(wf||(wf={})),(If||(If={})).FIRST_FRAME_DECODED="first-frame-decoded";var Tf,Rf="AFRICA ASIA CHINA EUROPE GLOBAL INDIA JAPAN NORTH_AMERICA OCEANIA OVERSEA SOUTH_AMERICA".split(" ");!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(Tf||(Tf={}));var xf,Mf={CHINA:{},ASIA:{CODE:Tf.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:Tf.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:Tf.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:Tf.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:Tf.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:Tf.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:Tf.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:Tf.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:Tf.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:Tf.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};Hu&&(Mf.CHINA={CODE:Tf.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),(xf||(xf={})).UPDATE_BITRATE_LIMIT="update_bitrate_limit";var Nf={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1};Wr({target:"Object",stat:!0,forced:!hr,sham:!hr},{defineProperties:To});var Df=_((function(e){var t=Ur.Object;e=e.exports=function(e,n){return t.defineProperties(e,n)},t.defineProperties.sham&&(e.sham=!0)})),jf=Co.concat("length","prototype"),Lf={f:Object.getOwnPropertyNames||function(e){return ko(e,jf)}},Bf=Jr("Reflect","ownKeys")||function(e){var t=Lf.f(zr(e)),n=Ma.f;return n?t.concat(n(e)):t};Wr({target:"Object",stat:!0,sham:!hr},{getOwnPropertyDescriptors:function(e){var t,n;e=wr(e);for(var r=Mr,i=Bf(e),o={},a=0;i.length>a;)void 0!==(n=r(e,t=i[a++]))&&as(o,t,n);return o}});var Pf=Ur.Object.getOwnPropertyDescriptors,Uf=Lf.f,Ff={}.toString,Qf="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zf=function(e){if(Qf&&"[object Window]"==Ff.call(e))try{var t=Uf(e)}catch(n){t=Qf.slice()}else t=Uf(wr(e));return t},Vf={f:mi},Kf=Kr.f,Gf=io("hidden"),Hf=mi("toPrimitive"),qf=go.set,Wf=go.getterFor("Symbol"),Yf=Object.prototype,Jf=fr.Symbol,Xf=Jr("JSON","stringify"),Zf=Mr,$f=Kr.f,ed=zf,td=vr,nd=fi("symbols"),rd=fi("op-symbols"),id=fi("string-to-symbol-registry"),od=fi("symbol-to-string-registry"),ad=fi("wks"),sd=fr.QObject,cd=!sd||!sd.prototype||!sd.prototype.findChild,ud=hr&&dr((function(){return 7!=Do($f({},"a",{get:function(){return $f(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Zf(Yf,t);r&&delete Yf[t],$f(e,t,n),r&&e!==Yf&&$f(Yf,t,r)}:$f,ld=function(e,t){var n=nd[e]=Do(Jf.prototype);return qf(n,{type:"Symbol",tag:e,description:t}),hr||(n.description=t),n},fd=di&&"symbol"==typeof Jf.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Jf},dd=function e(t,n,r){return t===Yf&&e(rd,n,r),zr(t),n=Sr(n,!0),zr(r),Cr(nd,n)?(r.enumerable?(Cr(t,Gf)&&t[Gf][n]&&(t[Gf][n]=!1),r=Do(r,{enumerable:mr(0,!1)})):(Cr(t,Gf)||$f(t,Gf,mr(1,{})),t[Gf][n]=!0),ud(t,n,r)):$f(t,n,r)},hd=function(e,t){zr(e);var n=wr(t);return t=Oo(n).concat(md(n)),qi(t,(function(t){hr&&!pd.call(n,t)||dd(e,t,n[t])})),e},pd=function(e){e=Sr(e,!0);var t=td.call(this,e);return!(this===Yf&&Cr(nd,e)&&!Cr(rd,e))&&(!(t||!Cr(this,e)||!Cr(nd,e)||Cr(this,Gf)&&this[Gf][e])||t)},gd=function(e,t){if(e=wr(e),t=Sr(t,!0),e!==Yf||!Cr(nd,t)||Cr(rd,t)){var n=Zf(e,t);return!n||!Cr(nd,t)||Cr(e,Gf)&&e[Gf][t]||(n.enumerable=!0),n}},vd=function(e){e=ed(wr(e));var t=[];return qi(e,(function(e){Cr(nd,e)||Cr(ii,e)||t.push(e)})),t},md=function(e){var t=e===Yf;e=ed(t?rd:wr(e));var n=[];return qi(e,(function(e){!Cr(nd,e)||t&&!Cr(Yf,e)||n.push(nd[e])})),n};if(di||(Po((Jf=function(){if(this instanceof Jf)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=si(e),n=function e(n){this===Yf&&e.call(rd,n),Cr(this,Gf)&&Cr(this[Gf],t)&&(this[Gf][t]=!1),ud(this,t,mr(1,n))};return hr&&cd&&ud(Yf,t,{configurable:!0,set:n}),ld(t,e)}).prototype,"toString",(function(){return Wf(this).tag})),vr=pd,Kr.f=dd,Mr=gd,Lf.f=zf=vd,Ma.f=md,hr&&$f(Jf.prototype,"description",{configurable:!0,get:function(){return Wf(this).description}})),hi||(Vf.f=function(e){return ld(mi(e),e)}),Wr({global:!0,wrap:!0,forced:!di,sham:!di},{Symbol:Jf}),qi(Oo(ad),(function(e){var t=Ur.Symbol||(Ur.Symbol={});Cr(t,e)||Kf(t,e,{value:Vf.f(e)})})),Wr({target:"Symbol",stat:!0,forced:!di},{for:function(e){if(e=String(e),Cr(id,e))return id[e];var t=Jf(e);return id[e]=t,od[t]=e,t},keyFor:function(e){if(!fd(e))throw TypeError(e+" is not a symbol");if(Cr(od,e))return od[e]},useSetter:function(){cd=!0},useSimple:function(){cd=!1}}),Wr({target:"Object",stat:!0,forced:!di,sham:!hr},{create:function(e,t){return void 0===t?Do(e):hd(Do(e),t)},defineProperty:dd,defineProperties:hd,getOwnPropertyDescriptor:gd}),Wr({target:"Object",stat:!0,forced:!di},{getOwnPropertyNames:vd,getOwnPropertySymbols:md}),Wr({target:"Object",stat:!0,forced:dr((function(){Ma.f(1)}))},{getOwnPropertySymbols:function(e){return Ma.f(Qi(e))}}),Xf){var yd=!di||dr((function(){var e=Jf();return"[null]"!=Xf([e])||"{}"!=Xf({a:e})||"{}"!=Xf(Object(e))}));Wr({target:"JSON",stat:!0,forced:yd},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(Ir(t)||void 0!==e)&&!fd(e))return zi(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!fd(t))return t}),i[1]=t,Xf.apply(null,i)}})}Jf.prototype[Hf]||Gr(Jf.prototype,Hf,Jf.prototype.valueOf),Fi(Jf,"Symbol"),ii[Gf]=!0;var bd=Ur.Object.getOwnPropertySymbols,Ad=[].slice,_d=/MSIE .\./.test(ss),Ed=function(e){return function(t,n){var r=2<arguments.length,i=r?Ad.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};Wr({global:!0,bind:!0,forced:_d},{setTimeout:Ed(fr.setTimeout),setInterval:Ed(fr.setInterval)});var wd=Ur.setTimeout,Id=function(e,t,n){return t in e?Va(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Sd=Ea("Array").values,kd=Array.prototype,Cd={DOMTokenList:!0,NodeList:!0},Od=function(e){var t=e.values;return e===kd||e instanceof Array&&t===kd.values||Cd.hasOwnProperty(xi(e))?Sd:t},Td=!xs((function(e){Array.from(e)}));Wr({target:"Array",stat:!0,forced:Td},{from:function(e){var t=Qi(e),n="function"==typeof this?this:Array,r=arguments.length,i=1<r?arguments[1]:void 0,o=void 0!==i,a=0,s=Ni(t);if(o&&(i=Qr(i,2<r?arguments[2]:void 0,2)),null==s||n==Array&&_i(s))for(n=new n(r=ki(t.length));r>a;a++)as(n,a,o?i(t[a],a):t[a]);else for(r=(t=s.call(t)).next,n=new n;!(s=r.call(t)).done;a++)as(n,a,o?Di(t,i,[s.value,a],!0):s.value);return n.length=a,n}});var Rd=Ur.Array.from;Wr({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var xd=Ur.Date.now,Md=function(){function e(){d(this,e),this._events={},this.addListener=this.on}return h(e,[{key:"getListeners",value:function(e){var t;return this._events[e]?Vc(t=this._events[e]).call(t,(function(e){return e.listener})):[]}},{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),e=this._events[e],-1===this._indexOfListener(e,t)&&e.push({listener:t,once:!1})}},{key:"once",value:function(e,t){this._events[e]||(this._events[e]=[]),e=this._events[e],-1===this._indexOfListener(e,t)&&e.push({listener:t,once:!0})}},{key:"off",value:function(e,t){if(this._events[e]){var n=this._events[e];-1!==(t=this._indexOfListener(n,t))&&Wc(n).call(n,t,1),0===this._events[e].length&&delete this._events[e]}}},{key:"removeAllListeners",value:function(e){e?delete this._events[e]:this._events={}}},{key:"emit",value:function(e){var t;this._events[e]||(this._events[e]=[]);for(var n=Vc(t=this._events[e]).call(t,(function(e){return e})),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(t=0;t<n.length;t+=1){var a=n[t];a.once&&this.off(e,a.listener),a.listener.apply(this,i||[])}}},{key:"_indexOfListener",value:function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}}]),e}(),Nd=new(function(){function e(){var t,n;d(this,e),this.baseInfoMap=new pa,this.clientList=el,this.keyEventUploadPendingItems=[],this.normalEventUploadPendingItems=[],this.apiInvokeUploadPendingItems=[],this.apiInvokeCount=0,this.ltsList=[],this.lastSendNormalEventTime=xd(),this.customReportCount=0,this.eventUploadTimer=window.setInterval(gu(t=this.doSend).call(t,this),Zu.EVENT_REPORT_SEND_INTERVAL),this.setSessionIdTimer=window.setInterval(gu(n=this.appendSessionId).call(n,this),Zu.EVENT_REPORT_SEND_INTERVAL)}return h(e,[{key:"reportApiInvoke",value:function(e,t,n){var r=this;t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;var i=xd(),o=this.apiInvokeCount+=1,a=function(){return{tag:t.tag,invokeId:o,sid:e,name:t.name,apiInvokeTime:i,options:t.options,states:t.states||null}},s=!!Zu.SHOW_REPORT_INVOKER_LOG;s&&Bl.info("".concat(t.name," start"),t.options);var c=!1;zt(t.timeout).then((function(){c||(r.sendApiInvoke(ut({},a(),{error:ul.API_INVOKE_TIMEOUT,success:!1})),Bl.debug("".concat(t.name," timeout")))}));var u=new Pl(ul.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:function(e){var i=function(){if(c)throw u;return c=!0,r.sendApiInvoke(ut({},a(),{success:!0},t.reportResult&&{result:e})),s&&Bl.info("".concat(t.name," onSuccess")),e};return n?gh(i,t.name+"Success",n,(function(){return c=!0})):i()},onError:function(e){var i=function(){if(c)throw e;c=!0,r.sendApiInvoke(ut({},a(),{success:!1,error:e.toString()})),s&&Bl.info("".concat(t.name," onFailure"),e.toString())};return n?gh(i,t.name+"Error",n,(function(){return c=!0})):i()}}}},{key:"sessionInit",value:function(e,t){if(!this.baseInfoMap.has(e)){var n=xd();(e=this.createBaseInfo(e,n)).cname=t.cname;var r=ja({},{willUploadConsoleLog:Zu.UPLOAD_LOG,maxTouchPoints:navigator.maxTouchPoints,areaVersion:Hu?"global":"oversea",areas:Zu.AREAS&&Zu.AREAS.join(",")},t.extend),i=xd();t=ut({},e,{eventType:Ul.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:"v4.6.3-0-g91da319d(8/10/2021, 9:07:29 PM)",lts:i,elapse:i-n,extend:ri(r),mode:t.mode,process:Zu.PROCESS_ID,success:!0,version:Ku}),this.send({type:Fl.SESSION,data:t},!0)}}},{key:"joinChooseServer",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.JOIN_CHOOSE_SERVER,lts:r,eventElapse:r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-e.startTime,success:t.succ,chooseServerAddrList:ri(t.serverList),uid:t.uid?Za(t.uid):null,cid:t.cid?Za(t.cid):null,chooseServerIp:t.csIp||""}),this.send({type:Fl.JOIN_CHOOSE_SERVER,data:t},!0)}}},{key:"reqUserAccount",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:r-e.startTime,eventElapse:r-t.lts,extend:ri(t.extend)}),this.send({type:Fl.REQ_USER_ACCOUNT,data:t},!0)}}},{key:"joinGateway",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;var r=xd();n=ut({},n,{eventType:Ul.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:r-e.startTime,eventElapse:r-t.lts}),t.succ&&(e.lastJoinSuccessTime=r),this.send({type:Fl.JOIN_GATEWAT,data:n},!0)}}},{key:"joinChannelTimeout",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=xd();t=ut({},e.info,{lts:n,timeout:t,elapse:n-e.startTime}),this.send({type:Fl.JOIN_CHANNEL_TIMEOUT,data:t},!0)}}},{key:"publish",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.PUBLISH,lts:r,eventElapse:r-t.lts,elapse:r-e.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid}),this.send({type:Fl.PUBLISH,data:t},!0)}}},{key:"subscribe",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();e=ut({},n,{eventType:Ul.SUBSCRIBE,lts:r,eventElapse:r-t.lts,elapse:r-e.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid}),"string"==typeof t.peerid?e.peerSuid=t.peerid:e.peer=t.peerid,this.send({type:Fl.SUBSCRIBE,data:e},!0)}}},{key:"firstRemoteFrame",value:function(e,t,n,r){if(e=this.baseInfoMap.get(e)){var i=e.info,o=xd();t=ut({},i,{},r,{elapse:o-e.startTime,eventType:t,lts:o}),this.send({type:n,data:t},!0)}}},{key:"onGatewayStream",value:function(e,t,n,r){(e=this.baseInfoMap.get(e))&&(t=ut({},e.info,{},r,{eventType:t,lts:xd()}),this.send({type:n,data:t},!0))}},{key:"streamSwitch",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-e.startTime,success:t.succ}),this.send({type:Fl.STREAM_SWITCH,data:t},!0)}}},{key:"requestProxyAppCenter",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-e.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ}),this.send({type:Fl.REQUEST_PROXY_APPCENTER,data:t},!0)}}},{key:"requestProxyWorkerManager",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{eventType:Ul.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-e.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ}),this.send({type:Fl.REQUEST_PROXY_WORKER_MANAGER,data:t},!0)}}},{key:"setProxyServer",value:function(e){(this.proxyServer=e)?Bl.debug("reportProxyServerurl: ".concat(e)):Bl.debug("disable reportProxyServerurl: ".concat(e))}},{key:"peerPublishStatus",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:0<t.audioPublishDuration?1:-1,videotag:0<t.videoPublishDuration?1:-1,lts:r,elapse:r-e.startTime,joinChannelSuccessElapse:r-(e.lastJoinSuccessTime||r)}),this.send({type:Fl.PEER_PUBLISH_STATUS,data:t},!0)}}},{key:"workerEvent",value:function(e,t){var n=this;if(e=this.baseInfoMap.get(e)){var r=e.info,i=xd();t=function(e,t,n){var r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";for(var i=Qt(ri(e)),o=0,a=[],s=0,c=0;c<r.length;c++)(s+=127>=r.charCodeAt(c)?1:3)<=n-i||(a[a.length]=Ft({},e,m({},t,r.substring(o,c))),o=c,s=127>=r.charCodeAt(c)?1:3);return o!==r.length-1&&(a[a.length]=Ft({},e,m({},t,r.substring(o)))),a}(ut({},r,{},t,{elapse:i-e.startTime,lts:i,productType:"WebRTC"}),"payload",1300),xa(t).call(t,(function(e){return n.send({type:Fl.WORKER_EVENT,data:e},!0)}))}}},{key:"apworkerEvent",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{},t,{elapse:r-e.startTime,lts:r}),this.send({type:Fl.AP_WORKER_EVENT,data:t},!0)}}},{key:"joinWebProxyAP",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{},t,{elapse:r-e.startTime,lts:r}),this.send({type:Fl.JOIN_WEB_PROXY_AP,data:t},!0)}}},{key:"WebSocketQuit",value:function(e,t){if(e=this.baseInfoMap.get(e)){var n=e.info,r=xd();t=ut({},n,{},t,{elapse:r-e.startTime,lts:r}),this.send({type:Fl.WEBSOCKET_QUIT,data:t},!0)}}},{key:"sendCustomReportMessage",value:function(){var e=g(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.customReportCount+=n.length,!(this.customReportCount>Zu.CUSTOM_REPORT_LIMIT)){e.next=2;break}throw new Pl(ul.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);case 2:return this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((function(){r.customReportCount=0}),5e3)),n=Vc(n).call(n,(function(e){return{type:Fl.USER_ANALYTICS,data:ut({sid:t},e)}})),n={msgType:"EventMessages",sentTs:Math.round(xd()/1e3),payloads:Vc(n).call(n,(function(e){return ri(e)}))},e.prev=5,e.next=8,this.postDataToStatsCollector(n);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),Bl.error("send custom report message failed",e.t0.toString()),new Pl(ul.CUSTOM_REPORT_SEND_FAILED,e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[5,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"sendApiInvoke",value:function(e){var t=Zu.NOT_REPORT_EVENT;if(e.tag&&Au(t)&&Au(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;if(!(t=this.baseInfoMap.get(e.sid)))return this.apiInvokeUploadPendingItems.push(e),!1;var n=t.info,r=n.cname,i=n.uid,o=n.cid;return e.lts=e.lts||xd(),e={invokeId:e.invokeId,sid:e.sid,cname:r,cid:o,uid:i,lts:e.lts,success:e.success,elapse:e.lts-t.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?ri(e.options):void 0,execStates:e.states?ri(e.states):void 0,execResult:e.result?ri(e.result):void 0,errorCode:e.error?ri(e.error):void 0},this.send({type:Fl.API_INVOKE,data:e},!1),!0}},{key:"appendSessionId",value:function(){var e,t=this;xa(e=this.clientList).call(e,(function(e){if(e._sessionId)for(var n=t.apiInvokeUploadPendingItems.length,r=0;r<n;r++){var i=t.apiInvokeUploadPendingItems.shift();i&&(i.sid=e._sessionId,t.sendApiInvoke(ja({},i)))}}))}},{key:"send",value:function(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);var n;this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>Zu.NORMAL_EVENT_QUEUE_CAPACITY&&Wc(n=this.normalEventUploadPendingItems).call(n,0,1),10<=this.normalEventUploadPendingItems.length&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"doSend",value:function(){0<this.keyEventUploadPendingItems.length&&this.sendItems(this.keyEventUploadPendingItems,!0),0<this.normalEventUploadPendingItems.length&&5e3<=xd()-this.lastSendNormalEventTime&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"sendItems",value:function(e,t){for(var n=this,r=[],i=[];e.length;){var o=e.shift();20>r.length?r.push(o):i.push(o)}e.push.apply(e,f(i));for(var a=0,s=[].concat(r);a<s.length;a++){var c,u,l=s[a];-1!==eu(c=this.ltsList).call(c,l.data.lts)?(l.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(l.data.lts)):(this.ltsList.push(l.data.lts),cl(u=this.ltsList).call(u,(function(e,t){return e-t})))}return t||(this.lastSendNormalEventTime=xd()),i={msgType:"EventMessages",sentTs:Math.round(xd()/1e3),payloads:Vc(r).call(r,(function(e){return ri(e)})),vid:function(e){return(e=e&&e.data.sid&&n.baseInfoMap.get(e.data.sid))&&e.info.vid&&+e.info.vid||0}(r[0])},r.length&&this.postDataToStatsCollector(i).catch(function(e){return function(r){var i,o,a;Zu.EVENT_REPORT_RETRY&&(t?n.keyEventUploadPendingItems=bs(i=n.keyEventUploadPendingItems).call(i,e):(n.normalEventUploadPendingItems=bs(o=n.normalEventUploadPendingItems).call(o,e),n.normalEventUploadPendingItems.length>Zu.NORMAL_EVENT_QUEUE_CAPACITY&&(Wc(a=n.normalEventUploadPendingItems).call(a,0,n.normalEventUploadPendingItems.length-Zu.NORMAL_EVENT_QUEUE_CAPACITY),Bl.warning("report: drop normal events"))))}}(r)),e}},{key:"postDataToStatsCollector",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u,l,f=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>1&&void 0!==f[1]&&f[1],a=n?"/events/proto-raws":"/events/messages",s=this.url||(this.proxyServer?bs(r=bs(i="https://".concat(this.proxyServer,"/rs/?h=")).call(i,Zu.EVENT_REPORT_DOMAIN,"&p=6443&d=")).call(r,a):bs(o="https://".concat(Zu.EVENT_REPORT_DOMAIN,":6443")).call(o,a)),r=0;case 4:if(!(2>r)){e.next=25;break}if(1===r&&(s=this.backupUrl||(this.proxyServer?bs(c=bs(u="https://".concat(this.proxyServer,"/rs/?h=")).call(u,Zu.EVENT_REPORT_BACKUP_DOMAIN,"&p=6443&d=")).call(c,a):bs(l="https://".concat(Zu.EVENT_REPORT_BACKUP_DOMAIN,":6443")).call(l,a))),e.prev=6,!n){e.next=12;break}return e.next=10,at(s,{timeout:1e4,data:t});case 10:e.next=14;break;case 12:return e.next=14,ot(s,{timeout:1e4,data:t});case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(6),1!==r){e.next=20;break}throw e.t0;case 20:return e.abrupt("continue",22);case 21:return e.abrupt("break",25);case 22:r+=1,e.next=4;break;case 25:case"end":return e.stop()}}),e,this,[[6,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createBaseInfo",value:function(e,t){var n=ja({},sf);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}}]),e}()),Dd=function(e){u(n,e);var t=l(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._hints=[],i._ID=r||Kt(8,"track-"),i._mediaStreamTrack=i._originMediaStreamTrack=e,i}return h(n,[{key:"toString",value:function(){return this._ID}},{key:"getTrackId",value:function(){return this._ID}},{key:"getMediaStreamTrack",value:function(e){return e||(e=Nd.reportApiInvoke(null,{name:zl.GET_MEDIA_STREAM_TRACK,options:[],tag:Vl.TRACER}),this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")),this._mediaStreamTrack}}]),n}(Md),jd=1,Ld=function(){function e(t){var n;d(this,e),this.lockingPromise=Fc.resolve(),this.locks=0,this.name="",this.lockId=jd++,t&&(this.name=t),Bl.debug(bs(n="[lock-".concat(this.name,"-")).call(n,this.lockId,"] is created."))}return h(e,[{key:"isLocked",get:function(){return 0<this.locks}},{key:"lock",value:function(){var e,t,n,r=this;this.locks+=1,Bl.debug(bs(e=bs(t="[lock-".concat(this.name,"-")).call(t,this.lockId,"] is locked, current queue ")).call(e,this.locks,"."));var i=new Fc((function(e){n=function(){var t,n;--r.locks,Bl.debug(bs(t=bs(n="[lock-".concat(r.name,"-")).call(n,r.lockId,"] is not locked, current queue ")).call(t,r.locks,".")),e()}}));return e=this.lockingPromise.then((function(){return n})),this.lockingPromise=this.lockingPromise.then((function(){return i})),e}}]),e}(),Bd=function(e){u(n,e);var t=l(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._enabled=!0,i._isClosed=i._muted=!1,i._trackProcessors=[],i._handleTrackEnded=function(){Bl.debug("[".concat(i.getTrackId,"] track ended")),i.emit(wf.TRACK_ENDED)},i._enabledMutex=new Ld("".concat(r)),e.addEventListener("ended",i._handleTrackEnded),i}return h(n,[{key:"muted",get:function(){return this._muted}},{key:"enabled",get:function(){return this._enabled}},{key:"getTrackLabel",value:function(){return this._originMediaStreamTrack.label}},{key:"close",value:function(){var e;this._isClosed||(this.stop(),xa(e=this._trackProcessors).call(e,(function(e){return e.destroy()})),this._trackProcessors=[],this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,Bl.debug("[".concat(this.getTrackId(),"] close")),this.emit(_f.NEED_CLOSE),this._isClosed=!0)}},{key:"_registerTrackProcessor",value:function(){var e=g(p.mark((function e(t){var n,r,i=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==eu(n=this._trackProcessors).call(n,t)){e.next=12;break}if(r=this._trackProcessors[this._trackProcessors.length-1],this._trackProcessors.push(t),t.onOutputChange=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i._mediaStreamTrack=t.output||i._originMediaStreamTrack,i._updatePlayerSource(),e.next=4,Wt(i,_f.NEED_REPLACE_TRACK,i._mediaStreamTrack);case 4:case"end":return e.stop()}}),e)}))),!r){e.next=10;break}return r.onOutputChange=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.output,!e.t0){e.next=4;break}return e.next=4,t.setInput(r.output);case 4:case"end":return e.stop()}}),e)}))),e.next=8,t.setInput(r.output||r.input||this._originMediaStreamTrack);case 8:e.next=12;break;case 10:return e.next=12,t.setInput(this._originMediaStreamTrack);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getOutputFromProcessors",value:function(){if(0===this._trackProcessors.length)return this._originMediaStreamTrack;var e=this._trackProcessors[this._trackProcessors.length-1];return e.output||e.input||this._originMediaStreamTrack}},{key:"_updateOriginMediaStreamTrack",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._originMediaStreamTrack,!e.t0){e.next=12;break}if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop(),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,!(0<this._trackProcessors.length)){e.next=8;break}return e.next=5,this._trackProcessors[0].setInput(t);case 5:this._mediaStreamTrack=this._getOutputFromProcessors(),e.next=9;break;case 8:this._mediaStreamTrack=this._originMediaStreamTrack;case 9:return this._updatePlayerSource(),e.next=12,Wt(this,_f.NEED_REPLACE_TRACK,this._mediaStreamTrack);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getDefaultPlayerConfig",value:function(){return{}}},{key:"stateCheck",value:function(e,t){var n,r,i;if(Bl.debug(bs(n=bs(r=bs(i="check track state, [muted: ".concat(this._muted,", enabled: ")).call(i,this._enabled,"] to [")).call(r,e,": ")).call(n,t,"]")),Be(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new Pl(ul.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print();if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new Pl(ul.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print()}}]),n}(Dd),Pd=window.AudioContext||window.webkitAudioContext,Ud=null,Fd=new Md,Qd=null,zd=function(e){u(n,e);var t=l(n);function n(){var e;return d(this,n),(e=t.call(this)).isPlayed=!1,e.audioOutputLevel=e.audioLevelBase=0,e.audioOutputLevelCache=null,e.audioOutputLevelCacheMaxLength=Zu.AUDIO_SOURCE_AVG_VOLUME_DURATION/Zu.AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL||15,e.isDestroyed=!1,e._noAudioInputCount=0,e.context=ht(),e.playNode=e.context.destination,e.outputNode=e.context.createGain(),pt(e.outputNode),e.analyserNode=e.context.createAnalyser(),e}return h(n,[{key:"isNoAudioInput",get:function(){return 3<=this.noAudioInputCount}},{key:"noAudioInputCount",get:function(){return this._noAudioInputCount},set:function(e){3>this._noAudioInputCount&&3<=e?this.onNoAudioInput&&this.onNoAudioInput():3<=this._noAudioInputCount&&0==this._noAudioInputCount%10&&this.onNoAudioInput&&this.onNoAudioInput(),this._noAudioInputCount=e}},{key:"startGetAudioBuffer",value:function(e){var t=this;this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=function(e){t.emit(af.ON_AUDIO_BUFFER,function(e){for(var t=0;t<e.outputBuffer.numberOfChannels;t+=1)for(var n=e.outputBuffer.getChannelData(t),r=0;r<n.length;r+=1)n[r]=0;return e.inputBuffer}(e))})}},{key:"stopGetAudioBuffer",value:function(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}},{key:"createOutputTrack",value:function(){if(!Nf.webAudioMediaStreamDest)throw new Pl(ul.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}},{key:"play",value:function(e){"running"!==this.context.state&&$t((function(){Fd.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}},{key:"stop",value:function(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(Nl){}this.isPlayed=!1}},{key:"getAudioLevel",value:function(){return this.audioOutputLevel}},{key:"getAccurateVolumeLevel",value:function(){var e=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(e);for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length}},{key:"getAudioAvgLevel",value:function(){var e;return null===this.audioOutputLevelCache&&(this.audioOutputLevelCache=[this.audioOutputLevel]),za(e=this.audioOutputLevelCache).call(e,(function(e,t){return e+t}))/this.audioOutputLevelCache.length}},{key:"getAudioVolume",value:function(){return this.outputNode.gain.value}},{key:"setVolume",value:function(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}},{key:"setMute",value:function(e){e?(this.disconnect(),this.audioLevelBase=0,this.audioOutputLevel=0):this.connect()}},{key:"destroy",value:function(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}},{key:"disconnect",value:function(){this.sourceNode&&this.sourceNode.disconnect(),this.outputNode&&this.outputNode.disconnect(),window.clearInterval(this.updateAudioOutputLevelInterval)}},{key:"connect",value:function(){var e;this.sourceNode&&this.sourceNode.connect(this.outputNode),this.outputNode.connect(this.analyserNode),this.updateAudioOutputLevelInterval=window.setInterval(gu(e=this.updateAudioOutputLevel).call(e,this),Zu.AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL||400)}},{key:"updateAudioOutputLevel",value:function(){if(this.context&&"running"!==this.context.state&&this.context.resume(),this.analyserNode){if(this.analyserNode.getFloatTimeDomainData){var e=new Float32Array(this.analyserNode.frequencyBinCount);this.analyserNode.getFloatTimeDomainData(e)}else{var t;e=new Uint8Array(this.analyserNode.frequencyBinCount),this.analyserNode.getByteTimeDomainData(e);var n=!0;e=new Float32Array(Vc(t=Rd(e)).call(t,(function(e){return 128!==e&&(n=!1),.0078125*(e-128)}))),n?this.noAudioInputCount+=1:this.noAudioInputCount=0}for(t=0;t<e.length;t+=1)Math.abs(e[t])>this.audioLevelBase&&(this.audioLevelBase=Math.abs(e[t]),1<this.audioLevelBase&&(this.audioLevelBase=1));this.audioOutputLevel=this.audioLevelBase,this.audioLevelBase/=4,null!==this.audioOutputLevelCache&&(this.audioOutputLevelCache.push(this.audioOutputLevel),this.audioOutputLevelCache.length>this.audioOutputLevelCacheMaxLength&&this.audioOutputLevelCache.shift())}}}]),n}(Md),Vd=function(e){u(n,e);var t=l(n);function n(e,r){var i;if(d(this,n),(i=t.call(this)).isCurrentTrackCloned=!1,i.isRemoteTrack=!1,i.rebuildWebAudio=function(){if(Bl.debug("ready to rebuild web audio, state:",i.context.state),!i.isNoAudioInput||i.isDestroyed)return document.body.removeEventListener("click",i.rebuildWebAudio,!0),void Bl.debug("rebuild web audio success, current volume",i.getAudioLevel());i.context.resume().then((function(){return Bl.info("resume success")})),Bl.debug("rebuild web audio because of ios 12 bugs"),i.disconnect();var e=i.track;i.track=i.track.clone(),i.isCurrentTrackCloned?e.stop():i.isCurrentTrackCloned=!0,e=new MediaStream([i.track]),i.sourceNode=i.context.createMediaStreamSource(e),pt(i.sourceNode),i.analyserNode=i.context.createAnalyser(),e=i.outputNode.gain.value,i.outputNode=i.context.createGain(),i.outputNode.gain.setValueAtTime(e,i.context.currentTime),pt(i.outputNode),i.connect(),i.isPlayed&&i.play(i.playNode)},"audio"!==e.kind)throw new Pl(ul.UNEXPECTED_ERROR);return i.track=e,e=new MediaStream([i.track]),i.isRemoteTrack=!!r,i.sourceNode=i.context.createMediaStreamSource(e),pt(i.sourceNode),i.connect(),e=$e(),r&&e.os===Mu.IOS&&(Fd.on("state-change",i.rebuildWebAudio),i.onNoAudioInput=function(){document.body.addEventListener("click",i.rebuildWebAudio,!0)}),a(i)}return h(n,[{key:"isFreeze",get:function(){return!1}},{key:"updateTrack",value:function(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1,e=new MediaStream([e]),this.sourceNode=this.context.createMediaStreamSource(e),pt(this.sourceNode),this.sourceNode.connect(this.outputNode)}},{key:"destroy",value:function(){Fd.off("state-change",this.rebuildWebAudio),s(c(n.prototype),"destroy",this).call(this)}}]),n}(zd),Kd=null,Gd=new Ld("safari"),Hd=!1,qd=!1,Wd=new(function(e){u(n,e);var t=l(n);function n(){var e;return d(this,n),(e=t.call(this))._state=Kl.IDLE,e.lastAccessCameraPermission=e.lastAccessMicrophonePermission=e.isAccessCameraPermission=e.isAccessMicrophonePermission=!1,e.deviceInfoMap=new pa,e.init().then((function(){var t,n;navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",gu(n=e.updateDevicesInfo).call(n,o(e))),window.setInterval(gu(t=e.updateDevicesInfo).call(t,o(e)),2500)})).catch((function(e){return Bl.error(e.toString())})),e}return h(n,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this.emit(Gl.STATE_CHANGE,e),this._state=e)}},{key:"enumerateDevices",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s,c,u,l,f,d,h,g,v,m=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m.length>2&&void 0!==m[2]&&m[2],navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=3;break}return e.abrupt("return",new Pl(ul.NOT_SUPPORTED,"enumerateDevices() not supported.").throw());case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:if(i=e.sent,i=this.checkMediaDeviceInfoIsOk(i),o=!this.isAccessMicrophonePermission&&t,a=!this.isAccessCameraPermission&&n,i.audio&&(o=!1),i.video&&(a=!1),s=i=null,c=null,r||!o&&!a){e.next=67;break}if(e.t0=Gd.isLocked,!e.t0){e.next=20;break}return Bl.debug("[device manager] wait GUM lock"),e.next=17,Gd.lock();case 17:e.t1=e.sent,(0,e.t1)(),Bl.debug("[device manager] GUM unlock");case 20:if(Hd&&(o=!1,this.isAccessMicrophonePermission=!0),qd&&(a=!1,this.isAccessCameraPermission=!0),Bl.debug("[device manager] check media device permissions",t,n,o,a),!o||!a){e.next=36;break}return e.prev=21,e.next=24,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 24:c=e.sent,e.next=33;break;case 27:if(e.prev=27,e.t2=e.catch(21),(r=Ct(e.t2.name||e.t2.code||e.t2,e.t2.message)).code!==ul.PERMISSION_DENIED){e.next=32;break}throw r;case 32:Bl.warning("getUserMedia failed in getDevices",r);case 33:this.isAccessMicrophonePermission=this.isAccessCameraPermission=!0,e.next=66;break;case 36:if(!o){e.next=52;break}return e.prev=37,e.next=40,navigator.mediaDevices.getUserMedia({audio:t});case 40:i=e.sent,e.next=49;break;case 43:if(e.prev=43,e.t3=e.catch(37),(r=Ct(e.t3.name||e.t3.code||e.t3,e.t3.message)).code!==ul.PERMISSION_DENIED){e.next=48;break}throw r;case 48:Bl.warning("getUserMedia failed in getDevices",r);case 49:this.isAccessMicrophonePermission=!0,e.next=66;break;case 52:if(!a){e.next=66;break}return e.prev=53,e.next=56,navigator.mediaDevices.getUserMedia({video:n});case 56:s=e.sent,e.next=65;break;case 59:if(e.prev=59,e.t4=e.catch(53),(r=Ct(e.t4.name||e.t4.code||e.t4,e.t4.message)).code!==ul.PERMISSION_DENIED){e.next=64;break}throw r;case 64:Bl.warning("getUserMedia failed in getDevices",r);case 65:this.isAccessCameraPermission=!0;case 66:Bl.debug("[device manager] mic permission",t,"cam permission",n);case 67:return e.prev=67,e.next=70,navigator.mediaDevices.enumerateDevices();case 70:return d=e.sent,e.abrupt("return",(i&&xa(u=i.getTracks()).call(u,(function(e){return e.stop()})),s&&xa(l=s.getTracks()).call(l,(function(e){return e.stop()})),c&&xa(f=c.getTracks()).call(f,(function(e){return e.stop()})),i=null,s=null,c=null,d));case 74:return e.prev=74,e.t5=e.catch(67),i&&xa(h=i.getTracks()).call(h,(function(e){return e.stop()})),s&&xa(g=s.getTracks()).call(g,(function(e){return e.stop()})),c&&xa(v=c.getTracks()).call(v,(function(e){return e.stop()})),c=s=i=null,e.abrupt("return",new Pl(ul.ENUMERATE_DEVICES_FAILED,e.t5.toString()).throw());case 81:case"end":return e.stop()}}),e,this,[[21,27],[37,43],[53,59],[67,74]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRecordingDevices",value:function(){var e=g(p.mark((function e(){var t,n=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return t=e.sent,e.abrupt("return",Es(t).call(t,(function(e){return"audioinput"===e.kind})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCamerasDevices",value:function(){var e=g(p.mark((function e(){var t,n=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!1,!0,t);case 3:return t=e.sent,e.abrupt("return",Es(t).call(t,(function(e){return"videoinput"===e.kind})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSpeakers",value:function(){var e=g(p.mark((function e(){var t,n=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return t=e.sent,e.abrupt("return",Es(t).call(t,(function(e){return"audiooutput"===e.kind})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchDeviceNameById",value:function(e){return(e=this.deviceInfoMap.get(e))?e.device.label||e.device.deviceId:null}},{key:"searchDeviceIdByName",value:function(e){var t,n=null;return xa(t=this.deviceInfoMap).call(t,(function(t){t.device.label===e&&(n=t.device.deviceId)})),n}},{key:"getDeviceById",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(n=e.sent,n=lu(n).call(n,(function(e){return e.deviceId===t}))){e.next=6;break}throw new Pl(ul.DEVICE_NOT_FOUND,"deviceId: ".concat(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state=Kl.INITING,e.prev=1,e.next=4,this.updateDevicesInfo();case 4:this.state=Kl.INITEND,e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(1),Bl.warning("Device Detection functionality cannot start properly.",e.t0.toString()),this.state=Kl.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new Pl(ul.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDevicesInfo",value:function(){var e=g(p.mark((function e(){var t,n,r,i,o,a=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(n=e.sent,r=xd(),i=[],o=this.checkMediaDeviceInfoIsOk(n),xa(n).call(n,(function(e){if(e.deviceId){var t=a.deviceInfoMap.get(e.deviceId);if("ACTIVE"!==(t?t.state:"INACTIVE")){var n={initAt:r,updateAt:r,device:e,state:"ACTIVE"};a.deviceInfoMap.set(e.deviceId,n),i.push(n)}t&&(t.updateAt=r)}})),xa(t=this.deviceInfoMap).call(t,(function(e,t){"ACTIVE"===e.state&&e.updateAt!==r&&(e.state="INACTIVE",i.push(e))})),this.state===Kl.INITEND){e.next=8;break}return e.abrupt("return",(o.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(o.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0))));case 8:xa(i).call(i,(function(e){switch(e.device.kind){case"audioinput":a.lastAccessMicrophonePermission&&a.isAccessMicrophonePermission&&a.emit(Gl.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":a.lastAccessCameraPermission&&a.isAccessCameraPermission&&a.emit(Gl.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":a.lastAccessMicrophonePermission&&a.isAccessMicrophonePermission&&a.emit(Gl.PLAYOUT_DEVICE_CHANGED,e)}})),o.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),o.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkMediaDeviceInfoIsOk",value:function(e){var t=Es(e).call(e,(function(e){return"audioinput"===e.kind}));e=Es(e).call(e,(function(e){return"videoinput"===e.kind}));var n,r={audio:!1,video:!1},i=v(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.label&&o.deviceId){r.audio=!0;break}}}catch(u){i.e(u)}finally{i.f()}var a,s=v(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.label&&c.deviceId){r.video=!0;break}}}catch(u){s.e(u)}finally{s.f()}return r}}]),n}(Md)),Yd=Ea("Array").entries,Jd=Array.prototype,Xd={DOMTokenList:!0,NodeList:!0},Zd=function(e){var t=e.entries;return e===Jd||e instanceof Array&&t===Jd.entries||Xd.hasOwnProperty(xi(e))?Yd:t},$d=!1,eh=new Md,th="play playing loadeddata canplay pause stalled suspend waiting abort emptied ended".split(" "),nh=new(function(){function e(){var t=this;d(this,e),this.elementMap=new pa,this.elementStateMap=new pa,this.elementsNeedToResume=[],this.sinkIdMap=new pa,this.autoResumeAfterHidden=function(){var e,n;document.hidden||xa(e=Rd(Zd(n=t.elementMap).call(n))).call(e,(function(e){var n=i(e,2),r=n[0],o=n[1],a=t.elementStateMap.get(r);if($e().name===Nu.SAFARI&&0<navigator.maxTouchPoints)return Bl.debug("auto resume inside visibility change."),o.pause(),void o.play().catch((function(e){t.elementMap.has(r)&&"NotAllowedError"===e.name&&(Bl.warning("detected audio element autoplay failed"),t.elementsNeedToResume.push(o),$t((function(){t.onAutoplayFailed&&t.onAutoplayFailed(),Tt()})))}));a&&"pause"===a&&(Bl.debug("auto resume inside visibility change."),o.play().catch((function(e){t.elementMap.has(r)&&"NotAllowedError"===e.name&&(Bl.warning("detected audio element autoplay failed"),t.elementsNeedToResume.push(o),$t((function(){t.onAutoplayFailed&&t.onAutoplayFailed(),Tt()})))})))}))},this.autoResumeAudioElement(),($e().os===Mu.IOS||$e().name===Nu.SAFARI&&0<navigator.maxTouchPoints)&&document.addEventListener("visibilitychange",this.autoResumeAfterHidden)}return h(e,[{key:"setSinkID",value:function(){var e=g(p.mark((function e(t,n){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.elementMap.get(t),this.sinkIdMap.set(t,n),!r){e.next=10;break}return e.prev=2,e.next=5,r.setSinkId(n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Pl(ul.PERMISSION_DENIED,"can not set sink id: "+e.t0.toString());case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"play",value:function(e,t,n){var r=this;if(!this.elementMap.has(t)){var i=document.createElement("audio");i.autoplay=!0,i.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,i),this.elementMap.set(t,i),this.elementStateMap.set(t,Ml.INIT),this.setVolume(t,n),(e=this.sinkIdMap.get(t))&&i.setSinkId(e).catch((function(e){Bl.warning("[".concat(t,"] set sink id failed"),e.toString())})),(e=i.play())&&e.then&&e.catch((function(e){Bl.warning("audio element play warning",e.toString()),r.elementMap.has(t)&&"NotAllowedError"===e.name&&(Bl.warning("detected audio element autoplay failed"),r.elementsNeedToResume.push(i),$t((function(){r.onAutoplayFailed&&r.onAutoplayFailed(),Tt()})))}))}}},{key:"updateTrack",value:function(e,t){(e=this.elementMap.get(e))&&(e.srcObject=new MediaStream([t]))}},{key:"isPlaying",value:function(e){return this.elementMap.has(e)}},{key:"setVolume",value:function(e,t){(e=this.elementMap.get(e))&&(t=Math.max(0,Math.min(100,t)),e.volume=t/100)}},{key:"stop",value:function(e){var t,n,r=this.elementMap.get(e);if(this.sinkIdMap.delete(e),r){var i=eu(t=this.elementsNeedToResume).call(t,r);Wc(n=this.elementsNeedToResume).call(n,i,1),r.srcObject=null,r.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}}},{key:"bindAudioElementEvents",value:function(e,t){var n=this;xa(th).call(th,(function(r){t.addEventListener(r,(function(r){var i,o,a=n.elementStateMap.get(e);r=r.type,Bl.debug(bs(i=bs(o="[".concat(e,"] audio-element-status change ")).call(o,a," => ")).call(i,r)),n.elementStateMap.set(e,r),$e().os===Mu.IOS&&!document.hidden&&"pause"===r&&t&&((i=t.srcObject.getAudioTracks()[0])&&"live"===i.readyState?(Bl.debug("[track-".concat(e,"] audio element paused, auto resume")),t.play()):Bl.debug("[track-".concat(e,"] audio element paused cannot be auto resume, track")))}))}))}},{key:"autoResumeAudioElement",value:function(){var e=this,t=function(){var t;xa(t=e.elementsNeedToResume).call(t,(function(e){e.play().then((function(e){Bl.debug("Auto resume audio element success")})).catch((function(e){Bl.warning("Auto resume audio element failed!",e)}))})),e.elementsNeedToResume=[]};new Fc((function(e){document.body?e():window.addEventListener("load",(function(){return e()}))})).then((function(){document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)}))}}]),e}()),rh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ih=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,i)).trackMediaType="audio",o._enabled=!0,o._volume=100,o._useAudioElement=!0,o._encoderConfig=r,o._source=new Vd(e),o}return h(n,[{key:"isPlaying",get:function(){return this._useAudioElement?nh.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"setVolume",value:function(e){var t=this;Ue(e,"volume",0,1e3);var n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_AUDIO_TRACK_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&nh.setVolume(this.getTrackId(),e);try{var r=this._source.createOutputTrack();this._mediaStreamTrack!==r&&(this._mediaStreamTrack=r,Wt(this,_f.NEED_REPLACE_TRACK,this._mediaStreamTrack).then((function(){Bl.debug("[".concat(t.getTrackId(),"] replace web audio track success"))})).catch((function(e){Bl.warning("[".concat(t.getTrackId(),"] replace web audio track failed"),e)})))}catch(i){}n.onSuccess()}},{key:"getVolumeLevel",value:function(){return this._source.getAudioLevel()}},{key:"setPlaybackDevice",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),t]}),this._useAudioElement){e.next=3;break}throw new Pl(ul.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 3:return e.prev=3,e.next=6,nh.setSinkID(this.getTrackId(),t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),n.onError(e.t0),e.t0;case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=g(p.mark((function e(t,n,r){var i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:return Bl.info("[".concat(this.getTrackId(),"] start setEnabled"),t),e.next=7,this._enabledMutex.lock();case 7:if(n=e.sent,t){e.next=19;break}return this._originMediaStreamTrack.enabled=!1,e.prev=10,e.next=13,Wt(this,_f.NEED_REMOVE_TRACK,this);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(10),Bl.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),n(),e.t0;case 18:return e.abrupt("return",(r||(this._enabled=!1),n()));case 19:return this._originMediaStreamTrack.enabled=!0,e.prev=20,e.next=23,Wt(this,_f.NEED_ADD_TRACK,this);case 23:e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(20),Bl.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t1.toString()),n(),e.t1;case 28:Bl.info(bs(i="[".concat(this.getTrackId(),"] setEnabled to ")).call(i,t," success")),r||(this._enabled=!0),n();case 31:case"end":return e.stop()}}),e,this,[[10,15],[20,25]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"setMuted",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._muted){e.next=10;break}if(this.stateCheck("muted",t),this._muted=t,$e().name!==Nu.FIREFOX){e.next=6;break}return Bl.debug("[".concat(this.getTrackId(),"] firefox set mute fallback to set enabled")),e.next=5,this.setEnabled(!t,void 0,!0);case 5:return e.abrupt("return",void e.sent);case 6:return this._mediaStreamTrack.enabled=!t,Bl.debug(bs(n="[".concat(this.getTrackId(),"] start set muted: ")).call(n,t)),e.next=10,Wt(this,_f.SET_AUDIO_TRACK_MUTED,{track:this,muted:t});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStats",value:function(){return en((function(){Bl.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),Yt(this,_f.GET_STATS)||xt({},lf)}},{key:"setAudioFrameCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(af.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(af.ON_AUDIO_BUFFER),this._source.on(af.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"play",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});Bl.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(Bl.debug("[".concat(this.getTrackId(),"] start audio playback in element")),nh.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play(),e.onSuccess()}},{key:"stop",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_AUDIO_TRACK_STOP,options:[this.getTrackId()]});Bl.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?nh.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}},{key:"close",value:function(){s(c(n.prototype),"close",this).call(this),this._source.destroy()}},{key:"_updatePlayerSource",value:function(){Bl.debug("[track-".concat(this.getTrackId(),"] update player source track")),this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&nh.updateTrack(this.getTrackId(),this._mediaStreamTrack)}},{key:"_updateOriginMediaStreamTrack",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._originMediaStreamTrack!==t,!e.t0){e.next=13;break}if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t.addEventListener("ended",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=t,this._source.updateTrack(this._originMediaStreamTrack),e.t1=this._mediaStreamTrack!==this._source.outputTrack,!e.t1){e.next=13;break}return this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),e.next=13,Wt(this,_f.NEED_REPLACE_TRACK,this._mediaStreamTrack);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Bd);!function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=os(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(3>o?i(a):3<o?i(t,n,a):i(t,n))||a);3<o&&a&&Ka(t,n,a)}([ft({report:Nd}),rh("design:type",Function),rh("design:paramtypes",[Boolean]),rh("design:returntype",Fc)],ih.prototype,"setMuted",null);var oh,ah=function(e){u(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r.encoderConfig?be(r.encoderConfig):{},o))._deviceName="default",a._enabled=!0,a._config=r,a._constraints=i,a._deviceName=e.label,a}return h(n,[{key:"setDevice",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.MIC_AUDIO_TRACK_SET_DEVICE,options:[this.getTrackId(),t]}),Bl.info(bs(n="[".concat(this.getTrackId,"] start set device to ")).call(n,t)),!this._enabled){e.next=38;break}return e.prev=2,e.next=5,Wd.getDeviceById(t);case 5:return o=e.sent,(n={}).audio=xt({},this._constraints),n.audio.deviceId={exact:t},this._originMediaStreamTrack.stop(),a=null,e.prev=11,e.next=14,wt(n,this.getTrackId());case 14:a=e.sent,e.next=26;break;case 17:return e.prev=17,e.t0=e.catch(11),Bl.error("[track-".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),e.next=22,wt({video:this._constraints},this.getTrackId());case 22:return a=e.sent,e.next=25,this._updateOriginMediaStreamTrack(a.getAudioTracks()[0],!1);case 25:throw e.t0;case 26:return e.next=28,this._updateOriginMediaStreamTrack(a.getAudioTracks()[0],!1);case 28:this._deviceName=o.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(2),i.onError(e.t1),Bl.error("[track-".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),e.t1;case 36:e.next=49;break;case 38:return e.prev=38,e.next=41,Wd.getDeviceById(t);case 41:this._deviceName=e.sent.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=49;break;case 46:throw e.prev=46,e.t2=e.catch(38),i.onError(e.t2),Bl.error("[track-".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),e.t2;case 49:i.onSuccess(),Bl.info(bs(r="[".concat(this.getTrackId,"] set device to ")).call(r,t," success"));case 51:case"end":return e.stop()}}),e,this,[[2,33],[11,17],[38,46]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=g(p.mark((function e(t,r,i){var o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return Bl.debug("[".concat(this.getTrackId,"] setEnabled false (do not close microphone)")),e.next=4,s(c(n.prototype),"setEnabled",this).call(this,t);case 4:return e.abrupt("return",e.sent);case 5:if(i){e.next=9;break}if(t!==this._enabled){e.next=8;break}return e.abrupt("return");case 8:this.stateCheck("enabled",t);case 9:return Bl.info("[".concat(this.getTrackId(),"] start setEnabled"),t),e.next=12,this._enabledMutex.lock();case 12:if(r=e.sent,t){e.next=26;break}return this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),i||(this._enabled=!1),e.prev=17,e.next=20,Wt(this,_f.NEED_REMOVE_TRACK,this);case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(17),Bl.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.t0.toString()),r(),e.t0;case 25:return e.abrupt("return",void r());case 26:return t=xt({},this._constraints),(o=Wd.searchDeviceIdByName(this._deviceName))&&!t.deviceId&&(t.deviceId=o),e.prev=29,e.next=32,wt({audio:this._constraints},this.getTrackId());case 32:return a=e.sent,e.next=35,this._updateOriginMediaStreamTrack(a.getAudioTracks()[0],!1);case 35:return e.next=37,Wt(this,_f.NEED_ADD_TRACK,this);case 37:e.next=42;break;case 39:throw e.prev=39,e.t1=e.catch(29),r(),Bl.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.t1.toString()),e.t1;case 42:i||(this._enabled=!0),Bl.info("[".concat(this.getTrackId(),"] setEnabled success")),r();case 45:case"end":return e.stop()}}),e,this,[[17,22],[29,39]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),n}(ih),sh=function(e){u(n,e);var t=l(n);function n(e,r,i,o){var a;d(this,n),(a=t.call(this,r.createOutputTrack(),i,o)).source=e,a._bufferSource=r,a._bufferSource.on(af.AUDIO_SOURCE_STATE_CHANGE,(function(e){a.emit(wf.SOURCE_STATE_CHANGE,e)}));try{a._mediaStreamTrack=a._source.createOutputTrack()}catch(s){}return a}return h(n,[{key:"currentState",get:function(){return this._bufferSource.currentState}},{key:"duration",get:function(){return this._bufferSource.duration}},{key:"getCurrentTime",value:function(){return this._bufferSource.currentTime}},{key:"startProcessAudioBuffer",value:function(e){var t=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.BUFFER_AUDIO_TRACK_START,options:[this.getTrackId(),e,this.duration]});e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer(),t.onSuccess()}},{key:"pauseProcessAudioBuffer",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.BUFFER_AUDIO_TRACK_PAUSE,options:[this.getTrackId()]});this._bufferSource.pauseProcessAudioBuffer(),e.onSuccess()}},{key:"seekAudioBuffer",value:function(e){var t=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.BUFFER_AUDIO_TRACK_SEEK,options:[this.getTrackId()]});this._bufferSource.seekAudioBuffer(e),t.onSuccess()}},{key:"resumeProcessAudioBuffer",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.BUFFER_AUDIO_TRACK_RESUME,options:[this.getTrackId()]});this._bufferSource.resumeProcessAudioBuffer(),e.onSuccess()}},{key:"stopProcessAudioBuffer",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.BUFFER_AUDIO_TRACK_STOP,options:[this.getTrackId()]});this._bufferSource.stopProcessAudioBuffer(),e.onSuccess()}}]),n}(ih),ch=function(e){u(n,e);var t=l(n);function n(){var e;d(this,n);var r=ht().createMediaStreamDestination();e=t.call(this,r.stream.getAudioTracks()[0]);try{e._mediaStreamTrack=e._source.createOutputTrack()}catch(i){}return e.destNode=r,e.trackList=[],e}return h(n,[{key:"isActive",get:function(){var e;return!(!this.trackList.length||!lu(e=this.trackList).call(e,(function(e){return!e.muted})))}},{key:"hasAudioTrack",value:function(e){var t;return-1!==eu(t=this.trackList).call(t,e)}},{key:"addAudioTrack",value:function(e){var t;-1===eu(t=this.trackList).call(t,e)?(Bl.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):Bl.debug("track ".concat(e.getTrackId()," is already added"))}},{key:"removeAudioTrack",value:function(e){var t;if(-1!==eu(t=this.trackList).call(t,e)){Bl.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(n){}Xt(this.trackList,e),this.updateEncoderConfig()}}},{key:"updateEncoderConfig",value:function(){var e,t={};xa(e=this.trackList).call(e,(function(e){e._encoderConfig&&((e._encoderConfig.bitrate||0)>(t.bitrate||0)&&(t.bitrate=e._encoderConfig.bitrate),(e._encoderConfig.sampleRate||0)>(t.sampleRate||0)&&(t.sampleRate=e._encoderConfig.sampleRate),(e._encoderConfig.sampleSize||0)>(t.sampleSize||0)&&(t.sampleSize=e._encoderConfig.sampleSize),e._encoderConfig.stereo&&(t.stereo=!0))})),this._encoderConfig=t}}]),n}(ih),uh=function(e){u(n,e);var t=l(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).resultStorage=new pa,e}return h(n,[{key:"setLocalAudioStats",value:function(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}},{key:"setLocalVideoStats",value:function(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}},{key:"setRemoteAudioStats",value:function(e,t){e=e.getUserId(),this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",e,this.checkAudioOutputLevel(t))}},{key:"setRemoteVideoStats",value:function(e,t){e=e.getUserId(),this.record("RECV_VIDEO_DECODE_FAILED",e,this.checkVideoDecode(t))}},{key:"record",value:function(e,t,n){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});var r,i=this.resultStorage.get(e);i&&(i.result.push(n),5<=i.result.length)&&(n=Au(r=i.result).call(r,!0),i.isPrevNormal&&!n&&this.emit("exception",lh[e],e,t),!i.isPrevNormal&&n&&this.emit("exception",lh[e]+2e3,e+"_RECOVER",t),i.isPrevNormal=n,i.result=[])}},{key:"checkAudioOutputLevel",value:function(e){return!(0<e.receiveBitrate&&0===e.receiveLevel)}},{key:"checkAudioInputLevel",value:function(e,t){return t instanceof ch&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}},{key:"checkFramerateInput",value:function(e,t){var n=null;return t._encoderConfig&&t._encoderConfig.frameRate&&(n=jt(t._encoderConfig.frameRate)),e=e.captureFrameRate,!n||!e||!(10<n&&5>e||10>n&&5<=n&&1>=e)}},{key:"checkFramerateSent",value:function(e){return!(e.captureFrameRate&&e.sendFrameRate&&5<e.captureFrameRate&&1>=e.sendFrameRate)}},{key:"checkSendVideoBitrate",value:function(e,t){return!!t.muted||0!==e.sendBitrate}},{key:"checkSendAudioBitrate",value:function(e,t){return t instanceof ch&&!t.isActive||!!t.muted||0!==e.sendBitrate}},{key:"checkVideoDecode",value:function(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}]),n}(Md),lh={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},fh=function(){function e(t){var n=this;d(this,e),this.localConnectionsMap=new pa,this.remoteConnectionsMap=new pa,this.trafficStatsPeerList=[],this.updateStats=function(){var t,r;xa(t=n.remoteConnectionsMap).call(t,(function(t){var r,i=t.audioStats,o=t.videoStats,a=t.pcStats,s=Nt({},df),c=Nt({},pf),u=Nt({},hf),l=t.connection.pc.getStats(),f=l.audioRecv[0],d=l.videoRecv[0];a=a?a.videoRecv[0]:void 0;var h=!0===t.connection.pc._statsFilter.videoIsReady,p=n.trafficStats&&lu(r=n.trafficStats.peer_delay).call(r,(function(e){return e.peer_uid===t.connection.getUserId()}));f&&("opus"!==f.codec&&"aac"!==f.codec||(s.codecType=f.codec),f.outputLevel?s.receiveLevel=Math.round(32767*f.outputLevel):t.connection.user.audioTrack&&(s.receiveLevel=Math.round(32767*t.connection.user.audioTrack.getVolumeLevel())),s.receiveBytes=f.bytes,s.receivePackets=f.packets,s.receivePacketsLost=f.packetsLost,s.packetLossRate=s.receivePacketsLost/(s.receivePackets+s.receivePacketsLost),s.receiveBitrate=i?8*Math.max(0,s.receiveBytes-i.receiveBytes):0,s.totalDuration=i?i.totalDuration+1:1,s.totalFreezeTime=i?i.totalFreezeTime:0,s.freezeRate=s.totalFreezeTime/s.totalDuration,s.receiveDelay=f.jitterBufferMs,r=t.connection.user.audioTrack,10<s.totalDuration&&e.isRemoteAudioFreeze(r)&&(s.totalFreezeTime+=1)),d&&("H264"!==d.codec&&"VP8"!==d.codec&&"VP9"!==d.codec&&"AV1X"!==d.codec||(c.codecType=d.codec),c.receiveBytes=d.bytes,c.receiveBitrate=o?8*Math.max(0,c.receiveBytes-o.receiveBytes):0,c.decodeFrameRate=d.decodeFrameRate,c.renderFrameRate=d.decodeFrameRate,d.outputFrame&&(c.renderFrameRate=d.outputFrame.frameRate),d.receivedFrame?(c.receiveFrameRate=d.receivedFrame.frameRate,c.receiveResolutionHeight=d.receivedFrame.height,c.receiveResolutionWidth=d.receivedFrame.width):t.connection.user.videoTrack&&(c.receiveResolutionHeight=t.connection.user.videoTrack._videoHeight||0,c.receiveResolutionWidth=t.connection.user.videoTrack._videoWidth||0),void 0!==d.framesRateFirefox&&(c.receiveFrameRate=Math.round(d.framesRateFirefox)),c.receivePackets=d.packets,c.receivePacketsLost=d.packetsLost,c.packetLossRate=c.receivePacketsLost/(c.receivePackets+c.receivePacketsLost),c.totalDuration=o?o.totalDuration+1:1,c.totalFreezeTime=o?o.totalFreezeTime:0,c.receiveDelay=d.jitterBufferMs||0,o=t.connection.user.videoTrack,t.connection.subscribeOptions.video&&h&&e.isRemoteVideoFreeze(o,d,a)&&(c.totalFreezeTime+=1),c.freezeRate=c.totalFreezeTime/c.totalDuration),p&&(s.end2EndDelay=p.B_ad,c.end2EndDelay=p.B_vd,s.transportDelay=p.B_ed,c.transportDelay=p.B_ed,s.currentPacketLossRate=p.B_ealr4/100,c.currentPacketLossRate=p.B_evlr4/100,u.uplinkNetworkQuality=p.B_punq?p.B_punq:0,u.downlinkNetworkQuality=p.B_pdnq?p.B_punq:0),t.audioStats=s,t.videoStats=c,t.pcStats=l,t.networkStats=u,t.connection.user.audioTrack&&n.exceptionMonitor.setRemoteAudioStats(t.connection.user.audioTrack,s),t.connection.user.videoTrack&&n.exceptionMonitor.setRemoteVideoStats(t.connection.user.videoTrack,c)})),xa(r=n.localConnectionsMap).call(r,(function(e){var t=e.audioStats,r=e.videoStats,i=Nt({},lf),o=Nt({},ff),a=e.connection.pc.getStats(),s=a.audioSend[0];a=a.videoSend[0];var c=e.connection.getUserId();s&&("opus"!==s.codec&&"aac"!==s.codec||(i.codecType=s.codec),s.inputLevel?i.sendVolumeLevel=Math.round(32767*s.inputLevel):e.connection.audioTrack&&(i.sendVolumeLevel=Math.round(32767*e.connection.audioTrack.getVolumeLevel())),i.sendBytes=s.bytes,i.sendPackets=s.packets,i.sendPacketsLost=s.packetsLost,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0),a&&("H264"!==a.codec&&"VP8"!==a.codec&&"VP9"!==a.codec&&"AV1X"!==a.codec||(o.codecType=a.codec),o.sendBytes=a.bytes,o.sendBitrate=r?8*Math.max(0,o.sendBytes-r.sendBytes):0,a.inputFrame?(o.captureFrameRate=a.inputFrame.frameRate,o.captureResolutionHeight=a.inputFrame.height,o.captureResolutionWidth=a.inputFrame.width):e.connection.videoTrack&&(o.captureResolutionWidth=e.connection.videoTrack._videoWidth||0,o.captureResolutionHeight=e.connection.videoTrack._videoHeight||0),a.sentFrame?(o.sendFrameRate=a.sentFrame.frameRate,o.sendResolutionHeight=a.sentFrame.height,o.sendResolutionWidth=a.sentFrame.width):e.connection.videoTrack&&(o.sendResolutionWidth=e.connection.videoTrack._videoWidth||0,o.sendResolutionHeight=e.connection.videoTrack._videoHeight||0),a.avgEncodeMs&&(o.encodeDelay=a.avgEncodeMs),e.connection.videoTrack&&e.connection.videoTrack._encoderConfig&&e.connection.videoTrack._encoderConfig.bitrateMax&&(o.targetSendBitrate=1e3*e.connection.videoTrack._encoderConfig.bitrateMax),o.sendPackets=a.packets,o.sendPacketsLost=a.packetsLost,o.totalDuration=r?r.totalDuration+1:1,o.totalFreezeTime=r?r.totalFreezeTime:0,n.isLocalVideoFreeze(a)&&(o.totalFreezeTime+=1)),n.trafficStats&&(i.sendPacketsLost=n.trafficStats.B_palr4/100,o.sendPacketsLost=n.trafficStats.B_pvlr4/100),e.audioStats=i,e.videoStats=o,e.audioStats&&e.connection.audioTrack&&n.exceptionMonitor.setLocalAudioStats(c,e.connection.audioTrack,e.audioStats),e.videoStats&&e.connection.videoTrack&&n.exceptionMonitor.setLocalVideoStats(c,e.connection.videoTrack,e.videoStats)}))},this.clientId=t,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new uh,this.exceptionMonitor.on("exception",(function(e,t,r){n.onStatsException&&n.onStatsException(e,t,r)}))}return h(e,[{key:"reset",value:function(){this.localConnectionsMap=new pa,this.remoteConnectionsMap=new pa,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}},{key:"getLocalAudioTrackStats",value:function(e){return(e=this.localConnectionsMap.get(e))&&e.audioStats?e.audioStats:Nt({},lf)}},{key:"getLocalVideoTrackStats",value:function(e){return(e=this.localConnectionsMap.get(e))&&e.videoStats?e.videoStats:Nt({},ff)}},{key:"getRemoteAudioTrackStats",value:function(e){var t,n=this.remoteConnectionsMap.get(e);return n&&n.audioStats?this.trafficStats?((e=lu(t=this.trafficStats.peer_delay).call(t,(function(e){return e.peer_uid===n.connection.user.uid})))&&(n.audioStats.publishDuration=e.B_ppad+(xd()-this.trafficStats.timestamp)),n.audioStats):n.audioStats:Nt({},df)}},{key:"getRemoteNetworkQualityStats",value:function(e){return(e=this.remoteConnectionsMap.get(e))&&e.networkStats?e.networkStats:Nt({},hf)}},{key:"getRemoteVideoTrackStats",value:function(e){var t,n=this.remoteConnectionsMap.get(e);return n&&n.videoStats?this.trafficStats?((e=lu(t=this.trafficStats.peer_delay).call(t,(function(e){return e.peer_uid===n.connection.user.uid})))&&(n.videoStats.publishDuration=e.B_ppvd+(xd()-this.trafficStats.timestamp)),n.videoStats):n.videoStats:Nt({},pf)}},{key:"getRTCStats",value:function(){var e,t,n=0,r=0,i=0,o=0;return xa(e=this.localConnectionsMap).call(e,(function(e){e.audioStats&&(n+=e.audioStats.sendBytes,r+=e.audioStats.sendBitrate),e.videoStats&&(n+=e.videoStats.sendBytes,r+=e.videoStats.sendBitrate)})),xa(t=this.remoteConnectionsMap).call(t,(function(e){e.audioStats&&(i+=e.audioStats.receiveBytes,o+=e.audioStats.receiveBitrate),e.videoStats&&(i+=e.videoStats.receiveBytes,o+=e.videoStats.receiveBitrate)})),e=1,this.trafficStats&&(e+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:e,SendBitrate:r,SendBytes:n,RecvBytes:i,RecvBitrate:o,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}},{key:"removeConnection",value:function(e){this.localConnectionsMap.delete(e),this.remoteConnectionsMap.delete(e)}},{key:"addLocalConnection",value:function(e){var t=e.connectionId;this.localConnectionsMap.has(t)||this.localConnectionsMap.set(t,{connection:e})}},{key:"addRemoteConnection",value:function(e){var t=e.connectionId;this.remoteConnectionsMap.has(t)||this.remoteConnectionsMap.set(t,{connection:e})}},{key:"updateTrafficStats",value:function(e){var t,n=this,r=Es(t=e.peer_delay).call(t,(function(e){var t;return-1===eu(t=n.trafficStatsPeerList).call(t,e.peer_uid)}));xa(r).call(r,(function(e){var t,r,i=lu(t=Rd(Od(r=n.remoteConnectionsMap).call(r))).call(t,(function(t){return t.connection._userId===e.peer_uid}));void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(n.onUploadPublishDuration&&n.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,i?xd()-i.connection.startTime:0),n.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}},{key:"updateUplinkStats",value:function(e){var t;this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&Bl.debug(bs(t="[".concat(this.clientId,"]: Period fir changes to ")).call(t,e.B_fir)),this.uplinkStats=e}},{key:"isLocalVideoFreeze",value:function(e){return!(!e.inputFrame||!e.sentFrame)&&5<e.inputFrame.frameRate&&3>e.sentFrame.frameRate}}],[{key:"isRemoteVideoFreeze",value:function(e,t,n){return!!e&&(e=!n||t.framesDecodeCount>n.framesDecodeCount,!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime||!e)}},{key:"isRemoteAudioFreeze",value:function(e){return!!e&&e._isFreeze()}}]),e}(),dh=function(){},hh={},ph=new(function(){function e(){d(this,e),this.fnMap=new pa}return h(e,[{key:"throttleByKey",value:function(e,t,n,r){for(var i=this,o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];if(this.fnMap.has(t)){var c,u,l=this.fnMap.get(t);l.threshold!==n?((c=l).fn.apply(c,f(l.args)),clearTimeout(l.timer),l=window.setTimeout((function(){var e=i.fnMap.get(t);e&&e.fn.apply(e,f(e.args)),i.fnMap.delete(t)}),n),this.fnMap.set(t,{fn:e,threshold:n,timer:l,args:a,skipFn:r})):(l.skipFn&&(u=l).skipFn.apply(u,f(l.args)),this.fnMap.set(t,Ft({},l,{fn:e,args:a,skipFn:r})))}else l=window.setTimeout((function(){var e=i.fnMap.get(t);e&&e.fn.apply(e,f(e.args)),i.fnMap.delete(t)}),n),this.fnMap.set(t,{fn:e,threshold:n,timer:l,args:a,skipFn:r})}}]),e}()),gh=gu(oh=ph.throttleByKey).call(oh,ph),vh=function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fragementLength,r=t.referenceList,i=t.asyncMapHandler,o=t.allFailedhandler,a=0,c=0,u=function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=a*n,t=e+n;return e=au(r).call(r,e,t),Vc(e).call(e,i)}(),e.prev=1,e.next=4,Ht(t);case 4:s=e.sent,e.next=14;break;case 7:if(e.prev=7,e.t0=e.catch(1),a++,(c+=n)>=r.length){e.next=13;break}return e.next=12,u();case 12:return e.abrupt("return",void e.sent);case 13:o(e.t0);case 14:xa(t).call(t,(function(e){return e.cancel()}));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),e.next=5,u();case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mh=(m(b={},Hl.ACCESS_POINT,(m(e={},Yl.NO_FLAG_SET,{desc:"flag is zero",retry:!1}),m(e,Yl.FLAG_SET_BUT_EMPTY,{desc:"flag is empty",retry:!1}),m(e,Yl.INVALID_FALG_SET,{desc:"invalid flag",retry:!1}),m(e,Yl.NO_SERVICE_AVAILABLE,{desc:"no service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_P2P,{desc:"no unilbs p2p service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_VOET,{desc:"no unilbs voice service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_WEBRTC,{desc:"no unilbs webrtc service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_CDS,{desc:"no cds service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_CDN,{desc:"no cdn dispatcher service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_TDS,{desc:"no tds service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_REPORT,{desc:"no unilbs report service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_APP_CENTER,{desc:"no app center service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_ENV0,{desc:"no unilbs sig env0 service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_VOET,{desc:"no unilbs voet service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_STRING_UID,{desc:"no string uid service available",retry:!0}),m(e,Yl.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS,{desc:"no webrtc unilbs service available",retry:!0}),e)),m(b,Hl.UNILBS,(m(n={},Wl.INVALID_VENDOR_KEY,{desc:"invalid vendor key, can not find appid",retry:!1}),m(n,Wl.INVALID_CHANNEL_NAME,{desc:"invalid channel name",retry:!1}),m(n,Wl.INTERNAL_ERROR,{desc:"unilbs internal error",retry:!1}),m(n,Wl.NO_AUTHORIZED,{desc:"invalid token, authorized failed",retry:!1}),m(n,Wl.DYNAMIC_KEY_TIMEOUT,{desc:"dynamic key or token timeout",retry:!1}),m(n,Wl.NO_ACTIVE_STATUS,{desc:"no active status",retry:!1}),m(n,Wl.DYNAMIC_KEY_EXPIRED,{desc:"dynamic key expired",retry:!1}),m(n,Wl.STATIC_USE_DYNAMIC_KEY,{desc:"static use dynamic key",retry:!1}),m(n,Wl.DYNAMIC_USE_STATIC_KEY,{desc:"dynamic use static key",retry:!1}),m(n,Wl.USER_OVERLOAD,{desc:"amount of users over load",retry:!1}),m(n,Wl.FORBIDDEN_REGION,{desc:"the request is forbidden in this area",retry:!1}),m(n,Wl.CANNOT_MEET_AREA_DEMAND,{desc:"unable to allocate services in this area",retry:!1}),n)),m(b,Hl.STRING_UID_ALLOCATOR,(m(y={},ql.IIIEGAL_APPID,{desc:"invalid appid",retry:!1}),m(y,ql.IIIEGAL_UID,{desc:"invalid string uid",retry:!1}),m(y,ql.INTERNAL_ERROR,{desc:"string uid allocator internal error",retry:!0}),y)),b),yh=(m(A={},Jl.K_TIMESTAMP_EXPIRED,{desc:"K_TIMESTAMP_EXPIRED",action:"failed"}),m(A,Jl.K_CHANNEL_PERMISSION_INVALID,{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"}),m(A,Jl.K_CERTIFICATE_INVALID,{desc:"K_CERTIFICATE_INVALID",action:"failed"}),m(A,Jl.K_CHANNEL_NAME_EMPTY,{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"}),m(A,Jl.K_CHANNEL_NOT_FOUND,{desc:"K_CHANNEL_NOT_FOUND",action:"failed"}),m(A,Jl.K_TICKET_INVALID,{desc:"K_TICKET_INVALID",action:"failed"}),m(A,Jl.K_CHANNEL_CONFLICTED,{desc:"K_CHANNEL_CONFLICTED",action:"failed"}),m(A,Jl.K_SERVICE_NOT_READY,{desc:"K_SERVICE_NOT_READY",action:"tryNext"}),m(A,Jl.K_SERVICE_TOO_HEAVY,{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"}),m(A,Jl.K_UID_BANNED,{desc:"K_UID_BANNED",action:"failed"}),m(A,Jl.K_IP_BANNED,{desc:"K_IP_BANNED",action:"failed"}),m(A,Jl.ERR_INVALID_VENDOR_KEY,{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"}),m(A,Jl.ERR_INVALID_CHANNEL_NAME,{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"}),m(A,Jl.WARN_NO_AVAILABLE_CHANNEL,{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"}),m(A,Jl.WARN_LOOKUP_CHANNEL_TIMEOUT,{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"}),m(A,Jl.WARN_LOOKUP_CHANNEL_REJECTED,{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"}),m(A,Jl.WARN_OPEN_CHANNEL_TIMEOUT,{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"}),m(A,Jl.WARN_OPEN_CHANNEL_REJECTED,{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"}),m(A,Jl.WARN_REQUEST_DEFERRED,{desc:"WARN_REQUEST_DEFERRED",action:"failed"}),m(A,Jl.ERR_DYNAMIC_KEY_TIMEOUT,{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"}),m(A,Jl.ERR_NO_AUTHORIZED,{desc:"ERR_NO_AUTHORIZED",action:"failed"}),m(A,Jl.ERR_VOM_SERVICE_UNAVAILABLE,{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"}),m(A,Jl.ERR_NO_CHANNEL_AVAILABLE_CODE,{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"}),m(A,Jl.ERR_MASTER_VOCS_UNAVAILABLE,{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"}),m(A,Jl.ERR_INTERNAL_ERROR,{desc:"ERR_INTERNAL_ERROR",action:"tryNext"}),m(A,Jl.ERR_NO_ACTIVE_STATUS,{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"}),m(A,Jl.ERR_INVALID_UID,{desc:"ERR_INVALID_UID",action:"failed"}),m(A,Jl.ERR_DYNAMIC_KEY_EXPIRED,{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"}),m(A,Jl.ERR_STATIC_USE_DYANMIC_KE,{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"}),m(A,Jl.ERR_DYNAMIC_USE_STATIC_KE,{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"}),m(A,Jl.ERR_NO_VOCS_AVAILABLE,{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"}),m(A,Jl.ERR_NO_VOS_AVAILABLE,{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"}),m(A,Jl.ERR_JOIN_CHANNEL_TIMEOUT,{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"}),m(A,Jl.ERR_JOIN_BY_MULTI_IP,{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"}),m(A,Jl.ERR_NOT_JOINED,{desc:"ERR_NOT_JOINED",action:"failed"}),m(A,Jl.ERR_REPEAT_JOIN_REQUEST,{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"}),m(A,Jl.ERR_REPEAT_JOIN_CHANNEL,{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"}),m(A,Jl.ERR_INVALID_VENDOR_KEY,{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"}),m(A,Jl.ERR_INVALID_CHANNEL_NAME,{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"}),m(A,Jl.ERR_INVALID_STRINGUID,{desc:"ERR_INVALID_STRINGUID",action:"failed"}),m(A,Jl.ERR_TOO_MANY_USERS,{desc:"ERR_TOO_MANY_USERS",action:"tryNext"}),m(A,Jl.ERR_SET_CLIENT_ROLE_TIMEOUT,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),m(A,Jl.ERR_SET_CLIENT_ROLE_NO_PERMISSION,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),m(A,Jl.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE,{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"}),m(A,Jl.ERR_PUBLISH_REQUEST_INVALID,{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"}),m(A,Jl.ERR_SUBSCRIBE_REQUEST_INVALID,{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"}),m(A,Jl.ERR_NOT_SUPPORTED_MESSAGE,{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"}),m(A,Jl.ERR_ILLEAGAL_PLUGIN,{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"}),m(A,Jl.ILLEGAL_CLIENT_ROLE_LEVEL,{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"}),m(A,Jl.ERR_REJOIN_TOKEN_INVALID,{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"}),m(A,Jl.ERR_REJOIN_USER_NOT_JOINED,{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"}),m(A,Jl.ERR_INVALID_OPTIONAL_INFO,{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"}),m(A,Jl.ERR_TEST_RECOVER,{desc:"ERR_TEST_RECOVER",action:"recover"}),m(A,Jl.ERR_TEST_TRYNEXT,{desc:"ERR_TEST_TRYNEXT",action:"recover"}),m(A,Jl.ERR_TEST_RETRY,{desc:"ERR_TEST_RETRY",action:"recover"}),m(A,Jl.ILLEGAL_AES_PASSWORD,{desc:"ERR_TEST_RETRY",action:"failed"}),A),bh={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},Ah=_((function(e,t){e.exports=function(){function e(e){for(var t=e.length,n=0,r=0;r<t;){var i=e.charCodeAt(r++);if(0!=(4294967168&i))if(0==(4294965248&i))n+=2;else{if(55296<=i&&56319>=i&&r<t){var o=e.charCodeAt(r);56320==(64512&o)&&(++r,i=((1023&i)<<10)+(1023&o)+65536)}n+=0==(4294901760&i)?3:4}else n++}return n}function t(e,t,n){n=t+n;for(var r=[],i="";t<n;){var o=e[t++];if(0==(128&o))r.push(o);else if(192==(224&o)){var a=63&e[t++];r.push((31&o)<<6|a)}else if(224==(240&o)){a=63&e[t++];var s=63&e[t++];r.push((31&o)<<12|a<<6|s)}else 240==(248&o)?(65535<(o=(7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o)):r.push(o);4096<=r.length&&(i+=String.fromCharCode.apply(String,w([],E(r))),r.length=0)}return 0<r.length&&(i+=String.fromCharCode.apply(String,w([],E(r)))),i}function n(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function i(e){var t,n=e.sec;if(e=e.nsec,0<=n&&0<=e&&17179869183>=n){if(0===e&&4294967295>=n){var r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,n),r}var i=n/4294967296;return n&=4294967295,r=new Uint8Array(8),(t=new DataView(r.buffer)).setUint32(0,e<<2|3&i),t.setUint32(4,n),r}return r=new Uint8Array(12),(t=new DataView(r.buffer)).setUint32(0,e),t.setUint32(4,Math.floor(n/4294967296)),t.setUint32(8,n),r}function o(e){var t=e.getTime();t=1e6*(t-1e3*(e=Math.floor(t/1e3)));var n=Math.floor(t/1e9);return{sec:e+n,nsec:t-1e9*n}}function a(e){return e instanceof Date?i(o(e)):null}function s(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:return{sec:4294967296*(3&(e=t.getUint32(0)))+t.getUint32(4),nsec:e>>>2};case 12:return{sec:n(t,4),nsec:t.getUint32(0)};default:throw Error("Unrecognized data size for timestamp: "+e.length)}}function c(e){return e=s(e),new Date(1e3*e.sec+e.nsec/1e6)}function u(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function l(e,t){return void 0===t&&(t=L),new j(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}function f(e){return(0>e?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}function d(e,t){return void 0===t&&(t=Y),new W(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function h(e,t){return void 0===t&&(t=Y),new W(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}function p(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Z(this,arguments,(function(){var t,n,r,i;return J(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,X(t.read())];case 3:return n=o.sent(),r=n.done,i=n.value,r?[4,X(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:if(null==i)throw Error("Assertion Failure: value must not be null nor undefined");return[4,X(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}function g(e,t){return void 0===t&&(t=Y),n=this,r=void 0,o=function(){var n;return function(e,t){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=0<(o=s.trys).length&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))s.label=n[1];else if(6===n[0]&&s.label<o[1])s.label=o[1],o=n;else{if(!(o&&s.label<o[2])){o[2]&&s.ops.pop(),s.trys.pop();continue}s.label=o[2],s.ops.push(n)}}n=t.call(e,s)}catch(a){n=[6,a],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,(function(r){return n=p(e),[2,new W(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(n)]}))},new(i=void 0,i=Promise)((function(e,t){function a(e){try{c(o.next(e))}catch(n){t(n)}}function s(e){try{c(o.throw(e))}catch(n){t(n)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o}function v(e,t){return void 0===t&&(t=Y),e=p(e),new W(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(e)}function m(e,t){return void 0===t&&(t=Y),e=p(e),new W(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(e)}function y(e,t){return void 0===t&&(t=Y),m(e,t)}var b={d:function(e,t){for(var n in t)b.o(t,n)&&!b.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},A={};b.r(A),b.d(A,{DecodeError:function(){return q},Decoder:function(){return W},EXT_TIMESTAMP:function(){return x},Encoder:function(){return j},ExtData:function(){return R},ExtensionCodec:function(){return N},decode:function(){return d},decodeArrayStream:function(){return v},decodeAsync:function(){return g},decodeMulti:function(){return h},decodeMultiStream:function(){return m},decodeStream:function(){return y},decodeTimestampExtension:function(){return c},decodeTimestampToTimeSpec:function(){return s},encode:function(){return l},encodeDateToTimeSpec:function(){return o},encodeTimeSpecToTimestamp:function(){return i},encodeTimestampExtension:function(){return a}});var _,E=function(e,t){var n,r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;e=r.call(e);var i=[];try{for(;(void 0===t||0<t--)&&!(n=e.next()).done;)i.push(n.value)}catch(a){var o={error:a}}finally{try{n&&!n.done&&(r=e.return)&&r.call(e)}finally{if(o)throw o.error}}return i},w=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},I="undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder,S=I?new TextEncoder:void 0,k=I?"undefined"!=typeof r?200:0:4294967295,C=null!=S&&S.encodeInto?function(e,t,n){S.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(S.encode(e),n)},O=I?new TextDecoder:null,T=I?"undefined"!=typeof r?200:0:4294967295,R=function(e,t){this.type=e,this.data=t},x=-1,M={type:x,encode:a,decode:c},N=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(M)}return e.prototype.register=function(e){var t=e.type,n=e.encode;e=e.decode,0<=t?(this.encoders[t]=n,this.decoders[t]=e):(t=1+t,this.builtInEncoders[t]=n,this.builtInDecoders[t]=e)},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(i=r(e,t)))return new R(-1-n,i);for(n=0;n<this.encoders.length;n++){var r,i;if(null!=(r=this.encoders[n])&&null!=(i=r(e,t)))return new R(n,i)}return e instanceof R?e:null},e.prototype.decode=function(e,t,n){var r=0>t?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new R(t,e)},e.defaultCodec=new e,e}(),D=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j=function(){function t(e,t,n,r,i,o,a,s){void 0===e&&(e=N.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},t.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},t.prototype.ensureBufferSizeToWrite=function(e){e=this.pos+e,this.view.byteLength<e&&this.resizeBuffer(2*e)},t.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e);e=new Uint8Array(t),t=new DataView(t),e.set(this.bytes),this.view=t,this.bytes=e},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?0<=e?128>e?this.writeU8(e):256>e?(this.writeU8(204),this.writeU8(e)):65536>e?(this.writeU8(205),this.writeU16(e)):4294967296>e?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):-32<=e?this.writeU8(224|e+32):-128<=e?(this.writeU8(208),this.writeI8(e)):-32768<=e?(this.writeU8(209),this.writeI16(e)):-2147483648<=e?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(32>e)this.writeU8(160+e);else if(256>e)this.writeU8(217),this.writeU8(e);else if(65536>e)this.writeU8(218),this.writeU16(e);else{if(!(4294967296>e))throw Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},t.prototype.encodeString=function(t){if(t.length>k){var n=e(t);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),C(t,this.bytes,this.pos)}else{n=e(t),this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n);for(var r=this.bytes,i=t.length,o=this.pos,a=0;a<i;){var s=t.charCodeAt(a++);if(0!=(4294967168&s)){if(0==(4294965248&s))r[o++]=s>>6&31|192;else{if(55296<=s&&56319>=s&&a<i){var c=t.charCodeAt(a);56320==(64512&c)&&(++a,s=((1023&s)<<10)+(1023&c)+65536)}0==(4294901760&s)?(r[o++]=s>>12&15|224,r[o++]=s>>6&63|128):(r[o++]=s>>18&7|240,r[o++]=s>>12&63|128,r[o++]=s>>6&63|128)}r[o++]=63&s|128}else r[o++]=s}}this.pos+=n},t.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},t.prototype.encodeBinary=function(e){var t=e.byteLength;if(256>t)this.writeU8(196),this.writeU8(t);else if(65536>t)this.writeU8(197),this.writeU16(t);else{if(!(4294967296>t))throw Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}e=u(e),this.writeU8a(e)},t.prototype.encodeArray=function(e,t){var n,r=e.length;if(16>r)this.writeU8(144+r);else if(65536>r)this.writeU8(220),this.writeU16(r);else{if(!(4294967296>r))throw Error("Too large array: "+r);this.writeU8(221),this.writeU32(r)}try{for(var i=D(e),o=i.next();!o.done;o=i.next())this.doEncode(o.value,t+1)}catch(s){var a={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}},t.prototype.countWithoutUndefined=function(e,t){var n,r=0;try{for(var i=D(t),o=i.next();!o.done;o=i.next())void 0!==e[o.value]&&r++}catch(s){var a={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return r},t.prototype.encodeMap=function(e,t){var n,r=Object.keys(e);this.sortKeys&&r.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(16>i)this.writeU8(128+i);else if(65536>i)this.writeU8(222),this.writeU16(i);else{if(!(4294967296>i))throw Error("Too large map object: "+i);this.writeU8(223),this.writeU32(i)}try{for(var o=D(r),a=o.next();!a.done;a=o.next()){var s=a.value,c=e[s];this.ignoreUndefined&&void 0===c||(this.encodeString(s),this.doEncode(c,t+1))}}catch(l){var u={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}},t.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(256>t)this.writeU8(199),this.writeU8(t);else if(65536>t)this.writeU8(200),this.writeU16(t);else{if(!(4294967296>t))throw Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8);var t=this.view,n=this.pos;t.setUint32(n,e/4294967296),t.setUint32(n+4,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8);var t=this.view,n=this.pos;t.setUint32(n,Math.floor(e/4294967296)),t.setUint32(n+4,e),this.pos+=8},t}(),L={};I=function(){function e(e,t){for(void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.miss=this.hit=0,this.caches=[],e=0;e<this.maxKeyLength;e++)this.caches.push([])}return e.prototype.canBeCached=function(e){return 0<e&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){var r,i=this.caches[n-1];try{var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),a=o.next();e:for(;!a.done;a=o.next()){var s=a.value,c=s.bytes;for(i=0;i<n;i++)if(c[i]!==e[t+i])continue e;return s.str}}catch(l){var u={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(u)throw u.error}}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1];e={bytes:e,str:t},n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=e:n.push(e)},e.prototype.decode=function(e,n,r){var i=this.find(e,n,r);return null!=i?(this.hit++,i):(this.miss++,i=t(e,n,r),e=Uint8Array.prototype.slice.call(e,n,n+r),this.store(e,i),i)},e}();var B=(_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(e,t){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=0<(o=s.trys).length&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))s.label=n[1];else if(6===n[0]&&s.label<o[1])s.label=o[1],o=n;else{if(!(o&&s.label<o[2])){o[2]&&s.ops.pop(),s.trys.pop();continue}s.label=o[2],s.ops.push(n)}}n=t.call(e,s)}catch(a){n=[6,a],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},U=function(e){function t(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(n=e[t](n)).done,n.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)},F=function e(t){return this instanceof e?(this.v=t,this):new e(t)},Q=function(e,t,n){function r(e){u[e]&&(c[e]=function(t){return new Promise((function(n,r){1<l.push([e,t,n,r])||i(e,t)}))})}function i(e,t){try{(n=u[e](t)).value instanceof F?Promise.resolve(n.value.v).then(o,a):s(l[0][2],n)}catch(r){s(l[0][3],r)}var n}function o(e){i("next",e)}function a(e){i("throw",e)}function s(e,t){e(t),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(e,t||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},z=new DataView(new ArrayBuffer(0)),V=new Uint8Array(z.buffer);e:{try{z.getInt8(0)}catch($){var K=$.constructor;break e}throw Error("never reached")}var G=new K("Insufficient data"),H=new I,q=function(e){function t(n){n=e.call(this,n)||this;var r=Object.create(t.prototype);return Object.setPrototypeOf(n,r),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return B(t,e),t}(Error),W=function(){function e(e,t,n,r,i,o,a,s){void 0===e&&(e=N.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=4294967295),void 0===r&&(r=4294967295),void 0===i&&(i=4294967295),void 0===o&&(o=4294967295),void 0===a&&(a=4294967295),void 0===s&&(s=H),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=i,this.maxMapLength=o,this.maxExtLength=a,this.keyDecoder=s,this.pos=this.totalPos=0,this.view=z,this.bytes=V,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=u(e),(e=this.bytes)instanceof ArrayBuffer?e=new DataView(e):(e=u(e),e=new DataView(e.buffer,e.byteOffset,e.byteLength)),this.view=e,this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining()){var t=this.bytes.subarray(this.pos);e=u(e);var n=new Uint8Array(t.length+e.length);n.set(t),n.set(e,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return void 0===e&&(e=1),this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view;return new RangeError("Extra "+(t.byteLength-this.pos)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},e.prototype.decode=function(e){if(this.reinitializeState(),this.setBuffer(e),e=this.doDecodeSync(),this.hasRemaining())throw this.createExtraByteError(this.pos);return e},e.prototype.decodeMulti=function(e){return P(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining()?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,i,o,a,s;return o=this,s=function(){var o,a,s,c,u,l,d,h;return P(this,(function(p){switch(p.label){case 0:o=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),t=U(e),p.label=2;case 2:return[4,t.next()];case 3:if((n=p.sent()).done)return[3,5];if(s=n.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),o=!0}catch(g){if(!(g instanceof K))throw g}this.totalPos+=this.pos,p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=p.sent(),r={error:c},[3,12];case 7:return p.trys.push([7,,10,11]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining())throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,d=u.pos,h=u.totalPos,new RangeError("Insufficient data in parsing "+f(l)+" at "+h+" ("+d+" in the current buffer)")}}))},new(a=void 0,a=Promise)((function(e,t){function n(e){try{i(s.next(e))}catch(n){t(n)}}function r(e){try{i(s.throw(e))}catch(n){t(n)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,r)}i((s=s.apply(o,[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return Q(this,arguments,(function(){var n,r,i,o,a,s,c,u,l;return P(this,(function(f){switch(f.label){case 0:n=t,r=-1,f.label=1;case 1:f.trys.push([1,13,14,19]),i=U(e),f.label=2;case 2:return[4,F(i.next())];case 3:if((o=f.sent()).done)return[3,12];if(a=o.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),f.label=4;case 4:f.trys.push([4,9,,10]),f.label=5;case 5:return[4,F(this.doDecodeSync())];case 6:return[4,f.sent()];case 7:return f.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=f.sent())instanceof K))throw s;return[3,10];case 10:this.totalPos+=this.pos,f.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=f.sent(),u={error:c},[3,19];case 14:return f.trys.push([14,,17,18]),o&&!o.done&&(l=i.return)?[4,F(l.call(i))]:[3,16];case 15:f.sent(),f.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte();if(224<=e)e-=256;else if(192>e){if(!(128>e))if(144>e){if(0!=(e-=128)){this.pushMapState(e),this.complete();continue e}e={}}else if(160>e){if(0!=(e-=144)){this.pushArrayState(e),this.complete();continue e}e=[]}else e-=160,e=this.decodeUtf8String(e,0)}else if(192===e)e=null;else if(194===e)e=!1;else if(195===e)e=!0;else if(202===e)e=this.readF32();else if(203===e)e=this.readF64();else if(204===e)e=this.readU8();else if(205===e)e=this.readU16();else if(206===e)e=this.readU32();else if(207===e)e=this.readU64();else if(208===e)e=this.readI8();else if(209===e)e=this.readI16();else if(210===e)e=this.readI32();else if(211===e)e=this.readI64();else if(217===e)e=this.lookU8(),e=this.decodeUtf8String(e,1);else if(218===e)e=this.lookU16(),e=this.decodeUtf8String(e,2);else if(219===e)e=this.lookU32(),e=this.decodeUtf8String(e,4);else if(220===e){if(0!==(e=this.readU16())){this.pushArrayState(e),this.complete();continue e}e=[]}else if(221===e){if(0!==(e=this.readU32())){this.pushArrayState(e),this.complete();continue e}e=[]}else if(222===e){if(0!==(e=this.readU16())){this.pushMapState(e),this.complete();continue e}e={}}else if(223===e){if(0!==(e=this.readU32())){this.pushMapState(e),this.complete();continue e}e={}}else if(196===e)e=this.lookU8(),e=this.decodeBinary(e,1);else if(197===e)e=this.lookU16(),e=this.decodeBinary(e,2);else if(198===e)e=this.lookU32(),e=this.decodeBinary(e,4);else if(212===e)e=this.decodeExtension(1,0);else if(213===e)e=this.decodeExtension(2,0);else if(214===e)e=this.decodeExtension(4,0);else if(215===e)e=this.decodeExtension(8,0);else if(216===e)e=this.decodeExtension(16,0);else if(199===e)e=this.lookU8(),e=this.decodeExtension(e,1);else if(200===e)e=this.lookU16(),e=this.decodeExtension(e,2);else{if(201!==e)throw new q("Unrecognized type byte: "+f(e));e=this.lookU32(),e=this.decodeExtension(e,4)}this.complete();for(var t=this.stack;0<t.length;){var n=t[t.length-1];if(0===n.type){if(n.array[n.position]=e,n.position++,n.position!==n.size)continue e;t.pop(),e=n.array}else{if(1===n.type){if("string"!=(r=typeof e)&&"number"!==r)throw new q("The type of key must be string or number but "+typeof e);if("__proto__"===e)throw new q("The key __proto__ is not allowed");n.key=e,n.type=2;continue e}if(n.map[n.key]=e,n.readCount++,n.readCount!==n.size){n.key=null,n.type=1;continue e}t.pop(),e=n.map}}return e}var r},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(160>e)return e-144;throw new q("Unrecognized array type byte: "+f(e))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new q("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new q("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:Array(e),position:0})},e.prototype.decodeUtf8String=function(e,n){var r;if(e>this.maxStrLength)throw new q("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+n+e)throw G;var i,o=this.pos+n;return this.stateIsMapKey()&&null!==(r=this.keyDecoder)&&void 0!==r&&r.canBeCached(e)?r=this.keyDecoder.decode(this.bytes,o,e):e>T?(r=this.bytes.subarray(o,o+e),r=O.decode(r)):r=t(this.bytes,o,e),i=r,this.pos+=n+e,i},e.prototype.stateIsMapKey=function(){return 0<this.stack.length&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new q("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw G;var n=this.pos+t;return n=this.bytes.subarray(n,n+e),this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new q("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var n=this.view.getInt8(this.pos+t);return e=this.decodeBinary(e,t+1),this.extensionCodec.decode(e,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=n(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),Y={},J=function(e,t){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=0<(o=s.trys).length&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3]))s.label=n[1];else if(6===n[0]&&s.label<o[1])s.label=o[1],o=n;else{if(!(o&&s.label<o[2])){o[2]&&s.ops.pop(),s.trys.pop();continue}s.label=o[2],s.ops.push(n)}}n=t.call(e,s)}catch(a){n=[6,a],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},X=function e(t){return this instanceof e?(this.v=t,this):new e(t)},Z=function(e,t,n){function r(e){u[e]&&(c[e]=function(t){return new Promise((function(n,r){1<l.push([e,t,n,r])||i(e,t)}))})}function i(e,t){try{(n=u[e](t)).value instanceof X?Promise.resolve(n.value.v).then(o,a):s(l[0][2],n)}catch(r){s(l[0][3],r)}var n}function o(e){i("next",e)}function a(e){i("throw",e)}function s(e,t){e(t),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(e,t||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c};return A}()})),_h=Math.min;Wr({target:"Array",proto:!0},{copyWithin:[].copyWithin||function(e,t){var n=Qi(this),r=ki(n.length),i=Eo(e,r),o=Eo(t,r),a=2<arguments.length?arguments[2]:void 0;for(r=_h((void 0===a?r:Eo(a,r))-o,r-i),a=1,o<i&&i<o+r&&(a=-1,o+=r-1,i+=r-1);0<r--;)o in n?n[i]=n[o]:delete n[i],i+=a,o+=a;return n}});var Eh=Ea("Array").copyWithin,wh=Array.prototype;Wr({target:"Array",proto:!0,forced:ka("every")},{every:function(e){return Xi(this,e,1<arguments.length?arguments[1]:void 0)}});var Ih=Ea("Array").every,Sh=Array.prototype,kh=function(e){var t=e.every;return e===Sh||e instanceof Array&&t===Sh.every?Ih:t},Ch=ui.getWeakData,Oh=go.set,Th=go.getterFor,Rh=0,xh=function(e){return e.frozen||(e.frozen=new Mh)},Mh=function(){this.entries=[]},Nh=function(e,t){return Zi(e.entries,(function(e){return e[0]===t}))};Mh.prototype={get:function(e){if(e=Nh(this,e))return e[1]},has:function(e){return!!Nh(this,e)},set:function(e,t){var n=Nh(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=$i(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var Dh={getConstructor:function(e,t,n,r){var i=e((function(e,o){Li(e,i,t),Oh(e,{type:t,id:Rh++,frozen:void 0}),null!=o&&ji(o,e[r],e,n)})),o=Th(t),a=function(e,t,n){var r=o(e),i=Ch(zr(t),!0);return!0===i?xh(r).set(t,n):i[r.id]=n,e};return Uo(i.prototype,{delete:function(e){var t=o(this);if(!Ir(e))return!1;var n=Ch(e);return!0===n?xh(t).delete(e):n&&Cr(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!Ir(e))return!1;var n=Ch(e);return!0===n?xh(t).has(e):n&&Cr(n,t.id)}}),Uo(i.prototype,n?{get:function(e){var t=o(this);if(Ir(e)){var n=Ch(e);return!0===n?xh(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}},jh=(_((function(e){var t=go.enforce,n=!fr.ActiveXObject&&"ActiveXObject"in fr,r=Object.isExtensible,i=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}};if(e=e.exports=bo("WeakMap",i,Dh),no&&n){var o=Dh.getConstructor(i,"WeakMap",!0);ui.REQUIRED=!0;var a=(n=e.prototype).delete,s=n.has,c=n.get,u=n.set;Uo(n,{delete:function(e){if(Ir(e)&&!r(e)){var n=t(this);return n.frozen||(n.frozen=new o),a.call(this,e)||n.frozen.delete(e)}return a.call(this,e)},has:function(e){if(Ir(e)&&!r(e)){var n=t(this);return n.frozen||(n.frozen=new o),s.call(this,e)||n.frozen.has(e)}return s.call(this,e)},get:function(e){if(Ir(e)&&!r(e)){var n=t(this);return n.frozen||(n.frozen=new o),s.call(this,e)?c.call(this,e):n.frozen.get(e)}return c.call(this,e)},set:function(e,n){if(Ir(e)&&!r(e)){var i=t(this);i.frozen||(i.frozen=new o),s.call(this,e)?u.call(this,e,n):i.frozen.set(e,n)}else u.call(this,e,n);return this}})}})),Math.min),Lh=[].lastIndexOf,Bh=!!Lh&&0>1/[1].lastIndexOf(1,-0),Ph=ka("lastIndexOf"),Uh=Bh||Ph?function(e){if(Bh)return Lh.apply(this,arguments)||0;var t=wr(this),n=ki(t.length),r=n-1;for(1<arguments.length&&(r=jh(r,Ii(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:Lh;Wr({target:"Array",proto:!0,forced:Uh!==[].lastIndexOf},{lastIndexOf:Uh});var Fh,Qh,zh,Vh,Kh=Ea("Array").lastIndexOf,Gh=Array.prototype,Hh=function(e){var t=e.lastIndexOf;return e===Gh||e instanceof Array&&t===Gh.lastIndexOf?Kh:t},qh=function(){return function(e){var t;return e=Vc(t=window.atob(e).split("")).call(t,(function(e){return e.charCodeAt(0)})),new Uint8Array(e,0,e.length/Uint8Array.BYTES_PER_ELEMENT)}("AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==")},Wh=Uint8Array.BYTES_PER_ELEMENT,Yh={bytesReceived:"br",frameDropped:"fd",frameReceived:"fr",googJitterReceived:"jr",isAudioMute:"am",isFreeze:"fz",mediaType:"mt",packetsLost:"pl",packetsReceived:"pr",peerId:"pid",id:"id",ssrc:"ssrc",timestamp:"ts",type:"tp",frameRateInput:"fi",frameRateSent:"fs",googRtt:"rt",isVideoMute:"vm"},Jh={stats:"sts",state:"st",stream_id:"stid",session_id:"seid",stream_type:"stt",app_id:"aid",channel_key:"ck",channel_name:"cn",sdk_version:"sv",browser:"b",process_id:"pcid",mode:"m",codec:"c",role:"r",has_changed_gateway:"hcg",ap_response:"ar",extends:"es",details:"d",features:"ft",p2p_id:"ppid",sdp:"sdp",audio:"a",video:"v",attributes:"at",hq:"h",lq:"l",stereo:"str",speech:"spe",extend:"e",pingpongElapse:"ppe"},Xh={_message:"m",_type:"t",_id:"id"},Zh={join_v2:"j2",publish:"pub",publish_related_stats:"prs",ping:"pi",traffic_stats:"ts",ping_back:"pib",publish_stats:"pubs"},$h=function(){function e(){d(this,e)}return h(e,[{key:"init",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=zh,e.t0){e.next=5;break}return e.next=4,g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qh,e.t0){e.next=5;break}return e.next=4,sn();case 4:Qh=e.sent;case 5:return e.abrupt("return",{zlibCompress:function(e){var t,n=new Uint8Array(e),r=Wh*n.byteLength;e=Qh._malloc(r);for(var i=Qh._malloc(3*r),o=0;o<r;o++)Qh.HEAP8[e/Wh+o]=n[o];return n=Qh._zlibCompress(e,r,i),n=new Uint8Array(au(t=Qh.HEAP8).call(t,i,i+n)),Qh._free(e),Qh._free(i),n}});case 6:case"end":return e.stop()}}),e)})))();case 4:zh=e.sent.zlibCompress;case 5:this.zlibCompress=zh;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"msgPackCompress",value:function(e){return Ah.encode(e)}},{key:"compress",value:function(e){var t=xd(),n=this.compressKeyAndValue(JSON.parse(ri(e))),r=this.msgPackCompress(n),i=this.zlibCompress(r);return i=new Uint8Array([49,49,49,50].concat(f(Rd(i)))),{origin:ja({},e),originLength:ri(e).length,shortKeyAndValue:n,msgpackSer:r,compressed:i,compressedLength:i.length,time:xd()-t}}},{key:"compressKeyAndValue",value:function(e){return this._ObjectKeyCompress(this._typeCompress(e))}},{key:"_typeCompress",value:function(e){var t=e._type;return t?(e._type=Zh[t]||t,e):e}},{key:"_ObjectKeyCompress",value:function(e){var t=e._message;if(t){var n=t.stats;n&&(t.stats=this._statsCompress(n)),e._message=this._messageCompress(t)}return this._reportCompress(e)}},{key:"_statsCompress",value:function(e){return this._keyCompress(e,Yh)}},{key:"_messageCompress",value:function(e){return this._keyCompress(e,Jh)}},{key:"_reportCompress",value:function(e){return this._keyCompress(e,Xh)}},{key:"_keyCompress",value:function(e,t){var n={},r=Ba(e);return za(r).call(r,(function(r,i){return r=e[i],t[i]?n[t[i]]=r:n[i]=r,n}),n),n}}]),e}(),ep=function(e){u(n,e);var t=l(n);function n(e){var r;return d(this,n),(r=t.call(this)).lowPriorityQueue=[],r.highPriorityQueue=[],r.AgoraWebSocketManager=e,r}return h(n,[{key:"queue",get:function(){return[].concat(f(this.highPriorityQueue),f(this.lowPriorityQueue))}},{key:"reset",value:function(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}},{key:"pushMessage",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}},{key:"sendMessage",value:function(){var e=this,t=this.queue.length;wd((function(){e._sendMessage()}),5>t?15*t:60+3*(t-4))}},{key:"_sendMessage",value:function(){var e;if(this.queue.length){var t=this.AgoraWebSocketManager.getConnection();if(t&&1===t.readyState){var n=this.queue.shift();return Au(e=this.lowPriorityQueue).call(e,n)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),t.send(n.compressed),n}}}}]),n}(Md),tp=function(e){u(n,e);var t=l(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this)).currentURLIndex=i.connectionID=0,i.reconnectMode="tryNext",i._state="closed",i.reconnectCount=0,i.isCompressorInitSuccess=!1,i.wsDeflateLength=i.wsInflateLength=0,i.name=e,i.retryConfig=r,i.useCompress=o,i}return h(n,[{key:"url",get:function(){return this.websocket?this.websocket.url:null}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(cf.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(cf.CONNECTED):"closed"===this._state?this.emit(cf.CLOSED):"failed"===this._state&&this.emit(cf.FAILED))}},{key:"getConnection",value:function(){return this.websocket||void 0}},{key:"init",value:function(e){var t=this,n=function(n,r){t.urls=e;var i=t.urls[t.currentURLIndex];t.state="connecting",t.messageSender=new ep(t),t.createWebSocketConnection(i).then(n).catch(r),t.once(cf.CLOSED,(function(){return r(new Pl(ul.WS_DISCONNECT))})),t.once(cf.CONNECTED,(function(){return n()}))};return new Fc((function(e,r){t.compressor=new $h,t.compressor.init().then((function(){var i;Bl.debug("websocket compressor initialized successfully"),t.isCompressorInitSuccess=!0,t.compress=gu(i=t.compressor.compress).call(i,t.compressor),n(e,r)})).catch((function(){Bl.debug("websocket compressor failed to initialize"),n(e,r)}))}))}},{key:"close",value:function(e,t){if(this.currentURLIndex=0,this.reconnectCount=0,this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var n=this.websocket;t?wd((function(){return n.close()}),500):n.close(),this.websocket=void 0}this.state=e?"failed":"closed"}},{key:"reconnect",value:function(e,t){this.websocket?(void 0!==e&&(this.reconnectMode=e),Bl.debug("[".concat(this.name,"] reconnect is triggered initiative")),e=this.websocket.onclose,this.websocket.onclose=null,this.websocket.close(),e&&gu(e).call(e,this.websocket)({code:9999,reason:t})):Bl.warning("[".concat(this.name,"] can not reconnect, no websocket"))}},{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Pl(ul.WS_ABORT,"websocket is not ready");try{var n=null;if(this.isCompressorInitSuccess&&this.useCompress&&Zu.WEBSOCKET_COMPRESS)n=this.compress(e),this.setWsInflateData(n);else{if(this.isCompressorInitSuccess&&this.useCompress){var r=this.compress(e);this.setWsInflateData(r)}var i=ri(e);n={compressed:i,compressedLength:i.length,origin:e}}t?this.websocket.send(n.compressed):this.messageSender.pushMessage(n)}catch(n){throw new Pl(ul.WS_ERR,"send websocket message error"+n.toString())}}},{key:"setWsInflateData",value:function(e){this.wsDeflateLength+=e.originLength,this.wsInflateLength+=e.compressedLength}},{key:"getWsInflateData",value:function(){var e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}},{key:"clearWsInflateData",value:function(){this.wsDeflateLength=this.wsInflateLength=0}},{key:"createWebSocketConnection",value:function(){var e=g(p.mark((function e(t){var n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.connectionID+=1,e.abrupt("return",new Fc((function(e,i){var o,a;r.websocket&&(r.websocket.onclose=null,r.websocket.close()),Zu.GATEWAY_WSS_ADDRESS&&xu(o=r.name).call(o,"gateway")&&(t=Zu.GATEWAY_WSS_ADDRESS),Bl.debug(bs(a="[".concat(r.name,"] start connect, url: ")).call(a,t));try{r.websocket=new WebSocket(t),r.websocket.binaryType="arraybuffer"}catch(c){var s;return o=new Pl(ul.WS_ERR,"init websocket failed! Error: ".concat(c.toString())),Bl.error(bs(s="[".concat(r.name,"]")).call(s,o)),void i(o)}zt(5e3).then((function(){n===r.connectionID&&r.websocket&&r.websocket.readyState!==WebSocket.OPEN&&r.websocket&&r.websocket.close()})),r.websocket.onopen=function(){Bl.debug("[".concat(r.name,"] websocket opened:"),t),r.reconnectMode="retry",r.state="connected",r.reconnectCount=0,e()},r.websocket.onclose=function(){var t=g(p.mark((function t(n){var o,a,s,c;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Bl.debug(bs(o=bs(a=bs(s=bs(c="[".concat(r.name,"] websocket close ")).call(c,r.websocket&&r.websocket.url,", code: ")).call(s,n.code,", reason: ")).call(a,n.reason,", current mode: ")).call(o,r.reconnectMode)),!(r.reconnectCount<r.retryConfig.maxRetryCount)){t.next=13;break}return"connected"===r.state&&(r.reconnectReason=n.reason,r.state="reconnecting"),o=Yt(r,cf.WILL_RECONNECT,r.reconnectMode)||r.reconnectMode,t.next=5,r.reconnectWithAction(o);case 5:if(o=t.sent,"closed"!==r.state){t.next=8;break}return t.abrupt("return",void Bl.debug("[".concat(r.connectionID,"] ws is closed, no need to reconnect")));case 8:if(o){t.next=10;break}return t.abrupt("return",(i(new Pl(ul.WS_DISCONNECT,"websocket reconnect failed: ".concat(n.code))),void r.close(!0)));case 10:e(),t.next=14;break;case 13:i(new Pl(ul.WS_DISCONNECT,"websocket close: ".concat(n.code))),r.close();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.websocket.onmessage=function(e){r.emit(cf.ON_MESSAGE,e)}})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reconnectWithAction",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!n&&this.reconnectCount>=this.retryConfig.maxRetryCount||!this.urls||"closed"===this.state)){e.next=2;break}return e.abrupt("return",!1);case 2:return this.onlineReconnectListener||!navigator||void 0===navigator.onLine||navigator.onLine||(this.onlineReconnectListener=new Fc((function(e){var t=function t(){s.onlineReconnectListener=void 0,window.removeEventListener("online",t),e()};window.addEventListener("online",t)}))),n=function(e,t){return Math.min(t.maxRetryTimeout,t.timeout*Math.pow(t.timeoutFactor,e))}(this.reconnectCount,this.retryConfig),Bl.debug(bs(r=bs(i="[".concat(this.name,"] wait ")).call(i,n,"ms to reconnect websocket, mode: ")).call(r,t)),e.next=7,Fc.race([zt(n),this.onlineReconnectListener||new Fc((function(){}))]);case 7:if("closed"!==this.state){e.next=9;break}return e.abrupt("return",!1);case 9:if(this.reconnectCount+=1,e.prev=10,"retry"!==t){e.next=16;break}return e.next=14,this.createWebSocketConnection(this.urls[this.currentURLIndex]);case 14:e.next=35;break;case 16:if("tryNext"!==t){e.next=26;break}if(this.currentURLIndex+=1,!(this.currentURLIndex>=this.urls.length)){e.next=21;break}return e.next=20,this.reconnectWithAction("recover");case 20:return e.abrupt("return",e.sent);case 21:return Bl.debug(bs(o=bs(a="[".concat(this.name,"] websocket url length: ")).call(a,this.urls.length," current index: ")).call(o,this.currentURLIndex)),e.next=24,this.createWebSocketConnection(this.urls[this.currentURLIndex]);case 24:e.next=35;break;case 26:if(e.t0="recover"===t,!e.t0){e.next=35;break}return Bl.debug("[".concat(this.name,"] request new urls")),e.next=31,qt(this,cf.REQUEST_NEW_URLS);case 31:return this.urls=e.sent,this.currentURLIndex=0,e.next=35,this.createWebSocketConnection(this.urls[this.currentURLIndex]);case 35:return e.abrupt("return",!0);case 38:return e.prev=38,e.t1=e.catch(10),Bl.error("[".concat(this.name,"] reconnect failed"),e.t1.toString()),e.next=43,this.reconnectWithAction(t);case 43:return e.abrupt("return",e.sent);case 44:case"end":return e.stop()}}),e,this,[[10,38]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Md),np=function(){function e(t){d(this,e),this.input=[],this.size=t}return h(e,[{key:"add",value:function(e){var t;this.input.push(e),this.input.length>this.size&&Wc(t=this.input).call(t,0,1)}},{key:"mean",value:function(){var e;return 0===this.input.length?0:za(e=this.input).call(e,(function(e,t){return e+t}))/this.input.length}}]),e}(),rp=function(e){u(n,e);var t=l(n);function n(e){var r;return d(this,n),(r=t.call(this))._connectionState=$l.CLOSED,r.openConnectionTime=xd(),r.lastMsgTime=xd(),r.uploadCache=[],r.rttRolling=new np(5),r.pingpongTimeoutCount=0,r.onWebsocketMessage=function(e){if(e.data instanceof ArrayBuffer)r.emit(ef.ON_BINARY_DATA,e.data);else if(e=JSON.parse(e.data),r.lastMsgTime=xd(),Object.prototype.hasOwnProperty.call(e,"_id")){var t="res-@".concat(e._id);r.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")&&(r.emit(e._type,e._message),e._type===rf.ON_NOTIFICATION&&r.handleNotification(e._message),e._type===rf.ON_USER_BANNED))switch(e._message.error_code){case 14:r.close("UID_BANNED");break;case 15:r.close("IP_BANNED");break;case 16:r.close("CHANNEL_BANNED")}},r.clientId=e.clientId,r.spec=e,r.websocket=new tp("gateway-".concat(r.clientId),r.spec.retryConfig,!0),r.handleWebsocketEvents(),window.addEventListener("offline",(function(){r.connectionState===$l.CONNECTED&&r.reconnect("retry",Zl.OFFLINE)})),r}return h(n,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._connectionState=e,e===$l.CONNECTED?this.emit(ef.WS_CONNECTED):e===$l.RECONNECTING?this.emit(ef.WS_RECONNECTING,this._websocketReconnectReason):e===$l.CLOSED&&this.emit(ef.WS_CLOSED,this._disconnectedReason))}},{key:"currentURLIndex",get:function(){return this.websocket.currentURLIndex}},{key:"url",get:function(){return this.websocket?this.websocket.url:null}},{key:"rtt",get:function(){return this.rttRolling.mean()}},{key:"request",value:function(){var e=g(p.mark((function e(t,n,r,i){var o,a,s,c,u,l,f,d,h,g=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=Kt(6,""),f={_id:l,_type:t,_message:n},d=this.websocket.connectionID,h=function(){return new Fc((function(e,t){if(g.connectionState===$l.CONNECTED)return e();var n=function(){g.off(ef.WS_CLOSED,r),e()},r=function(){g.off(ef.WS_CONNECTED,n),t(new Pl(ul.WS_ABORT))};g.once(ef.WS_CONNECTED,n),g.once(ef.WS_CLOSED,r)}))},e.t0=this.connectionState!==$l.CONNECTING&&this.connectionState!==$l.RECONNECTING||t===tf.JOIN||t===tf.REJOIN,e.t0){e.next=8;break}return e.next=8,h();case 8:if(this.websocket.sendMessage(f,!0),i){e.next=67;break}return f=new Fc((function(e,r){var i=!1,o=function(r,o){i=!0,e({isSuccess:"success"===r,message:o||{}}),g.off(ef.WS_CLOSED,a),g.off(ef.WS_RECONNECTING,a),g.emit(ef.REQUEST_SUCCESS,t,n)};g.once("res-@".concat(l),o);var a=function e(){r(new Pl(ul.WS_ABORT,"type: ".concat(t))),g.off(ef.WS_CLOSED,e),g.off(ef.WS_RECONNECTING,e),g.off("res-@".concat(l),o)};g.once(ef.WS_CLOSED,a),g.once(ef.WS_RECONNECTING,a),zt(Zu.SIGNAL_REQUEST_TIMEOUT).then((function(){g.websocket.connectionID!==d||i||(Bl.warning("ws request timeout, type: ".concat(t)),g.emit(ef.REQUEST_TIMEOUT,t,n))}))})),i=null,e.prev=12,e.next=15,f;case 15:i=e.sent,e.next=37;break;case 18:if(e.prev=18,e.t1=e.catch(12),this.connectionState!==$l.CLOSED&&t!==tf.LEAVE){e.next=22;break}throw new Pl(ul.WS_ABORT);case 22:if(this.spec.forceWaitGatewayResponse&&!r){e.next=26;break}e.t2=e.t1.throw(),e.next=36;break;case 26:if(t!==tf.JOIN&&t!==tf.REJOIN){e.next=30;break}e.t3=null,e.next=35;break;case 30:return e.next=32,h();case 32:return e.next=34,this.request(t,n);case 34:e.t3=e.sent;case 35:e.t2=e.t3;case 36:return e.abrupt("return",e.t2);case 37:if(!i.isSuccess){e.next=39;break}return e.abrupt("return",i.message);case 39:if(r=Number(i.message.error_code||i.message.code),h=on(r),f=new Pl(ul.UNEXPECTED_RESPONSE,bs(o="".concat(h.desc,": ")).call(o,i.message.error_str),{code:r,data:i.message}),"success"!==h.action){e.next=46;break}e.t4=i.message,e.next=66;break;case 46:if(Bl.warning(bs(a=bs(s=bs(c=bs(u="[".concat(this.websocket.connectionID,"] unexpected response from type ")).call(u,t,", error_code: ")).call(c,r,", message: ")).call(s,h.desc,", action: ")).call(a,h.action)),"failed"!==h.action){e.next=51;break}e.t5=f.throw(),e.next=65;break;case 51:if("quit"!==h.action){e.next=55;break}e.t6=(this.initError=f,this.close(),f.throw()),e.next=64;break;case 55:if(r===Jl.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=i.message.option,Bl.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Zl.MULTI_IP)):this.reconnect(h.action,Zl.SERVER_ERROR),t!==tf.JOIN&&t!==tf.REJOIN){e.next=60;break}e.t7=null,e.next=63;break;case 60:return e.next=62,this.request(t,n);case 62:e.t7=e.sent;case 63:e.t6=e.t7;case 64:e.t5=e.t6;case 65:e.t4=e.t5;case 66:return e.abrupt("return",e.t4);case 67:case"end":return e.stop()}}),e,this,[[12,18]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"waitMessage",value:function(e,t){var n=this;return new Fc((function(r){var i=function i(o){t&&!t(o)||(n.off(e,i),r(o))};n.on(e,i)}))}},{key:"upload",value:function(e,t){var n=this;e={_type:e,_message:t};try{this.websocket.sendMessage(e)}catch(i){var r;t=Zu.MAX_UPLOAD_CACHE||50,this.uploadCache.push(e),this.uploadCache.length>t&&Wc(r=this.uploadCache).call(r,0,1),0<this.uploadCache.length&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((function(){var e;if(n.connectionState===$l.CONNECTED){var t=Wc(e=n.uploadCache).call(e,0,1)[0];0===n.uploadCache.length&&(window.clearInterval(n.uploadCacheInterval),n.uploadCacheInterval=void 0),n.upload(t._type,t._message)}}),Zu.UPLOAD_CACHE_INTERVAL||2e3))}}},{key:"send",value:function(e,t){this.websocket.sendMessage({_type:e,_message:t})}},{key:"init",value:function(e){var t=this;return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,new Fc((function(n,r){t.once(ef.WS_CONNECTED,(function(){return n(t.joinResponse)})),t.once(ef.WS_CLOSED,(function(){return r(t.initError||new Pl(ul.WS_ABORT))})),t.connectionState=$l.CONNECTING,t.websocket.init(e).catch(r),t.wsInflateDataTimer&&window.clearInterval(t.wsInflateDataTimer),t.wsInflateDataTimer=window.setInterval((function(){t.handleWsInflateData()}),2e4)}))}},{key:"close",value:function(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.joinResponse=this.reconnectToken=void 0,this._disconnectedReason=e||"LEAVE",this.connectionState=$l.CLOSED,this.websocket.close()}},{key:"join",value:function(){var e=g(p.mark((function e(){var t,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinResponse){e.next=9;break}return n=Jt(this,ef.REQUEST_JOIN_INFO),e.next=4,this.request(tf.JOIN,n);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",(this.emit(ef.REPORT_JOIN_GATEWAY,ul.TIMEOUT,this.url||""),!1));case 7:this.joinResponse=n,this.reconnectToken=this.joinResponse.rejoin_token;case 9:return e.abrupt("return",(this.connectionState=$l.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(gu(t=this.handlePingPong).call(t,this),3e3),!0));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rejoin",value:function(){var e=g(p.mark((function e(){var t,n,r,i=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reconnectToken){e.next=2;break}throw new Pl(ul.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");case 2:return(r=Jt(this,ef.REQUEST_REJOIN_INFO)).token=this.reconnectToken,e.next=6,this.request(tf.REJOIN,r);case 6:return r=e.sent,e.abrupt("return",!!r&&(this.connectionState=$l.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(gu(t=this.handlePingPong).call(t,this),3e3),r.peers&&xa(n=r.peers).call(n,(function(e){i.emit(rf.ON_USER_ONLINE,{uid:e.uid}),e.audio_mute?i.emit(rf.MUTE_AUDIO,{uid:e.uid}):i.emit(rf.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?i.emit(rf.MUTE_VIDEO,{uid:e.uid}):i.emit(rf.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?i.emit(rf.ENABLE_LOCAL_AUDIO,{uid:e.uid}):i.emit(rf.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?i.emit(rf.ENABLE_LOCAL_VIDEO,{uid:e.uid}):i.emit(rf.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||i.emit(rf.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id}),e.audio&&i.emit(rf.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0}),e.video&&i.emit(rf.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0})})),!0));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reconnect",value:function(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}},{key:"handleNotification",value:function(e){if(Bl.debug("[".concat(this.clientId,"] receive notification: "),e),"success"!==(e=on(e.code)).action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close("UID_BANNED"),void this.close()):void this.reconnect(e.action,Zl.SERVER_ERROR);Bl.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}},{key:"handlePingPong",value:function(){var e=this;if(this.websocket&&"connected"===this.websocket.state){0<this.pingpongTimeoutCount&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;var t=Zu.PING_PONG_TIME_OUT,n=xd();this.pingpongTimeoutCount>=t&&(Bl.warning("PINGPONG Timeout. Last Socket Message: ".concat(n-this.lastMsgTime,"ms")),n-this.lastMsgTime>Zu.WEBSOCKET_TIMEOUT_MIN)?this.reconnect("retry",Zl.TIMEOUT):this.request(tf.PING,void 0,!0).then((function(){e.pingpongTimeoutCount=0;var t=xd()-n;e.rttRolling.add(t),Zu.REPORT_STATS&&e.send(tf.PING_BACK,{pingpongElapse:t})})).catch((function(e){}))}}},{key:"handleWsInflateData",value:function(){var e=this.websocket.getWsInflateData(),t=e.wsInflateLength,n=e.wsDeflateLength;0!==t&&0!==n&&this.upload(nf.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:n,ws_inflate_length:t})}},{key:"handleWebsocketEvents",value:function(){var e=this;this.websocket.on(cf.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(cf.CLOSED,(function(){e.connectionState=$l.CLOSED})),this.websocket.on(cf.FAILED,(function(){e._disconnectedReason="NETWORK_ERROR",e.connectionState=$l.CLOSED})),this.websocket.on(cf.RECONNECTING,(function(t){e._websocketReconnectReason=t,e.joinResponse=void 0,e.connectionState===$l.CONNECTED?e.connectionState=$l.RECONNECTING:e.connectionState=$l.CONNECTING})),this.websocket.on(cf.WILL_RECONNECT,(function(t,n){if(Jt(e,ef.IS_P2P_DISCONNECTED)&&"retry"===t)return e.reconnectToken=void 0,e.emit(ef.NEED_RENEW_SESSION),e.emit(ef.DISCONNECT_P2P),n("tryNext");"retry"!==t&&(e.reconnectToken=void 0,e.emit(ef.NEED_RENEW_SESSION),e.emit(ef.DISCONNECT_P2P)),n(t)})),this.websocket.on(cf.CONNECTED,(function(){e.openConnectionTime=xd(),e.reconnectToken?e.rejoin().catch((function(t){var n;Bl.warning(bs(n="[".concat(e.clientId,"] rejoin failed ")).call(n,t)),e.reconnect("tryNext",Zl.SERVER_ERROR)})):e.join().catch((function(t){if(e.emit(ef.REPORT_JOIN_GATEWAY,t.message||t.code,e.url||""),t instanceof Pl&&t.code===ul.UNEXPECTED_RESPONSE&&t.data.code===Jl.ERR_NO_AUTHORIZED)return Bl.warning("[".concat(e.clientId,"] reconnect no authorized, recover")),void e.reconnect("recover",Zl.SERVER_ERROR);Bl.error("[".concat(e.clientId,"] join gateway request failed"),t.toString()),e.spec.forceWaitGatewayResponse?e.reconnect("tryNext",Zl.SERVER_ERROR):(e.initError=t,e.close())}))})),this.websocket.on(cf.REQUEST_NEW_URLS,(function(t,n){qt(e,ef.REQUEST_RECOVER,e.multiIpOption).then(t).catch(n)}))}}]),n}(Md),ip=new pa,op=function(e){u(n,e);var t=l(n);function n(e){var r;return d(this,n),(r=t.call(this)).inChannelInfo={joinAt:null,duration:0},r._state="DISCONNECTED",r.needToSendUnpubUnsub=new pa,r.hasChangeBGPAddress=r.isSignalRecover=!1,r.joinGatewayStartTime=0,r._signalTimeout=!1,r.clientId=e.clientId,r.spec=e,r.signal=new rp(ln({},e,{retryConfig:e.websocketRetryConfig})),r._statsCollector=e.statsCollector,r.role=e.role||"audience",r._clientRoleOptions=e.clientRoleOptions,r.handleSignalEvents(),r}return h(n,[{key:"state",get:function(){return this._state},set:function(e){if(e!==this._state){var t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(Af.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(Af.CONNECTION_STATE_CHANGE,e,t)}}},{key:"join",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disabled"!==t.cloudProxyServer&&(this.hasChangeBGPAddress=!0),o=xd(),(a=ip.get(t.cname))||(a=new pa,ip.set(t.cname,a)),!a.has(t.uid)){e.next=5;break}throw a=new Pl(ul.UID_CONFLICT),Nd.joinGateway(t.sid,{lts:o,succ:!1,ec:a.message,addr:null,uid:t.uid,cid:t.cid}),a;case 5:return a.set(t.uid,!0),this.joinInfo=t,this.key=n,n=t.proxyServer?Vc(r=t.gatewayAddrs).call(r,(function(e){var n,r;return e=e.split(":"),bs(n=bs(r="wss://".concat(t.proxyServer,"/ws/?h=")).call(r,e[0],"&p=")).call(n,e[1])})):Vc(i=t.gatewayAddrs).call(i,(function(e){return"wss://".concat(e)})),r=0,this.joinGatewayStartTime=o,e.prev=11,e.next=14,this.signal.init(n);case 14:r=e.sent.uid,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(11),Bl.error("[".concat(this.clientId,"] User join failed"),e.t0.toString()),Nd.joinGateway(t.sid,{lts:o,succ:!1,ec:e.t0.message,addr:this.signal.url,uid:t.uid,cid:t.cid}),a.delete(t.uid),this.signal.close(),e.t0;case 20:return e.abrupt("return",(this.state="CONNECTED",this.inChannelInfo.joinAt=xd(),Bl.debug("[".concat(this.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((function(){s.updateTrafficStats().catch((function(e){Bl.warning("[".concat(s.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((function(){navigator&&void 0!==navigator.onLine&&!navigator.onLine?s.emit(Af.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):s._signalTimeout?s.emit(Af.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===s.state&&s._statsCollector.trafficStats?s.emit(Af.NETWORK_QUALITY,{uplinkNetworkQuality:Bt(s._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:Bt(s._statsCollector.trafficStats.B_dnq)}):s.emit(Af.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),r));case 21:case"end":return e.stop()}}),e,this,[[11,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"leave",value:function(){var e=g(p.mark((function e(){var t,n,r=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],"DISCONNECTED"===this.state){e.next=16;break}if(this.state="DISCONNECTING",e.prev=3,t||this.signal.connectionState!==$l.CONNECTED){e.next=8;break}return n=this.signal.request(tf.LEAVE,void 0,!0),e.next=8,Fc.race([n,Vt(3e3)]);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Bl.warning("[".concat(this.clientId,"] leave request failed, ignore"),e.t0);case 13:this.signal.close(),this.reset(),this.state="DISCONNECTED";case 16:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=g(p.mark((function e(t,n){var r,i,o=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinInfo){e.next=2;break}throw new Pl(ul.UNEXPECTED_ERROR,"publish no joinInfo");case 2:if(r=t.getUserId(),i=t.videoTrack?function(e){var t;if(!(e=e._encoderConfig))return{};var n={resolution:e.width&&e.height?bs(t="".concat(jt(e.width),"x")).call(t,jt(e.height)):void 0,maxVideoBW:e.bitrateMax,minVideoBW:e.bitrateMin};return"number"==typeof e.frameRate?(n.maxFrameRate=e.frameRate,n.minFrameRate=e.frameRate):e.frameRate&&(n.maxFrameRate=e.frameRate.max||e.frameRate.ideal||e.frameRate.exact||e.frameRate.min,n.minFrameRate=e.frameRate.min||e.frameRate.ideal||e.frameRate.exact||e.frameRate.max),n}(t.videoTrack):{},t.on(of.NEED_ANSWER,(function(e,a,s){var c,u={state:"offer",stream_type:n,p2p_id:t.pc.ID,sdp:ri(e),audio:!!t.audioTrack,video:!!t.videoTrack,screen:t.videoTrack&&-1!==eu(c=t.videoTrack._hints).call(c,Ef.SCREEN_TRACK),attributes:i,dtx:t.audioTrack instanceof ah&&t.audioTrack._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1,mode:o.spec.mode,codec:o.spec.codec,extend:Zu.PUB_EXTEND};t.audioTrack&&(c={stream_id:o.joinInfo&&o.joinInfo.uid,action:""},t.audioTrack.isActive?c.action="unmute_local_audio":c.action="mute_local_audio",o.sendControl(c)),t.videoTrack&&(c={stream_id:o.joinInfo&&o.joinInfo.uid,action:""},t.videoTrack.muted?c.action="mute_local_video":c.action="unmute_local_video",o.sendControl(c)),o.signal.request(tf.PUBLISH,u,!0).then((function(e){r&&o.needToSendUnpubUnsub.set(r,!0),a(JSON.parse(e.sdp))})).catch((function(n){if(e.retry&&n.data&&n.data.code===Jl.ERR_PUBLISH_REQUEST_INVALID)return Bl.warning("[".concat(o.clientId,"] receiver publish error code, retry"),n.toString()),qt(t,of.NEED_UNPUB).then((function(){e.retry=!1,qt(t,of.NEED_ANSWER,e).then(a).catch(s)}));n.code!==ul.WS_ABORT&&s(n)}))})),t.on(of.NEED_RENEGOTIATE,(function(e,r,i){o.signal.request(tf.PUBLISH,{state:"negotiation",stream_type:n,p2p_id:t.pc.ID,sdp:e},!0).then((function(e){r(JSON.parse(e.sdp))})).catch((function(e){e.code!==ul.WS_ABORT&&i(e)}))})),t.on(of.NEED_UNPUB,(function(e){return r&&!o.needToSendUnpubUnsub.has(r)?e(!1):"RECONNECTING"===o.state?e(!0):void o.signal.request(tf.UNPUBLISH,{stream_id:t.getUserId(),stream_type:n},!0).then((function(){return e(!1)})).catch((function(t){Bl.warning("unpublish warning: ",t),e(!0)}))})),t.on(of.NEED_UPLOAD,(function(e,t){o.signal.upload(e,{stream_type:n,stats:t})})),t.on(of.NEED_SIGNAL_RTT,(function(e){e(o.signal.rtt)})),t.on(of.NEED_CONTROL,(function(e,t,n){if("video"===e.type&&e.muted)e="mute_local_video";else if("video"!==e.type||e.muted)if("audio"===e.type&&e.muted)e="mute_local_audio";else{if("audio"!==e.type||e.muted)return;e="unmute_local_audio"}else e="unmute_local_video";o.sendControl({stream_id:o.joinInfo&&o.joinInfo.uid,action:e}).then(t).catch(n)})),"RECONNECTING"===this.state){e.next=10;break}if("CONNECTED"===this.state){e.next=6;break}return e.abrupt("return",new Pl(ul.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state)).throw());case 6:return e.next=8,t.startP2PConnection();case 8:e.next=11;break;case 10:t.readyToReconnectPC();case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"subscribe",value:function(){var e=g(p.mark((function e(t){var n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinInfo){e.next=2;break}throw new Pl(ul.UNEXPECTED_ERROR,"subscribe no joinInfo");case 2:if(n=t.getUserId(),t.on(of.NEED_ANSWER,(function(e,i,o){var a=t.subscribeOptions;a={stream_id:t.getUserId(),audio:!!a.audio,video:!!a.video,mode:r.spec.mode,codec:r.spec.codec,p2p_id:t.pc.ID,sdp:ri(e),tcc:!!Zu.SUBSCRIBE_TCC,extend:Zu.SUB_EXTEND},r.signal.request(tf.SUBSCRIBE,a,!0).then((function(e){r.needToSendUnpubUnsub.set(n,!0),i(JSON.parse(e.sdp))})).catch((function(n){if(e.retry&&n.data&&n.data.code===Jl.ERR_SUBSCRIBE_REQUEST_INVALID)return Bl.warning("[".concat(r.clientId,"] receiver subscribe error code, retry"),n.toString()),qt(t,of.NEED_UNSUB).then((function(){e.retry=!1,qt(t,of.NEED_ANSWER,e).then(i).catch(o)}));n.code!==ul.WS_ABORT&&o(n)}))})),t.on(of.NEED_UNSUB,(function(e){return r.needToSendUnpubUnsub.has(n)?"RECONNECTING"===r.state?e(!0):void r.signal.request(tf.UNSUBSCRIBE,{stream_id:t.getUserId()},!0).then((function(){return e(!1)})).catch((function(t){Bl.warning("unsubscribe warning",t),e(!0)})):e(!1)})),t.on(of.NEED_UPLOAD,(function(e,n){r.signal.upload(e,{stream_id:t.getUserId(),stats:n})})),t.on(of.NEED_SIGNAL_RTT,(function(e){e(r.signal.rtt)})),"RECONNECTING"===this.state){e.next=10;break}if("CONNECTED"===this.state){e.next=6;break}return e.abrupt("return",new Pl(ul.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state)).throw());case 6:return e.next=8,t.startP2PConnection();case 8:e.next=11;break;case 10:t.readyToReconnectPC();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"subscribeChange",value:function(){var e=g(p.mark((function e(t,n){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinInfo){e.next=2;break}throw new Pl(ul.UNEXPECTED_ERROR,"subscribe no joinInfo");case 2:return e.next=4,t.setSubscribeOptions(n);case 4:if("RECONNECTING"===this.state){e.next=10;break}if("CONNECTED"===this.state){e.next=7;break}return e.abrupt("return",new Pl(ul.INVALID_OPERATION,"can not subscribe change when connection state is ".concat(this.state)).throw());case 7:return Bl.debug(bs(r=bs(i="[".concat(this.clientId,"] send subscribe change, audio: ")).call(i,n.audio,", video: ")).call(r,n.video)),e.next=10,this.signal.request(tf.SUBSCRIBE_CHANGE,{stream_id:t.getUserId(),audio:!!n.audio,video:!!n.video},!0);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"sendControl",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.signal.request(tf.CONTROL,t,!0,!0);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unsubscribe",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.closeP2PConnection();case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGatewayInfo",value:function(){return this.signal.request(tf.GATEWAY_INFO)}},{key:"renewToken",value:function(e){return this.signal.request(tf.RENEW_TOKEN,{token:e})}},{key:"setClientRole",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&(this._clientRoleOptions=ja({},n)),"CONNECTED"===this.state){e.next=2;break}return e.abrupt("return",void(this.role=t));case 2:return e.next=4,this.signal.request(tf.SET_CLIENT_ROLE,{role:t,level:"audience"===t?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0});case 4:this.role=t;case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setRemoteVideoStreamType",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(tf.SWITCH_VIDEO_STREAM,{stream_id:t,stream_type:n});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setStreamFallbackOption",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(tf.SET_FALLBACK_OPTION,{stream_id:t,fallback_type:n});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"pickSVCLayer",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(tf.PICK_SVC_LAYER,{stream_id:t,spatial_layer:n.spatialLayer,temporal_layer:n.temporalLayer});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getInChannelInfo",value:function(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=xd()-this.inChannelInfo.joinAt),ln({},this.inChannelInfo)}},{key:"getGatewayVersion",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(tf.GATEWAY_INFO);case 2:return e.abrupt("return",e.sent.version);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=xd()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){var e=ip.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.needToSendUnpubUnsub=new pa,this.key=this.joinInfo=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}},{key:"updateTurnConfigFromSignal",value:function(){if(this.joinInfo){var e=(e=(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex])||"").match(/(wss:\/\/)?([^:]+):(\d+)/))?{username:qu.username,password:qu.password,turnServerURL:e[2],tcpport:Za(e[3])+30,udpport:Za(e[3])+30,forceturn:!1}:null;this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(ln({},qu,{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}}},{key:"updateTrafficStats",value:function(){var e=g(p.mark((function e(){var t,n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"!==this.state){e.next=7;break}return e.next=3,this.signal.request(tf.TRAFFIC_STATS,void 0,!0);case 3:(n=e.sent).timestamp=xd(),xa(t=n.peer_delay).call(t,(function(e){var t,n=r._statsCollector.trafficStats&&lu(t=r._statsCollector.trafficStats.peer_delay).call(t,(function(t){return t.peer_uid===e.peer_uid}));n&&n.B_st!==e.B_st&&$t((function(){r.emit(Af.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getJoinMessage",value:function(){if(!this.joinInfo||!this.key)throw new Pl(ul.UNEXPECTED_ERROR,"can not generate join message, no join info");var e=ja({},this.joinInfo.apResponse),t=Zu.REPORT_APP_SCENARIO;if("string"!=typeof t)try{t=ri(t)}catch(n){t=void 0}return t&&128<t.length&&(t=void 0),t={session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Ku,browser:navigator.userAgent,process_id:Zu.PROCESS_ID,mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:e,extend:Zu.JOIN_EXTEND,details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:t},this.joinInfo.stringUid&&(t.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(t.aes_mode=this.joinInfo.aesmode,Zu.ENCRYPT_AES?(t.aes_secret=this.joinInfo.aespassword,t.aes_encrypt=!0):t.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(t.aes_salt=this.joinInfo.aessalt)),e.addresses[this.signal.websocket.currentURLIndex]&&(t.ap_response.ticket=e.addresses[this.signal.websocket.currentURLIndex].ticket,delete e.addresses),t}},{key:"getRejoinMessage",value:function(){if(!this.joinInfo)throw new Pl(ul.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}},{key:"handleSignalEvents",value:function(){var e=this;this.signal.on(ef.WS_RECONNECTING,(function(t){e.joinInfo&&Nd.WebSocketQuit(e.joinInfo.sid,{lts:xd(),succ:-1,cname:e.joinInfo.cname,uid:e.joinInfo.uid,cid:e.joinInfo.cid,errorCode:t||Zl.NETWORK_ERROR}),e.joinInfo&&(e.state="RECONNECTING",Nd.sessionInit(e.joinInfo.sid,{lts:(new Date).getTime(),extend:e.isSignalRecover?{recover:!0}:{rejoin:!0},cname:e.joinInfo.cname,appid:e.joinInfo.appId,mode:e.spec.mode}),e.isSignalRecover=!1,e.joinGatewayStartTime=xd())})),this.signal.on(ef.WS_CLOSED,(function(t){var n;switch(t){case"LEAVE":n=Zl.LEAVE;break;case"UID_BANNED":case"IP_BANNED":case"CHANNEL_BANNED":case"SERVER_ERROR":n=Zl.SERVER_ERROR;break;default:n=Zl.NETWORK_ERROR}Bl.debug("[signal] websocket closed, reason: ".concat(n||"undefined -> "+Zl.NETWORK_ERROR)),e.joinInfo&&Nd.WebSocketQuit(e.joinInfo.sid,{lts:xd(),succ:"LEAVE"===t?1:-1,cname:e.joinInfo.cname,uid:e.joinInfo.uid,cid:e.joinInfo.cid,errorCode:n}),e.reset(),e._disconnectedReason=t,e.state="DISCONNECTED"})),this.signal.on(ef.WS_CONNECTED,(function(){var t,n,r;if(e.updateTurnConfigFromSignal(),e.state="CONNECTED",e.joinInfo&&("audience"===e.role&&e._clientRoleOptions&&e._clientRoleOptions.level&&(Bl.debug(bs(t=bs(n=bs(r="[".concat(e.clientId,"] patch to send set client role, role: ")).call(r,e.role,", mode: ")).call(n,e.spec.mode,", level: ")).call(t,e._clientRoleOptions&&e._clientRoleOptions.level)),e.setClientRole(e.role,e._clientRoleOptions)),Nd.joinGateway(e.joinInfo.sid,{lts:e.joinGatewayStartTime,succ:!0,ec:null,vid:e.joinInfo.vid,addr:e.signal.url,uid:e.joinInfo.uid,cid:e.joinInfo.cid}),e.joinInfo.useLocalAccessPoint)){var i;if(!(t=e.signal.url&&e.signal.url.match(/wss:\/\/([^:]+):(\d+)/)))return void Bl.error(bs(i="[".concat(e.clientId,"] set local access point after joined failed: ")).call(i,t));Ae("EVENT_REPORT_DOMAIN",t[1]),Ae("EVENT_REPORT_BACKUP_DOMAIN",t[1]),Ae("LOG_UPLOAD_SERVER","".concat(t[1],":6444"))}})),this.signal.on(rf.ON_UPLINK_STATS,(function(t){e._statsCollector.updateUplinkStats(t)})),this.signal.on(ef.REQUEST_RECOVER,(function(t,n,r){if(!e.joinInfo)return r(new Pl(ul.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));t&&(e.joinInfo.multiIP=t,e.hasChangeBGPAddress=!0),e.isSignalRecover=!0,qt(e,Af.REQUEST_NEW_GATEWAY_LIST).then(n).catch(r)})),this.signal.on(ef.REQUEST_JOIN_INFO,(function(t){t(e.getJoinMessage())})),this.signal.on(ef.REQUEST_REJOIN_INFO,(function(t){t(e.getRejoinMessage())})),this.signal.on(ef.REPORT_JOIN_GATEWAY,(function(t,n){e.joinInfo&&Nd.joinGateway(e.joinInfo.sid,{lts:e.joinGatewayStartTime,succ:!1,ec:t,addr:n,uid:e.joinInfo.uid,cid:e.joinInfo.cid})})),this.signal.on(ef.IS_P2P_DISCONNECTED,(function(t){t(Jt(e,Af.IS_P2P_DISCONNECTED))})),this.signal.on(ef.DISCONNECT_P2P,(function(){e.needToSendUnpubUnsub=new pa,e.emit(Af.DISCONNECT_P2P)})),this.signal.on(ef.NEED_RENEW_SESSION,(function(){e.emit(Af.NEED_RENEW_SESSION)})),this.signal.on(ef.REQUEST_SUCCESS,(function(){e._signalTimeout=!1})),this.signal.on(ef.REQUEST_TIMEOUT,(function(){e._signalTimeout=!0}))}}]),n}(Md),ap=1,sp=1,cp=function(){var e=Zu.AREAS;return 0===e.length&&e.push("GLOBAL"),za(e).call(e,(function(e,t,n){var r,i,o,a,s,c;return(t="OVERSEA"===t?bs(r=bs(i=bs(o=bs(a=bs(s="".concat(Tf.ASIA,",")).call(s,Tf.EUROPE,",")).call(a,Tf.AFRICA,",")).call(o,Tf.NORTH_AMERICA,",")).call(i,Tf.SOUTH_AMERICA,",")).call(r,Tf.OCEANIA):Tf[t])?0===n?t:bs(c="".concat(e,",")).call(c,t):e}),"")},up={ASIA:["CHINA","JAPAN","INDIA"],EUROPE:[],NORTH_AMERICA:[],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]},lp=Ba(up),fp="CHINA NORTH_AMERICA EUROPE ASIA JAPAN INDIA OCEANIA SOUTH_AMERICA AFRICA".split(" "),dp=function(e,t){var n,r=[];if(Au(e).call(e,"GLOBAL")){r=["GLOBAL","OVERSEA"];var i=Ba(Mf);if("GLOBAL"===t)throw new Pl(ul.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if("CHINA"===t)r=["OVERSEA"];else if(n=t,Au(lp).call(lp,n)){e=up[t]||[];var o=[].concat(f(r),[t],f(e));r=Es(i).call(i,(function(e){return!Au(o).call(o,e)}))}else if(function(e){var t=!1;return xa(lp).call(lp,(function(n){var r;Au(r=up[n]).call(r,e)&&(t=!0)})),t}(t)){e=function(e){var t;return xa(lp).call(lp,(function(n){var r;Au(r=up[n]).call(r,e)&&(t=n)})),t}(t);var a=[].concat(f(r),[e,t]);r=Es(i).call(i,(function(e){return!Au(a).call(a,e)}))}else r=e;r=function(e){var t=[];return xa(fp).call(fp,(function(n){Au(e).call(e,n)&&t.push(n)})),bs(t).call(t,Es(e).call(e,(function(e){return!Au(fp).call(fp,e)})))}(r)}else r=e;return r},hp=function(e){u(n,e);var t=l(n);function n(){var e;return d(this,n),(e=t.call(this)).retryConfig={timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4},e.mutex=new Ld("config-distribute"),e}return h(n,[{key:"startGetConfigDistribute",value:function(e,t){var n=this;this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),this.updateConfigDistribute(),this.interval=window.setInterval((function(){n.updateConfigDistribute()}),Zu.CONFIG_DISTRIBUTE_INTERVAL)}},{key:"stopGetConfigDistribute",value:function(){this.interval&&clearInterval(this.interval),this.cancelToken=this.joinInfo=this.interval=void 0}},{key:"awaitConfigDistributeComplete",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.mutex.isLocked,!e.t0){e.next=6;break}return e.next=4,this.mutex.lock();case 4:e.t1=e.sent,(0,e.t1)();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateConfigDistribute",value:function(){var e=g(p.mark((function e(){var t,n,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinInfo&&this.cancelToken&&this.retryConfig){e.next=2;break}return e.abrupt("return",void Bl.debug("[config-distribute] get config distribute interrupted have no joininfo"));case 2:return e.next=4,this.mutex.lock();case 4:return n=e.sent,e.prev=5,e.next=8,En(this.joinInfo,this.cancelToken,this.retryConfig);case 8:t=e.sent,Bl.debug("[config-distribute] get config distribute",ri(t)),t.limit_bitrate&&this.handleBitrateLimit(t.limit_bitrate),this.configs=t,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),r=new Pl(ul.NETWORK_RESPONSE_ERROR,e.t0),Bl.warning("[config-distribute] ".concat(r.toString()));case 18:return e.prev=18,n(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,14,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBitrateLimit",value:function(){return this.configs?this.configs.limit_bitrate:void 0}},{key:"handleBitrateLimit",value:function(e){e&&e.uplink&&e.id&&void 0!==e.uplink.max_bitrate&&void 0!==e.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(xf.UPDATE_BITRATE_LIMIT,e):this.emit(xf.UPDATE_BITRATE_LIMIT,e))}},{key:"getLowStreamConfigDistribute",value:function(){return this.configs&&this.configs.limit_bitrate&&function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)xa(n=On(Object(r),!0)).call(n,(function(t){Id(e,t,r[t])}));else if(Pf)Df(e,Pf(r));else{var i;xa(i=On(Object(r))).call(i,(function(t){Ka(e,t,os(r,t))}))}}return e}({},this.configs.limit_bitrate.low_stream_uplink)}}]),n}(Md),pp=function(){function e(e){this.input=[],this.size=e}return e.prototype.add=function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)},e.prototype.diffMean=function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length},e}(),gp=function(e,t){return(gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},vp=function(){return(vp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},mp={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[]},yp={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0},bp={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},Ap={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},_p={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0},Ep=function(){function e(e,t){var n=this;this.videoIsReady=!1,this.stats=Tn(mp),this.isFirstAudioDecoded=this.isFirstAudioReceived=this.isFirstVideoDecoded=this.isFirstVideoReceived=!1,this.lossRateWindowStats=[],this.pc=e,this.options=t,this.intervalTimer=window.setInterval((function(){return Mn(n,void 0,void 0,(function(){return Nn(this,(function(e){return this.updateStats(),[2]}))}))}),this.options.updateInterval)}return e.prototype.getStats=function(){return this.stats},e.prototype.setVideoIsReady=function(e){this.videoIsReady=e},e.prototype.setIsFirstAudioDecoded=function(e){this.isFirstAudioDecoded=e},e.prototype.destroy=function(){window.clearInterval(this.intervalTimer)},e.prototype.calcLossRate=function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var n=this.lossRateWindowStats.length,r=0,i=0,o=0,a=0,s=function(s){e[s].forEach((function(e,c){if(t.lossRateWindowStats[n-1][s][c]&&t.lossRateWindowStats[0][s][c]){var u=t.lossRateWindowStats[n-1][s][c].packets-t.lossRateWindowStats[0][s][c].packets;c=t.lossRateWindowStats[n-1][s][c].packetsLost-t.lossRateWindowStats[0][s][c].packetsLost,"videoSend"===s||"audioSend"===s?(r+=u,o+=c):(i+=u,a+=c),Number.isNaN(u)||Number.isNaN(u)?e.packetLostRate=0:e.packetLostRate=0>=u||0>=c?0:c/(u+c)}}))},c=0,u=["videoSend","audioSend","videoRecv","audioRecv"];c<u.length;c++)s(u[c]);e.sendPacketLossRate=0>=r||0>=o?0:o/(r+o),e.recvPacketLossRate=0>=i||0>=a?0:a/(i+a)},e}(),wp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=mp,t.lastDecodeVideoReceiverStats=new Map,t}return xn(t,e),t.prototype.updateStats=function(){return Mn(this,void 0,void 0,(function(){var e,t,n,r;return Nn(this,(function(i){switch(i.label){case 0:return[4,this._getStats()];case 1:return e=i.sent(),t=this.statsResponsesToObjects(e),this._stats=Tn(mp),n=t.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=t.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processBandwidthStats=function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)},t.prototype.processSSRCStats=function(e){var t=this;e.forEach((function(e){var n=e.id.includes("send");switch(e.mediaType+"_"+(n?"send":"recv")){case"video_send":(n=Tn(bp)).codec=e.googCodecName,n.adaptionChangeReason="none",e.googCpuLimitedResolution&&(n.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(n.adaptionChangeReason="bandwidth"),n.avgEncodeMs=Number(e.googAvgEncodeMs),n.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},n.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},n.firsCount=Number(e.googFirReceived),n.nacksCount=Number(e.googNacksReceived),n.plisCount=Number(e.googPlisReceived),n.frameCount=Number(e.framesEncoded),n.bytes=Number(e.bytesSent),n.packets=Number(e.packetsSent),n.packetsLost=Number(e.packetsLost),n.ssrc=Number(e.ssrc),n.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(n),t._stats.rtt=n.rttMs;break;case"video_recv":n=Tn(yp);var r=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(n.codec=e.googCodecName,n.targetDelayMs=Number(e.googTargetDelayMs),n.renderDelayMs=Number(e.googRenderDelayMs),n.currentDelayMs=Number(e.googCurrentDelayMs),n.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),n.decodeMs=Number(e.googDecodeMs),n.maxDecodeMs=Number(e.googMaxDecodeMs),n.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},n.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},n.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},n.jitterBufferMs=Number(e.googJitterBufferMs),n.firsCount=Number(e.googFirsSent),n.nacksCount=Number(e.googNacksSent),n.plisCount=Number(e.googPlisSent),n.framesDecodeCount=Number(e.framesDecoded),n.bytes=Number(e.bytesReceived),n.packets=Number(e.packetsReceived),n.packetsLost=Number(e.packetsLost),n.ssrc=Number(e.ssrc),0<n.packets&&!t.isFirstVideoReceived&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(),t.isFirstVideoReceived=!0),0<n.framesDecodeCount&&!t.isFirstVideoDecoded&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(n.decodedFrame.width,n.decodedFrame.height),t.isFirstVideoDecoded=!0),r){e=r.stats;var i=Date.now()-r.lts;n.framesDecodeFreezeTime=e.framesDecodeFreezeTime,n.framesDecodeInterval=e.framesDecodeInterval,n.framesDecodeCount>e.framesDecodeCount&&t.isFirstVideoDecoded?(r.lts=Date.now(),n.framesDecodeInterval=i,n.framesDecodeInterval>=t.options.freezeRateLimit&&(t.videoIsReady?n.framesDecodeFreezeTime+=n.framesDecodeInterval:t.setVideoIsReady(!0))):n.framesDecodeCount<r.stats.framesDecodeCount&&(n.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(n.ssrc,{stats:vp({},n),lts:Date.now()}),t._stats.videoRecv.push(n);break;case"audio_recv":(n=Tn(_p)).codec=e.googCodecName,n.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,n.decodingCNG=Number(e.googDecodingCNG),n.decodingCTN=Number(e.googDecodingCTN),n.decodingCTSG=Number(e.googDecodingCTSG),n.decodingNormal=Number(e.googDecodingNormal),n.decodingPLC=Number(e.googDecodingPLC),n.decodingPLCCNG=Number(e.googDecodingPLCCNG),n.expandRate=Number(e.googExpandRate),n.accelerateRate=Number(e.googAccelerateRate),n.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),n.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),n.speechExpandRate=Number(e.googSpeechExpandRate),n.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),n.jitterBufferMs=Number(e.googJitterBufferMs),n.jitterMs=Number(e.googJitterReceived),n.bytes=Number(e.bytesReceived),n.packets=Number(e.packetsReceived),n.packetsLost=Number(e.packetsLost),n.ssrc=Number(e.ssrc),n.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),n.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),0<n.receivedFrames&&!t.isFirstAudioReceived&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(),t.isFirstAudioReceived=!0),0<n.decodingNormal&&!t.isFirstAudioDecoded&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(),t.isFirstAudioDecoded=!0),t._stats.audioRecv.push(n);break;case"audio_send":(n=Tn(Ap)).codec=e.googCodecName,n.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,n.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),n.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),n.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),n.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),n.bytes=Number(e.bytesSent),n.packets=Number(e.packetsSent),n.packetsLost=Number(e.packetsLost),n.ssrc=Number(e.ssrc),n.rttMs=Number(e.googRtt||0),t._stats.rtt=n.rttMs,t._stats.audioSend.push(n)}}))},t.prototype._getStats=function(){var e=this;return new Promise((function(t,n){e.pc.getStats(t,n)}))},t.prototype.statsResponsesToObjects=function(e){var t=[];return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t.push(n)})),t},t}(Ep);!function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(Vh||(Vh={}));var Ip,Sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=mp,t.lastDecodeVideoReceiverStats=new Map,t.lastVideoFramesRecv=new Map,t.lastVideoFramesSent=new Map,t.lastVideoFramesDecode=new Map,t.lastVideoJBDelay=new Map,t.lastAudioJBDelay=new Map,t.mediaBytesSent=new Map,t.mediaBytesRetransmit=new Map,t.mediaBytesTargetEncode=new Map,t.lastEncoderMs=new Map,t}return xn(t,e),t.prototype.updateStats=function(){return Mn(this,void 0,void 0,(function(){var e,t=this;return Nn(this,(function(n){switch(n.label){case 0:return e=this,[4,this.pc.getStats()];case 1:return e.report=n.sent(),this._stats=Tn(mp),this.report.forEach((function(e){switch(e.type){case Vh.OUTBOUND:"audio"===e.mediaType?t.processAudioOutboundStats(e):"video"===e.mediaType&&t.processVideoOutboundStats(e);break;case Vh.INBOUND:"audio"===e.mediaType?t.processAudioInboundStats(e):"video"===e.mediaType&&t.processVideoInboundStats(e);break;case Vh.TRANSPORT:(e=t.report.get(e.selectedCandidatePairId))&&t.processCandidatePairStats(e);break;case Vh.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processCandidatePairStats=function(e){this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)}))},t.prototype.processAudioInboundStats=function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=Tn(_p),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,e.trackId&&this.processAudioTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),0<t.receivedFrames&&!this.isFirstAudioReceived&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(),this.isFirstAudioReceived=!0),t.outputLevel&&0<t.outputLevel&&!this.isFirstAudioDecoded&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(),this.isFirstAudioDecoded=!0)},t.prototype.processVideoInboundStats=function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=Tn(yp),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded;var n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),i=Date.now();if(0<t.framesDecodeCount&&!this.isFirstVideoDecoded){var o=t.decodedFrame?t.decodedFrame.width:0,a=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o,a),this.isFirstVideoDecoded=!0}n&&(o=n.stats,a=i-n.lts,t.framesDecodeFreezeTime=o.framesDecodeFreezeTime,t.framesDecodeInterval=o.framesDecodeInterval,t.framesDecodeCount>o.framesDecodeCount&&this.isFirstVideoDecoded?(n.lts=Date.now(),t.framesDecodeInterval=a,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.videoIsReady?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady(!0))):t.framesDecodeCount<o.framesDecodeCount&&(t.framesDecodeInterval=0)),r&&800<=i-r.lts?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),e.trackId&&this.processVideoTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),0<t.packets&&!this.isFirstVideoReceived&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(),this.isFirstVideoReceived=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:vp({},t),lts:n?n.lts:Date.now()})},t.prototype.processVideoOutboundStats=function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=Tn(bp),this._stats.videoSend.push(t));var n,r=this.mediaBytesSent.get(e.ssrc);r?r.add(e.bytesSent):((n=new pp(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,n)),void 0!==e.retransmittedBytesSent&&((r=this.mediaBytesRetransmit.get(e.ssrc))?r.add(e.retransmittedBytesSent):((n=new pp(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,n))),e.totalEncodedBytesTarget&&((r=this.mediaBytesTargetEncode.get(e.ssrc))?r.add(e.totalEncodedBytesTarget):((n=new pp(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,n))),t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,e.totalEncodeTime&&e.framesEncoded&&(r=this.lastEncoderMs.get(e.ssrc),t.avgEncodeMs=!r||r.lastFrameCount>e.framesEncoded?1e3*e.totalEncodeTime/e.framesEncoded:1e3*(e.totalEncodeTime-r.lastEncoderTime)/(e.framesEncoded-r.lastFrameCount),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lts:Date.now()})),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),e.trackId&&this.processVideoTrackSenderStats(e.trackId,t),e.remoteId?this.processRemoteInboundStats(e.remoteId,t):(r=this.findRemoteStatsId(e.ssrc,Vh.REMOTE_INBOUND))&&this.processRemoteInboundStats(r,t)},t.prototype.processAudioOutboundStats=function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=Tn(Ap),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.trackId&&this.processAudioTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var n=this.findRemoteStatsId(e.ssrc,Vh.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}},t.prototype.findRemoteStatsId=function(e,t){var n=Array.from(this.report.values()).find((function(n){return n.type===t&&n.ssrc===e}));return n?n.id:null},t.prototype.processVideoMediaSource=function(e,t){(e=this.report.get(e))&&e.width&&e.height&&e.framesPerSecond&&(t.inputFrame={width:e.width,height:e.height,frameRate:e.framesPerSecond})},t.prototype.processAudioMediaSource=function(e,t){(e=this.report.get(e))&&(t.inputLevel=e.audioLevel)},t.prototype.processVideoTrackSenderStats=function(e,t){if(e=this.report.get(e)){var n=0,r=Date.now(),i=this.lastVideoFramesSent.get(t.ssrc);i&&800<=r-i.lts?(n=Math.round((e.framesSent-i.count)/((r-i.lts)/1e3)),this.lastVideoFramesSent.set(t.ssrc,{count:e.framesSent,lts:r,rate:n})):i?n=i.rate:this.lastVideoFramesSent.set(t.ssrc,{count:e.framesSent,lts:r,rate:0}),t.sentFrame={width:e.frameWidth,height:e.frameHeight,frameRate:n}}},t.prototype.processVideoTrackReceiverStats=function(e,t){if(e=this.report.get(e)){var n=this.lastVideoFramesRecv.get(t.ssrc),r=Date.now();t.framesReceivedCount=e.framesReceived;var i=0;n&&800<=r-n.lts?(i=Math.round((e.framesReceived-n.count)/((r-n.lts)/1e3)),this.lastVideoFramesRecv.set(t.ssrc,{count:e.framesReceived,lts:r,rate:i})):n?i=n.rate:this.lastVideoFramesRecv.set(t.ssrc,{count:e.framesReceived,lts:r,rate:0}),t.receivedFrame={width:e.frameWidth||0,height:e.frameHeight||0,frameRate:i||0},t.decodedFrame={width:e.frameWidth||0,height:e.frameHeight||0,frameRate:t.decodeFrameRate||0},t.outputFrame={width:e.frameWidth||0,height:e.frameHeight||0,frameRate:t.decodeFrameRate||0},e.jitterBufferDelay&&e.jitterBufferEmittedCount&&(n=this.lastVideoJBDelay.get(t.ssrc),this.lastVideoJBDelay.set(t.ssrc,{jitterBufferDelay:e.jitterBufferDelay,jitterBufferEmittedCount:e.jitterBufferEmittedCount}),n||(n={jitterBufferDelay:0,jitterBufferEmittedCount:0}),e=1e3*(e.jitterBufferDelay-n.jitterBufferDelay)/(e.jitterBufferEmittedCount-n.jitterBufferEmittedCount),t.jitterBufferMs=e,t.currentDelayMs=Math.round(e))}},t.prototype.processAudioTrackSenderStats=function(e,t){(e=this.report.get(e))&&(t.aecReturnLoss=e.echoReturnLoss||0,t.aecReturnLossEnhancement=e.echoReturnLossEnhancement||0)},t.prototype.processAudioTrackReceiverStats=function(e,t){if(e=this.report.get(e)){if(e.removedSamplesForAcceleration&&e.totalSamplesReceived&&(t.accelerateRate=e.removedSamplesForAcceleration/e.totalSamplesReceived),e.jitterBufferDelay&&e.jitterBufferEmittedCount){var n=this.lastAudioJBDelay.get(t.ssrc);this.lastAudioJBDelay.set(t.ssrc,{jitterBufferDelay:e.jitterBufferDelay,jitterBufferEmittedCount:e.jitterBufferEmittedCount}),n||(n={jitterBufferDelay:0,jitterBufferEmittedCount:0}),t.jitterBufferMs=Math.round(1e3*(e.jitterBufferDelay-n.jitterBufferDelay)/(e.jitterBufferEmittedCount-n.jitterBufferEmittedCount))}t.outputLevel=e.audioLevel,n=1920,e.totalSamplesDuration&&e.totalSamplesReceived&&(n=e.totalSamplesReceived/e.totalSamplesDuration/50,t.receivedFrames=Math.round(e.totalSamplesReceived/n)),e.concealedSamples&&(t.droppedFrames=Math.round(e.concealedSamples/n))}},t.prototype.processRemoteInboundStats=function(e,t){(e=this.report.get(e))&&(t.packetsLost=e.packetsLost,e.roundTripTime&&(t.rttMs=1e3*e.roundTripTime))},t.prototype.getCodecFromCodecStats=function(e){return(e=this.report.get(e))&&(e=e.mimeType.match(/\/(.*)$/))&&e[1]?e[1]:""},t.prototype.updateSendBitrate=function(){var e=0,t=null,n=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){n=null===n?e.diffMean():n+e.diffMean()})),this._stats.bitrate={actualEncoded:8*(null!==t?e-t:e)/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))},t}(Ep),kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.updateStats=function(){return Promise.resolve()},t}(Ep),Cp=function(){function e(t){d(this,e),this.localCandidateCount=0,this.allCandidateReceived=!1,this.videoTrack=this.audioTrack=null,this.mediaStream=new MediaStream,this.ID=Rp,Rp+=1,this.spec=t,this.createPeerConnection(),t=this.pc;var n=void 0,r=void 0,i=tt()?1200:void 0;void 0===n&&(n=250),void 0===r&&(r=8),void 0===i&&(i=500);var o,a=(o=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i))&&o[0]?Number(o[0].split("/")[1]):null;this.statsFilter=a?76>a?new wp(t,{updateInterval:n,lossRateInterval:r,freezeRateLimit:i}):new Sp(t,{updateInterval:n,lossRateInterval:r,freezeRateLimit:i}):window.RTCStatsReport&&t.getStats()instanceof Promise?new Sp(t,{updateInterval:n,lossRateInterval:r,freezeRateLimit:i}):new kp(t,{updateInterval:n,lossRateInterval:r,freezeRateLimit:i})}return h(e,[{key:"_statsFilter",get:function(){return this.statsFilter}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"createOfferSDP",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.pc.createOffer(this.offerOptions);case 3:if((t=e.sent).sdp){e.next=6;break}throw Error("offer sdp is empty");case 6:return e.abrupt("return",t.sdp);case 9:throw e.prev=9,e.t0=e.catch(0),Bl.error("create offer error:",e.t0.toString()),new Pl(ul.CREATE_OFFER_FAILED,e.t0.toString());case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setOfferSDP",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.pc.setLocalDescription({type:"offer",sdp:t});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),Bl.error("set local offer error",e.t0.toString()),new Pl(ul.CREATE_OFFER_FAILED,e.t0.toString());case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAnswerSDP",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.pc.setRemoteDescription({type:"answer",sdp:t});case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),"InvalidStateError"===e.t0.name&&"stable"===this.pc.signalingState){e.next=9;break}throw Bl.error("set remote answer error",e.t0.toString()),new Pl(ul.SET_ANSWER_FAILED,e.t0.toString());case 9:Bl.debug("[pc-".concat(this.ID,"] ignore invalidstate error"));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.onConnectionStateChange=this.onICEConnectionStateChange=void 0;try{this.pc.oniceconnectionstatechange=null,this.pc.onconnectionstatechange=null,this.pc.onsignalingstatechange=null,this.pc.onicecandidateerror=null,this.pc.onicecandidate=null,this.pc.close(),this.pc=null}catch(Nl){}this.statsFilter.destroy()}},{key:"createPeerConnection",value:function(){var e,t,n,r,i=this,o={iceServers:[{urls:"stun:webcs.agora.io:3478"}]},a=function(e){var t=[];return xa(e).call(e,(function(e){var n,r,i,o;e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:bs(n="turns:".concat((o=e.turnServerURL,o.match(/^[\.:\d]+$/)?"".concat(o.replace(/[^\d]/g,"-"),".edge.agora.io"):(Bl.info("Cannot recognized as IP address ".concat(o,". Used As Host instead")),o)),":")).call(n,e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:bs(r="turn:".concat(e.turnServerURL,":")).call(r,e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:bs(i="turn:".concat(e.turnServerURL,":")).call(i,e.tcpport,"?transport=tcp")}))})),t};this.spec.iceServers?o.iceServers=this.spec.iceServers:this.spec.turnServer&&"off"!==this.spec.turnServer.mode&&(qe(this.spec.turnServer.servers)?o.iceServers=this.spec.turnServer.servers:(o.iceServers&&(e=o.iceServers).push.apply(e,f(a(this.spec.turnServer.servers))),o.iceServers&&this.spec.turnServer.serversFromGateway&&(t=o.iceServers).push.apply(t,f(a(this.spec.turnServer.serversFromGateway))),xa(n=bs(r=this.spec.turnServer.servers).call(r,this.spec.turnServer.serversFromGateway||[])).call(n,(function(e){e.forceturn&&(o.iceTransportPolicy="relay")})))),Zu.CHROME_FORCE_PLAN_B&&rt()&&(o.sdpSemantics="plan-b",Nf.supportUnifiedPlan=!1),this.pc=new RTCPeerConnection(o,{optional:[{googDscp:!0}]}),this.pc.oniceconnectionstatechange=function(){i.onICEConnectionStateChange&&i.onICEConnectionStateChange(i.pc.iceConnectionState)},this.pc.onconnectionstatechange=function(){i.onConnectionStateChange&&i.onConnectionStateChange(i.pc.connectionState)},this.pc.onsignalingstatechange=function(){i.pc&&"closed"===i.pc.connectionState&&i.onConnectionStateChange&&i.onConnectionStateChange(i.pc.connectionState)},this.pc.onicecandidate=function(e){if(!e.candidate)return i.pc.onicecandidate=null,i.allCandidateReceived=!0,void Bl.debug("[pc-".concat(i.ID,"] local candidate count"),i.localCandidateCount);i.localCandidateCount+=1},wd((function(){i.allCandidateReceived||(i.allCandidateReceived=!0,Bl.debug("[pc-".concat(i.ID,"] onicecandidate timeout, local candidate count"),i.localCandidateCount))}),Zu.CANDIDATE_TIMEOUT)}}]),e}(),Op=function(e){u(n,e);var t=l(n);function n(e){return d(this,n),t.call(this,e)}return h(n,[{key:"setOfferSDP",value:function(){var e=g(p.mark((function e(t){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zu.CUSTOM_PUB_OFFER_MODIFIER)&&(t=r(t)),e.next=4,s(c(n.prototype),"setOfferSDP",this).call(this,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAnswerSDP",value:function(){var e=g(p.mark((function e(t){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zu.CUSTOM_PUB_ANSWER_MODIFIER)&&(t=r(t)),e.next=4,s(c(n.prototype),"setAnswerSDP",this).call(this,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAnswerSDP",value:function(){return this.pc.remoteDescription}},{key:"getOfferSDP",value:function(){return this.pc.localDescription}},{key:"addStream",value:function(){var e=g(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t.getTracks(),n=v(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,this.addTrack(i);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=g(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nf.supportReplaceTrack){e.next=8;break}if(n="audio"===t.kind?this.audioTrack:this.videoTrack){e.next=4;break}throw new Pl(ul.UNEXPECTED_ERROR,"can not find replaced track");case 4:return this.removeTrack(n),e.next=7,this.addTrack(t);case 7:return e.abrupt("return",!0);case 8:return r=this.getSender(t.kind),(i=lu(n=this.mediaStream.getTracks()).call(n,(function(e){return e.kind===t.kind})))&&this.mediaStream.removeTrack(i),this.mediaStream.addTrack(t),e.prev=11,e.next=14,r.replaceTrack(t);case 14:"audio"===t.kind?this.audioTrack=t:this.videoTrack=t,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(11),new Pl(ul.SENDER_REPLACE_FAILED,e.t0.toString());case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[11,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeTrack",value:function(e){var t=this.getSender(e.kind);this.mediaStream.removeTrack(e);try{this.pc.removeTrack(t)}catch(n){Bl.warning("[pc-".concat(this.ID,"] remove track error, ignore"),n)}"audio"===e.kind?(this.audioTrack=null,this.audioSender=void 0,this.audioTransceiver&&(this.audioTransceiver.direction="inactive"),this.audioTransceiver=void 0):(this.videoTrack=null,this.videoSender=void 0,this.videoTransceiver&&(this.videoTransceiver.direction="inactive"),this.videoTransceiver=void 0)}},{key:"onOfferSettled",value:function(e){var t=e.videoActive,n=e.audioActive;if(rt()){if(this.audioSender){var r={networkQuality:void 0,active:!0};Zu.DSCP_TYPE&&(r.networkQuality=Zu.DSCP_TYPE),this.audioTrack&&(r.active=!!n),this.setAudioRtpEncodingParameters(r).catch((function(e){Bl.debug("set audio sender`s network priority failed")}))}this.videoSender&&(n={networkQuality:void 0,active:!0},Zu.DSCP_TYPE&&(n.networkQuality=Zu.DSCP_TYPE),this.videoTrack&&(n.active=!!t),this.setVideoRtpEncodingParameters(n).catch((function(e){Bl.debug("set video sender`s network priority failed")})))}}},{key:"addTrack",value:function(){var e=g(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nf,!("audio"===t.kind&&this.audioTrack||"video"===t.kind&&this.videoTrack)){e.next=3;break}throw new Pl(ul.UNEXPECTED_ERROR,"Can't add multiple stream");case 3:if(this.mediaStream.addTrack(t),!n.supportUnifiedPlan){e.next=11;break}return e.next=7,function(){var e=g(p.mark((function e(t,n,r){var i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=lu(i=t.getTransceivers()).call(i,(function(e){return"inactive"===e.direction&&e.receiver.track.kind===n.kind})))){e.next=8;break}return o.direction="sendrecv",e.next=5,o.sender.replaceTrack(n);case 5:e.t0=o,e.next=9;break;case 8:e.t0=t.addTransceiver(n,{direction:"sendrecv",streams:[r]});case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this.pc,t,this.mediaStream);case 7:r=e.sent,i=r.sender,e.next=12;break;case 11:i=this.pc.addTrack(t,this.mediaStream);case 12:"audio"===t.kind?(this.audioTrack=t,this.audioSender=i,this.audioTransceiver=r):(this.videoTrack=t,this.videoSender=i,this.videoTransceiver=r);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setRtpSenderParameters",value:function(){var e=g(p.mark((function e(t,n){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.videoSender||(this.videoTransceiver?this.videoTransceiver.sender:void 0))){e.next=11;break}return(r=t.getParameters()).degradationPreference=n,e.prev=3,e.next=6,t.setParameters(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),Bl.debug("[".concat(this.ID,"] ignore RtpSender.setParameters"),e.t0.toString());case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setVideoRtpEncodingParameters",value:function(){var e=g(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.videoSender||(this.videoTransceiver?this.videoTransceiver.sender:void 0)){e.next=3;break}throw new Pl(ul.LOW_STREAM_ENCODING_ERROR,"Low stream has no video sender.");case 3:if((r=n.getParameters()).encodings&&r.encodings[0]){e.next=6;break}throw new Pl(ul.LOW_STREAM_ENCODING_ERROR,"Low stream RtpEncodingParameters is empty.");case 6:return t.scaleResolutionDownBy&&(r.encodings[0].scaleResolutionDownBy=t.scaleResolutionDownBy),t.maxBitrate&&(r.encodings[0].maxBitrate=t.maxBitrate),t.maxFramerate&&(r.encodings[0].maxFramerate=t.maxFramerate),void 0!==t.active&&(Bl.debug("set video sender encoding active:",t.active),r.encodings[0].active=t.active),i=["very-low","low","medium","high"],t.networkPriority&&Au(i).call(i,t.networkPriority)&&(Bl.debug("set video sender network quality:",t.networkPriority),r.encodings[0].networkPriority=t.networkPriority),e.next=14,n.setParameters(r);case 14:return e.abrupt("return",n.getParameters());case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAudioRtpEncodingParameters",value:function(){var e=g(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.audioSender||(this.audioTransceiver?this.audioTransceiver.sender:void 0)){e.next=3;break}throw new Pl(ul.SET_ENCODING_PARAMETER_ERROR,"pc has no audio sender.");case 3:if((r=n.getParameters()).encodings&&r.encodings[0]){e.next=6;break}throw new Pl(ul.SET_ENCODING_PARAMETER_ERROR,"pc RtpEncodingParameters is empty.");case 6:return void 0!==t.active&&(Bl.debug("set audio sender encoding active:",t.active),r.encodings[0].active=t.active),i=["very-low","low","medium","high"],t.networkPriority&&Au(i).call(i,t.networkPriority)&&(Bl.debug("set audio sender network quality:",t.networkPriority),r.encodings[0].networkPriority=t.networkPriority),e.next=11,n.setParameters(r);case 11:return e.abrupt("return",n.getParameters());case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSender",value:function(e){var t,n,r=null;if(!(r=Nf.supportUnifiedPlan?(r=lu(t=this.pc.getTransceivers()).call(t,(function(t){return t.sender.track&&t.sender.track.kind===e})))?r.sender:null:lu(n=this.pc.getSenders()).call(n,(function(t){return t.track&&t.track.kind===e}))||null))throw new Pl(ul.SENDER_NOT_FOUND);return r}}]),n}(Cp),Tp=function(e){u(n,e);var t=l(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).statsFilter.onFirstAudioDecoded=function(){return r.onFirstAudioDecoded&&r.onFirstAudioDecoded()},r.statsFilter.onFirstVideoDecoded=function(e,t){return r.onFirstVideoDecoded&&r.onFirstVideoDecoded(e,t)},r.statsFilter.onFirstAudioReceived=function(){return r.onFirstAudioReceived&&r.onFirstAudioReceived()},r.statsFilter.onFirstVideoReceived=function(){return r.onFirstVideoReceived&&r.onFirstVideoReceived()},Nf.supportUnifiedPlan?(r.audioTransceiver=r.pc.addTransceiver("audio",{direction:"recvonly"}),r.videoTransceiver=r.pc.addTransceiver("video",{direction:"recvonly"})):r.offerOptions={offerToReceiveAudio:!0,offerToReceiveVideo:!0},r.pc.ontrack=function(e){"audio"===e.track.kind?r.audioTrack=e.track:r.videoTrack=e.track,r.onTrack&&r.onTrack(e.track,e.streams[0])},r}return h(n,[{key:"setOfferSDP",value:function(){var e=g(p.mark((function e(t){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zu.CUSTOM_SUB_OFFER_MODIFIER)&&(t=r(t)),e.next=4,s(c(n.prototype),"setOfferSDP",this).call(this,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAnswerSDP",value:function(){var e=g(p.mark((function e(t){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zu.CUSTOM_SUB_ANSWER_MODIFIER)&&(t=r(t)),e.next=4,s(c(n.prototype),"setAnswerSDP",this).call(this,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Cp),Rp=1,xp=1,Mp=function(e){u(n,e);var t=l(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).startTime=xd(),i.createTime=xd(),i.readyToReconnect=!1,i._connectionState="disconnected",i.currentReconnectCount=0,i.ID=xp,xp+=1,i.joinInfo=e,i._userId=r,i.createPC(),i}return h(n,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this.emit(of.CONNECTION_STATE_CHANGE,e,this._connectionState),this._connectionState=e)}},{key:"connectionId",get:function(){var e,t;return bs(e=bs(t="".concat(this.joinInfo.clientId,"-")).call(t,this.type?this.type:"sub(".concat(this._userId,")"),"-")).call(e,this.ID)}},{key:"getUserId",value:function(){return this._userId}},{key:"startUploadStats",value:function(){var e=this;this.statsUploadInterval=window.setInterval((function(){var t=e.pc.getStats();e.uploadStats(t,e.lastUploadPCStats),e.lastUploadPCStats=t}),3e3),this.statsUploadSlowInterval=window.setInterval((function(){var t=e.pc.getStats();e.uploadSlowStats(t)}),6e4),this.relatedStatsUploadInterval=window.setInterval((function(){var t=e.pc.getStats();e.uploadRelatedStats(t,e.lastRelatedPcStats),e.lastRelatedPcStats=t}),1e3)}},{key:"stopUploadStats",value:function(){this.statsUploadInterval&&window.clearInterval(this.statsUploadInterval),this.relatedStatsUploadInterval&&window.clearInterval(this.relatedStatsUploadInterval),this.relatedStatsUploadInterval=this.statsUploadInterval=void 0}},{key:"createWaitConnectionConnectedPromise",value:function(){var e=this;return new Fc((function(t,n){"disconnected"===e.connectionState?n():"connected"===e.connectionState?t():e.once(of.CONNECTION_STATE_CHANGE,(function(e){"connected"===e?t():n()}))}))}},{key:"reconnectPC",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.readyToReconnect=!1,t&&this.onPCDisconnected(t),!(1/0<this.currentReconnectCount)){e.next=2;break}throw Bl.debug("[".concat(this.connectionId,"] cannot reconnect pc")),t||new Pl(ul.UNEXPECTED_ERROR);case 2:return this.stopUploadStats(),Bl.debug("[".concat(this.connectionId,"] start reconnect pc")),this.connectionState="connecting",this.currentReconnectCount+=1,e.next=8,this.closePC();case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",(Bl.debug("[".concat(this.connectionId,"] abort reconnect pc, wait ws")),void this.readyToReconnectPC()));case 10:return this.createPC(),e.next=13,this.startP2PConnection();case 13:this.currentReconnectCount=0;case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readyToReconnectPC",value:function(){this.stopUploadStats(),this.readyToReconnect=!0,this.pc.onICEConnectionStateChange=void 0,this.connectionState="connecting"}},{key:"updateICEPromise",value:function(){var e=this;this.removeAllListeners(of.GATEWAY_P2P_LOST),this.icePromise=new Fc((function(t,n){e.pc.onICEConnectionStateChange=function(r){var i,o;Bl.info(bs(i=bs(o="[".concat(e.connectionId,"] ice-state: ")).call(o,e.type," p2p ")).call(i,r)),"connected"===r&&t(),"failed"!==r&&"closed"!==r||e.reconnectPC(new Pl(ul.ICE_FAILED)).catch((function(t){e.emit(of.P2P_LOST),n(t)}))},e.pc.onConnectionStateChange=function(t){var r,i;Bl.info(bs(r=bs(i="[".concat(e.connectionId,"] connection-state: ")).call(i,e.type," p2p ")).call(r,t)),"failed"!==t&&"closed"!==t||e.reconnectPC(new Pl(ul.PC_CLOSED)).catch((function(t){e.emit(of.P2P_LOST),n(t)}))},e.removeAllListeners(of.GATEWAY_P2P_LOST),e.once(of.GATEWAY_P2P_LOST,(function(t){var r;if(e.pc.ID.toString()===t.toString()){if(Bl.info(bs(r="[".concat(e.connectionId,"] ")).call(r,e.type," p2p gateway lost")),e.pc.allCandidateReceived&&0===e.pc.localCandidateCount)return e.disconnectedReason=new Pl(ul.NO_ICE_CANDIDATE,"can not get candidate in this pc"),void e.closeP2PConnection(!0);e.reconnectPC(new Pl(ul.GATEWAY_P2P_LOST)).catch((function(t){e.emit(of.P2P_LOST),n(t)}))}}))}))}}]),n}(Md),Np=function(){function e(t){var n=this;d(this,e),this.freezeTimeCounterList=[],this.lastTimeUpdatedTime=this.playbackTime=this.freezeTime=this.timeUpdatedCount=0,this._videoElementStatus=Ml.NONE,this.isGettingVideoDimensions=!1,this.handleVideoEvents=function(e){switch(e.type){case"play":case"playing":n.startGetVideoDimensions(),n.videoElementStatus=Ml.PLAYING;break;case"loadeddata":n.onFirstVideoFrameDecoded&&n.onFirstVideoFrameDecoded();break;case"canplay":n.videoElementStatus=Ml.CANPLAY;break;case"stalled":n.videoElementStatus=Ml.STALLED;break;case"suspend":n.videoElementStatus=Ml.SUSPEND;break;case"pause":n.videoElementStatus=Ml.PAUSED,n.videoElement&&n.videoTrack&&"live"===n.videoTrack.readyState&&(Bl.debug("[track-".concat(n.trackId,"] video element paused, auto resume")),n.videoElement.play());break;case"waiting":n.videoElementStatus=Ml.WAITING;break;case"abort":n.videoElementStatus=Ml.ABORT;break;case"ended":n.videoElementStatus=Ml.ENDED;break;case"emptied":n.videoElementStatus=Ml.EMPTIED;break;case"timeupdate":if(e=xd(),n.timeUpdatedCount+=1,10>n.timeUpdatedCount)return void(n.lastTimeUpdatedTime=e);var t=e-n.lastTimeUpdatedTime;for(n.lastTimeUpdatedTime=e,500<t&&(n.freezeTime+=t),n.playbackTime+=t;6e3<=n.playbackTime;)n.playbackTime-=6e3,n.freezeTimeCounterList.push(Math.min(6e3,n.freezeTime)),n.freezeTime=Math.max(0,n.freezeTime-6e3)}},this.startGetVideoDimensions=function(){var e=function e(){if(n.isGettingVideoDimensions=!0,n.videoElement&&4<n.videoElement.videoWidth*n.videoElement.videoHeight)return Bl.debug("[".concat(n.trackId,"] current video dimensions:"),n.videoElement.videoWidth,n.videoElement.videoHeight),void(n.isGettingVideoDimensions=!1);wd(e,500)};!n.isGettingVideoDimensions&&e()},this.slot=t.element,this.trackId=t.trackId,this.updateConfig(t)}return h(e,[{key:"videoElementStatus",get:function(){return this._videoElementStatus},set:function(e){var t,n;e!==this._videoElementStatus&&(Bl.debug(bs(t=bs(n="[".concat(this.trackId,"] video-element-status change ")).call(n,this._videoElementStatus," => ")).call(t,e)),this._videoElementStatus=e)}},{key:"updateConfig",value:function(e){this.config=e,this.trackId=e.trackId,(e=e.element)!==this.slot&&(this.destroy(),this.slot=e),this.createElements()}},{key:"updateVideoTrack",value:function(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}},{key:"play",value:function(){var e=this;if(this.videoElement){var t=this.videoElement.play();t&&t.catch&&t.catch((function(t){"NotAllowedError"===t.name?(Bl.warning("detected video element autoplay failed",t),e.handleAutoPlayFailed()):Bl.warning("[".concat(e.trackId,"] play warning: "),t)}))}}},{key:"getCurrentFrame",value:function(){if(!this.videoElement)return new ImageData(2,2);var e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;var t=e.getContext("2d");return t?(t.drawImage(this.videoElement,0,0,e.width,e.height),t=t.getImageData(0,0,e.width,e.height),e.remove(),t):(Bl.error("create canvas context failed!"),new ImageData(2,2))}},{key:"destroy",value:function(){if(this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.remove(),this.videoElement=void 0),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(Nl){}this.container=void 0}this.freezeTimeCounterList=[]}},{key:"createElements",value:function(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",this.createVideoElement(),this.container.appendChild(this.videoElement)):this.removeVideoElement(),this.slot.appendChild(this.container)}},{key:"createVideoElement",value:function(){var e=this;this.videoElement||(this.videoElementStatus=Ml.INIT,this.videoElement=document.createElement("video"),this.videoElement.onerror=function(){return e.videoElementStatus=Ml.ERROR},this.container&&this.container.appendChild(this.videoElement),xa(Dp).call(Dp,(function(t){e.videoElement&&e.videoElement.addEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((function(){!document.getElementById("video_".concat(e.trackId))&&e.videoElement&&(e.videoElementStatus=Ml.DESTROYED)}),1e3)),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),this.videoElement.style.left="0",this.videoElement.style.top="0",this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,tt()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,tt()&&this.videoElement.load());var t=this.videoElement.play();void 0!==t&&t.catch((function(t){Bl.debug("[".concat(e.trackId,"] playback interrupted"),t.toString())}))}},{key:"removeVideoElement",value:function(){var e=this;if(this.videoElement){xa(Dp).call(Dp,(function(t){e.videoElement&&e.videoElement.removeEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0);try{this.container&&this.container.removeChild(this.videoElement)}catch(Nl){}this.videoElement=void 0,this.videoElementStatus=Ml.NONE}}},{key:"handleAutoPlayFailed",value:function(){var e=this;if(this.videoElement){var t=function t(n){n.preventDefault(),e.videoElement&&(e.videoElement.play().then((function(){var t;Bl.debug(bs(t="[".concat(e.trackId,"] Video element for trackId:")).call(t,e.trackId," autoplay resumed."))})).catch((function(e){Bl.error(e)})),document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0),Tt()}}}]),e}(),Dp="play playing loadeddata canplay pause stalled suspend waiting abort emptied ended timeupdate".split(" ");!document.documentMode&&window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(Ip=HTMLCanvasElement.prototype.getContext,function(){var e=arguments;return"webgl"===e[0]&&((e=au([]).call(arguments))[0]="experimental-webgl"),Ip.apply(null,e)}));var jp=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189],Lp=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67],Bp=function(){function e(t,n){d(this,e),this.gl=t,this.kernel=n||Lp,t=this.gl,n=Ln(this.kernel),n=jn(t,[Ln(jp),n]);var r=t.getAttribLocation(n,"a_position"),i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),r=t.getAttribLocation(n,"a_texCoord"),i=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),this.program=t=n}return h(e,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY");this.gl.uniform1f(e,1)}}]),e}(),Pp=function(e){u(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r)).denoiseLevel=5,a.xOffset=1/i,a.yOffset=1/o,a}return h(n,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_singleStepOffset"),n=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform2f(t,this.xOffset,this.yOffset),this.gl.uniform1f(n,this.denoiseLevel),this.gl.uniform1f(e,1)}},{key:"setParameters",value:function(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel)}},{key:"setSize",value:function(e,t){this.xOffset=1/e,this.yOffset=1/t}}]),n}(Bp),Up=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11],Fp=function(e){u(n,e);var t=l(n);function n(e,r,i){return d(this,n),t.call(this,e,Up,r,i)}return n}(Pp),Qp=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188],zp=function(e){u(n,e);var t=l(n);function n(e,r,i){return d(this,n),t.call(this,e,Qp,r,i)}return n}(Pp),Vp=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24],Kp=function(e){u(n,e);var t=l(n);function n(e,r,i){return d(this,n),t.call(this,e,Vp,r,i)}return n}(Pp),Gp=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],Hp=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],qp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],Wp=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255],Yp=function(e){u(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,Gp,i,o)).lightLevel=.1,a.rednessLevel=.5,a.mskin_he_max=175/180*3.141593,a.mskin_he_min=115/180*3.141593,a.mskin_hc_max=173/180*3.141593,a.mskin_hc_min=116/180*3.141593,a.mskin_hc_axis=2.04203545,a.mfacts_rotate_ge=a.mfacts_rotate_le=a.mfacts_rotate_c=0,a.tab_addr=null,a.lutTextures=[],a.inputTexture=r,a.init(),a}return h(n,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform1f(t,this.denoiseLevel),this.gl.uniform1f(e,1),e=this.gl.getUniformLocation(this.program,"light"),this.gl.uniform1f(e,this.lightLevel),e=this.gl.getUniformLocation(this.program,"redness"),this.gl.uniform1f(e,this.rednessLevel),e=this.gl.getUniformLocation(this.program,"skin_he_max"),t=this.gl.getUniformLocation(this.program,"skin_he_min");var n=this.gl.getUniformLocation(this.program,"skin_hc_max"),r=this.gl.getUniformLocation(this.program,"skin_hc_min"),i=this.gl.getUniformLocation(this.program,"skin_hc_axis"),o=this.gl.getUniformLocation(this.program,"facts_rotate_c"),a=this.gl.getUniformLocation(this.program,"facts_rotate_le"),s=this.gl.getUniformLocation(this.program,"facts_rotate_ge");for(this.gl.uniform1f(e,this.mskin_he_max),this.gl.uniform1f(t,this.mskin_he_min),this.gl.uniform1f(n,this.mskin_hc_max),this.gl.uniform1f(r,this.mskin_hc_min),this.gl.uniform1f(i,this.mskin_hc_axis),this.gl.uniform1f(o,this.mfacts_rotate_c),this.gl.uniform1f(a,this.mfacts_rotate_le),this.gl.uniform1f(s,this.mfacts_rotate_ge),e=this.gl.getUniformLocation(this.program,"u_originImage"),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.uniform1i(e,2),e=["lighten_lut"],t=[this.gl.TEXTURE3],n=0;n<e.length;n++)r=this.gl.getUniformLocation(this.program,e[n]),this.gl.activeTexture(t[n]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[n]),this.gl.uniform1i(r,n+3)}},{key:"setParameters",value:function(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel),void 0!==e.lightLevel&&(this.lightLevel=e.lightLevel),void 0!==e.rednessLevel&&(this.rednessLevel=e.rednessLevel,this.updateRedness(this.rednessLevel)),e.lighteningContrastLevel&&this.updateLut(e.lighteningContrastLevel)}},{key:"init",value:function(){this.tab_addr=new Uint8Array(qp);for(var e=[this.tab_addr],t=[256],n=[1],r=0;r<e.length;r++){var i=this.gl.createTexture();if(!i)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"create lut texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.lutTextures.push(i)}}},{key:"updateRedness",value:function(e){var t=e;1<e&&(e=1),0>e&&(e=0),1<t&&(t=1),0>t&&(t=0),this.mfacts_rotate_c=.8*e,.8>t&&(t=0),this.mskin_he_max=175/180*3.141593,this.mskin_hc_max=173/180*3.141593,this.mskin_he_min=(115-4*t)/180*3.141593,this.mskin_hc_min=(116-4*t)/180*3.141593,this.mskin_hc_axis=(117-4*t)/180*3.141593,this.mskin_hc_axis<this.mskin_hc_min&&(this.mskin_hc_axis=this.mskin_hc_min),1.5707965>this.mskin_hc_min&&(this.mskin_hc_min=1.5707965),1.5707965>this.mskin_hc_axis&&(this.mskin_hc_axis=1.5707965),1.5707965>this.mskin_he_min&&(this.mskin_he_min=1.5707965),3.141593<this.mskin_hc_max&&(this.mskin_hc_max=3.141593),3.141593<this.mskin_hc_axis&&(this.mskin_hc_axis=3.141593),3.141593<this.mskin_he_max&&(this.mskin_he_max=3.141593),e=this.mskin_he_max-this.mskin_hc_max,t=this.mskin_hc_max-this.mskin_hc_axis,this.mfacts_rotate_ge=.01<e?this.mfacts_rotate_c*t/e:this.mfacts_rotate_c,e=this.mskin_hc_min-this.mskin_he_min,t=this.mskin_hc_axis-this.mskin_hc_min,this.mfacts_rotate_le=.01<e?this.mfacts_rotate_c*t/e:this.mfacts_rotate_c}},{key:"updateLut",value:function(e){var t=null;if(0===e&&(t=qp),1===e&&(t=Wp),2===e&&(t=Hp),!t)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"invalid ylut_table value:"+e);this.tab_addr=new Uint8Array(t),e=[this.tab_addr],t=[256];for(var n=[1],r=0;r<e.length;r++)this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[r]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r])}}]),n}(Pp),Jp=function(){function e(){d(this,e),this.canvas=this.gl=null,this.programs=[],this.inputTexture=this.commonProgram=null,this.outputTextures=[],this.fbos=[],this.originalFrameHeight=this.originalFrameWidth=0,this.enableBeauty=!1,this.denoiseLevel=5,this.lightLevel=.35,this.rednessLevel=.5,this.lighteningContrastLevel=1}return h(e,[{key:"setEnableBeauty",value:function(e){this.enableBeauty=!!e}},{key:"init",value:function(e,t,n){if(!Nf.supportWebGL)throw new Pl(ul.NOT_SUPPORTED,"your browser is not support webGL");if(this.gl=n.getContext("webgl"),!this.gl)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"can not get webgl context");if(this.initGL(e,t),!this.inputTexture)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"can not find input texture");this.canvas=n,this.programs.push(new Bp(this.gl)),this.programs.push(new Fp(this.gl,e,t)),this.programs.push(new zp(this.gl,e,t)),this.programs.push(new Kp(this.gl,e,t)),this.programs.push(new Yp(this.gl,this.inputTexture,e,t)),this.commonProgram=this.programs[0].program,this.setDenoiseLevel(this.denoiseLevel),this.setLightLevel(this.lightLevel),this.setRednessLevel(this.rednessLevel),this.setContrastLevel(this.lighteningContrastLevel)}},{key:"render",value:function(e){if(this.gl&&this.commonProgram&&this.canvas){var t=0;if(this.originalFrameHeight===e.videoWidth&&this.originalFrameWidth===e.videoHeight)t=2;else if(this.originalFrameHeight!==e.videoHeight||this.originalFrameWidth!==e.videoWidth){var n,r,i;if(Bl.debug(bs(n=bs(r=bs(i="beauty effect: resolution changed ".concat(this.originalFrameWidth,"x")).call(i,this.originalFrameHeight," -> ")).call(r,e.videoWidth,"x")).call(n,e.videoHeight)),0===e.videoHeight||0===e.videoWidth)return void Bl.debug("beauty effect: skip 0 resolution frame");this.canvas.width=e.videoWidth,this.canvas.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),this.release(),this.init(e.videoWidth,e.videoHeight,this.canvas)}for(this.gl.viewport(0,0,e.videoWidth,e.videoHeight),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),e=this.enableBeauty?this.programs.length-1:0,n=0;n<=e;n++)r=this.programs[n].program,this.gl.useProgram(r),r=this.gl.getUniformLocation(r,"u_image"),this.programs[n].setUniforms(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[t+n%2]),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.outputTextures[t+n%2]),this.gl.uniform1i(r,0);this.gl.useProgram(this.commonProgram),t=this.gl.getUniformLocation(this.commonProgram,"u_flipY"),this.gl.uniform1f(t,-1),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}else Bl.warning("video effect manager is not init!")}},{key:"setDenoiseLevel",value:function(e){var t;xa(t=this.programs).call(t,(function(t){t instanceof Pp&&t.setParameters({denoiseLevel:e})})),this.denoiseLevel=e}},{key:"setLightLevel",value:function(e){var t;xa(t=this.programs).call(t,(function(t){t instanceof Pp&&t.setParameters({lightLevel:e})})),this.lightLevel=e}},{key:"setRednessLevel",value:function(e){var t;xa(t=this.programs).call(t,(function(t){t instanceof Pp&&t.setParameters({rednessLevel:e})})),this.rednessLevel=e}},{key:"setContrastLevel",value:function(e){var t;xa(t=this.programs).call(t,(function(t){t instanceof Pp&&t.setParameters({lighteningContrastLevel:e})})),this.lighteningContrastLevel=e}},{key:"setSize",value:function(e,t){var n;xa(n=this.programs).call(n,(function(n){n instanceof Pp&&n.setSize(e,t)}))}},{key:"release",value:function(){this.inputTexture=this.commonProgram=this.gl=null,this.programs=[],this.outputTextures=[],this.fbos=[]}},{key:"initGL",value:function(e,t){if(!this.gl)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"can not find webgl context");this.inputTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);for(var n=0;4>n;n++){var r=this.gl.createTexture();if(!r)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"create texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),2>n?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null):this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null);var i=this.gl.createFramebuffer();if(!i)throw new Pl(ul.WEBGL_INTERNAL_ERROR,"create frame buffer failed");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,r,0),this.outputTextures.push(r),this.fbos.push(i)}this.gl.viewport(0,0,e,t),this.originalFrameWidth=e,this.originalFrameHeight=t}}]),e}(),Xp=function(){function e(){d(this,e),this.recordedFrameCount=this.targetFrameRate=0,this.recordingTime=2}return h(e,[{key:"startRecordBeautyEffectOutput",value:function(){var e=g(p.mark((function e(t){var n,r,i=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:4,!this.recordID){e.next=3;break}throw new Pl(ul.UNEXPECTED_ERROR,"another beauty effect recording is in progress");case 3:return r=Kt(6,""),this.recordID=r,this.targetFrameRate=t,this.recordedFrameCount=0,this.recordingTime=n,e.next=10,zt(1e3*this.recordingTime);case 10:return e.abrupt("return",this.recordID!==r?(this.recordID=void 0,!0):(this.recordID=void 0,this.recordedFrameCount<this.targetFrameRate*this.recordingTime/2?(Bl.warning("detect beauty effect overload, current framerate",this.recordedFrameCount/2),!1):(Bl.debug("beauty effect current framerate",this.recordedFrameCount/2),!0)));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecordBeautyEffectOutput",value:function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0}},{key:"addFrame",value:function(){this.recordID&&(this.recordedFrameCount+=1)}}]),e}(),Zp=function(e){u(n,e);var t=l(n);function n(){var e;return d(this,n),(e=t.call(this)).kind="video",e.fps=15,e.overloadDetector=new Xp,e.enabled=!1,e.stopChromeBackgroundLoop=null,e.lastRenderTime=0,e.fps=30,e.manager=new Jp,e}return h(n,[{key:"setBeautyEffectOptions",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.smoothnessLevel&&Ue(n.smoothnessLevel,"options.smoothnessLevel",0,1,!1),void 0!==n.lighteningLevel&&Ue(n.lighteningLevel,"options.lighteningLevel",0,1,!1),void 0!==n.rednessLevel&&Ue(n.rednessLevel,"options.rednessLevel",0,1,!1),void 0!==n.lighteningContrastLevel&&Pe(n.lighteningContrastLevel,"options.lighteningContrastLevel",[0,1,2]),void 0!==n.smoothnessLevel&&this.manager.setDenoiseLevel(Math.max(.1,10*n.smoothnessLevel)),void 0!==n.lighteningLevel&&this.manager.setLightLevel(Math.max(.1,n.lighteningLevel/2)),void 0!==n.rednessLevel&&this.manager.setRednessLevel(Math.max(.01,n.rednessLevel)),void 0!==n.lighteningContrastLevel&&this.manager.setContrastLevel(n.lighteningContrastLevel),e.t0=this.enabled!==t,!e.t0){e.next=21;break}if(this.manager.setEnableBeauty(t),this.enabled=t,!t){e.next=19;break}if(e.t1=this.input,!e.t1){e.next=17;break}return e.next=17,this.startEffect();case 17:e.next=21;break;case 19:return e.next=21,this.stopEffect();case 21:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.onOutputChange=void 0,this.stopEffect(),this.enabled=!1}},{key:"startEffect",value:function(){var e=g(p.mark((function e(){var t,n,r,i=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$e(),this.input){e.next=3;break}return e.abrupt("return",void Bl.warning("video track is null, fail to start video effect!"));case 3:if(!this.output){e.next=5;break}return e.abrupt("return",void Bl.warning("video effect is already enabled"));case 5:return e.next=7,this.renderWithWebGL();case 7:return n=e.sent,e.next=10,this.updateOutput(n);case 10:Bl.info("start video effect, output:",this.output),this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then((function(e){e||i.onOverload&&i.onOverload()})),r=function e(){requestAnimationFrame(e);var t=xd(),n=1e3/i.fps,r=i.lastRenderTime?t-i.lastRenderTime:n;r<n||(i.lastRenderTime=t-(r-n),i.video&&i.video.paused&&i.video.play(),i.enabled&&i.video&&(i.manager.render(i.video),i.output&&i.output.requestFrame&&i.output.requestFrame(),i.overloadDetector.addFrame()))},requestAnimationFrame(r),t.name===Nu.CHROME&&document.addEventListener("visibilitychange",(function(){document.hidden?i.stopChromeBackgroundLoop=gt((function(){i.enabled&&i.video&&i.manager.render(i.video),i.output&&i.output.requestFrame&&i.output.requestFrame(),i.overloadDetector.addFrame()}),i.fps):i.stopChromeBackgroundLoop&&(i.stopChromeBackgroundLoop(),i.stopChromeBackgroundLoop=null)}),!1);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopEffect",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bl.info("stop video effect"),this.overloadDetector.stopRecordBeautyEffectOutput(),this.manager.release(),this.canvas&&this.canvas.remove(),this.video&&this.video.remove(),this.video=this.canvas=void 0,e.next=8,this.updateOutput(void 0);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_setInput",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.enabled&&!this.video,!e.t0){e.next=4;break}return e.next=4,this.startEffect();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_removeInput",value:function(){this.stopEffect()}},{key:"renderWithWebGL",value:function(){var e=g(p.mark((function e(){var t,n,r,i,o=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.input){e.next=2;break}throw new Pl(ul.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not renderWithWebGL, no input");case 2:return this.canvas&&(this.canvas.remove(),this.canvas=void 0),this.video&&(this.video.remove(),this.video=void 0),this.canvas=document.createElement("canvas"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.muted=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("style","display:none"),this.video.srcObject=new MediaStream([this.input]),n=new Fc((function(e){var t=function t(){o.video&&o.video.removeEventListener("playing",t),e(void 0)};o.video&&o.video.addEventListener("playing",t)})),this.video.play(),e.next=16,n;case 16:if(n=this.input.getSettings(),r=n.width||this.video.videoWidth,i=n.height||this.video.videoHeight,n.frameRate&&this.fps!==n.frameRate&&(this.fps=n.frameRate,Bl.debug("beauty video processor: set fps to",this.fps)),Bl.debug(bs(t="beauty video processor: width ".concat(r," height ")).call(t,i)),r&&i){e.next=20;break}throw new Pl(ul.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not get track resolution");case 20:return this.canvas.width=r,this.canvas.height=i,this.video.setAttribute("width",r.toString()),this.video.setAttribute("height",i.toString()),this.manager.init(r,i,this.canvas),e.abrupt("return",this.canvas.captureStream(Nf.supportRequestFrame?0:this.fps).getVideoTracks()[0]);case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(function(){function e(){d(this,e)}return h(e,[{key:"output",get:function(){return this._output}},{key:"setInput",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this.input){e.next=7;break}if(t.kind===this.kind){e.next=3;break}throw new Pl(ul.UNEXPECTED_ERROR);case 3:return this.input&&this.removeInput(),this.input=t,e.next=7,this._setInput(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeInput",value:function(){this.input=void 0,this._removeInput()}},{key:"updateOutput",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.output!==t,!e.t0){e.next=7;break}if(this._output=t,e.t1=this.onOutputChange,!e.t1){e.next=7;break}return e.next=7,this.onOutputChange();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceOriginMediaStream",value:function(e,t){var n,r,i=this,o=lu(n=e.getTracks()).call(n,(function(e){return e.kind===i.kind}));o&&e.removeTrack(o),t=lu(r=t.getTracks()).call(r,(function(e){return e.kind===i.kind})),void 0===this.output&&t&&e.addTrack(t),this.output&&(Bl.debug("replace ".concat(this.output.kind," track to origin media stream")),e.addTrack(this.output))}}]),e}()),$p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},eg=function(e){u(n,e);var t=l(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this,e,a)).trackMediaType="video",s._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1},s._enabled=!0,s.updateMediaStreamTrackResolution(),s._encoderConfig=r,s._scalabiltyMode=i,s._optimizationMode=o,s}return h(n,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==Ml.PLAYING)}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",t]});if(!(e instanceof HTMLElement)){var r,i=document.getElementById(e.toString());i?e=i:(Bl.warning(bs(r="[track-".concat(this.getTrackId(),'] can not find "#')).call(r,e,'" element, use document.body')),e=document.body)}Bl.debug("[track-".concat(this.getTrackId(),"] start video playback"),ri(t)),e=Fn({},this._getDefaultPlayerConfig(),{},t,{trackId:this.getTrackId(),element:e}),this._player?this._player.updateConfig(e):(this._player=new Np(e),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),n.onSuccess()}},{key:"stop",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._player.destroy(),this._player=void 0,Bl.debug("[track-".concat(this.getTrackId(),"] stop video playback")),e.onSuccess()}},{key:"setEnabled",value:function(){var e=g(p.mark((function e(t,n){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:return Bl.info("[".concat(this.getTrackId(),"] start setEnabled"),t),e.next=7,this._enabledMutex.lock();case 7:if(r=e.sent,t){e.next=19;break}return this._originMediaStreamTrack.enabled=!1,e.prev=10,e.next=13,Wt(this,_f.NEED_REMOVE_TRACK,this);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(10),Bl.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),r(),e.t0;case 18:return e.abrupt("return",(n||(this._enabled=!1),Bl.info("[".concat(this.getTrackId(),"] setEnabled to false success")),r()));case 19:return this._originMediaStreamTrack.enabled=!0,e.prev=20,e.next=23,Wt(this,_f.NEED_ADD_TRACK,this);case 23:e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(20),Bl.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t1.toString()),r(),e.t1;case 28:Bl.info("[".concat(this.getTrackId(),"] setEnabled to true success")),n||(this._enabled=!0),r();case 31:case"end":return e.stop()}}),e,this,[[10,15],[20,25]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setMuted",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._muted){e.next=10;break}if(this.stateCheck("muted",t),this._muted=t,$e().name!==Nu.FIREFOX){e.next=6;break}return Bl.debug("[".concat(this.getTrackId(),"] firefox set mute fallback to set enabled")),e.next=5,this.setEnabled(!t,!0);case 5:return e.abrupt("return",void e.sent);case 6:return this._mediaStreamTrack.enabled=!t,Bl.debug(bs(n="[".concat(this.getTrackId(),"] start set muted: ")).call(n,t)),e.next=10,Wt(this,_f.SET_VIDEO_TRACK_MUTED,{track:this,muted:t});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStats",value:function(){return en((function(){Bl.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),Yt(this,_f.GET_STATS)||Fn({},ff)}},{key:"setBeautyEffect",value:function(){var e=g(p.mark((function e(t){var n,r,i=this,o=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.LOCAL_VIDEO_TRACK_BEAUTY,options:[this.getTrackId(),t,n]}),!t&&!this._videoBeautyProcessor){e.next=27;break}if($e().os!==Mu.IOS&&$e().os!==Mu.ANDROID){e.next=5;break}throw t=new Pl(ul.INVALID_OPERATION,"can not enable beauty effect on mobile device"),r.onError(t),t;case 5:if(this._enabled||!t){e.next=7;break}throw t=new Pl(ul.TRACK_IS_DISABLED,"can not enable beauty effect when track is disabled"),r.onError(t),t;case 7:if(Bl.info("[".concat(this.getTrackId(),"] start setBeautyEffect"),t,ri(n)),e.prev=8,!this._videoBeautyProcessor){e.next=14;break}return e.next=12,this._videoBeautyProcessor.setBeautyEffectOptions(t,n);case 12:e.next=20;break;case 14:return this._videoBeautyProcessor=new Zp,this._videoBeautyProcessor.onOverload=function(){$t((function(){return i.emit(wf.BEAUTY_EFFECT_OVERLOAD)}))},e.next=18,this._videoBeautyProcessor.setBeautyEffectOptions(t,n);case 18:return e.next=20,this._registerTrackProcessor(this._videoBeautyProcessor);case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(8),Bl.error("[".concat(this.getTrackId(),"] setBeautyEffect error"),e.t0.toString()),r.onError(e.t0),e.t0;case 25:Bl.info("[".concat(this.getTrackId(),"] setBeautyEffect success")),r.onSuccess();case 27:case"end":return e.stop()}}),e,this,[[8,22]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"clone",value:function(e,t,r,i){return new n(this._mediaStreamTrack.clone(),e,t,r,i)}},{key:"setBitrateLimit",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bl.debug(bs(n="[".concat(this.getTrackId(),"] set bitrate limit, ")).call(n,ri(t))),!t){e.next=11;break}return this._forceBitrateLimit=t,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<t.max_bitrate?this._encoderConfig.bitrateMax:t.max_bitrate:this._encoderConfig.bitrateMax=t.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=t.min_bitrate),e.prev=3,e.next=6,Wt(this,_f.NEED_RESET_REMOTE_SDP);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",e.t0.throw());case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setOptimizationMode",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("motion"!==t&&"detail"!==t&&"balanced"!==t){e.next=13;break}return e.prev=1,this._optimizationMode=t,e.next=5,Wt(this,_f.SET_OPTIMIZATION_MODE,t);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),Bl.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.t0.toString()),e.t0;case 10:Bl.info(bs(n="[".concat(this.getTrackId(),"] set optimization mode success (")).call(n,t,")")),e.next=14;break;case 13:Bl.error(ul.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setScalabiltyMode",value:function(e){var t;if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return Bl.error(ul.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,Bl.info(bs(t="[".concat(this.getTrackId(),"] set scalability mode success (")).call(t,e,")"))}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;Gt(this._originMediaStreamTrack).then((function(t){var n=i(t,2),r=n[0],o=n[1];e._videoHeight=o,e._videoWidth=r})).catch(dh)}},{key:"_updatePlayerSource",value:function(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}},{key:"_getDefaultPlayerConfig",value:function(){return{fit:"contain"}}}]),n}(Bd);!function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=os(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(3>o?i(a):3<o?i(t,n,a):i(t,n))||a);3<o&&a&&Ka(t,n,a)}([ft({report:Nd}),$p("design:type",Function),$p("design:paramtypes",[Boolean]),$p("design:returntype",Fc)],eg.prototype,"setMuted",null);var tg=function(e){u(n,e);var t=l(n);function n(e,r,i,o,a,s){var c;return d(this,n),(c=t.call(this,e,r.encoderConfig?ve(r.encoderConfig):{},o,a,s))._enabled=!0,c._deviceName="default",c._config=r,c._constraints=i,c._deviceName=e.label,c._config.encoderConfig&&(c._encoderConfig=ve(c._config.encoderConfig)),c}return h(n,[{key:"setDevice",value:function(){var e=g(p.mark((function e(t){var n,r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CAM_VIDEO_TRACK_SET_DEVICE,options:[this.getTrackId(),t]}),Bl.info(bs(n="[track-".concat(this.getTrackId(),"] set device to ")).call(n,t)),!this._enabled){e.next=40;break}return e.prev=2,e.next=5,Wd.getDeviceById(t);case 5:return i=e.sent,(n={}).video=Fn({},this._constraints),n.video.deviceId={exact:t},n.video.facingMode=void 0,this._originMediaStreamTrack.stop(),o=null,e.prev=12,e.next=15,wt(n,this.getTrackId());case 15:o=e.sent,e.next=27;break;case 18:return e.prev=18,e.t0=e.catch(12),Bl.error("[".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),e.next=23,wt({video:this._constraints},this.getTrackId());case 23:return o=e.sent,e.next=26,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 26:throw e.t0;case 27:return e.next=29,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 29:this.updateMediaStreamTrackResolution(),this._deviceName=i.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(2),r.onError(e.t1),Bl.error("[".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),e.t1;case 38:e.next=51;break;case 40:return e.prev=40,e.next=43,Wd.getDeviceById(t);case 43:this._deviceName=e.sent.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=51;break;case 48:throw e.prev=48,e.t2=e.catch(40),r.onError(e.t2),Bl.error("[track-".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),e.t2;case 51:Bl.info("[".concat(this.getTrackId(),"] setDevice success")),r.onSuccess();case 53:case"end":return e.stop()}}),e,this,[[2,35],[12,18],[40,48]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=g(p.mark((function e(t,n){var r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:return Bl.info("[".concat(this.getTrackId(),"] start setEnabled"),t),e.next=7,this._enabledMutex.lock();case 7:if(r=e.sent,t){e.next=21;break}return this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),n||(this._enabled=!1),e.prev=12,e.next=15,Wt(this,_f.NEED_REMOVE_TRACK,this);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(12),Bl.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),r(),e.t0;case 20:return e.abrupt("return",(Bl.info("[".concat(this.getTrackId(),"] setEnabled to false success")),r()));case 21:return t=Fn({},this._constraints),(i=Wd.searchDeviceIdByName(this._deviceName))&&!t.deviceId&&(t.deviceId={exact:i}),e.prev=24,e.next=27,wt({video:this._constraints},this.getTrackId());case 27:return o=e.sent,e.next=30,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 30:return e.next=32,Wt(this,_f.NEED_ADD_TRACK,this);case 32:e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(24),Bl.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.t1.toString()),r(),e.t1;case 37:this.updateMediaStreamTrackResolution(),Bl.info("[".concat(this.getTrackId(),"] setEnabled to true success")),n||(this._enabled=!0),r();case 41:case"end":return e.stop()}}),e,this,[[12,17],[24,34]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setEncoderConfiguration",value:function(){var e=g(p.mark((function e(t,n){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,options:[this.getTrackId(),t]}),this._enabled){e.next=3;break}throw t=new Pl(ul.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled"),n.onError(t),t;case 3:return t=ve(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),i=this._config,(r=JSON.parse(ri(i))).encoderConfig=t,i=Bn(r),Bl.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),ri(t),ri(i)),e.prev=9,e.next=12,this._originMediaStreamTrack.applyConstraints(i);case 12:this.updateMediaStreamTrackResolution(),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),t=new Pl(ul.UNEXPECTED_ERROR,e.t0.toString()),Bl.error("[track-".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),n.onError(t),t;case 18:return this._config=r,this._constraints=i,this._encoderConfig=t,e.prev=21,e.next=24,Wt(this,_f.NEED_RENEGOTIATE);case 24:e.next=29;break;case 26:return e.prev=26,e.t1=e.catch(21),e.abrupt("return",(n.onError(e.t1),e.t1.throw()));case 29:n.onSuccess();case 30:case"end":return e.stop()}}),e,this,[[9,15],[21,26]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getDefaultPlayerConfig",value:function(){return{mirror:!0,fit:"cover"}}}]),n}(eg),ng=!0;"findIndex"in[]&&Array(1).findIndex((function(){ng=!1})),Wr({target:"Array",proto:!0,forced:ng},{findIndex:function(e){return $i(this,e,1<arguments.length?arguments[1]:void 0)}});var rg,ig=Ea("Array").findIndex,og=Array.prototype,ag=function(e){var t=e.findIndex;return e===og||e instanceof Array&&t===og.findIndex?ig:t},sg=function(e,t){var n=null;if("h264"===t?n=e.match(/a=rtpmap:(\d+) H264.*\r\n/)||e.match(/a=rtpmap:(\d+) H264.*\n/):"vp8"===t?n=e.match(/a=rtpmap:(\d+) VP8.*\r\n/)||e.match(/a=rtpmap:(\d+) VP8.*\n/):"vp9"===t?n=e.match(/a=rtpmap:(\d+) VP9.*\r\n/)||e.match(/a=rtpmap:(\d+) VP9.*\n/):"av1"===t&&(n=e.match(/a=rtpmap:(\d+) AV1.*\r\n/)||e.match(/a=rtpmap:(\d+) AV1.*\n/)),n&&n[1])return n[1]},cg=function(e){u(n,e);var t=l(n);function n(e,r,i,a){var s;return d(this,n),(s=t.call(this,r,r.stringUid||r.uid)).suspendTracks=[],s.type="pub",s._waitingSuccessResponse=s.detecting=!1,s.handleMuteVideoTrack=function(e,t,n){var r=e.muted;s.setVideoTrackMuteState(r).then(t).catch(n)},s.handleMuteAudioTrack=function(e,t,n){var r=e.track,i=e.muted;s.setAudioTrackMuteState(i,r).then(t).catch(n)},s.renegotiateWithGateway=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(Bl.debug("[pc-".concat(s.pc.ID,"] renegotiate start")),new Fc(function(){var e=g(p.mark((function e(t,n){var r,i,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.connectionState="connecting",r=function e(r){"connected"===r&&(s.off(of.CONNECTION_STATE_CHANGE,e),t()),"disconnected"===r&&(s.off(of.CONNECTION_STATE_CHANGE,e),n(new Pl(ul.OPERATION_ABORTED,"renegotiate abort")))},s.on(of.CONNECTION_STATE_CHANGE,r),e.next=5,s.pc.createOfferSDP();case 5:return i=e.sent,s.audioTrack&&s.audioTrack._encoderConfig&&(i=zn(i,s.audioTrack._encoderConfig)),s.videoTrack&&s.videoTrack._scalabiltyMode&&("vp9"!==s.codec?(s.videoTrack._scalabiltyMode.numSpatialLayers=1,s.videoTrack._scalabiltyMode.numTemporalLayers=1):i=Kn(i,s.codec,s.videoTrack._scalabiltyMode),Bl.debug("renegoation spatial layers: ",s.videoTrack._scalabiltyMode.numSpatialLayers)),e.next=10,s.pc.setOfferSDP(i);case 10:return s.pc.onOfferSettled({videoActive:s.videoTrack&&!s.videoTrack.muted,audioActive:s.audioTrack&&s.audioTrack.isActive}),e.next=13,qt(o(s),of.NEED_RENEGOTIATE,i);case 13:return a=e.sent,i=function(e,t){var n,r,i,o=gu(n=RegExp.prototype.test).call(n,/^([a-z])=(.*)/);e=Es(r=e.split(/(\r\n|\r|\n)/)).call(r,o),t=Es(i=t.split(/(\r\n|\r|\n)/)).call(i,o);var a=null,s=new pa;return xa(e).call(e,(function(e){var t=e.match(/m=(audio|video)/);t&&t[1]?a=t[1]:a&&(e=e.match(/=(sendrecv|recvonly|sendonly|inactive)/))&&e[1]&&s.set(a,e[1])})),a=null,Vc(t).call(t,(function(e){var t=e.match(/m=(audio|video)/);if(t&&t[1])return a=t[1],e;if(!a)return e;if((t=e.match(/=(sendrecv|recvonly|sendonly|inactive)/))&&t[1]){var n=s.get(a);if(n&&n!==t[1])return e.replace(t[1],n)}return e})).join("\r\n")+"\r\n"}(i,s.updateAnswerSDP(a.sdp)),e.next=17,s.pc.setAnswerSDP(i);case 17:Bl.debug("[pc-".concat(s.pc.ID,"] renegotiate success")),s.connectionState="connected";case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),s.handleStreamRenegotiate=function(e,t){"connected"===s.connectionState?s.renegotiateWithGateway().then(e).catch(t):e()},s.handleReplaceTrack=function(e,t,n){if(s.audioTrack instanceof ch&&"audio"===e.kind)return Fc.resolve();s.pc.replaceTrack(e).then((function(e){return e?s.renegotiateWithGateway():Fc.resolve()})).then(t).catch(n)},s.handleCloseAudioTrack=function(e){},s.handleCloseVideoTrack=function(){s.lowStreamConnection&&s.lowStreamConnection.videoTrack&&s.lowStreamConnection.videoTrack.close()},s.handleGetSessionID=function(e){e(s.joinInfo.sid)},s.handleGetLocalVideoStats=function(e){e(s.statsCollector.getLocalVideoTrackStats(s.connectionId))},s.handleGetLocalAudioStats=function(e){e(s.statsCollector.getLocalAudioTrackStats(s.connectionId))},s.handleSetOptimizationMode=function(e,t,n){s.videoTrack&&s.setRtpSenderParametersByTrackConfig(s.videoTrack).then(t).catch(n)},s.isLowStreamConnection=!!a,s.codec=i,s.statsCollector=e,s.statsCollector.addLocalConnection(o(s)),s}return h(n,[{key:"getAllTracks",value:function(){var e,t=[];return this.videoTrack&&t.push(this.videoTrack),this.audioTrack&&this.audioTrack instanceof ch?t=bs(t).call(t,this.audioTrack.trackList):this.audioTrack&&t.push(this.audioTrack),(e=t).push.apply(e,f(this.suspendTracks)),t}},{key:"addTracks",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nf,"connecting"!==this.connectionState){e.next=13;break}return e.prev=2,e.next=5,this.createWaitConnectionConnectedPromise();case 5:return e.next=7,this.addTracks(t);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(2),new Pl(ul.OPERATION_ABORTED,"publish abort");case 13:r=!1,i=this.getAllTracks(),t=Zt(t=Es(t).call(t,(function(e){return-1===eu(i).call(i,e)}))),o=0;case 17:if(!(o<t.length)){e.next=63;break}if((a=t[o])instanceof Bd){e.next=21;break}return e.abrupt("return",new Pl(ul.INVALID_LOCAL_TRACK).throw());case 21:if(!(a instanceof eg&&this.disabledVideoTrack)){e.next=25;break}if(this.disabledVideoTrack===a){e.next=24;break}return e.abrupt("return",new Pl(ul.EXIST_DISABLED_VIDEO_TRACK).throw());case 24:this.disabledVideoTrack=void 0;case 25:if(!(a instanceof eg&&this.videoTrack)){e.next=27;break}return e.abrupt("return",new Pl(ul.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw());case 27:if(!(a instanceof ih)){e.next=45;break}if(!(this.audioTrack instanceof ch)){e.next=36;break}if(e.t1=0===this.audioTrack.trackList.length,!e.t1){e.next=33;break}return e.next=33,this.pc.setAudioRtpEncodingParameters({active:!0});case 33:this.audioTrack.addAudioTrack(a),e.next=43;break;case 36:if(n.webAudioMediaStreamDest){e.next=38;break}throw new Pl(ul.NOT_SUPPORTED,"your browser is not support audio mixing");case 38:return r=new ch,a.muted?this.suspendTracks.push(a):r.addAudioTrack(a),e.next=42,this.addTrackWithPC(r);case 42:r=e.sent;case 43:e.next=60;break;case 45:if(!(a instanceof eg&&this.isLowStreamConnection)){e.next=55;break}return r=Wn({},{width:160,height:120,framerate:15,bitrate:50},{},this.lowStreamParameter),n.supportDualStreamEncoding?(Bl.debug("[".concat(this.connectionId,"] creating low stream using rtp encoding.")),this.lowStreamEncoding=Pt(r,a),a=a.clone({bitrateMax:r.bitrate,bitrateMin:r.bitrate})):(Bl.debug("[".concat(this.connectionId,"] creating low stream using canvas.")),a=Hn(a,r),a=new eg(a,{bitrateMax:r.bitrate,bitrateMin:r.bitrate})),a._hints.push(Ef.LOW_STREAM),e.next=51,this.addTrackWithPC(a);case 51:r=e.sent,this.bindTrackEvents(a),e.next=60;break;case 55:return this.detecting=!0,wd((function(){s.detecting=!1}),8e3),e.next=59,this.addTrackWithPC(a);case 59:r=e.sent;case 60:o+=1,e.next=17;break;case 63:return e.next=65,this.updateControlMessage();case 65:if(e.t2=r,!e.t2){e.next=69;break}return e.next=69,this.renegotiateWithGateway();case 69:xa(t).call(t,(function(e){return s.bindTrackEvents(e)}));case 70:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeTracks",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s,c,u,l,f=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.getAllTracks(),t=Zt(t=Es(t).call(t,(function(e){return-1!==eu(r).call(r,e)||e===f.disabledVideoTrack}))),i=[],o=0;case 4:if(!(o<t.length)){e.next=27;break}if(a=t[o],this.unbindTrackEvents(a),!(this.audioTrack instanceof ch&&a instanceof ih)){e.next=10;break}this.audioTrack.removeAudioTrack(a),Xt(this.suspendTracks,a),0===this.audioTrack.trackList.length&&(i.push(this.audioTrack),this.audioTrack=void 0),e.next=24;break;case 10:if(!(a instanceof ih)){e.next=14;break}i.push(a),this.audioTrack=void 0,e.next=24;break;case 14:if(!(a instanceof eg)){e.next=24;break}if(!n){e.next=20;break}if(this.disabledVideoTrack!==a){e.next=18;break}return e.abrupt("return",void(this.disabledVideoTrack=void 0));case 18:e.next=21;break;case 20:this.disabledVideoTrack=this.videoTrack;case 21:i.push(a),this.isLowStreamConnection&&a.close(),this.videoTrack=void 0;case 24:o+=1,e.next=4;break;case 27:if(!this.videoTrack&&!this.audioTrack){e.next=60;break}if(0===i.length){e.next=58;break}if("connecting"!==this.connectionState){e.next=38;break}return e.prev=30,e.next=33,this.createWaitConnectionConnectedPromise();case 33:e.next=38;break;case 35:return e.prev=35,e.t0=e.catch(30),e.abrupt("return");case 38:s=v(i),e.prev=39,s.s();case 41:if((c=s.n()).done){e.next=48;break}return u=c.value,Bl.debug(bs(l="[".concat(this.connectionId,"] remove ")).call(l,u.trackMediaType," from pc")),e.next=46,this.pc.removeTrack(u._mediaStreamTrack);case 46:e.next=41;break;case 48:e.next=53;break;case 50:e.prev=50,e.t1=e.catch(39),s.e(e.t1);case 53:return e.prev=53,s.f(),e.finish(53);case 56:return e.next=58,this.renegotiateWithGateway();case 58:e.next=62;break;case 60:return e.next=62,this.closeP2PConnection();case 62:case"end":return e.stop()}}),e,this,[[30,35],[39,50,53,56]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateControlMessage",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="connected"===this.connectionState,!e.t0){e.next=10;break}if(e.t1=this.audioTrack,!e.t1){e.next=6;break}return e.next=6,qt(this,of.NEED_CONTROL,{type:"audio",muted:!this.audioTrack.isActive});case 6:if(e.t2=this.videoTrack,!e.t2){e.next=10;break}return e.next=10,qt(this,of.NEED_CONTROL,{type:"video",muted:this.videoTrack.muted});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startP2PConnection",value:function(){var e=this;return new Fc(function(){var t=g(p.mark((function t(n,r){var i,o,a,s,c,u;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.audioTrack||e.videoTrack){t.next=2;break}return t.abrupt("return",r(new Pl(ul.UNEXPECTED_ERROR,"no track to publish")));case 2:if(i=function t(i){if("connected"===i&&(e.off(of.CONNECTION_STATE_CHANGE,t),n()),"disconnected"===i){if(e.off(of.CONNECTION_STATE_CHANGE,t),e.disconnectedReason)return r(e.disconnectedReason);r(new Pl(ul.OPERATION_ABORTED,"publish abort"))}},e.on(of.CONNECTION_STATE_CHANGE,i),e.disconnectedReason=void 0,e.connectionState="connecting",e._waitingSuccessResponse=!0,e.startTime=xd(),t.prev=8,t.t0=!e.pc.audioTrack&&e.audioTrack,!t.t0){t.next=13;break}return t.next=13,e.pc.addTrack(e.audioTrack._mediaStreamTrack);case 13:if(t.t1=!e.pc.videoTrack&&e.videoTrack,!t.t1){t.next=17;break}return t.next=17,e.pc.addTrack(e.videoTrack._mediaStreamTrack);case 17:return t.next=19,e.pc.createOfferSDP();case 19:return a=t.sent,Zu.REMOVE_NEW_CODECS&&(a="vp9"===e.codec?Gn(a,["av1"]):"av1"===e.codec?Gn(a,["vp9"]):Gn(a,["vp9","av1"])),s=Qn(a),e.videoTrack&&!Au(o=s.video).call(o,e.codec.toUpperCase())&&Bl.warning("current codec is not supported, support list: ".concat(s.video.join(","))),e.audioTrack&&e.audioTrack._encoderConfig&&(a=zn(a,e.audioTrack._encoderConfig)),e.videoTrack&&e.videoTrack._scalabiltyMode&&("vp9"!==e.codec&&"av1"!==e.codec?(e.videoTrack._scalabiltyMode.numSpatialLayers=1,e.videoTrack._scalabiltyMode.numTemporalLayers=1):a=Kn(a,e.codec,e.videoTrack._scalabiltyMode),Bl.debug("spatial layers: ",e.videoTrack._scalabiltyMode.numSpatialLayers)),t.next=27,e.pc.setOfferSDP(a);case 27:if(e.pc.onOfferSettled({videoActive:e.videoTrack&&!e.videoTrack.muted,audioActive:e.audioTrack&&e.audioTrack.isActive}),e.videoTrack&&e.setRtpSenderParametersByTrackConfig(e.videoTrack),Bl.debug("[".concat(e.connectionId,"] create and set offer success")),o={messageType:"OFFER",sdp:a,offererSessionId:104,retry:!0},t.t2=Nf.supportDualStreamEncoding&&e.isLowStreamConnection&&e.lowStreamEncoding&&e.videoTrack,!t.t2){t.next=35;break}return t.next=35,e.setLowStreamEncoding(e.lowStreamEncoding,e.videoTrack);case 35:return t.next=37,qt(e,of.NEED_ANSWER,o);case 37:return c=t.sent,u=e.updateAnswerSDP(c.sdp),t.next=41,e.pc.setAnswerSDP(u);case 41:return Bl.debug("[".concat(e.connectionId,"] set answer success")),t.next=44,e.icePromise;case 44:e.connectionState="connected",e.startUploadStats(),t.next=51;break;case 48:t.prev=48,t.t3=t.catch(8),e.off(of.CONNECTION_STATE_CHANGE,i),e.connectionState="disconnected",e.reportPublishEvent(!1,t.t3.code),Bl.error("[".concat(e.connectionId,"] connection error"),t.t3.toString()),r(t.t3);case 51:case"end":return t.stop()}}),t,null,[[8,48]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"reportPublishEvent",value:function(e,t,n){var r;this._waitingSuccessResponse=!1,Nd.publish(this.joinInfo.sid,{lts:this.startTime,succ:e,ec:t,audioName:this.audioTrack&&this.audioTrack.getTrackLabel(),videoName:this.videoTrack&&this.videoTrack.getTrackLabel(),screenshare:!(!this.videoTrack||-1===eu(r=this.videoTrack._hints).call(r,Ef.SCREEN_TRACK)),audio:!!this.audioTrack,video:!!this.videoTrack,p2pid:this.pc.ID,publishRequestid:this.ID,extend:n})}},{key:"closeP2PConnection",value:function(){var e=g(p.mark((function e(t){var n,r,i=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getAllTracks(),xa(n).call(n,(function(e){i.unbindTrackEvents(e)})),this.isLowStreamConnection&&this.videoTrack&&this.videoTrack.close(),this.videoTrack=void 0,this.audioTrack instanceof ch&&xa(r=this.audioTrack.trackList).call(r,(function(e){i.audioTrack.removeAudioTrack(e)})),this.audioTrack=void 0,this.stopUploadStats(),this.statsCollector.removeConnection(this.connectionId),e.next=7,this.closePC(t);case 7:this.connectionState="disconnected",this.removeAllListeners();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNetworkQuality",value:function(){var e,t=this.pc.getStats();if(!t.videoSend[0]&&!t.audioSend[0])return 1;var n=Yt(this,of.NEED_SIGNAL_RTT),r=t.videoSend[0]?t.videoSend[0].rttMs:void 0,i=t.audioSend[0]?t.audioSend[0].rttMs:void 0;return r=r&&i?(r+i)/2:r||i,n=.17>(n=70*t.sendPacketLossRate/50+.3*((r&&n?(r+n)/2:r||n)||0)/1500)?1:.36>n?2:.59>n?3:.1>n?4:5,this.videoTrack&&this.videoTrack._encoderConfig&&-1===eu(e=this.videoTrack._hints).call(e,Ef.SCREEN_TRACK)&&(e=this.videoTrack._encoderConfig.bitrateMax,t=t.bitrate.actualEncoded,e&&t)?$u[.15>(t=(1e3*e-t)/(1e3*e))?0:.3>t?1:.45>t?2:.6>t?3:4][n]:n}},{key:"handleUpdateBitrateLimit",value:function(e){this.videoTrack&&this.videoTrack.setBitrateLimit(e)}},{key:"setAudioTrackMuteState",value:function(){var e=g(p.mark((function e(t,n){var r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.audioTrack,e.prev=1,!t){e.next=10;break}if(r.removeAudioTrack(n),0!==r.trackList.length){e.next=7;break}return Bl.debug(bs(i="[".concat(this.connectionId,"] set audio encoding active, id: ")).call(i,n.getTrackId(),", state: ",!1)),e.next=7,this.pc.setAudioRtpEncodingParameters({active:!1});case 7:this.suspendTracks.push(n),e.next=14;break;case 10:return e.next=12,this.pc.setAudioRtpEncodingParameters({active:!0});case 12:r.addAudioTrack(n),Xt(this.suspendTracks,n);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Bl.warning(bs(o="[".concat(this.connectionId,"] set audio muted error ")).call(o,e.t0,", fallback to set enabled"));case 19:return e.next=21,qt(this,of.NEED_CONTROL,{type:"audio",muted:!(!this.audioTrack||this.audioTrack.isActive)});case 21:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setVideoTrackMuteState",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!t,r=!1,$e().name!==Nu.FIREFOX){e.next=5;break}r=!0,e.next=15;break;case 5:return e.prev=5,Bl.debug(bs(i=bs(o="[".concat(this.connectionId,"] set video encoding active, id: ")).call(o,this.videoTrack&&this.videoTrack.getTrackId(),", state: ")).call(i,n)),e.next=9,this.pc.setVideoRtpEncodingParameters({active:n});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),Bl.warning(bs(a="[".concat(this.connectionId,"] set video encoding active error ")).call(a,e.t0,", fallback to set enabled")),r=!0;case 15:if(r&&this.videoTrack&&(Bl.debug(bs(s=bs(c="[".concat(this.connectionId,"] set video encoding active fallback to enabled on firefox, type: ")).call(c,this.videoTrack&&this.videoTrack.getTrackId(),", state: ")).call(s,n)),this.videoTrack.getMediaStreamTrack().enabled=n),this.lowStreamConnection&&this.lowStreamConnection.setVideoTrackMuteState(t),e.t1=!this.isLowStreamConnection,!e.t1){e.next=21;break}return e.next=21,qt(this,of.NEED_CONTROL,{type:"video",muted:t});case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadStats",value:function(e,t){var n=this,r=this.audioTrack?function(e,t){var n=e.audioSend[0];return n?((e={id:Kt(10,""),timestamp:new Date(e.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:n.ssrc.toString()}).A_astd=t._originMediaStreamTrack.enabled&&t._mediaStreamTrack.enabled?"0":"1",n.inputLevel?e.A_ail=Math.round(100*n.inputLevel).toString():e.A_ail=Math.round(100*t._source.getAudioAvgLevel()).toString(),e.A_apil=Math.round(100*t._source.getAudioAvgLevel()).toString(),e):null}(e,this.audioTrack):void 0,i=this.videoTrack?function(e,t){var n=e.videoSend[0];if(!n)return null;switch((e={id:Kt(10,""),timestamp:new Date(e.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:n.ssrc.toString()}).A_vstd=t._originMediaStreamTrack&&!t._originMediaStreamTrack.enabled||!t._mediaStreamTrack.enabled?"1":"0",n.sentFrame&&(e.A_fhs=n.sentFrame.height.toString(),e.A_frs=n.sentFrame.frameRate.toString(),e.A_fws=n.sentFrame.width.toString()),n.adaptionChangeReason){case"none":e.A_ac="0";break;case"cpu":e.A_ac="1";break;case"bandwidth":e.A_ac="2";break;case"other":e.A_ac="3"}return e.A_nr=n.nacksCount.toString(),n.avgEncodeMs&&(e.A_aem=n.avgEncodeMs.toFixed(0).toString()),e}(e,this.videoTrack):void 0,o=Lt(e,t),a=function(e){var t={id:"bweforvideo",timestamp:new Date(e.timestamp).toISOString(),type:"VideoBwe"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);r&&$t((function(){return n.emit(of.NEED_UPLOAD,nf.PUBLISH_STATS,r)})),i&&$t((function(){return n.emit(of.NEED_UPLOAD,nf.PUBLISH_STATS,Wn({},i,{},o))})),a&&$t((function(){return n.emit(of.NEED_UPLOAD,nf.PUBLISH_STATS,a)}))}},{key:"uploadSlowStats",value:function(e){var t=this,n=Lt(e);n&&$t((function(){return t.emit(of.NEED_UPLOAD,nf.PUBLISH_STATS,n)}))}},{key:"uploadRelatedStats",value:function(e){var t=this,n=function(e){return(e=e.videoSend[0])?{mediaType:"video",isVideoMute:!1,frameRateInput:e.inputFrame&&e.inputFrame.frameRate.toString(),frameRateSent:e.sentFrame&&e.sentFrame.frameRate.toString(),googRtt:e.rttMs.toString()}:null}(e);n&&(n.isVideoMute=!(!this.videoTrack||!this.videoTrack.muted),$t((function(){t.emit(of.NEED_UPLOAD,nf.PUBLISH_RELATED_STATS,n)})))}},{key:"bindTrackEvents",value:function(e){var t;e.addListener(_f.NEED_RESET_REMOTE_SDP,gu(t=this.handleResetRemoteSdp).call(t,this)),this.isLowStreamConnection||(e instanceof ih?(e.addListener(_f.GET_STATS,this.handleGetLocalAudioStats),e.addListener(_f.NEED_CLOSE,this.handleCloseAudioTrack),e.addListener(_f.SET_AUDIO_TRACK_MUTED,this.handleMuteAudioTrack)):e instanceof eg&&(e.addListener(_f.GET_STATS,this.handleGetLocalVideoStats),e.addListener(_f.NEED_CLOSE,this.handleCloseVideoTrack),e.addListener(_f.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),e.addListener(_f.SET_VIDEO_TRACK_MUTED,this.handleMuteVideoTrack)),e.addListener(_f.NEED_RENEGOTIATE,this.handleStreamRenegotiate),e.addListener(_f.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(_f.NEED_SESSION_ID,this.handleGetSessionID))}},{key:"unbindTrackEvents",value:function(e){this.isLowStreamConnection||(e instanceof ih?(e.off(_f.GET_STATS,this.handleGetLocalAudioStats),e.off(_f.NEED_CLOSE,this.handleCloseAudioTrack),e.off(_f.SET_AUDIO_TRACK_MUTED,this.handleMuteAudioTrack)):e instanceof eg&&(e.off(_f.GET_STATS,this.handleGetLocalVideoStats),e.off(_f.NEED_CLOSE,this.handleCloseVideoTrack),e.off(_f.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),e.off(_f.SET_VIDEO_TRACK_MUTED,this.handleMuteVideoTrack)),e.off(_f.NEED_RENEGOTIATE,this.handleStreamRenegotiate),e.off(_f.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(_f.NEED_SESSION_ID,this.handleGetSessionID))}},{key:"addTrackWithPC",value:function(){var e=g(p.mark((function e(t){var n,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("connecting"!==this.connectionState){e.next=2;break}return e.abrupt("return",new Pl(ul.INVALID_OPERATION,"last publish operation has not finished").throw());case 2:if(n=this.videoTrack,r=!1,!(this.audioTrack&&t instanceof ch)){e.next=11;break}return this.audioTrack=t,Bl.debug("[".concat(this.connectionId,"] replace pc audio track")),e.next=8,this.pc.replaceTrack(t._mediaStreamTrack);case 8:r=e.sent,e.next=34;break;case 11:if(!(this.videoTrack&&t instanceof eg)){e.next=19;break}return this.videoTrack=t,Bl.debug("[".concat(this.connectionId,"] replace pc video track")),e.next=16,this.pc.replaceTrack(t._mediaStreamTrack);case 16:r=e.sent,e.next=34;break;case 19:if(!(t instanceof ch)){e.next=27;break}return this.audioTrack=t,Bl.debug("[".concat(this.connectionId,"] add audio track to pc")),e.next=24,this.pc.addTrack(t._mediaStreamTrack);case 24:r=!0,e.next=34;break;case 27:if(e.t0=t instanceof eg,!e.t0){e.next=34;break}return this.videoTrack=t,Bl.debug("[".concat(this.connectionId,"] add video track to pc")),e.next=33,this.pc.addTrack(t._mediaStreamTrack);case 33:r=!0;case 34:if(e.t1="connected"===this.connectionState&&this.videoTrack!==n&&this.videoTrack,!e.t1){e.next=38;break}return e.next=38,this.setRtpSenderParametersByTrackConfig(this.videoTrack);case 38:return e.abrupt("return","disconnected"!==this.connectionState&&r);case 39:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleResetRemoteSdp",value:function(){var e=this;return new Fc((function(t,n){var r;Bl.info("[pc-".concat(e.pc.ID,"] start reset remote sdp"));var i,o=e.pc.getOfferSDP(),a=e.pc.getAnswerSDP();if(!a||!o)return t();a=a.sdp,e.videoTrack&&e.videoTrack._encoderConfig&&-1===eu(r=e.videoTrack._hints).call(r,Ef.SCREEN_TRACK)&&(i=function(e,t){var n,r,i=t.bitrateMin;t=t.bitrateMax;var o=gu(n=RegExp.prototype.test).call(n,/^([a-z])=(.*)/);if(e=Es(r=e.split(/(\r\n|\r|\n)/)).call(r,o),t){var a,s="AS";$e().name===Nu.FIREFOX&&(t=1e3*(t>>>0),s="TIAS"),0<(r=ag(e).call(e,(function(e){return Au(e).call(e,s)})))&&(e[r]=bs(a="b=".concat(s,":")).call(a,t))}return i&&0<(a=ag(e).call(e,(function(e){return Au(e).call(e,"x-google-min-bitrate")})))&&(e[a]=e[a].replace(/x-google-min-bitrate=(.*)/,"x-google-min-bitrate=".concat(i))),e.join("\r\n")+"\r\n"}(a,e.videoTrack._encoderConfig)),a!==i?e.pc.setOfferSDP(o.sdp).then((function(){if(i)return e.pc.setAnswerSDP(i)})).then(t).catch((function(t){var r;Bl.error(bs(r="[pc-".concat(e.pc.ID,"] reset remote sdp error, ")).call(r,t)),n(t)})):Bl.debug("[pc-".concat(e.pc.ID,"] remote sdp have no not changed"))}))}},{key:"setRtpSenderParametersByTrackConfig",value:function(){var e=g(p.mark((function e(t){var n,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nf.supportSetRtpSenderParameters){e.next=2;break}return e.abrupt("return",void Bl.debug("[".concat(this.connectionId,"] do not support set pc rtp sender, skip")));case 2:return n={},r="balanced","motion"===t._optimizationMode?r="maintain-framerate":"detail"===t._optimizationMode&&(r="maintain-resolution"),Bl.debug("[".concat(this.connectionId,"] set pc rtp sender"),n,r),e.next=7,this.pc.setRtpSenderParameters(n,r);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateAnswerSDP",value:function(e){var t,n;return e=e.replace(/a=x-google-flag:conference\r\n/g,""),this.videoTrack&&eu(t=this.videoTrack._hints).call(t,Ef.SCREEN_TRACK),this.videoTrack&&this.videoTrack._encoderConfig&&-1===eu(n=this.videoTrack._hints).call(n,Ef.SCREEN_TRACK)&&(e=function(e,t,n){var r=Nf,i=n.bitrateMin;n=n.bitrateMax;var o,a,s,c,u=e.match(/m=video.*\r\n/)||e.match(/m=video.*\n/);return u&&0<u.length&&r.supportMinBitrate&&i&&(t=sg(e,t))&&(e=e.replace(u[0],bs(o=bs(a="".concat(u[0],"a=fmtp:")).call(a,t," x-google-min-bitrate=")).call(o,i,"\r\n"))),u&&0<u.length&&n&&(i="AS",$e().name===Nu.FIREFOX&&(n=1e3*(n>>>0),i="TIAS"),e=e.replace(u[0],bs(s=bs(c="".concat(u[0],"b=")).call(c,i,":")).call(s,n,"\r\n"))),e}(e,this.codec,this.videoTrack._encoderConfig)),this.audioTrack&&this.audioTrack._encoderConfig&&(e=zn(e,this.audioTrack._encoderConfig)),function(e){var t=$e();return t.name!==Nu.SAFARI&&t.os!==Mu.IOS?e:e.replace(/a=.*video-orientation\r\n/g,"")}(e)}},{key:"createPC",value:function(){this.pc=new Op({turnServer:this.joinInfo.turnServer}),this.updateICEPromise()}},{key:"closePC",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pc.onICEConnectionStateChange=void 0,this.pc.close(),e.t0=!t,!e.t0){e.next=7;break}return e.next=6,qt(this,of.NEED_UNPUB);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onPCDisconnected",value:function(e){this.reportPublishEvent(!1,e.code)}},{key:"setLowStreamEncoding",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.pc.setVideoRtpEncodingParameters(t);case 3:if(r=e.sent,i=n.getMediaStreamTrack(),!t.scaleResolutionDownBy||r.encodings[0].scaleResolutionDownBy===t.scaleResolutionDownBy){e.next=11;break}if(o=n._videoHeight||i.getSettings().height,a=n._videoWidth||i.getSettings().width,e.t0=o&&a,!e.t0){e.next=11;break}return e.next=11,i.applyConstraints({height:o/t.scaleResolutionDownBy,width:a/t.scaleResolutionDownBy});case 11:if(e.t1=t.maxFramerate&&r.encodings[0].maxFramerate!==t.maxFramerate,!e.t1){e.next=15;break}return e.next=15,i.applyConstraints({frameRate:t.maxFramerate});case 15:e.next=22;break;case 17:if(e.prev=17,e.t2=e.catch(0),!(e.t2 instanceof Pl)){e.next=21;break}throw e.t2;case 21:throw new Pl(ul.LOW_STREAM_ENCODING_ERROR,e.t2.message);case 22:case"end":return e.stop()}}),e,this,[[0,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Mp),ug=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e))._isDestroyed=!1,o._userId=r,o._uintId=i,o}return h(n,[{key:"getUserId",value:function(){return this._userId}},{key:"_updateOriginMediaStreamTrack",value:function(e){this._mediaStreamTrack=this._originMediaStreamTrack=e,this._updatePlayerSource()}},{key:"_destroy",value:function(){this._isDestroyed=!0,Bl.info("[track-".concat(this.getTrackId(),"] is destroyed")),this.stop()}}]),n}(Dd),lg=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,i)).trackMediaType="video",o.updateMediaStreamTrackResolution(),o}return h(n,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==Ml.PLAYING)}},{key:"getStats",value:function(){return en((function(){Bl.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),Yt(this,_f.GET_STATS)||Jn({},pf)}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",n]});if("string"==typeof e){var i,o=document.getElementById(e);o?e=o:(Bl.warning(bs(i="[track-".concat(this.getTrackId(),'] can not find "#')).call(i,e,'" element, use document.body')),e=document.body)}Bl.debug("[track-".concat(this.getTrackId(),"] start video playback"),ri(n)),e=Jn({fit:"cover"},n,{trackId:this.getTrackId(),element:e}),this._player?this._player.updateConfig(e):(this._player=new Np(e),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=function(){t.emit(If.FIRST_FRAME_DECODED)}),this._player.play(),r.onSuccess()}},{key:"stop",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._player.destroy(),this._player=void 0,Bl.debug("[track-".concat(this.getTrackId(),"] stop video playback")),e.onSuccess()}},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;Gt(this._originMediaStreamTrack).then((function(t){var n=i(t,2),r=n[0],o=n[1];e._videoHeight=o,e._videoWidth=r})).catch(dh)}},{key:"_updatePlayerSource",value:function(){Bl.debug("[track-".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}}]),n}(ug),fg=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,i)).trackMediaType="audio",o._useAudioElement=!0,o._volume=100,o._source=new Vd(e,!0),o._source.once(af.RECEIVE_TRACK_BUFFER,(function(){o.emit(If.FIRST_FRAME_DECODED)})),o}return h(n,[{key:"isPlaying",get:function(){return this._useAudioElement?nh.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"setAudioFrameCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(af.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(af.ON_AUDIO_BUFFER),this._source.on(af.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"setVolume",value:function(e){var t=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_AUDIO_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._useAudioElement?nh.setVolume(this.getTrackId(),e):this._source.setVolume(e/100),t.onSuccess()}},{key:"setPlaybackDevice",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),t]}),this._useAudioElement){e.next=3;break}throw new Pl(ul.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 3:return e.prev=3,e.next=6,nh.setSinkID(this.getTrackId(),t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),n.onError(e.t0),e.t0;case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVolumeLevel",value:function(){return this._source.getAudioLevel()}},{key:"getStats",value:function(){return en((function(){Bl.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),Yt(this,_f.GET_STATS)||Jn({},df)}},{key:"play",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});Bl.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(Bl.debug("[track-".concat(this.getTrackId(),"] use audio element to play")),nh.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play(),e.onSuccess()}},{key:"stop",value:function(){var e=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.REMOTE_AUDIO_TRACK_STOP,options:[this.getTrackId()]});Bl.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?nh.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}},{key:"_destroy",value:function(){s(c(n.prototype),"_destroy",this).call(this),this._source.destroy()}},{key:"_isFreeze",value:function(){return this._source.isFreeze}},{key:"_updatePlayerSource",value:function(){Bl.debug("[track-".concat(this.getTrackId(),"] update player source track")),this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&nh.updateTrack(this.getTrackId(),this._mediaStreamTrack)}}]),n}(ug),dg=function(e){u(n,e);var t=l(n);function n(e,r,i,a){var s;return d(this,n),(s=t.call(this,i,e.uid)).type="sub",s.unusedTracks=[],s.onTrack=function(e){var t,n,r,i;if("audio"===e.kind&&!s.subscribeOptions.audio||"video"===e.kind&&!s.subscribeOptions.video)return s.unusedTracks.push(e),void Bl.debug(bs(n="[".concat(s.connectionId,"] unused ontrack event, kind: ")).call(n,e.kind));Bl.debug(bs(t="[".concat(s.connectionId,"] emit pc ontrack after subscribe ")).call(t,e.kind),e),(t="audio"===e.kind?s.user._audioTrack:s.user._videoTrack)?t._updateOriginMediaStreamTrack(e):"audio"===e.kind?(s.pc._statsFilter.setIsFirstAudioDecoded(!1),s.user._audioTrack=new fg(e,s.getUserId(),s.user._uintid),Bl.info(bs(r="[".concat(s.connectionId,"] create remote audio track: ")).call(r,s.user._audioTrack.getTrackId())),s.bindTrackEvents(s.user._audioTrack)):(s.user._videoTrack=new lg(e,s.getUserId(),s.user._uintid),Bl.info(bs(i="[".concat(s.connectionId,"] create remote video track: ")).call(i,s.user._videoTrack.getTrackId())),s.bindTrackEvents(s.user._videoTrack))},s.handleGetRemoteAudioStats=function(e){e(s.statsCollector.getRemoteAudioTrackStats(s.connectionId))},s.handleGetRemoteVideoStats=function(e){e(s.statsCollector.getRemoteVideoTrackStats(s.connectionId))},s.handleGetSessionID=function(e){e(s.joinInfo.sid)},s.user=e,s.statsCollector=r,s.statsCollector.addRemoteConnection(o(s)),s.subscribeOptions=a,s}return h(n,[{key:"startP2PConnection",value:function(){var e=g(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Fc(function(){var e=g(p.mark((function e(n,r){var i,o,a,s,c,u,l,f,d,h;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function e(i){if("connected"===i&&(Nd.subscribe(t.joinInfo.sid,{lts:t.startTime,succ:!0,video:t.subscribeOptions.video,audio:t.subscribeOptions.audio,peerid:t.user.uid,ec:null,subscribeRequestid:t.ID,p2pid:t.pc.ID}),t.off(of.CONNECTION_STATE_CHANGE,e),n()),"disconnected"===i){if(t.off(of.CONNECTION_STATE_CHANGE,e),t.disconnectedReason)return r(t.disconnectedReason);r(new Pl(ul.OPERATION_ABORTED,"subscribe abort"))}},t.on(of.CONNECTION_STATE_CHANGE,i),t.disconnectedReason=void 0,t.connectionState="connecting",t.startTime=xd(),t.subscribeOptions){e.next=3;break}return e.abrupt("return",void r(new Pl(ul.UNEXPECTED_ERROR,"no subscribe options")));case 3:return o=new MediaStream,a=new Fc((function(e){t.pc.onTrack=function(n,r){var i,a;if("audio"===n.kind&&!t.subscribeOptions.audio||"video"===n.kind&&!t.subscribeOptions.video)return t.unusedTracks.push(n),void Bl.debug(bs(a="[".concat(t.connectionId,"] unused ontrack event ")).call(a,n.kind));o.addTrack(n),a={audio:0<o.getAudioTracks().length,video:0<o.getVideoTracks().length},Bl.debug(bs(i="[".concat(t.connectionId,"] subscribe ontrack: ")).call(i,n.kind),r,n);e:{var s,c;for(n=t.subscribeOptions,r=cl(s=Ba(a)).call(s),s=cl(c=Ba(n)).call(c),c=0;c<r.length;c+=1){if(r[c]!==s[c]){a=!1;break e}if(a[r[c]]!==n[r[c]]){a=!1;break e}}a=!0}a&&(t.pc.onTrack=t.onTrack,Bl.debug("[".concat(t.connectionId,"] get all subscribed tracks")),e(o))}})),e.prev=4,e.t0=function(e){return $e().name!==Nu.FIREFOX?e:e.replace("/recvonly http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"," http://www.webrtc.org/experiments/rtp-hdrext/playout-delay")},e.t1=Vn,e.next=9,t.pc.createOfferSDP();case 9:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),s=(0,e.t0)(e.t3),e.next=14,t.pc.setOfferSDP(s);case 14:return Bl.debug("[".concat(t.connectionId,"] create and set offer success")),e.next=17,qt(t,of.NEED_ANSWER,{messageType:"OFFER",sdp:s,offererSessionId:104,retry:!0});case 17:return c=e.sent,e.next=20,t.pc.setAnswerSDP(Vn(c.sdp));case 20:return Bl.debug("[".concat(t.connectionId,"] set answer success")),e.next=23,Fc.all([a,t.icePromise]);case 23:u=e.sent,l=u[0].getAudioTracks()[0],f=u[0].getVideoTracks()[0],l&&(t.user._audioTrack?t.user._audioTrack._updateOriginMediaStreamTrack(l):(t.user._audioTrack=new fg(l,t.getUserId(),t.user._uintid),Bl.info(bs(d="[".concat(t.connectionId,"] create remote audio track: ")).call(d,t.user._audioTrack.getTrackId())),t.bindTrackEvents(t.user._audioTrack))),f&&(t.user._videoTrack?t.user._videoTrack._updateOriginMediaStreamTrack(f):(t.user._videoTrack=new lg(f,t.getUserId(),t.user._uintid),Bl.info(bs(h="[".concat(t.connectionId,"] create remote video track: ")).call(h,t.user._videoTrack.getTrackId())),t.bindTrackEvents(t.user._videoTrack))),t.connectionState="connected",t.startUploadStats(),e.next=35;break;case 32:e.prev=32,e.t4=e.catch(4),t.off(of.CONNECTION_STATE_CHANGE,i),t.connectionState="disconnected",Nd.subscribe(t.joinInfo.sid,{lts:t.startTime,succ:!1,video:t.subscribeOptions.video,audio:t.subscribeOptions.audio,peerid:t.user.uid,ec:e.t4.code,subscribeRequestid:t.ID,p2pid:t.pc.ID}),r(e.t4);case 35:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeP2PConnection",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="disconnected"!==this.connectionState,!e.t0){e.next=10;break}return this.stopUploadStats(),this.statsCollector.removeConnection(this.connectionId),this.connectionState="disconnected",e.next=7,this.setSubscribeOptions({audio:!1,video:!1});case 7:return e.next=9,this.closePC(t);case 9:this.removeAllListeners();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNetworkQuality",value:function(){var e=this.pc.getStats();if(!e.audioRecv[0]&&!e.videoRecv[0])return 1;var t=Yt(this,of.NEED_SIGNAL_RTT),n=e.rtt;t=(n&&t?(n+t)/2:n||t)||0,n=e.audioRecv[0]?e.audioRecv[0].jitterMs:void 0;var r=70*(e=e.recvPacketLossRate)/50+.3*t/1500;return n&&(r=60*e/50+.2*t/1500+.2*n/400),.1>r?1:.17>r?2:.36>r?3:.59>r?4:5}},{key:"uploadStats",value:function(e){var t=this,n=this.user.audioTrack?function(e,t){var n=e.audioRecv[0];return n?((e={id:Kt(10,""),timestamp:new Date(e.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:n.ssrc.toString()}).bytesReceived=n.bytes.toString(),e.packetsLost=n.packetsLost.toString(),e.packetsReceived=n.packets.toString(),n.outputLevel?e.A_aol=Math.round(100*n.outputLevel).toString():e.A_aol=Math.round(100*t._source.getAudioAvgLevel()).toString(),e.A_apol=Math.round(100*t._source.getAudioAvgLevel()).toString(),t&&(e.A_artd=t._originMediaStreamTrack.enabled&&t._mediaStreamTrack.enabled?"0":"1"),e.A_jr=n.jitterMs.toString(),e.A_jbm=Math.floor(n.jitterBufferMs).toString(),e.A_cdm=Math.floor(n.jitterBufferMs).toString(),e):null}(e,this.user.audioTrack):void 0,r=this.user.videoTrack?function(e,t){var n,r=e.videoRecv[0];return r?((e={id:Kt(10,""),timestamp:new Date(e.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:r.ssrc.toString()}).bytesReceived=r.bytes.toString(),e.packetsLost=r.packetsLost.toString(),e.packetsReceived=r.packets.toString(),r.framesRateFirefox&&(e.A_frr=r.framesRateFirefox.toString()),r.receivedFrame&&(e.A_frr=r.receivedFrame.frameRate.toString()),e.A_frd=r.decodeFrameRate.toString(),r.outputFrame&&(e.A_fro=r.outputFrame.frameRate.toString()),void 0!==r.jitterBufferMs&&(e.A_jbm=Math.floor(r.jitterBufferMs).toString()),void 0!==r.currentDelayMs&&(e.A_cdm=Math.floor(r.currentDelayMs).toString()),e.A_fs=r.firsCount.toString(),e.A_ns=r.nacksCount.toString(),e.A_ps=r.plisCount.toString(),t&&(e.A_vrtd=t._originMediaStreamTrack.enabled&&t._mediaStreamTrack.enabled?"0":"1"),t._player&&0<t._player.freezeTimeCounterList.length&&(e.A_vrft=Wc(n=t._player.freezeTimeCounterList).call(n,0,1)[0].toString()),e):null}(e,this.user.videoTrack):void 0;n&&$t((function(){return t.emit(of.NEED_UPLOAD,nf.SUBSCRIBE_STATS,n)})),r&&$t((function(){return t.emit(of.NEED_UPLOAD,nf.SUBSCRIBE_STATS,r)}))}},{key:"uploadSlowStats",value:function(e){}},{key:"uploadRelatedStats",value:function(e,t){var n=this,r=!0===this.pc._statsFilter.videoIsReady,i=function(e,t,n){return(e=e.audioRecv[0])?(n=fh.isRemoteAudioFreeze(n),{mediaType:"audio",isAudioMute:!1,peerId:t,googJitterReceived:e.jitterMs.toString(),isFreeze:n,bytesReceived:e.bytes.toString(),packetsReceived:e.packets.toString(),packetsLost:e.packetsLost.toString(),frameReceived:e.receivedFrames.toString(),frameDropped:e.droppedFrames.toString()}):null}(e,this.getUserId(),this.user.audioTrack),o=function(e,t,n,r,i){return(t=t.videoRecv[0])?(e=fh.isRemoteVideoFreeze(i,t,r?r.videoRecv[0]:void 0)&&e,n={mediaType:"video",isVideoMute:!1,peerId:n,frameRateReceived:t.receivedFrame&&t.receivedFrame.frameRate.toString(),frameRateDecoded:t.decodedFrame&&t.decodedFrame.frameRate.toString(),isFreeze:e,bytesReceived:t.bytes.toString(),packetsReceived:t.packets.toString(),packetsLost:t.packetsLost.toString()},t.framesRateFirefox&&(n.frameRateDecoded=t.framesRateFirefox.toString(),n.frameRateReceived=t.framesRateFirefox.toString()),n):null}(r,e,this.getUserId(),t,this.user.videoTrack);i&&$t((function(){n.emit(of.NEED_UPLOAD,nf.SUBSCRIBE_RELATED_STATS,i)})),o&&$t((function(){n.emit(of.NEED_UPLOAD,nf.SUBSCRIBE_RELATED_STATS,o)}))}},{key:"emitOnTrackFromUnusedTracks",value:function(){if(this.subscribeOptions){var e,t=this.subscribeOptions.video;if(this.subscribeOptions.audio){var n,r=lu(n=this.unusedTracks).call(n,(function(e){return"audio"===e.kind&&"live"===e.readyState}));Xt(this.unusedTracks,r),r&&this.onTrack(r)}t&&(t=lu(e=this.unusedTracks).call(e,(function(e){return"video"===e.kind&&"live"===e.readyState})),Xt(this.unusedTracks,t),t&&this.onTrack(t))}}},{key:"setSubscribeOptions",value:function(){var e=g(p.mark((function e(t){var n,r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.audio===this.subscribeOptions.audio&&t.video===this.subscribeOptions.video){e.next=11;break}if("connecting"!==this.connectionState){e.next=10;break}return e.prev=2,e.next=5,this.createWaitConnectionConnectedPromise();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Pl(ul.OPERATION_ABORTED,"can not update subscribe options, operation abort");case 10:t.audio===this.subscribeOptions.audio&&t.video===this.subscribeOptions.video||(Bl.debug(bs(n=bs(r=bs(i=bs(o="[".concat(this.connectionId,"] update subscribe options [a: ")).call(o,this.subscribeOptions.audio,", v: ")).call(i,this.subscribeOptions.video,"] -> [a: ")).call(r,t.audio,", v: ")).call(n,t.video,"]")),this.subscribeOptions=t,!t.audio&&this.user._audioTrack&&(this.unusedTracks.push(this.user._audioTrack._originMediaStreamTrack),this.user._audioTrack._destroy(),this.unbindTrackEvents(this.user._audioTrack),this.user._audioTrack=void 0),!t.video&&this.user._videoTrack&&(this.unusedTracks.push(this.user._videoTrack._originMediaStreamTrack),this.user._videoTrack._destroy(),this.unbindTrackEvents(this.user._videoTrack),this.user._videoTrack=void 0),this.emitOnTrackFromUnusedTracks());case 11:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPC",value:function(){var e=this;this.pc=new Tp({turnServer:this.joinInfo.turnServer}),this.pc.onFirstAudioDecoded=function(){e.user.audioTrack&&e.user.audioTrack.emit(If.FIRST_FRAME_DECODED),Nd.firstRemoteFrame(e.joinInfo.sid,Ul.FIRST_AUDIO_DECODE,Fl.FIRST_AUDIO_DECODE,{peer:e.user._uintid,subscribeElapse:xd()-e.startTime,subscribeRequestid:e.ID,p2pid:e.pc.ID})},this.pc.onFirstAudioReceived=function(){Nd.firstRemoteFrame(e.joinInfo.sid,Ul.FIRST_AUDIO_RECEIVED,Fl.FIRST_AUDIO_RECEIVED,{peer:e.user._uintid,subscribeElapse:xd()-e.startTime,subscribeRequestid:e.ID,p2pid:e.pc.ID})},this.pc.onFirstVideoDecoded=function(t,n){Nd.firstRemoteFrame(e.joinInfo.sid,Ul.FIRST_VIDEO_DECODE,Fl.FIRST_VIDEO_DECODE,{peer:e.user._uintid,videowidth:t,videoheight:n,subscribeElapse:xd()-e.startTime,subscribeRequestid:e.ID,p2pid:e.pc.ID})},this.pc.onFirstVideoReceived=function(){Nd.firstRemoteFrame(e.joinInfo.sid,Ul.FIRST_VIDEO_RECEIVED,Fl.FIRST_VIDEO_RECEIVED,{peer:e.user._uintid,subscribeElapse:xd()-e.startTime,subscribeRequestid:e.ID,p2pid:e.pc.ID})},this.updateICEPromise()}},{key:"closePC",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pc.audioTrack&&this.pc.audioTrack.stop(),this.pc.videoTrack&&this.pc.videoTrack.stop(),this.pc.onTrack=void 0,this.pc.onICEConnectionStateChange=void 0,this.pc.close(),!t){e.next=4;break}e.t0=!1,e.next=7;break;case 4:return e.next=6,qt(this,of.NEED_UNSUB);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onPCDisconnected",value:function(e){Nd.subscribe(this.joinInfo.sid,{lts:this.startTime,succ:!1,video:this.subscribeOptions.video,audio:this.subscribeOptions.audio,peerid:this.user.uid,ec:e.code,subscribeRequestid:this.ID,p2pid:this.pc.ID})}},{key:"bindTrackEvents",value:function(e){e instanceof fg?e.addListener(_f.GET_STATS,this.handleGetRemoteAudioStats):e instanceof lg&&e.addListener(_f.GET_STATS,this.handleGetRemoteVideoStats)}},{key:"unbindTrackEvents",value:function(e){e instanceof fg?e.off(_f.GET_STATS,this.handleGetRemoteAudioStats):e instanceof lg&&e.off(_f.GET_STATS,this.handleGetRemoteVideoStats)}}]),n}(Mp),hg=function(e){u(n,e);var t=l(n);function n(e,r,i,a){var s;return d(this,n),(s=t.call(this)).reconnectMode="retry",s.commandReqId=s.reqId=0,s.handleWebSocketOpen=function(){s.reconnectMode="retry",s.startPingPong()},s.handleWebSocketMessage=function(e){var t;e.data&&((e=JSON.parse(e.data)).requestId?s.emit(bs(t="@".concat(e.requestId,"-")).call(t,e.sid),e):s.serviceMode===uf.INJECT?s.emit(gf.INJECT_STREAM_STATUS,e):(Nd.workerEvent(s.spec.sid,{actionType:"status",serverCode:e.code,workerType:s.serviceMode===uf.TRANSCODE?1:2}),s.emit(gf.PUBLISH_STREAM_STATUS,e)))},s.spec=r,s.token=e,s.serviceMode=a,s.websocket=new tp("live-streaming",i),s.websocket.on(cf.CONNECTED,s.handleWebSocketOpen),s.websocket.on(cf.ON_MESSAGE,s.handleWebSocketMessage),s.websocket.on(cf.REQUEST_NEW_URLS,(function(e,t){qt(o(s),gf.REQUEST_NEW_ADDRESS).then(e).catch(t)})),s.websocket.on(cf.RECONNECTING,(function(){s.websocket.reconnectMode=s.reconnectMode})),s}return h(n,[{key:"init",value:function(e){return this.websocket.init(e)}},{key:"request",value:function(){var e=g(p.mark((function e(t,n,r,i){var o,a,s,c,u,l,f=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reqId+=1,"request"===t&&(this.commandReqId+=1),o=this.commandReqId,(a=this.reqId)&&this.websocket){e.next=5;break}throw new Pl(ul.UNEXPECTED_ERROR);case 5:if(s=Zn({command:t,sdkVersion:"4.6.3"===Ku?"0.0.1":Ku,seq:a,requestId:a,allocate:r,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(xd()/1e3)},n),"closed"!==this.websocket.state){e.next=8;break}throw new Pl(ul.WS_DISCONNECT);case 8:if(c=function(){return new Fc((function(e,t){f.websocket.once(cf.CLOSED,(function(){return t(new Pl(ul.WS_ABORT))})),f.websocket.once(cf.CONNECTED,e)}))},e.t0="connected"!==this.websocket.state,!e.t0){e.next=13;break}return e.next=13,c();case 13:return s.clientRequest&&(s.clientRequest.workerToken=this.token),u=new Fc((function(e,t){var n,r=function(){t(new Pl(ul.WS_ABORT))};f.websocket.once(cf.RECONNECTING,r),f.websocket.once(cf.CLOSED,r),f.once(bs(n="@".concat(a,"-")).call(n,f.spec.sid),(function(t){e(t)}))})),i&&Nd.workerEvent(this.spec.sid,Zn({},i,{requestId:o,actionType:"request",payload:ri(n.clientRequest),serverCode:0,code:0})),l=xd(),this.websocket.sendMessage(s),s=null,e.prev=19,e.next=22,u;case 22:s=e.sent,e.next=34;break;case 25:if(e.prev=25,e.t1=e.catch(19),"closed"!==this.websocket.state){e.next=29;break}throw e.t1;case 29:return e.next=31,c();case 31:return e.next=33,this.request(t,n,r);case 33:return e.abrupt("return",e.sent);case 34:return e.abrupt("return",(i&&Nd.workerEvent(this.spec.sid,Zn({},i,{requestId:o,actionType:"response",payload:ri(s.serverResponse),serverCode:s.code,success:200===s.code,responseTime:xd()-l})),200!==s.code&&this.handleResponseError(s),s));case 35:case"end":return e.stop()}}),e,this,[[19,25]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"tryNextAddress",value:function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}},{key:"close",value:function(){var e="4.6.3"===Ku?"0.0.1":Ku;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(xd()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}},{key:"handleResponseError",value:function(e){switch(e.code){case mf.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void Bl.warning("live stream response already exists stream");case mf.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case mf.LIVE_STREAM_RESPONSE_BAD_STREAM:case mf.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Pl(ul.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case mf.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;throw new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case mf.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Pl(ul.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case mf.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:var t=new Pl(ul.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(gf.WARNING,t,e.serverResponse.url);case mf.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return t=new Pl(ul.LIVE_STREAMING_WARN_FREQUENT_REQUEST),this.emit(gf.WARNING,t,e.serverResponse.url);case mf.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case mf.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Pl(ul.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case mf.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return t=new Pl(ul.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),this.emit(gf.WARNING,t,e.serverResponse.url);case mf.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case mf.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case mf.LIVE_STREAM_RESPONSE_WORKER_LOST:case mf.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;throw new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case mf.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case mf.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Pl(ul.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}},{key:"startPingPong",value:function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch(dh)}),6e3)}}]),n}(Md),pg=function(e){u(n,e);var t=l(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bh,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bh;return d(this,n),(r=t.call(this)).retryTimeout=1e4,r.streamingTasks=new pa,r.isStartingStreamingTask=!1,r.taskMutex=new Ld("live-streaming"),r.cancelToken=Dl.CancelToken.source(),r.injectConfig=er({},Of),r.injectLoopTimes=0,r.lastTaskId=1,r.statusError=new pa,r.spec=e,r.httpRetryConfig=o,r.wsRetryConfig=i,r}return h(n,[{key:"setTranscodingConfig",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,g,v=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 66!==(i=er({},Cf,{},t)).videoCodecProfile&&77!==i.videoCodecProfile&&100!==i.videoCodecProfile&&(Bl.debug(bs(o="[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ")).call(o,i.videoCodecProfile," -> 100")),i.videoCodecProfile=100),i.transcodingUsers||(i.transcodingUsers=i.userConfigs),i.transcodingUsers&&(i.transcodingUsers=Vc(a=i.transcodingUsers).call(a,(function(e){return er({},Sf,{},e,{zOrder:e.zOrder?e.zOrder+1:1})}))),function(e){var t,n;null==e.width||Ue(e.width,"config.width",0,1e4),null==e.height||Ue(e.height,"config.height",0,1e4),null==e.videoBitrate||Ue(e.videoBitrate,"config.videoBitrate",1,1e6),null==e.videoFrameRate||Ue(e.videoFrameRate,"config.videoFrameRate"),null==e.lowLatency||Be(e.lowLatency,"config.lowLatency"),null==e.audioSampleRate||Pe(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),null==e.audioBitrate||Ue(e.audioBitrate,"config.audioBitrate",1,128),null==e.audioChannels||Pe(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),null==e.videoGop||Ue(e.videoGop,"config.videoGop"),null==e.videoCodecProfile||Pe(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),null==e.userCount||Ue(e.userCount,"config.userCount",0,17),null==e.backgroundColor||Ue(e.backgroundColor,"config.backgroundColor",0,16777215),null==e.userConfigExtraInfo||Fe(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&null!=e.transcodingUsers&&(Qe(e.transcodingUsers,"config.transcodingUsers"),xa(t=e.transcodingUsers).call(t,(function(e,t){Ve(e.uid),null==e.x||Ue(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),null==e.y||Ue(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),null==e.width||Ue(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),null==e.height||Ue(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),null==e.zOrder||Ue(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),null==e.alpha||Ue(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),null==e.watermark||Je(e.watermark,"watermark"),null==e.backgroundImage||Je(e.backgroundImage,"backgroundImage"),e.images&&null!=e.images&&(Qe(e.images,"config.images"),xa(n=e.images).call(n,(function(e,t){Je(e,"images[".concat(t,"]"))})))}(i),t=[],i.images&&(n=t).push.apply(n,f(Vc(s=i.images).call(s,(function(e){return er({},kf,{},e,{zOrder:255})})))),i.backgroundImage&&(t.push(er({},kf,{},i.backgroundImage,{zOrder:0})),delete i.backgroundImage),i.watermark&&(t.push(er({},kf,{},i.watermark,{zOrder:255})),delete i.watermark),i.images=t,i.transcodingUsers&&(i.userConfigs=Vc(c=i.transcodingUsers).call(c,(function(e){return er({},e)})),i.userCount=i.transcodingUsers.length,delete i.transcodingUsers),s=Vc(r=i.userConfigs||[]).call(r,(function(e){return"number"==typeof e.uid?Fc.resolve(e.uid):yn(e.uid,v.spec,v.cancelToken.token,v.httpRetryConfig)})),e.next=10,Fc.all(s);case 10:if(r=e.sent,xa(r).call(r,(function(e,t){i.userConfigs&&i.userConfigs[t]&&(i.userConfigs[t].uid=e)})),this.transcodingConfig=i,!this.connection){e.next=25;break}return e.prev=12,e.next=15,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Vc(u=Rd(Od(l=this.streamingTasks).call(l))).call(u,(function(e){return e.taskId})).join("#")});case 15:h=e.sent,Bl.debug(bs(d="[".concat(this.spec.clientId,"] update live transcoding config success, code: ")).call(d,h.code,", config:"),ri(this.transcodingConfig)),e.next=25;break;case 19:if(e.prev=19,e.t0=e.catch(12),e.t0.data&&e.t0.data.retry){e.next=23;break}throw e.t0;case 23:e.t0.data.changeAddress&&this.connection.tryNextAddress(),xa(g=this.streamingTasks).call(g,(function(t){Bl.warning("[".concat(v.spec.clientId,"] live streaming receive error"),e.t0.toString(),"try to republish",t.url),v.startLiveStreamingTask(t.url,t.mode,e.t0).then((function(){var e;Bl.debug(bs(e="[".concat(v.spec.clientId,"] live streaming republish ")).call(e,t.url," success"))})).catch((function(e){Bl.error("[".concat(v.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),v.onLiveStreamError&&v.onLiveStreamError(t.url,e)}))}));case 25:case"end":return e.stop()}}),e,this,[[12,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setInjectStreamConfig",value:function(e,t){this.injectConfig=ja({},this.injectConfig,e),this.injectLoopTimes=t}},{key:"startLiveStreamingTask",value:function(){var e=g(p.mark((function e(t,n,r){var i,o,a,s,c,u,l,f=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lu(i=Rd(Od(o=this.streamingTasks).call(o))).call(i,(function(e){return e.mode===uf.INJECT}))||n!==uf.INJECT){e.next=2;break}return e.abrupt("return",new Pl(ul.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw());case 2:if(this.transcodingConfig||n!==uf.TRANSCODE){e.next=4;break}throw new Pl(ul.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");case 4:return i={command:"PublishStream",ts:xd(),url:t,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0},Bl.debug(bs(a=bs(s="[".concat(this.spec.clientId,"] start live streaming ")).call(s,t,", mode: ")).call(a,n)),e.next=8,this.taskMutex.lock();case 8:if(a=e.sent,this.connection||!r){e.next=11;break}return e.abrupt("return",void a());case 11:if(!this.streamingTasks.get(t)||r){e.next=13;break}return e.abrupt("return",(a(),new Pl(ul.LIVE_STREAMING_TASK_CONFLICT).throw()));case 13:if(e.prev=13,e.t0=this.connection,e.t0){e.next=19;break}return e.next=18,this.connect(n);case 18:this.connection=e.sent;case 19:e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(13),a(),e.t1;case 24:e.t2=n,e.next=e.t2===uf.TRANSCODE?27:e.t2===uf.INJECT?29:30;break;case 27:return i.transcodingConfig=er({},this.transcodingConfig),e.abrupt("break",30);case 29:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:xd(),url:t,loopTimes:this.injectLoopTimes};case 30:return this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,s=this.lastTaskId++,e.prev=33,u=new Fc((function(e,n){zt(f.retryTimeout).then((function(){if(r)return n(r);var e=f.statusError.get(t);return e?(f.statusError.delete(t),n(e)):void 0}))})),e.next=37,Fc.race([this.connection.request("request",{clientRequest:i},!0,{url:t,command:"PublishStream",workerType:n===uf.TRANSCODE?1:2,requestByUser:!r,tid:s.toString()}),u]);case 37:l=e.sent,this.isStartingStreamingTask=!1,Bl.debug(bs(c="[".concat(this.spec.clientId,"] live streaming started, code: ")).call(c,l.code)),this.streamingTasks.set(t,{clientRequest:i,mode:n,url:t,taskId:s}),a(),e.next=59;break;case 44:if(e.prev=44,e.t3=e.catch(33),a(),this.isStartingStreamingTask=!1,e.t3.data&&e.t3.data.retry&&!r){e.next=48;break}throw e.t3;case 48:if(!e.t3.data.changeAddress){e.next=55;break}return this.connection.tryNextAddress(),e.next=52,this.startLiveStreamingTask(t,n,e.t3);case 52:e.t4=e.sent,e.next=58;break;case 55:return e.next=57,this.startLiveStreamingTask(t,n,e.t3);case 57:e.t4=e.sent;case 58:return e.abrupt("return",e.t4);case 59:case"end":return e.stop()}}),e,this,[[13,21],[33,44]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"stopLiveStreamingTask",value:function(e){var t=this;return new Fc((function(n,r){var i=t.streamingTasks.get(e);if(!i||!t.connection)return new Pl(ul.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var o=i.mode;i.abortTask=function(){Bl.debug("[".concat(t.spec.clientId,"] stop live streaming success(worker exception)")),t.streamingTasks.delete(e),n()},t.connection.request("request",{clientRequest:{command:o===uf.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:o===uf.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(r){var i;Bl.debug(bs(i="[".concat(t.spec.clientId,"] stop live streaming success, code: ")).call(i,r.code)),t.streamingTasks.delete(e),0===t.streamingTasks.size&&o!==uf.INJECT&&(t.connection&&t.connection.close(),t.connection=void 0),n(),o===uf.INJECT&&t.onInjectStatusChange&&t.onInjectStatusChange(5,t.spec.uid,e)})).catch(r)}))}},{key:"controlInjectStream",value:function(){var e=g(p.mark((function e(t,n,r,i){var o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this.streamingTasks.get(t))&&this.connection&&o.mode===uf.INJECT){e.next=3;break}throw new Pl(ul.INVALID_OPERATION,"can not find inject stream task to control");case 3:return e.next=5,this.connection.request("request",{clientRequest:{command:"ControlStream",url:t,control:n,audioVolume:r,position:i}});case 5:return e.abrupt("return",e.sent.serverResponse);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"resetAllTask",value:function(){var e,t=this,n=Rd(Od(e=this.streamingTasks).call(e));this.terminate();var r,i=v(n);try{var o=function(){var e=r.value;t.startLiveStreamingTask(e.url,e.mode).catch((function(n){t.onLiveStreamError&&t.onLiveStreamError(e.url,n)}))};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"terminate",value:function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new pa,this.isStartingStreamingTask=!1,this.statusError=new pa,this.cancelToken=Dl.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}},{key:"connect",value:function(){var e=g(p.mark((function e(t){var n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}throw new Pl(ul.UNEXPECTED_ERROR,"live streaming connection has already connected");case 2:return e.next=4,qt(this,vf.REQUEST_WORKER_MANAGER_LIST,t);case 4:return n=e.sent,this.uapResponse=n,this.connection=new hg(n.workerToken,this.spec,this.wsRetryConfig,t),this.connection.on(gf.WARNING,(function(e,t){return r.onLiveStreamWarning&&r.onLiveStreamWarning(t,e)})),this.connection.on(gf.PUBLISH_STREAM_STATUS,(function(e){return r.handlePublishStreamServer(e)})),this.connection.on(gf.INJECT_STREAM_STATUS,(function(e){return r.handleInjectStreamServerStatus(e)})),this.connection.on(gf.REQUEST_NEW_ADDRESS,(function(e,n){if(!r.connection)return n(new Pl(ul.UNEXPECTED_ERROR,"can not get new live streaming address list"));qt(r,vf.REQUEST_WORKER_MANAGER_LIST,t).then((function(t){r.uapResponse=t,e(t.addressList)})).catch(n)})),e.next=13,this.connection.init(n.addressList);case 13:return e.abrupt("return",this.connection);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePublishStreamServer",value:function(e){var t=this,n=e.serverStatus&&e.serverStatus.url||"empty_url",r=this.streamingTasks.get(n),i=e.reason;switch(e.code){case mf.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case mf.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:if(e=new Pl(ul.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}),r)return Bl.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,e);if(!this.isStartingStreamingTask)break;this.statusError.set(n,e);case mf.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:return e=new Pl(ul.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,i),this.onLiveStreamWarning&&this.onLiveStreamWarning(n,e);case mf.LIVE_STREAM_RESPONSE_WORKER_LOST:case mf.LIVE_STREAM_RESPONSE_WORKER_QUIT:var o;if(this.connection){this.connection.tryNextAddress(),n=Rd(Od(o=this.streamingTasks).call(o));var a,s=v(n);try{var c=function(){var n=a.value;n.abortTask?n.abortTask():(Bl.warning("[".concat(t.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),t.startLiveStreamingTask(n.url,n.mode,new Pl(ul.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){Bl.debug("[".concat(t.spec.clientId,"] republish live stream success"),n.url)})).catch((function(e){Bl.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)})))};for(s.s();!(a=s.n()).done;)c()}catch(u){s.e(u)}finally{s.f()}}}}},{key:"handleInjectStreamServerStatus",value:function(e){var t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(0,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(1,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(2,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(10,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(3,t,n),void this.streamingTasks.delete(n);default:return void Bl.debug("inject stream server status",e)}}},{key:"hasUrl",value:function(e){return this.streamingTasks.has(e)}}]),n}(Md),gg=function(){function e(){d(this,e),this.destChannelMediaInfos=new pa}return h(e,[{key:"setSrcChannelInfo",value:function(e){Xe(e),this.srcChannelMediaInfo=e}},{key:"addDestChannelInfo",value:function(e){Xe(e),this.destChannelMediaInfos.set(e.channelName,e)}},{key:"removeDestChannelInfo",value:function(e){ze(e),this.destChannelMediaInfos.delete(e)}},{key:"getSrcChannelMediaInfo",value:function(){return this.srcChannelMediaInfo}},{key:"getDestChannelMediaInfo",value:function(){return this.destChannelMediaInfos}}]),e}(),vg=function(e){u(n,e);var t=l(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).requestId=1,o.onOpen=function(){o.emit("open"),o.startHeartBeatCheck()},o.onClose=function(e){o.emit("close"),o.dispose()},o.onMessage=function(e){if(!(e=JSON.parse(e.data))||"serverResponse"!==e.command||!e.requestId)return e&&"serverStatus"===e.command&&e.serverStatus&&e.serverStatus.command?(o.emit("status",e.serverStatus),void o.emit(e.serverStatus.command,e.serverStatus)):void 0;o.emit("req_".concat(e.requestId),e)},o.joinInfo=e,o.clientId=r,o.ws=new tp("cross-channel-".concat(o.clientId),i),o.ws.on(cf.RECONNECTING,(function(){o.ws.reconnectMode="retry",o.emit("reconnecting")})),o.ws.on(cf.CONNECTED,o.onOpen),o.ws.on(cf.ON_MESSAGE,o.onMessage),o.ws.on(cf.CLOSED,o.onClose),o}return h(n,[{key:"isConnect",value:function(){return"connected"===this.ws.state}},{key:"sendMessage",value:function(e){var t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}},{key:"waitStatus",value:function(e){var t=this;return new Fc((function(n,r){var i=window.setTimeout((function(){r(new Pl(ul.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);t.once(e,(function(t){window.clearTimeout(i),t.state&&0!==t.state?r(new Pl(ul.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):n(void 0)})),t.once("dispose",(function(){window.clearTimeout(i),r(new Pl(ul.WS_ABORT))}))}))}},{key:"request",value:function(){var e=g(p.mark((function e(t){var n,r,i=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("closed"!==this.ws.state){e.next=2;break}throw new Pl(ul.WS_DISCONNECT);case 2:if(n=function(){return new Fc((function(e,t){i.ws.once(cf.CLOSED,(function(){return t(new Pl(ul.WS_ABORT))})),i.ws.once(cf.CONNECTED,e)}))},e.t0="connected"!==this.ws.state,!e.t0){e.next=7;break}return e.next=7,n();case 7:return r=this.sendMessage(t),e.next=10,new Fc((function(e,t){var n=function(){t(new Pl(ul.WS_ABORT))};i.ws.once(cf.RECONNECTING,n),i.ws.once(cf.CLOSED,n),i.once("req_".concat(r),e),zt(3e3).then((function(){i.removeAllListeners("req_".concat(r)),i.ws.off(cf.RECONNECTING,n),i.ws.off(cf.CLOSED,n),t(new Pl(ul.TIMEOUT,"cross channel ws request timeout"))}))}));case 10:if((t=e.sent)&&200===t.code){e.next=13;break}throw new Pl(ul.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(ri(t)));case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ws.removeAllListeners(cf.REQUEST_NEW_URLS),this.ws.on(cf.REQUEST_NEW_URLS,(function(e){e(t)})),e.next=4,this.ws.init(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}},{key:"sendPing",value:function(e){var t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}},{key:"startHeartBeatCheck",value:function(){var e=this;this.heartBeatTimer=window.setInterval((function(){e.sendPing({command:"ping",appId:e.joinInfo.appId,cname:e.joinInfo.cname,uid:e.joinInfo.uid.toString(),sid:e.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}},{key:"clearHeartBeatCheck",value:function(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}]),n}(Md),mg=function(e){u(n,e);var t=l(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this)).cancelToken=Dl.CancelToken.source(),a.requestId=0,a._state="RELAY_STATE_IDLE",a.errorCode="RELAY_OK",a.onStatus=function(e){var t;Bl.debug(bs(t="[".concat(a.clientId,"] ChannelMediaStatus: ")).call(t,ri(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&a.emit("event","PACKET_RECEIVED_AUDIO_FROM_SRC"),"onVideoPacketReceived"===e.command&&a.emit("event","PACKET_RECEIVED_VIDEO_FROM_SRC"),"onSrcTokenPrivilegeDidExpire"===e.command&&(a.errorCode="SRC_TOKEN_EXPIRED",a.state="RELAY_STATE_FAILURE"),"onDestTokenPrivilegeDidExpire"===e.command&&(a.errorCode="DEST_TOKEN_EXPIRED",a.state="RELAY_STATE_FAILURE"))},a.onReconnect=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bl.debug("[".concat(a.clientId,"] ChannelMediaSocket disconnect, reconnecting")),a.emit("event","NETWORK_DISCONNECTED"),a.state="RELAY_STATE_IDLE",a.prevChannelMediaConfig&&a.sendStartRelayMessage(a.prevChannelMediaConfig).catch((function(e){"RELAY_STATE_IDLE"!==a.state&&(Bl.error("auto restart channel media relay failed",e.toString()),a.errorCode="SERVER_CONNECTION_LOST",a.state="RELAY_STATE_FAILURE")}));case 4:case"end":return e.stop()}}),e)}))),a.joinInfo=e,a.clientId=r,a.signal=new vg(a.joinInfo,a.clientId,i),a.httpRetryConfig=o,a}return h(n,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&("RELAY_STATE_FAILURE"!==e&&(this.errorCode="RELAY_OK"),this.emit("state",e,this.errorCode),this._state=e)}},{key:"startChannelMediaRelay",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("RELAY_STATE_IDLE"===this.state){e.next=2;break}throw new Pl(ul.INVALID_OPERATION);case 2:return this.state="RELAY_STATE_CONNECTING",e.next=5,this.connect();case 5:return Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success")),e.prev=6,e.next=9,this.sendStartRelayMessage(t);case 9:e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(6),!e.t0.data||!e.t0.data.serverResponse||"SetSourceChannel"!==e.t0.data.serverResponse.command){e.next=15;break}throw new Pl(ul.CROSS_CHANNEL_FAILED_JOIN_SRC);case 15:if(!e.t0.data||!e.t0.data.serverResponse||"SetDestChannelStatus"!==e.t0.serverResponse.command){e.next=17;break}throw new Pl(ul.CROSS_CHANNEL_FAILED_JOIN_DEST);case 17:if(!e.t0.data||!e.t0.data.serverResponse||"StartPacketTransfer"!==e.t0.serverResponse.command){e.next=19;break}throw new Pl(ul.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);case 19:throw e.t0;case 20:this.prevChannelMediaConfig=t;case 21:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateChannelMediaRelay",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("RELAY_STATE_RUNNING"===this.state){e.next=2;break}throw new Pl(ul.INVALID_OPERATION);case 2:return e.next=4,this.sendUpdateMessage(t);case 4:this.prevChannelMediaConfig=t;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopChannelMediaRelay",value:function(){var e=g(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendStopRelayMessage();case 2:Bl.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state="RELAY_STATE_IDLE",this.dispose();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){Bl.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=Dl.CancelToken.source(),this.state="RELAY_STATE_IDLE",this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}},{key:"connect",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);case 2:return t=e.sent,this.workerToken=t.workerToken,e.next=6,this.signal.connect(t.addressList);case 6:this.emit("event","NETWORK_CONNECTED"),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendStartRelayMessage",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.genMessage(bf.StopPacketTransfer),e.next=3,this.signal.request(n);case 3:return e.next=5,this.signal.waitStatus("Normal Quit");case 5:return Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success")),n=this.genMessage(bf.SetSdkProfile,t),e.next=9,this.signal.request(n);case 9:return Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success")),n=this.genMessage(bf.SetSourceChannel,t),e.next=13,this.signal.request(n);case 13:return e.next=15,this.signal.waitStatus("SetSourceChannelStatus");case 15:return this.emit("event","PACKET_JOINED_SRC_CHANNEL"),Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success")),n=this.genMessage(bf.SetSourceUserId,t),e.next=20,this.signal.request(n);case 20:return Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success")),n=this.genMessage(bf.SetDestChannel,t),e.next=24,this.signal.request(n);case 24:return e.next=26,this.signal.waitStatus("SetDestChannelStatus");case 26:return this.emit("event","PACKET_JOINED_DEST_CHANNEL"),Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success")),t=this.genMessage(bf.StartPacketTransfer,t),e.next=31,this.signal.request(t);case 31:this.emit("event","PACKET_SENT_TO_DEST_CHANNEL"),this.state="RELAY_STATE_RUNNING",Bl.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success"));case 34:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendUpdateMessage",value:function(){var e=g(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.genMessage(bf.UpdateDestChannel,t),e.next=3,this.signal.request(t);case 3:this.emit("event","PACKET_UPDATE_DEST_CHANNEL"),Bl.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendStopRelayMessage",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.genMessage(bf.StopPacketTransfer),e.next=3,this.signal.request(t);case 3:Bl.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"genMessage",value:function(e,t){var n=this,r=[],i=[],o=[];this.requestId+=1;var a={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Ku,sid:this.joinInfo.sid,ts:xd(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.6.3"===a.sdkVersion&&(a.sdkVersion="0.0.1");var s=null,c=null;switch(e){case bf.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case bf.SetSourceChannel:if(!(c=t&&t.getSrcChannelMediaInfo()))throw new Pl(ul.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceChannel",uid:"0",channelName:c.channelName,token:c.token||this.joinInfo.appId},a;case bf.SetSourceUserId:if(!(c=t&&t.getSrcChannelMediaInfo()))throw new Pl(ul.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceUserId",uid:c.uid+""},a;case bf.SetDestChannel:if(!(s=t&&t.getDestChannelMediaInfo()))throw new Pl(ul.UNEXPECTED_ERROR,"can not find dest config");return xa(s).call(s,(function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.joinInfo.appId)})),a.clientRequest={command:"SetDestChannel",channelName:r,uid:i,token:o},a;case bf.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case bf.Reconnect:return a.clientRequest={command:"Reconnect"},a;case bf.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case bf.UpdateDestChannel:if(!(s=t&&t.getDestChannelMediaInfo()))throw new Pl(ul.UNEXPECTED_ERROR,"can not find dest config");return xa(s).call(s,(function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.joinInfo.appId)})),a.clientRequest={command:"UpdateDestChannel",channelName:r,uid:i,token:o},a}return a}}]),n}(Md),yg=function(){function e(t,n){d(this,e),this._trust_stream_added_state_=this._trust_video_mute_state_=this._trust_audio_mute_state_=this._trust_video_enabled_state_=this._trust_audio_enabled_state_=this._trust_in_room_=!0,this._video_muted_=this._audio_muted_=!1,this._video_enabled_=this._audio_enabled_=!0,this._video_added_=this._audio_added_=!1,this.uid=t,this._uintid=n}return h(e,[{key:"hasVideo",get:function(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}},{key:"hasAudio",get:function(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}},{key:"audioTrack",get:function(){if(this.hasAudio)return this._audioTrack}},{key:"videoTrack",get:function(){if(this.hasVideo)return this._videoTrack}}]),e}(),bg=function(){var e=g(p.mark((function e(t){var n,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tn("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),e.next=3,window.crypto.subtle.importKey("spki",n,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]);case 3:return n=e.sent,r=t,t=(new TextEncoder).encode(r),e.next=7,window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,t);case 7:return r=e.sent,e.abrupt("return",nn(new Uint8Array(r)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ag=function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=os(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(3>o?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Ka(t,n,a),a},_g=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Eg=function(e){u(n,e);var t=l(n);function n(e){var r,i,s,c,u,l;if(d(this,n),(r=t.call(this))._users=[],r._sessionId=null,r._bindEnabledTracks=[],r._leaveMutex=new Ld("client-leave"),r._publishMutex=new Ld("client-publish"),r._subscribeMutex=new pa,r._remoteStream=new pa,r._encryptionMode="none",r._encryptionSecret=null,r._encryptionSalt=null,r._turnServer={servers:[],mode:"auto"},r._cloudProxyServerMode="disabled",r._isDualStreamEnabled=!1,r._streamFallbackTypeCacheMap=new pa,r._remoteStreamTypeCacheMap=new pa,r._axiosCancelSource=Dl.CancelToken.source(),r._networkQualitySensitivity="normal",r._useLocalAccessPoint=!1,r._handleLocalTrackEnable=function(e,t,n){r.publish(e,!1).then(t).catch(n)},r._handleLocalTrackDisable=function(e,t,n){r.unpublish(e,!1).then(t).catch(n)},r._handleUserOnline=function(e){var t;r.isStringUID&&"string"!=typeof e.uid&&Bl.error("[".concat(r._clientId,"] StringUID is Mixed with UintUID"));var n=lu(t=r._users).call(t,(function(t){return t.uid===e.uid}));n?n._trust_in_room_=!0:(t=new yg(e.uid,e.uint_id||e.uid),r._users.push(t),Bl.debug("[".concat(r._clientId,"] user online"),e.uid),r.emit(Xl.USER_JOINED,t))},r._handleUserOffline=function(e){var t,n=lu(t=r._users).call(t,(function(t){return t.uid===e.uid}));n&&(r._handleRemoveStream(e),Xt(r._users,n),r._remoteStreamTypeCacheMap.delete(n.uid),r._streamFallbackTypeCacheMap.delete(n.uid),Bl.debug("[".concat(r._clientId,"] user offline"),e.uid,"reason:",e.reason),r.emit(Xl.USER_LEAVED,n,e.reason))},r._handleAddAudioOrVideoStream=function(e,t,n){var i,o,a,s,c,u=lu(i=r._users).call(i,(function(e){return e.uid===t}));u?(Bl.debug(bs(o=bs(a="[".concat(r._clientId,"] stream added with uid ")).call(a,t,", type ")).call(o,e)),i="audio"===e?u.hasAudio:u.hasVideo,u._uintid||(u._uintid=n||t),u._trust_stream_added_state_=!0,"audio"===e?u._audio_added_=!0:u._video_added_=!0,("audio"===e?u.hasAudio:u.hasVideo)&&!i&&(Bl.info(bs(s=bs(c="[".concat(r._clientId,"] remote user ")).call(c,u.uid," published ")).call(s,e)),r.emit(Xl.USER_PUBLISHED,u,e)),"video"===e?Nd.onGatewayStream(r._sessionId,Ul.ON_ADD_VIDEO_STREAM,Fl.ON_ADD_VIDEO_STREAM,{peer:n||t}):Nd.onGatewayStream(r._sessionId,Ul.ON_ADD_AUDIO_STREAM,Fl.ON_ADD_AUDIO_STREAM,{peer:n||t}),(e=r._remoteStream.get(t))&&e.readyToReconnect&&"connecting"===e.connectionState&&e.reconnectPC().catch((function(e){Bl.error("[".concat(r._clientId,"] resubscribe error"),e.toString())}))):Bl.error("[".concat(r._clientId,"] can not find target user!(on_add_stream)"))},r._handleRemoveStream=function(e){var t,n,i=lu(t=r._users).call(t,(function(t){return t.uid===e.uid}));i?(Bl.debug(bs(n="[".concat(r._clientId,"] stream removed with uid ")).call(n,e.uid)),t=function(){},i.hasAudio&&i.hasVideo?t=function(){var e,t;Bl.info(bs(e="[".concat(r._clientId,"] remote user ")).call(e,i.uid," unpublished audio track")),r.emit(Xl.USER_UNPUBLISHED,i,"audio"),Bl.info(bs(t="[".concat(r._clientId,"] remote user ")).call(t,i.uid," unpublished video track")),r.emit(Xl.USER_UNPUBLISHED,i,"video")}:i.hasVideo?t=function(){var e;Bl.info(bs(e="[".concat(r._clientId,"] remote user ")).call(e,i.uid," unpublished video track")),r.emit(Xl.USER_UNPUBLISHED,i,"video")}:i.hasAudio&&(t=function(){var e;Bl.info(bs(e="[".concat(r._clientId,"] remote user ")).call(e,i.uid," unpublished audio track")),r.emit(Xl.USER_UNPUBLISHED,i,"audio")}),i._trust_stream_added_state_=!0,i._audio_added_=!1,i._video_added_=!1,(n=r._remoteStream.get(i.uid))&&(n.closeP2PConnection(),r._remoteStream.delete(i.uid)),Nd.onGatewayStream(r._sessionId,Ul.ON_REMOVE_STREAM,Fl.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),t()):Bl.warning("[".concat(r._clientId,"] can not find target user!(on_remove_stream)"))},r._handleSetStreamLocalEnable=function(e,t,n){var i,o,a,s,c,u,l=lu(i=r._users).call(i,(function(e){return e.uid===t}));if(l){if(Bl.debug(bs(o=bs(a=bs(s="[".concat(r._clientId,"] local ")).call(s,e," ")).call(a,n?"enabled":"disabled"," with uid ")).call(o,t)),i="audio"===e?l.hasAudio:l.hasVideo,"audio"===e){l._trust_audio_enabled_state_=!0;var f,d,h=l._audio_enabled_;if(l._audio_enabled_=n,l._audio_enabled_===h)return;n=l._audio_enabled_?"enable-local-audio":"disable-local-audio",Bl.debug(bs(f=bs(d="[".concat(r._clientId,"] user-info-updated, uid: ")).call(d,t,", msg: ")).call(f,n)),r.emit(Xl.USER_INFO_UPDATED,t,n)}else{if(l._trust_video_enabled_state_=!0,f=l._video_enabled_,l._video_enabled_=n,l._video_enabled_===f)return;var p;n=l._video_enabled_?"enable-local-video":"disable-local-video",Bl.debug(bs(h=bs(p="[".concat(r._clientId,"] user-info-update, uid: ")).call(p,t,", msg: ")).call(h,n)),r.emit(Xl.USER_INFO_UPDATED,t,n)}if(i!==(n="audio"===e?l.hasAudio:l.hasVideo)){var g,v;if(!i&&n)return Bl.info(bs(g=bs(v="[".concat(r._clientId,"] remote user ")).call(v,t," published ")).call(g,e)),void r.emit(Xl.USER_PUBLISHED,l,e);(g=r._remoteStream.get(t))&&((v=rr({},g.subscribeOptions)).audio=!!l.hasAudio&&v.audio,v.video=!!l.hasVideo&&v.video,v.audio||v.video?g.setSubscribeOptions(v):(g.closeP2PConnection().catch((function(e){Bl.warning("close sub pc error",e)})),r._remoteStream.delete(l.uid))),Bl.info(bs(c=bs(u="[".concat(r._clientId,"] remote user ")).call(u,l.uid," unpublished ")).call(c,e)),r.emit(Xl.USER_UNPUBLISHED,l,e)}}else Bl.error("[".concat(r._clientId,"] can not find target user!(disable_local)"))},r._handleMuteStream=function(e,t,n){var i,o,a;Bl.debug("[".concat(r._clientId,"] receive mute message"),e,t,n);var s,c=lu(i=r._users).call(i,(function(t){return t.uid===e}));if(c){if(i="audio"===t?c.hasAudio:c.hasVideo,"audio"===t){c._trust_audio_mute_state_=!0;var u,l,f=c._audio_muted_;if(c._audio_muted_=n,c._audio_muted_===f)return;n=c._audio_muted_?"mute-audio":"unmute-audio",Bl.debug(bs(u=bs(l="[".concat(r._clientId,"] user-info-update, uid: ")).call(l,e,", msg: ")).call(u,n)),r.emit(Xl.USER_INFO_UPDATED,e,n)}else{if(c._trust_video_mute_state_=!0,u=c._video_muted_,c._video_muted_=n,c._video_muted_===u)return;var d;n=c._video_muted_?"mute-video":"unmute-video",Bl.debug(bs(f=bs(d="[".concat(r._clientId,"] user-info-update, uid: ")).call(d,e,", msg: ")).call(f,n)),r.emit(Xl.USER_INFO_UPDATED,e,n)}if(i!==(n="audio"===t?c.hasAudio:c.hasVideo)){var h,p;if(!i&&n)return Bl.info(bs(h=bs(p="[".concat(r._clientId,"] remote user ")).call(p,e," published ")).call(h,t)),void r.emit(Xl.USER_PUBLISHED,c,t);(h=r._remoteStream.get(e))&&((p=rr({},h.subscribeOptions)).audio=!!c.hasAudio&&p.audio,p.video=!!c.hasVideo&&p.video,"video"===t&&h.pc._statsFilter.setVideoIsReady(!1),p.audio||p.video?h.setSubscribeOptions(p):(h.closeP2PConnection().catch((function(e){Bl.warning("close sub pc error",e)})),r._remoteStream.delete(c.uid))),Bl.info(bs(o=bs(a="[".concat(r._clientId,"] remote user ")).call(a,e," unpublished ")).call(o,t)),r.emit(Xl.USER_UNPUBLISHED,c,t)}}else Bl.warning(bs(s="[".concat(r._clientId,"] can not find remote user, ignore mute event, uid: ")).call(s,e))},r._handleP2PLost=function(e){Bl.debug("[".concat(r._clientId,"] receive p2p lost"),e);var t=null;if(r._highStream&&r._highStream.pc.ID===e.p2pid)t=r._highStream;else if(r._lowStream&&r._lowStream.pc.ID===e.p2pid)t=r._lowStream;else{var n;xa(n=r._remoteStream).call(n,(function(n){n.pc.ID===e.p2pid&&(t=n)}))}t?t.emit(of.GATEWAY_P2P_LOST,e.p2pid):Bl.warning("P2PLost stream not found",e)},r._handleTokenWillExpire=function(){Bl.debug("[".concat(r._clientId,"] received message onTokenPrivilegeWillExpire")),r.emit(Xl.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)},r._handleBeforeUnload=function(e){void 0!==e.returnValue&&""!==e.returnValue||(r.leave(),Bl.info("[".concat(r._clientId,"] auto leave onbeforeunload")))},r._handleUpdateNetworkQuality=function(){var e;if("normal"!==r._networkQualitySensitivity){if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void r.emit(Xl.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});var t={downlinkNetworkQuality:0,uplinkNetworkQuality:0};r._highStream&&!r._highStream.detecting&&(t.uplinkNetworkQuality=r._highStream.getNetworkQuality());var n=0;xa(e=r._remoteStream).call(e,(function(e){return n+=e.getNetworkQuality()})),0<r._remoteStream.size&&(t.downlinkNetworkQuality=Math.round(n/r._remoteStream.size)),r.emit(Xl.NETWORK_QUALITY,t)}},r._codec=e.codec,r._mode=e.mode,e.proxyServer&&(r._proxyServer=e.proxyServer,Nd.setProxyServer(r._proxyServer),Bl.setProxyServer(r._proxyServer)),e.turnServer&&(r._turnServer=rr({},r._turnServer,{mode:"manual"},e.turnServer)),r._clientId=Kt(5,"client-"),Bl.info(bs(i=bs(s=bs(c=bs(u="[".concat(r._clientId,"] Initializing AgoraRTC client v")).call(u,Ku," build: ")).call(c,"v4.6.3-0-g91da319d(8/10/2021, 9:07:29 PM)",", mode: ")).call(s,r._mode,", codec: ")).call(i,r._codec)),e.clientRoleOptions)try{Ye(e.clientRoleOptions),l=ja({},e.clientRoleOptions)}catch(h){var f;Bl.warning(bs(f="[".concat(r._clientId,"] ")).call(f,h.toString()))}return r._statsCollector=new fh(r._clientId),r._statsCollector.onStatsException=function(e,t,n){var i,o,a;Bl.debug(bs(i=bs(o=bs(a="[".concat(r._clientId,"] receive exception msg, code: ")).call(a,e,", msg: ")).call(o,t,", uid: ")).call(i,n)),r.emit(Xl.EXCEPTION,{code:e,msg:t,uid:n})},r._statsCollector.onUploadPublishDuration=function(e,t,n,i){var o,a=lu(o=r._users).call(o,(function(t){return t.uid===e}));a&&Nd.peerPublishStatus(r._sessionId,{subscribeElapse:i,audioPublishDuration:t,videoPublishDuration:n,peer:a._uintid})},r._gateway=new op({clientId:r._clientId,mode:r._mode,codec:r._codec,websocketRetryConfig:e.websocketRetryConfig||bh,httpRetryConfig:e.httpRetryConfig||bh,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:r._statsCollector,role:e.role,clientRoleOptions:l}),r._config=e,r._configDistribute=new hp,r._handleGatewayEvents(),el.push(o(r)),a(r)}return h(n,[{key:"connectionState",get:function(){return this._gateway.state}},{key:"remoteUsers",get:function(){return this._users}},{key:"localTracks",get:function(){return this._highStream?this._highStream.getAllTracks():[]}},{key:"uid",get:function(){return this._uid}},{key:"channelName",get:function(){return this._channelName}},{key:"isStringUID",get:function(){return!!this._joinInfo&&!!this._joinInfo.stringUid}},{key:"join",value:function(){var e=g(p.mark((function e(t,n,r,i,o){var a,s,c,u,l,f,d,h,g,v,m,y=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="HTTPS"===(rg||rg||(rg=(window.location.protocol.split(":")[0]||"").toUpperCase())),c=void 0!==window.isSecureContext?window.isSecureContext:"Browser Not Support",u=function(){Bl.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser")},void 0!==window.isSecureContext?window.isSecureContext||u():s||u(),s=Nd.reportApiInvoke(this._sessionId,{name:zl.JOIN,options:[t,n,r,i],states:{isHttps:s,isSecureContext:c},tag:Vl.TRACER}),e.prev=4,r||null===r){e.next=7;break}throw new Pl(ul.INVALID_PARAMS,"Invalid token: ".concat(r,". If you don not use token, set it to null"));case 7:r&&Fe(r,"token",1,2047),Fe(t,"appid",1,2047),ze(n),i&&Ve(i),o&&Fe(o,"optionalInfo",1,2047),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),s.onError(e.t0),e.t0;case 17:if(Bl.info(bs(a="[".concat(this._clientId,"] start join channel ")).call(a,n)),!this._leaveMutex.isLocked){e.next=24;break}return Bl.debug("[".concat(this._clientId,"] join: waiting leave operation")),e.next=21,this._leaveMutex.lock();case 21:e.t1=e.sent,(0,e.t1)(),Bl.debug("[".concat(this._clientId,"] join: continue"));case 24:if("DISCONNECTED"===this.connectionState){e.next=26;break}throw t=new Pl(ul.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state")),s.onError(t),t;case 26:if(this._sessionId||(this._sessionId=Kt(32,"").toUpperCase()),this._gateway.state="CONNECTING",o={clientId:this._clientId,appId:t,sid:this._sessionId,cname:n,uid:"string"!=typeof i?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:r||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:o,useLocalAccessPoint:this._useLocalAccessPoint},"string"==typeof i&&(o.stringUid=i,this._uintUid?(o.uid=this._uintUid,this._uintUid=void 0):o.uid=0),e.t2="none"!==this._encryptionMode&&this._encryptionSecret,!e.t2){e.next=37;break}return o.aesmode=this._encryptionMode,e.next=35,bg(this._encryptionSecret);case 35:o.aespassword=e.sent,this._encryptionSalt&&(o.aessalt=this._encryptionSalt);case 37:if(this._startSession(this._sessionId,{channel:n,appId:t}),wd((function(){"CONNECTING"===y.connectionState&&Nd.joinChannelTimeout(y._sessionId,5)}),5e3),e.prev=39,"443only"===o.cloudProxyServer?o.proxyServer=Zu.PROXY_SERVER_TYPE2:"proxy3"!==o.cloudProxyServer&&"proxy4"!==o.cloudProxyServer&&"proxy5"!==o.cloudProxyServer||(o.proxyServer=Zu.PROXY_SERVER_TYPE3),Nd.setProxyServer(o.proxyServer),Bl.setProxyServer(o.proxyServer),!o.stringUid||o.uid||"normal"!==o.cloudProxyServer){e.next=53;break}return e.next=43,vn(o,this._axiosCancelSource.token,this._config.httpRetryConfig||bh,!1);case 43:return e.next=45,yn(o.stringUid,o,this._axiosCancelSource.token,this._config.httpRetryConfig||bh);case 45:return h=e.sent,Bl.debug(bs(d="getUserAccount Success ".concat(o.stringUid," => ")).call(d,h)),o.uid=h,e.next=50,pn(o,this._axiosCancelSource.token,this._config.httpRetryConfig||bh);case 50:f=e.sent,e.next=62;break;case 53:if(!o.stringUid||o.uid){e.next=59;break}return e.next=56,yn(o.stringUid,o,this._axiosCancelSource.token,this._config.httpRetryConfig||bh);case 56:v=e.sent,Bl.debug(bs(g="getUserAccount Success ".concat(o.stringUid," => ")).call(g,v)),o.uid=v;case 59:return e.next=61,vn(o,this._axiosCancelSource.token,this._config.httpRetryConfig||bh,!0);case 61:f=e.sent;case 62:return this._configDistribute.startGetConfigDistribute(o,this._axiosCancelSource.token),this._configDistribute.on(xf.UPDATE_BITRATE_LIMIT,(function(e){y._highStream&&y._highStream.handleUpdateBitrateLimit(e.uplink),e.low_stream_uplink&&y._lowStream&&y._lowStream.handleUpdateBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})})),this._key=r||t,this._joinInfo=rr({},o,{cid:f.gatewayInfo.cid,uid:o.uid?o.uid:f.gatewayInfo.uid,vid:f.gatewayInfo.vid,apResponse:f.gatewayInfo.res,uni_lbs_ip:f.gatewayInfo.uni_lbs_ip,gatewayAddrs:f.gatewayInfo.gatewayAddrs}),e.next=68,this._gateway.join(this._joinInfo,this._key);case 68:return m=e.sent,e.abrupt("return",(s.onSuccess(m),this._appId=t,this._channelName=o.cname,this._uid=m,this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener("beforeunload",this._handleBeforeUnload),Bl.info(bs(l="[".concat(this._clientId,"] Joining channel success: ")).call(l,n)),wd((function(){Bl.startUpload()}),5e3),m));case 72:throw e.prev=72,e.t3=e.catch(39),t=ll(e.t3)?e.t3[0]:e.t3,Bl.error("[".concat(this._clientId,"] Joining channel failed, rollback"),t),t.code!==ul.OPERATION_ABORTED&&(this._gateway.state="DISCONNECTED",this._reset()),s.onError(t),t;case 75:case"end":return e.stop()}}),e,this,[[4,14],[39,72]])})));function t(t,n,r,i,o){return e.apply(this,arguments)}return t}()},{key:"leave",value:function(){var e=g(p.mark((function e(){var t,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Nd.reportApiInvoke(this._sessionId,{name:zl.LEAVE,options:[],tag:Vl.TRACER}),Bl.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener("beforeunload",this._handleBeforeUnload),this._reset(),e.next=6,this._leaveMutex.lock();case 6:if(n=e.sent,"DISCONNECTED"!==this.connectionState){e.next=9;break}return e.abrupt("return",(Bl.info("[".concat(this._clientId,"] Leaving channel repeated, success")),n(),t.onSuccess()));case 9:return e.next=11,this._gateway.leave("CONNECTED"!==this.connectionState);case 11:Bl.info("[".concat(this._clientId,"] Leaving channel success")),n(),t.onSuccess();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u,l,f=this,d=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(d.length>1&&void 0!==d[1])||d[1],ll(t)||(t=[t]),o=Nd.reportApiInvoke(this._sessionId,{name:zl.PUBLISH,options:Vc(t).call(t,(function(e){return e?Object(e).toString():"null"})),tag:Vl.TRACER}),0!==t.length){e.next=5;break}return e.abrupt("return",(t=new Pl(ul.INVALID_PARAMS,"track list is empty"),o.onError(t),t.throw()));case 5:if("audience"!==this._gateway.role){e.next=7;break}return e.abrupt("return",(t=new Pl(ul.INVALID_OPERATION,"audience can not publish stream"),o.onError(t),t.throw()));case 7:a=v(t),e.prev=8,a.s();case 10:if((s=a.n()).done){e.next=18;break}if((c=s.value)instanceof Bd){e.next=14;break}return e.abrupt("return",(t=new Pl(ul.INVALID_PARAMS,"pamameter is not local track"),o.onError(t),t.throw()));case 14:if(c._enabled||!n){e.next=16;break}return e.abrupt("return",(t=new Pl(ul.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(c.getTrackId())),o.onError(t),t.throw()));case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),a.e(e.t0);case 23:return e.prev=23,a.f(),e.finish(23);case 26:return Bl.info(bs(r="[".concat(this._clientId,"] Publishing tracks, id ")).call(r,Vc(t).call(t,(function(e){return"".concat(e.getTrackId()," ")})))),e.next=29,this._configDistribute.awaitConfigDistributeComplete();case 29:if(n&&xa(t).call(t,(function(e){var t,n,r=f._configDistribute.getBitrateLimit();e instanceof eg&&r&&e.setBitrateLimit(r.uplink),-1===eu(t=f._bindEnabledTracks).call(t,e)&&(e.addListener(_f.NEED_ADD_TRACK,f._handleLocalTrackEnable),e.addListener(_f.NEED_REMOVE_TRACK,f._handleLocalTrackDisable),f._bindEnabledTracks.push(e),tt()&&e.muted&&Bl.debug(bs(n="[".concat(f._clientId,"] on firefox publish a muted track ")).call(n,e.getTrackId(),", skip the pub operation and wait unmute")))})),!tt()||0!==(t=Es(t).call(t,(function(e){return!e.muted}))).length){e.next=32;break}return e.abrupt("return",void o.onSuccess());case 32:return e.next=34,this._publishMutex.lock();case 34:return r=e.sent,e.prev=35,e.next=38,this._publishHighStream(t);case 38:if((u=e.sent).audioTrack,l=u.videoTrack,e.t1=this._isDualStreamEnabled&&l&&!this._lowStream,!e.t1){e.next=44;break}return e.next=44,this._publishLowStream(l);case 44:r(),o.onSuccess(),e.next=51;break;case 48:throw e.prev=48,e.t2=e.catch(35),r(),n&&xa(t).call(t,(function(e){var t,n,r=eu(t=f._bindEnabledTracks).call(t,e);-1!==r&&(e.off(_f.NEED_ADD_TRACK,f._handleLocalTrackEnable),e.off(_f.NEED_REMOVE_TRACK,f._handleLocalTrackDisable),Wc(n=f._bindEnabledTracks).call(n,r,1))})),o.onError(e.t2),Bl.error("[".concat(this._clientId,"] publish error"),e.t2.toString()),e.t2;case 51:Bl.info(bs(i="[".concat(this._clientId,"] Publish success, id ")).call(i,Vc(t).call(t,(function(e){return"".concat(e.getTrackId()," ")}))));case 52:case"end":return e.stop()}}),e,this,[[8,20,23,26],[35,48]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unpublish",value:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c=this,u=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(u.length>1&&void 0!==u[1])||u[1],this._highStream){e.next=3;break}return e.abrupt("return",void Bl.warning("[".concat(this._clientId,"] Could not find tracks to unpublish")));case 3:if(a=this._highStream.getAllTracks(),t?ll(t)||(t=[t]):t=this._highStream.getAllTracks(),a=function(e,t){if(e.length!==t.length)return!1;for(var n=function(n){var r=e[n];if(Es(e).call(e,(function(e){return e===r})).length!==Es(t).call(t,(function(e){return e===r})).length)return{v:!1}},r=0;r<e.length;r+=1){var i=n(r);if("object"===typeof i)return i.v}return!0}(a,t),s=Nd.reportApiInvoke(this._sessionId,{name:zl.UNPUBLISH,options:Vc(t).call(t,(function(e){return e.getTrackId()})),tag:Vl.TRACER}),Bl.info(bs(r=bs(i="[".concat(this._clientId,"] Unpublish tracks, tracks ")).call(i,Vc(t).call(t,(function(e){return"".concat(e.getTrackId()," ")})),", isClosePC: ")).call(r,a)),!a){e.next=12;break}e.t0=void 0,e.next=15;break;case 12:return e.next=14,this._publishMutex.lock();case 14:e.t0=e.sent;case 15:if(r=e.t0,this._highStream){e.next=18;break}return e.abrupt("return",(Bl.warning("[".concat(this._clientId,"] Could not find tracks to unpublish")),void(r&&r())));case 18:if(e.prev=18,e.t1=this._lowStream&&0<Es(t).call(t,(function(e){return"video"===e.trackMediaType})).length,!e.t1){e.next=24;break}return e.next=23,this._lowStream.closeP2PConnection();case 23:this._lowStream=void 0;case 24:if(!a){e.next=29;break}return e.next=27,this._highStream.closeP2PConnection();case 27:e.next=31;break;case 29:return e.next=31,this._highStream.removeTracks(t,n);case 31:r&&r(),e.next=40;break;case 34:if(e.prev=34,e.t2=e.catch(18),e.t2.code===ul.OPERATION_ABORTED){e.next=38;break}throw s.onError(e.t2),Bl.error("[".concat(this._clientId,"] unpublish error"),e.t2.toString()),r&&r(),e.t2;case 38:Bl.debug("[".concat(this._clientId,"] ignore unpub operation abort")),r&&r();case 40:this._highStream&&"disconnected"===this._highStream.connectionState&&(this._highStream=void 0,this._lowStream=void 0),n&&xa(t).call(t,(function(e){var t,n,r=eu(t=c._bindEnabledTracks).call(t,e);-1!==r&&(e.off(_f.NEED_ADD_TRACK,c._handleLocalTrackEnable),e.off(_f.NEED_REMOVE_TRACK,c._handleLocalTrackDisable),Wc(n=c._bindEnabledTracks).call(n,r,1))})),Bl.info(bs(o="[".concat(this._clientId,"] Unpublish success,tracks ")).call(o,Vc(t).call(t,(function(e){return"".concat(e.getTrackId())})))),s.onSuccess();case 44:case"end":return e.stop()}}),e,this,[[18,34]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"subscribe",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s,c,u,l,f,d,h,g=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(n,"mediaType",["audio","video"]),s=Nd.reportApiInvoke(this._sessionId,{name:zl.SUBSCRIBE,options:[t.uid,n],tag:Vl.TRACER}),this._joinInfo){e.next=4;break}throw n=new Pl(ul.INVALID_OPERATION,"Can't subscribe stream, not joined"),s.onError(n),n;case 4:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=6;break}throw n=new Pl(ul.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state")),s.onError(n),n;case 6:if(lu(r=this._users).call(r,(function(e){return e===t}))){e.next=9;break}throw n=new Pl(ul.INVALID_REMOTE_USER,"user is not in the channel"),Bl.error(bs(c="[".concat(this._clientId,"] can not subscribe ")).call(c,t.uid,", this user is not in the channel")),s.onError(n),n;case 9:if(t.hasAudio||t.hasVideo){e.next=12;break}throw n=new Pl(ul.INVALID_REMOTE_USER,"user is not published"),Bl.error(bs(u="[".concat(this._clientId,"] can not subscribe ")).call(u,t.uid,", user is not published")),s.onError(n),n;case 12:if(c={audio:"audio"===n,video:"video"===n},!(!t.hasAudio&&c.audio||!t.hasVideo&&c.video)){e.next=16;break}throw d=new Pl(ul.REMOTE_USER_IS_NOT_PUBLISHED),Bl.error(bs(l=bs(f="[".concat(this._clientId,"] can not subscribe ")).call(f,t.uid," with mediaType ")).call(l,n,", remote track is not published")),s.onError(d),d;case 16:return(l=this._subscribeMutex.get(t.uid))||(l=new Ld("sub-".concat(t.uid)),this._subscribeMutex.set(t.uid,l)),Bl.info(bs(i=bs(o="[".concat(this._clientId,"] subscribe user ")).call(o,t.uid,", mediaType: ")).call(i,n)),e.next=20,l.lock();case 20:if(i=e.sent,o=this._remoteStream.get(t.uid),e.prev=22,!o){e.next=30;break}return c.audio=c.audio||o.subscribeOptions.audio,c.video=c.video||o.subscribeOptions.video,e.next=28,this._gateway.subscribeChange(o,c);case 28:e.next=41;break;case 30:return o=new dg(t,this._statsCollector,this._joinInfo,c),this._remoteStream.set(t.uid,o),e.prev=32,e.next=35,this._gateway.subscribe(o);case 35:e.next=40;break;case 37:throw e.prev=37,e.t0=e.catch(32),this._remoteStream.delete(t.uid),e.t0;case 40:o.on(of.CONNECTION_STATE_CHANGE,(function(e,n){"connecting"===e?g.emit(Xl.MEDIA_RECONNECT_START,t.uid):"connected"===e&&g.emit(Xl.MEDIA_RECONNECT_END,t.uid)}));case 41:i(),e.next=47;break;case 44:throw e.prev=44,e.t1=e.catch(22),s.onError(e.t1),i(),Bl.error(bs(h="[".concat(this._clientId,"] subscribe user ")).call(h,t.uid," error"),e.t1),e.t1;case 47:return Bl.info(bs(d=bs(a="[".concat(this._clientId,"] subscribe success user ")).call(a,t.uid,", mediaType: ")).call(d,n)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch((function(e){Bl.warning("[".concat(g._clientId,"] auto set fallback failed"),e)})),n="audio"===n?t.audioTrack:t.videoTrack,e.abrupt("return",n?(s.onSuccess(n.getTrackId()),n):(n=new Pl(ul.UNEXPECTED_ERROR,"can not find remote track in user object"),s.onError(n),n.throw()));case 51:case"end":return e.stop()}}),e,this,[[22,44],[32,37]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unsubscribe",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a,s,c,u,l,f;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&Pe(n,"mediaType",["audio","video"]),c=Nd.reportApiInvoke(this._sessionId,{name:zl.UNSUBSCRIBE,options:[t.uid,n],tag:Vl.TRACER}),lu(r=this._users).call(r,(function(e){return e===t}))){e.next=5;break}throw n=new Pl(ul.INVALID_REMOTE_USER,"user is not in the channel"),Bl.error(bs(u="[".concat(this._clientId,"] can not subscribe ")).call(u,t.uid,", user is not in the channel")),c.onError(n),n;case 5:return Bl.info(bs(i=bs(o="[".concat(this._clientId,"] unsubscribe uid: ")).call(o,t.uid,", mediaType: ")).call(i,n)),(u=this._subscribeMutex.get(t.uid))||(u=new Ld("sub-".concat(t.uid)),this._subscribeMutex.set(t.uid,u)),e.next=9,u.lock();case 9:if(u=e.sent,r=this._remoteStream.get(t.uid)){e.next=13;break}return e.abrupt("return",(Bl.warning(bs(l="[".concat(this._clientId,"]: you have not subscribe the remote user ")).call(l,t.uid)),c.onSuccess(),void u()));case 13:if(l=rr({},r.subscribeOptions),"audio"===n?l.audio=!1:"video"===n?(l.video=!1,r.pc._statsFilter.setVideoIsReady(!1)):(l.audio=!1,l.video=!1),e.prev=15,!l.audio&&!l.video){e.next=21;break}return e.next=19,this._gateway.subscribeChange(r,l);case 19:e.next=24;break;case 21:return e.next=23,r.closeP2PConnection();case 23:this._remoteStream.delete(t.uid);case 24:u(),e.next=33;break;case 27:if(e.prev=27,e.t0=e.catch(15),e.t0.code===ul.OPERATION_ABORTED){e.next=31;break}throw c.onError(e.t0),u(),Bl.error(bs(f="[".concat(this._clientId,"] unsubscribe user ")).call(f,t.uid," error"),e.t0.toString()),e.t0;case 31:u(),Bl.debug("[".concat(this._clientId,"] ignore unsub operation abort"));case 33:Bl.info(bs(a=bs(s="[".concat(this._clientId,"] unsubscribe success uid: ")).call(s,t.uid,", mediaType: ")).call(a,n)),c.onSuccess();case 35:case"end":return e.stop()}}),e,this,[[15,27]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setLowStreamParameter",value:function(e){if(!e)throw new Pl(ul.INVALID_PARAMS);null==e.width||Ue(e.width,"streamParameter.width"),null==e.height||Ue(e.height,"streamParameter.height"),null==e.framerate||Ue(e.framerate,"streamParameter.framerate"),null==e.bitrate||Ue(e.bitrate,"streamParameter.bitrate");var t=Nd.reportApiInvoke(this._sessionId,{name:zl.SET_LOW_STREAM_PARAMETER,options:[e],tag:Vl.TRACER});(!e.width&&e.height||e.width&&!e.height)&&Bl.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),Bl.info("[".concat(this._clientId,"] set low stream parameter to"),ri(e));var n=this._configDistribute.getLowStreamConfigDistribute();n&&n.bitrate&&e.bitrate&&n.bitrate<e.bitrate&&(e.bitrate=n.bitrate),this._lowStreamParameter=e,t.onSuccess()}},{key:"enableDualStream",value:function(){var e=g(p.mark((function e(){var t,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Nd.reportApiInvoke(this._sessionId,{name:zl.ENABLE_DUAL_STREAM,options:[],tag:Vl.TRACER}),Nf.supportDualStream){e.next=5;break}throw Nd.streamSwitch(this._sessionId,{lts:xd(),isdual:!0,succ:!1}),n=new Pl(ul.NOT_SUPPORTED,"Your browser is not support dual stream"),t.onError(n),n;case 5:if(!this._isDualStreamEnabled){e.next=7;break}throw n=new Pl(ul.INVALID_OPERATION,"Dual stream is already enabled"),t.onError(n),n;case 7:if(!this._highStream||"connected"!==this._highStream.connectionState||!this._highStream.videoTrack){e.next=16;break}return e.prev=8,e.next=11,this._publishLowStream(this._highStream.videoTrack);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(8),Nd.streamSwitch(this._sessionId,{lts:xd(),isdual:!0,succ:!1}),t.onError(e.t0),e.t0;case 16:this._isDualStreamEnabled=!0,Nd.streamSwitch(this._sessionId,{lts:xd(),isdual:!0,succ:!0}),Bl.info("[".concat(this._clientId,"] enable dual stream")),t.onSuccess();case 20:case"end":return e.stop()}}),e,this,[[8,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"disableDualStream",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Nd.reportApiInvoke(this._sessionId,{name:zl.DISABLE_DUAL_STREAM,options:[],tag:Vl.TRACER}),!this._lowStream){e.next=10;break}return e.prev=2,e.next=5,this._lowStream.closeP2PConnection();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),Nd.streamSwitch(this._sessionId,{lts:xd(),isdual:!1,succ:!1}),t.onError(e.t0),e.t0;case 10:this._lowStream=void 0,this._isDualStreamEnabled=!1,this._highStream&&(this._highStream.lowStreamConnection=void 0),Nd.streamSwitch(this._sessionId,{lts:xd(),isdual:!1,succ:!0}),Bl.info("[".concat(this._clientId,"] disable dual stream")),t.onSuccess();case 16:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setClientRole",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(t,"role",["audience","host"]),n&&Ye(n),r=Nd.reportApiInvoke(this._sessionId,{name:zl.SET_CLIENT_ROLE,options:[t,n],tag:Vl.TRACER}),"rtc"!==this._mode){e.next=6;break}return e.abrupt("return",(Bl.warning("[".concat(this._clientId,"]rtc mode can not use setClientRole")),t=new Pl(ul.INVALID_OPERATION,"rtc mode can not use setClientRole"),r.onError(t),t.throw()));case 6:if(!n||!n.level||"host"!==t){e.next=8;break}return e.abrupt("return",(t=new Pl(ul.INVALID_OPERATION,"host mode can not set audience latency level"),r.onError(t),t.throw()));case 8:if(e.prev=8,"audience"!==t||!this._highStream){e.next=12;break}return a=new Pl(ul.INVALID_OPERATION,"can not set client role to audience when publishing stream"),e.abrupt("return",(r.onError(a),a.throw()));case 12:return e.next=14,this._gateway.setClientRole(t,n);case 14:Bl.info(bs(i=bs(o="[".concat(this._clientId,"] set client role to ")).call(o,t,", level: ")).call(i,n&&n.level)),r.onSuccess(),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(8),r.onError(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,this,[[8,18]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setProxyServer",value:function(e){if(Fe(e,"proxyServer"),"DISCONNECTED"!==this.connectionState)throw new Pl(ul.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Pl(ul.INVALID_OPERATION,"You have already set the proxy");this._proxyServer=e,Nd.setProxyServer(this._proxyServer),Bl.setProxyServer(this._proxyServer)}},{key:"setTurnServer",value:function(e){if(ll(e)||(e=[e]),"DISCONNECTED"!==this.connectionState)throw new Pl(ul.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Pl(ul.INVALID_OPERATION,"You have already set the proxy");var t;if(qe(e))return this._turnServer={servers:e,mode:"original-manual"},void Bl.info(bs(t="[".concat(this._clientId,"] Set original turnserver success: ")).call(t,Vc(e).call(e,(function(e){return e.urls})).join(","),"."));xa(e).call(e,(function(e){return We(e)})),this._turnServer={servers:e,mode:"manual"},Bl.info("[".concat(this._clientId,"] Set turnserver success."))}},{key:"startProxyServer",value:function(e){var t=Nd.reportApiInvoke(this._sessionId,{name:zl.START_PROXY_SERVER,options:[],tag:Vl.TRACER});if("DISCONNECTED"!==this.connectionState)throw e=new Pl(ul.INVALID_OPERATION,"Start proxy server before join channel"),t.onError(e),e;if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw e=new Pl(ul.INVALID_OPERATION,"You have already set the proxy"),t.onError(e),e;var n=[1,2,3,4,5];switch(void 0===e&&(e=1),e){case 1:this._cloudProxyServerMode="normal";break;case 2:this._cloudProxyServerMode="443only";break;case 3:this._cloudProxyServerMode="proxy3";break;case 4:this._cloudProxyServerMode="proxy4";break;case 5:this._cloudProxyServerMode="proxy5";break;default:throw e=new Pl(ul.INVALID_PARAMS,"proxy server mode must be ".concat(n.join("|"))),t.onError(e),e}Bl.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),t.onSuccess()}},{key:"stopProxyServer",value:function(){var e=Nd.reportApiInvoke(this._sessionId,{name:zl.STOP_PROXY_SERVER,options:[],tag:Vl.TRACER});if("DISCONNECTED"!==this.connectionState)throw new Pl(ul.INVALID_OPERATION,"Stop proxy server after leave channel");Nd.setProxyServer(),Bl.setProxyServer(),this._cloudProxyServerMode="disabled",Bl.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]},e.onSuccess()}},{key:"setLocalAccessPoints",value:function(e,t){if(Qe(e,"serverList"),Fe(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new Pl(ul.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");var n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=Vc(e).call(e,(function(e){var r;return n.test(e)?bs(r="".concat(e.replace(/\./g,"-"),".")).call(r,t):e})),this._useLocalAccessPoint=!0,Ae("WEBCS_DOMAIN",e),Ae("WEBCS_DOMAIN_BACKUP_LIST",e),Ae("GATEWAY_DOMAINS",[t]),Ae("EVENT_REPORT_DOMAIN",e[0]),Ae("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Ae("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),Bl.info("set local access point success")}},{key:"setRemoteVideoStreamType",value:function(){var e=g(p.mark((function e(t,n){var r,i,o,a=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(n,"streamType",[0,1]),o=Nd.reportApiInvoke(this._sessionId,{name:zl.SET_REMOTE_VIDEO_STREAM_TYPE,options:[t,n],tag:Vl.TRACER}),e.prev=2,e.next=5,this._gateway.setRemoteVideoStreamType(t,n);case 5:wd((function(){var e,n=lu(e=a._users).call(e,(function(e){return e.uid===t}));n&&n.videoTrack&&n.videoTrack.updateMediaStreamTrackResolution()}),2e3),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),o.onError(e.t0),Bl.error("[".concat(this._clientId,"] set remote video stream type error"),e.t0.toString()),e.t0;case 11:Bl.info(bs(r=bs(i="[".concat(this._clientId,"] set remote ")).call(i,t," video stream type to ")).call(r,n)),this._remoteStreamTypeCacheMap.set(t,n),o.onSuccess();case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setStreamFallbackOption",value:function(){var e=g(p.mark((function e(t,n){var r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(n,"fallbackType",[0,1,2]),o=Nd.reportApiInvoke(this._sessionId,{name:zl.SET_STREAM_FALLBACK_OPTION,options:["too long to show",n],tag:Vl.TRACER}),e.prev=2,e.next=5,this._gateway.setStreamFallbackOption(t,n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),o.onError(e.t0),Bl.error("[".concat(this._clientId,"] set stream fallback option"),e.t0.toString()),e.t0;case 10:Bl.info(bs(r=bs(i="[".concat(this._clientId,"] set remote ")).call(i,t," stream fallback type to ")).call(r,n)),this._streamFallbackTypeCacheMap.set(t,n),o.onSuccess();case 13:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setEncryptionConfig",value:function(e,t,n){Pe(e,"encryptionMode","aes-128-xts aes-256-xts aes-128-ecb sm4-128-ecb aes-128-gcm aes-256-gcm aes-128-gcm2 aes-256-gcm2 none".split(" ")),Fe(t,"secret");var r=["aes-128-gcm2","aes-256-gcm2"];if(Au(r).call(r,e)){if(!(n&&n instanceof Uint8Array&&32===n.length))throw new Pl(ul.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new Pl(ul.INVALID_PARAMS,"current encrypt mode does not need salt");/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\[\]])(?=.{8,})/.test(t)||Bl.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=nn(n))}},{key:"renewToken",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe(t,"token",1,2047),n=Nd.reportApiInvoke(this._sessionId,{name:zl.RENEW_TOKEN,options:[t],tag:Vl.TRACER}),this._key){e.next=4;break}return e.abrupt("return",(t=new Pl(ul.INVALID_OPERATION,"renewToken should not be called before user join"),n.onError(t),t.throw()));case 4:return this._key=t,e.prev=5,e.next=8,this._gateway.renewToken(t);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),n.onError(e.t0),Bl.error("[".concat(this._clientId,"] renewToken failed"),e.t0.toString()),e.t0;case 13:Bl.debug("[".concat(this._clientId,"] renewToken success")),n.onSuccess();case 15:case"end":return e.stop()}}),e,this,[[5,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"enableAudioVolumeIndicator",value:function(){var e=this,t=Nd.reportApiInvoke(this._sessionId,{name:zl.ENABLE_AUDIO_VOLUME_INDICATOR,options:[],tag:Vl.TRACER});if(this._audioVolumeIndicationInterval)return Bl.warning("you have already enabled audio volume indicator!"),t.onSuccess();this._audioVolumeIndicationInterval=window.setInterval((function(){var t,n,r,i=cl(t=Vc(n=Rd(Od(r=e._remoteStream).call(r))).call(n,(function(e){return{level:e.user.audioTrack?100*e.user.audioTrack._source.getAudioAvgLevel():0,uid:e.getUserId()}}))).call(t,(function(e,t){return e.level-t.level}));e._highStream&&e._highStream.audioTrack&&(i.push({level:100*e._highStream.audioTrack._source.getAudioAvgLevel(),uid:e._highStream._userId}),i=cl(i).call(i,(function(e,t){return e.level-t.level}))),e.emit(Xl.VOLUME_INDICATOR,i)}),Zu.AUDIO_VOLUME_INDICATION_INTERVAL||2e3),t.onSuccess()}},{key:"getRTCStats",value:function(){var e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}},{key:"startLiveStreaming",value:function(e,t){var n=Nd.reportApiInvoke(this._sessionId,{name:zl.START_LIVE_STREAMING,options:[e,t],tag:Vl.TRACER});if(!t){if("h264"!==this._codec)return e=new Pl(ul.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264"),n.onError(e),Fc.reject(e);if(!this._highStream)return e=new Pl(ul.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming"),n.onError(e),Fc.reject(e)}return this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e)?(e=new Pl(ul.LIVE_STREAMING_TASK_CONFLICT),n.onError(e),Fc.reject(e)):(t=t?uf.TRANSCODE:uf.RAW,this._createLiveStreamingClient(t).startLiveStreamingTask(e,t).then((function(){return n.onSuccess()})).catch((function(e){throw n.onError(e),e})))}},{key:"setLiveTranscoding",value:function(e){var t=Nd.reportApiInvoke(this._sessionId,{name:zl.SET_LIVE_TRANSCODING,options:[e],tag:Vl.TRACER});return this._createLiveStreamingClient(uf.TRANSCODE).setTranscodingConfig(e).then((function(){return t.onSuccess()})).catch((function(e){throw t.onError(e),e}))}},{key:"stopLiveStreaming",value:function(e){var t,n=Nd.reportApiInvoke(this._sessionId,{name:zl.STOP_LIVE_STREAMING,options:[e],tag:Vl.TRACER}),r=Es(t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient]).call(t,(function(t){return t&&t.hasUrl(e)}));return r.length?Fc.all(Vc(r).call(r,(function(t){return t&&t.stopLiveStreamingTask(e)}))).then((function(){return n.onSuccess()})).catch((function(e){throw n.onError(e),e})):(t=new Pl(ul.INVALID_PARAMS,"can not find live streaming url to stop"),n.onError(t),Fc.reject(t))}},{key:"addInjectStreamUrl",value:function(){var e=g(p.mark((function e(t,n){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nd.reportApiInvoke(this._sessionId,{name:zl.ADD_INJECT_STREAM_URL,options:[t,n],tag:Vl.TRACER}),e.prev=1,this._joinInfo){e.next=4;break}throw new Pl(ul.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");case 4:return(i=this._createLiveStreamingClient(uf.INJECT)).setInjectStreamConfig(n,0),e.next=8,i.startLiveStreamingTask(t,uf.INJECT);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),r.onError(e.t0),e.t0;case 13:r.onSuccess();case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"removeInjectStreamUrl",value:function(){var e=g(p.mark((function e(){var t,n,r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Nd.reportApiInvoke(this._sessionId,{name:zl.REMOVE_INJECT_STREAM_URL,options:[],tag:Vl.TRACER}),e.prev=1,i=this._createLiveStreamingClient(uf.INJECT),o=lu(n=Rd(Od(r=i.streamingTasks).call(r))).call(n,(function(e){return e.mode===uf.INJECT})),this._joinInfo&&o){e.next=5;break}throw new Pl(ul.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");case 5:return e.next=7,i.stopLiveStreamingTask(o.url);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),t.onError(e.t0),e.t0;case 12:t.onSuccess();case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"startChannelMediaRelay",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nd.reportApiInvoke(this._sessionId,{name:zl.START_CHANNEL_MEDIA_RELAY,options:[t],tag:Vl.TRACER}),e.prev=1,tr(t),e.next=5,this._createChannelMediaRelayClient().startChannelMediaRelay(t);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 10:n.onSuccess();case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateChannelMediaRelay",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nd.reportApiInvoke(this._sessionId,{name:zl.UPDATE_CHANNEL_MEDIA_RELAY,options:[t],tag:Vl.TRACER}),e.prev=1,tr(t),e.next=5,this._createChannelMediaRelayClient().updateChannelMediaRelay(t);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 10:n.onSuccess();case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopChannelMediaRelay",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Nd.reportApiInvoke(this._sessionId,{name:zl.STOP_CHANNEL_MEDIA_RELAY,options:[],tag:Vl.TRACER}),e.prev=1,e.next=4,this._createChannelMediaRelayClient().stopChannelMediaRelay();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",(t.onError(e.t0),e.t0.throw()));case 9:t.onSuccess();case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendStreamMessage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new Pl(ul.INVALID_OPERATION,"can not send data stream, not joined");if("string"==typeof e&&(e=(new TextEncoder).encode(e)),1024<new Blob([e]).size)throw new Pl(ul.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(tf.DATA_STREAM,{payload:nn(e)},!t)}},{key:"sendMetadata",value:function(e){if(!this._joinInfo)throw new Pl(ul.INVALID_OPERATION,"can not send metadata, not joined");if(1024<new Blob([e]).size)throw new Pl(ul.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(tf.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:nn(e)})}},{key:"sendCustomReportMessage",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ll(t)||(t=[t]),xa(t).call(t,Ge),n=Nd.reportApiInvoke(this._sessionId,{name:zl.SEND_CUSTOM_REPORT_MESSAGE,options:[],tag:Vl.TRACER}),this._joinInfo){e.next=5;break}return e.abrupt("return",(t=new Pl(ul.INVALID_OPERATION,"can not send custom report, not joined"),n.onError(t),t.throw()));case 5:return e.next=7,Nd.sendCustomReportMessage(this._joinInfo.sid,t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLocalAudioStats",value:function(){if(!this._highStream)return lf;var e=this._statsCollector.getLocalAudioTrackStats(this._highStream.connectionId);return $e().name===Nu.SAFARI&&this._highStream&&this._highStream.audioTrack&&!this._highStream.audioTrack.isActive&&(e.sendVolumeLevel=0),e}},{key:"getRemoteAudioStats",value:function(){var e,t=this,n={};return xa(e=this._remoteStream).call(e,(function(e,r){n[r]=t._statsCollector.getRemoteAudioTrackStats(e.connectionId)})),n}},{key:"getLocalVideoStats",value:function(){return this._highStream?this._statsCollector.getLocalVideoTrackStats(this._highStream.connectionId):ff}},{key:"getRemoteVideoStats",value:function(){var e,t=this,n={};return xa(e=this._remoteStream).call(e,(function(e,r){n[r]=t._statsCollector.getRemoteVideoTrackStats(e.connectionId)})),n}},{key:"getRemoteNetworkQuality",value:function(){var e,t=this,n={};return xa(e=this._remoteStream).call(e,(function(e,r){n[r]=t._statsCollector.getRemoteNetworkQualityStats(e.connectionId)})),n}},{key:"pickSVCLayer",value:function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(n.spatialLayer,"spatialLayer",[0,1,2,3]),Pe(n.temporalLayer,"temporalLayer",[0,1,2,3]),e.prev=2,e.next=5,this._gateway.pickSVCLayer(t,n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),Bl.error("[".concat(this._clientId,"] pick SVC layer failed"),e.t0.toString()),e.t0;case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_reset",value:function(){var e,t,n,r=this;Bl.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=Dl.CancelToken.source(),this._streamFallbackTypeCacheMap=new pa,this._remoteStreamTypeCacheMap=new pa,this._configDistribute.stopGetConfigDistribute(),this._defaultStreamFallbackType=this._proxyServer=this._joinInfo=void 0,this._sessionId=null,this._statsCollector.reset(),this._channelName=this._uid=this._appId=this._key=void 0,xa(e=this._users).call(e,(function(e){e.audioTrack&&(e.audioTrack.stop(),e.audioTrack._isDestroyed=!0),e.videoTrack&&(e.videoTrack.stop(),e.videoTrack._isDestroyed=!0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._highStream&&(this._highStream.closeP2PConnection(!0),this._highStream=void 0),xa(t=this._bindEnabledTracks).call(t,(function(e){e.off(_f.NEED_ADD_TRACK,r._handleLocalTrackEnable),e.off(_f.NEED_REMOVE_TRACK,r._handleLocalTrackDisable)})),this._bindEnabledTracks=[],this._lowStream&&(this._lowStream.closeP2PConnection(!0),this._lowStream=void 0),xa(n=this._remoteStream).call(n,(function(e){e.closeP2PConnection(!0)})),this._remoteStream=new pa,this._publishMutex=new Ld("client-publish"),this._subscribeMutex=new pa,this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0)}},{key:"_startSession",value:function(e,t){var n,r,i,o=e||Kt(32,"").toUpperCase();e?Bl.debug(bs(n="[".concat(this._clientId,"] new Session ")).call(n,o)):Bl.debug(bs(r=bs(i="[".concat(this._clientId,"] renewSession ")).call(i,this._sessionId," => ")).call(r,o)),this._sessionId=o,t?Nd.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this._mode}):this._joinInfo?Nd.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this._mode}):this._gateway.joinInfo&&Nd.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this._mode}),this._joinInfo&&(this._joinInfo.sid=o),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=o)}},{key:"_publishHighStream",value:function(){var e=g(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo){e.next=2;break}throw new Pl(ul.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new Pl(ul.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:if("auto"!==this._turnServer.mode||!Zu.FORCE_TURN||Zu.TURN_ENABLE_TCP||Zu.TURN_ENABLE_UDP){e.next=6;break}throw new Pl(ul.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");case 6:if(Bl.debug("[".concat(this._clientId,"] publish high stream")),!this._highStream){e.next=10;break}return e.next=9,this._highStream.addTracks(t);case 9:return e.abrupt("return",this._highStream);case 10:return this._highStream=new cg(this._statsCollector,this._joinInfo,this._codec),e.next=13,this._highStream.addTracks(t);case 13:return e.prev=13,e.next=16,this._gateway.publish(this._highStream,"high");case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(13),this._highStream=void 0,e.t0;case 21:return e.abrupt("return",(this._highStream.on(of.CONNECTION_STATE_CHANGE,(function(e,t){n._highStream&&("connected"===e?n.emit(Xl.MEDIA_RECONNECT_END,n._highStream.getUserId()):"connecting"===e&&n.emit(Xl.MEDIA_RECONNECT_START,n._highStream.getUserId()))})),this._highStream));case 22:case"end":return e.stop()}}),e,this,[[13,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_publishLowStream",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo){e.next=2;break}throw new Pl(ul.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new Pl(ul.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:if(this._highStream&&"connected"===this._highStream.connectionState){e.next=6;break}throw new Pl(ul.UNEXPECTED_ERROR,"Could not find high stream");case 6:if(!this._lowStream){e.next=8;break}return e.abrupt("return",new Pl(ul.UNEXPECTED_ERROR,"[".concat(this._clientId,"] Can't publish low stream when stream already publish")).throw());case 8:return Bl.debug("[".concat(this._clientId,"] publish low stream")),this._lowStream=new cg(this._statsCollector,this._joinInfo,this._codec,!0),(n=this._configDistribute.getLowStreamConfigDistribute())&&n.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&n.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=n.bitrate)),this._lowStream.lowStreamParameter=this._lowStreamParameter,e.next=15,this._lowStream.addTracks([t]);case 15:return e.prev=15,e.next=18,this._gateway.publish(this._lowStream,"low");case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(15),this._lowStream=void 0,e.t0;case 23:this._highStream.lowStreamConnection=this._lowStream;case 24:case"end":return e.stop()}}),e,this,[[15,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_createLiveStreamingClient",value:function(e){var t=this;if(!this._joinInfo||!this._appId)return new Pl(ul.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();var n=function(){return new pg(t._joinInfo,t._config.websocketRetryConfig||bh,t._config.httpRetryConfig||bh)},r=function(e){e.onLiveStreamError=function(e,n){Nd.reportApiInvoke(t._sessionId,{name:zl.ON_LIVE_STREAM_ERROR,options:[e,n],tag:Vl.TRACER}).onSuccess(),t.emit(Xl.LIVE_STREAMING_ERROR,e,n)},e.onLiveStreamWarning=function(e,n){Nd.reportApiInvoke(t._sessionId,{name:zl.ON_LIVE_STREAM_WARNING,options:[e,n],tag:Vl.TRACER}).onSuccess(),t.emit(Xl.LIVE_STREAMING_WARNING,e,n)},e.on(vf.REQUEST_WORKER_MANAGER_LIST,(function(e,n,r){if(!t._joinInfo)return r(new Pl(ul.INVALID_OPERATION,"can not find join info to get worker manager"));In(e,t._joinInfo,t._axiosCancelSource.token,bh).then(n).catch(r)}))};switch(e){case uf.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=n(),r(this._liveRawStreamingClient)),this._liveRawStreamingClient;case uf.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=n(),r(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case uf.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=n(),this._injectStreamingClient.on(vf.REQUEST_WORKER_MANAGER_LIST,(function(e,n,r){if(!t._joinInfo)return r(new Pl(ul.INVALID_OPERATION,"can not find join info to get worker manager"));In(e,t._joinInfo,t._axiosCancelSource.token,bh).then(n).catch(r)})),this._injectStreamingClient.onInjectStatusChange=function(e,n,r){t.emit(Xl.INJECT_STREAM_STATUS,e,n,r)}),this._injectStreamingClient}}},{key:"_createChannelMediaRelayClient",value:function(){var e=this;return this._joinInfo?(this._channelMediaRelayClient||(this._channelMediaRelayClient=new mg(this._joinInfo,this._clientId,this._config.websocketRetryConfig||bh,this._config.httpRetryConfig||bh),this._channelMediaRelayClient.on("state",(function(t){"RELAY_STATE_FAILURE"===t&&e._channelMediaRelayClient&&e._channelMediaRelayClient.dispose(),e.emit(Xl.CHANNEL_MEDIA_RELAY_STATE,t)})),this._channelMediaRelayClient.on("event",(function(t){e.emit(Xl.CHANNEL_MEDIA_RELAY_EVENT,t)}))),this._channelMediaRelayClient):new Pl(ul.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw()}},{key:"_handleGatewayEvents",value:function(){var e=this;this._gateway.on(Af.DISCONNECT_P2P,(function(){var t;Bl.debug("[".concat(e._clientId,"] start full reconnect")),e._highStream&&"disconnected"!==e._highStream.connectionState&&(Bl.debug("[".concat(e._clientId,"] ready to reconnect high stream")),e._highStream.readyToReconnectPC()),e._lowStream&&"disconnected"!==e._lowStream.connectionState&&(Bl.debug("[".concat(e._clientId,"] ready to reconnect low stream")),e._lowStream.readyToReconnectPC()),xa(t=e._remoteStream).call(t,(function(t,n){var r;Bl.debug(bs(r="[".concat(e._clientId,"] ready to reconnect remote stream ")).call(r,n)),t.readyToReconnectPC()}))})),this._gateway.on(Af.CONNECTION_STATE_CHANGE,(function(t,n,r){var i,o,a,s,c=function(){e.emit(Xl.CONNECTION_STATE_CHANGE,t,n,r)};if(Bl.info(bs(i=bs(o="[".concat(e._clientId,"] connection state change: ")).call(o,n," -> ")).call(i,t)),"DISCONNECTED"===t)return e._reset(),void c();if("RECONNECTING"===t)e._highStream&&"connecting"===e._highStream.connectionState&&(Bl.debug("[".concat(e._clientId,"] ready to reconnect high stream")),e._highStream.readyToReconnectPC()),e._lowStream&&"connecting"===e._lowStream.connectionState&&(Bl.debug("[".concat(e._clientId,"] ready to reconnect low stream")),e._lowStream.readyToReconnectPC()),xa(a=e._remoteStream).call(a,(function(t,n){var r;"connecting"===t.connectionState&&(Bl.debug(bs(r="[".concat(e._clientId,"] ready to reconnect remote stream ")).call(r,n)),t.readyToReconnectPC())})),xa(s=e._users).call(s,(function(e){e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_stream_added_state_=!1})),e._userOfflineTimeout&&window.clearTimeout(e._userOfflineTimeout),e._streamRemovedTimeout&&window.clearTimeout(e._streamRemovedTimeout),e._streamRemovedTimeout=e._userOfflineTimeout=void 0;else if("CONNECTED"===t){var u,l;xa(u=e._streamFallbackTypeCacheMap).call(u,(function(t,n){e._gateway.setStreamFallbackOption(n,t).catch((function(t){return Bl.warning("[".concat(e._clientId,"] auto set stream fallback option failed"),t)}))})),xa(l=e._remoteStreamTypeCacheMap).call(l,(function(t,n){e._gateway.setRemoteVideoStreamType(n,t).catch((function(t){return Bl.warning("[".concat(e._clientId,"] auto set remote stream type failed"),t)}))})),e._highStream&&"connecting"===e._highStream.connectionState?e._highStream.reconnectPC().then((function(){e._lowStream&&"connecting"===e._lowStream.connectionState&&e._lowStream.reconnectPC().catch((function(t){Bl.error("[".concat(e._clientId,"] republish low stream error"),t.toString()),e.emit(Xl.ERROR,{reason:t})}))})).catch((function(t){Bl.error("[".concat(e._clientId,"] republish high stream error"),t.toString()),e.emit(Xl.ERROR,{reason:t})})):e._lowStream&&"connecting"===e._lowStream.connectionState&&e._lowStream.reconnectPC().catch((function(t){Bl.error("[".concat(e._clientId,"] republish low stream error"),t.toString()),e.emit(Xl.ERROR,{reason:t})})),e._userOfflineTimeout=window.setTimeout((function(){var t;if("CONNECTED"===e.connectionState){e._userOfflineTimeout=void 0;var n=Es(t=e._users).call(t,(function(e){return!e._trust_in_room_}));xa(n).call(n,(function(t){var n;Bl.debug(bs(n="[".concat(e._clientId,"] user offline timeout, emit user offline ")).call(n,t.uid)),e._handleUserOffline({uid:t.uid})}))}}),3e3),e._streamRemovedTimeout=window.setTimeout((function(){var t;"CONNECTED"===e.connectionState&&(e._streamRemovedTimeout=void 0,xa(t=e._users).call(t,(function(t){var n,r,i,o,a;t._trust_audio_mute_state_||(Bl.debug(bs(n="[".concat(e._clientId,"] auto dispatch audio unmute event ")).call(n,t.uid)),e._handleMuteStream(t.uid,"audio",!1)),t._trust_video_mute_state_||(Bl.debug(bs(r="[".concat(e._clientId,"] auto dispatch video unmute event ")).call(r,t.uid)),e._handleMuteStream(t.uid,"video",!1)),t._trust_audio_enabled_state_||(Bl.debug(bs(i="[".concat(e._clientId,"] auto dispatch enable local audio ")).call(i,t.uid)),e._handleSetStreamLocalEnable("audio",t.uid,!0)),!t._trust_video_enabled_state_&&t._video_enabled_&&(Bl.debug(bs(o="[".concat(e._clientId,"] auto dispatch enable local video ")).call(o,t.uid)),e._handleSetStreamLocalEnable("video",t.uid,!0)),t._trust_stream_added_state_||(Bl.debug(bs(a="[".concat(e._clientId,"] auto dispatch stream remove ")).call(a,t.uid)),e._handleRemoveStream({uid:t.uid,uint_id:t._uintid}))})))}),1e3)}c()})),this._gateway.on(Af.REQUEST_NEW_GATEWAY_LIST,(function(t,n){if(!e._joinInfo)return n(new Pl(ul.UNEXPECTED_ERROR,"can not recover, no join info"));pn(e._joinInfo,e._axiosCancelSource.token,e._config.httpRetryConfig||bh).then((function(n){var r;e._joinInfo&&(e._joinInfo.apResponse=n.gatewayInfo.res),t(Vc(r=n.gatewayInfo.gatewayAddrs).call(r,(function(t){var n,r;return e._joinInfo&&e._joinInfo.proxyServer?(t=t.split(":"),bs(n=bs(r="wss://".concat(e._joinInfo.proxyServer,"/ws/?h=")).call(r,t[0],"&p=")).call(n,t[1])):"wss://".concat(t)})))})).catch(n)})),this._gateway.on(Af.NETWORK_QUALITY,(function(t){"normal"===e._networkQualitySensitivity&&e.emit(Xl.NETWORK_QUALITY,t)})),this._gateway.on(Af.STREAM_TYPE_CHANGE,(function(t,n){e.emit(Xl.STREAM_TYPE_CHANGED,t,n),Nd.reportApiInvoke(e._sessionId,{name:zl.STREAM_TYPE_CHANGE,options:[t,n],tag:Vl.TRACER}).onSuccess(ri({uid:t,streamType:n}))})),this._gateway.on(Af.IS_P2P_DISCONNECTED,(function(t){var n,r,i,o=[];return e._highStream&&o.push(e._highStream),xa(n=e._remoteStream).call(n,(function(e){return o.push(e)})),0===o.length||0===Es(o).call(o,(function(e){return"connected"===e.connectionState})).length?t(!0):(Bl.debug(bs(r="[".concat(e._clientId,"] ")).call(r,Vc(i=Es(o).call(o,(function(e){return"connected"===e.connectionState}))).call(i,(function(e){return e.connectionId}))," is connected")),void t(!1))})),this._gateway.on(Af.NEED_RENEW_SESSION,(function(){e._startSession()})),this._gateway.signal.on(rf.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(rf.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(rf.ON_ADD_AUDIO_STREAM,(function(t){return e._handleAddAudioOrVideoStream("audio",t.uid,t.uint_id)})),this._gateway.signal.on(rf.ON_ADD_VIDEO_STREAM,(function(t){return e._handleAddAudioOrVideoStream("video",t.uid,t.uint_id)})),this._gateway.signal.on(rf.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(rf.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(rf.MUTE_AUDIO,(function(t){return e._handleMuteStream(t.uid,"audio",!0)})),this._gateway.signal.on(rf.UNMUTE_AUDIO,(function(t){return e._handleMuteStream(t.uid,"audio",!1)})),this._gateway.signal.on(rf.MUTE_VIDEO,(function(t){return e._handleMuteStream(t.uid,"video",!0)})),this._gateway.signal.on(rf.UNMUTE_VIDEO,(function(t){return e._handleMuteStream(t.uid,"video",!1)})),this._gateway.signal.on(rf.RECEIVE_METADATA,(function(t){var n=tn(t.metadata);e.emit(Xl.RECEIVE_METADATA,t.uid,n)})),this._gateway.signal.on(rf.ON_DATA_STREAM,(function(t){t.seq&&delete t.seq,t.payload=tn(t.payload),e.emit(Xl.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)})),this._gateway.signal.on(rf.ON_CRYPT_ERROR,(function(){en((function(){Bl.warning("[".concat(e._clientId,"] on crypt error")),e.emit(Xl.CRYPT_ERROR)}),e._sessionId)})),this._gateway.signal.on(rf.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(rf.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){Bl.warning("[".concat(e._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),e._reset(),e._gateway.leave(!0),e.emit(Xl.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this._gateway.signal.on(rf.ON_STREAM_FALLBACK_UPDATE,(function(t){var n,r;Bl.debug(bs(n=bs(r="[".concat(e._clientId,"] stream fallback peerId: ")).call(r,t.stream_id,", attr: ")).call(n,t.stream_type)),e.emit(Xl.STREAM_FALLBACK,t.stream_id,1===t.stream_type?"fallback":"recover")})),this._gateway.signal.on(rf.ON_PUBLISH_STREAM,(function(t){var n;e.uid===e._uid&&(e._highStream&&e._highStream._waitingSuccessResponse&&"connected"===e._highStream.connectionState?(e._highStream.reportPublishEvent(!0,null,ri({proxy:t.proxy})),Bl.info(bs(n="[".concat(e._clientId,"] on publish stream, ")).call(n,ri(t))),void 0!==t.proxy&&e.emit(Xl.IS_USING_CLOUD_PROXY,!!t.proxy)):e._lowStream?e._lowStream.reportPublishEvent(!0,null,ri({proxy:t.proxy})):Bl.warning("get on_publish_stream message but cannot handle"))})),this._gateway.signal.on(rf.ENABLE_LOCAL_VIDEO,(function(t){e._handleSetStreamLocalEnable("video",t.uid,!0)})),this._gateway.signal.on(rf.DISABLE_LOCAL_VIDEO,(function(t){e._handleSetStreamLocalEnable("video",t.uid,!1)})),this._gateway.signal.on(ef.REQUEST_TIMEOUT,(function(t,n){if(e._joinInfo)switch(t){case tf.PUBLISH:var r;if(!n)break;if(!(t="high"===n.stream_type?e._highStream:e._lowStream))break;"offer"===n.state&&Nd.publish(e._joinInfo.sid,{lts:t.startTime,succ:!1,ec:ul.TIMEOUT,audio:n.audio,video:n.video,p2pid:n.p2p_id,publishRequestid:t.ID,screenshare:!(!t.videoTrack||-1===eu(r=t.videoTrack._hints).call(r,Ef.SCREEN_TRACK)),audioName:t.audioTrack&&t.audioTrack.getTrackLabel(),videoName:t.videoTrack&&t.videoTrack.getTrackLabel()});break;case tf.SUBSCRIBE:(r=e._remoteStream.get(n.stream_id))&&n&&Nd.subscribe(e._joinInfo.sid,{lts:r.startTime,succ:!1,ec:ul.TIMEOUT,audio:!!n.audio,video:!!n.video,peerid:n.stream_id,subscribeRequestid:r.ID,p2pid:r.pc.ID})}}))}}]),n}(Md);Ag([lt({report:Nd}),_g("design:type",Function),_g("design:paramtypes",[String]),_g("design:returntype",void 0)],Eg.prototype,"setProxyServer",null),Ag([lt(),_g("design:type",Function),_g("design:paramtypes",[Object]),_g("design:returntype",void 0)],Eg.prototype,"setTurnServer",null),Ag([lt({report:Nd}),_g("design:type",Function),_g("design:paramtypes",[Array,String]),_g("design:returntype",void 0)],Eg.prototype,"setLocalAccessPoints",null),Ag([lt({report:Nd}),_g("design:type",Function),_g("design:paramtypes",[String,String,Uint8Array]),_g("design:returntype",void 0)],Eg.prototype,"setEncryptionConfig",null),Ag([ft({report:Nd}),_g("design:type",Function),_g("design:paramtypes",[Object,Object]),_g("design:returntype",Fc)],Eg.prototype,"pickSVCLayer",null);var wg=function(e){u(n,e);var t=l(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),(r=t.call(this)).currentLoopCount=r.pausePlayTime=r.startPlayOffset=r.startPlayTime=0,r._currentState="stopped",r.audioBuffer=e,r.options=i,r.startPlayOffset=r.options.startPlayTime||0,r}return h(n,[{key:"currentState",get:function(){return this._currentState},set:function(e){e!==this._currentState&&(this._currentState=e,this.emit(af.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}},{key:"createWebAudioDiagram",value:function(){return this.context.createGain()}},{key:"duration",get:function(){return this.audioBuffer.duration}},{key:"currentTime",get:function(){return"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.context.currentTime-this.startPlayTime+this.startPlayOffset)%this.audioBuffer.duration}},{key:"updateOptions",value:function(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):Bl.warning("can not set audio source options")}},{key:"startProcessAudioBuffer",value:function(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}},{key:"pauseProcessAudioBuffer",value:function(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}},{key:"seekAudioBuffer",value:function(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}},{key:"resumeProcessAudioBuffer",value:function(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}},{key:"stopProcessAudioBuffer",value:function(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(Nl){}this.reset()}}},{key:"startSourceNode",value:function(){var e;this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=gu(e=this.handleSourceNodeEnded).call(e,this))}},{key:"createSourceNode",value:function(){var e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e}},{key:"handleSourceNodeEnded",value:function(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}},{key:"reset",value:function(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}]),n}(zd),Ig=new pa,Sg=Ur.setInterval,kg=$e().name,Cg=function(){function e(t,n){d(this,e),this.id=0,e.count+=1,this.id=e.count,this.element=t,this.context=n}return h(e,[{key:"initPeers",value:function(){var e=this;this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=function(t){var n=document.createElement("audio");n.srcObject=new MediaStream([t.track]),n.play(),e.audioPlayerElement=n}}},{key:"switchSdp",value:function(){var e=g(p.mark((function e(){var t,n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.peerPair){e.next=18;break}return t=function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("offer"!==n){e.next=6;break}return e.next=3,t.createOffer();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,t.createAnswer();case 8:e.t0=e.sent;case 9:return n=e.t0,e.next=12,t.setLocalDescription(n);case 12:return e.abrupt("return","complete"===t.iceGatheringState?t.localDescription:new Fc((function(e){t.onicegatheringstatechange=function(){"complete"===t.iceGatheringState&&e(t.localDescription)}})));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=g(p.mark((function e(t,n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setRemoteDescription(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t(this.peerPair[0],"offer");case 5:return r=e.sent,e.next=8,n(this.peerPair[1],r);case 8:return e.next=10,t(this.peerPair[1],"answer");case 10:return i=e.sent,e.next=13,n(this.peerPair[0],i);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(2),new Pl(ul.LOCAL_AEC_ERROR,e.t0.toString()).print();case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTracksFromMediaElement",value:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audioTrack){e.next=2;break}return e.abrupt("return",this.audioTrack);case 2:e.prev=2,t instanceof HTMLVideoElement&&(t.captureStream?t.captureStream():t.mozCaptureStream()),n=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(t).connect(n),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Pl(ul.LOCAL_AEC_ERROR,e.t0.toString()).print();case 9:if(n){e.next=11;break}throw new Pl(ul.LOCAL_AEC_ERROR,"no dest node when local aec").print();case 11:return t=n.stream.getAudioTracks()[0],e.abrupt("return",(this.audioTrack=t,t));case 13:case"end":return e.stop()}}),e,this,[[2,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getElement",value:function(){return this.element}},{key:"startEchoCancellation",value:function(){var e=g(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.resume(),this.peerPair&&this.close(),this.initPeers(),e.next=5,this.getTracksFromMediaElement(this.element);case 5:return t=e.sent,this.peerPair&&this.peerPair[0].addTrack(t),e.next=9,this.switchSdp();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e;Bl.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&xa(e=this.peerPair).call(e,(function(e){e.close()})),this.audioPlayerElement=this.peerPair=void 0}}]),e}();Cg.count=0;var Og=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tg=window.AudioContext||window.webkitAudioContext,Rg=function(){function e(){d(this,e),this.units=[],this._doesEnvironmentNeedAEC()&&(this.context=new Tg)}return h(e,[{key:"processExternalMediaAEC",value:function(e){var t;if(!this.context||!this._doesEnvironmentNeedAEC())return Bl.debug("the system does not need to process local aec"),-1;var n=lu(t=this.units).call(t,(function(t){return t&&t.getElement()===e}));return n||(n=new Cg(e,this.context),this.units.push(n)),n.startEchoCancellation(),Bl.debug("start processing local audio echo cancellation, id is",n.id),n.id}},{key:"_doesEnvironmentNeedAEC",value:function(){return $e().name!==Nu.SAFARI}}]),e}();!function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=os(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(3>o?i(a):3<o?i(t,n,a):i(t,n))||a);3<o&&a&&Ka(t,n,a)}([lt({report:Nd}),Og("design:type",Function),Og("design:paramtypes",[HTMLAudioElement]),Og("design:returntype",Number)],Rg.prototype,"processExternalMediaAEC",null);var xg,Mg,Ng,Dg,jg=new Rg;Ae("PROCESS_ID",bs(xg=bs(Mg=bs(Ng=bs(Dg="process-".concat(Kt(8,""),"-")).call(Dg,Kt(4,""),"-")).call(Ng,Kt(4,""),"-")).call(Mg,Kt(4,""),"-")).call(xg,Kt(12,""))),function(){var e=$e(),t=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia);Nf.getDisplayMedia=t,Nf.getStreamFromExtension=e.name===Nu.CHROME&&34<Number(e.version),Nf.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var e=new RTCPeerConnection,t=!1;try{e.addTransceiver("audio"),t=!0}catch(n){}return e.close(),t}(),Nf.supportMinBitrate=e.name===Nu.CHROME||e.name===Nu.EDGE,Nf.supportSetRtpSenderParameters=function(){var e=$e();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!rt()||e.name===Nu.SAFARI||e.name===Nu.FIREFOX&&64<=Number(e.version))}(),e.name!==Nu.SAFARI&&$e().name!==Nu.WECHAT||(Nf.supportDualStream=!1),Nf.webAudioMediaStreamDest=function(){var e=$e();return!(e.name===Nu.SAFARI&&12>Number(e.version))}(),Nf.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,Nf.supportWebGL="undefined"!=typeof WebGLRenderingContext,Nf.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,rt()||(Nf.webAudioWithAEC=!0),Nf.supportShareAudio=function(){var e=$e();return(e.os===Mu.WIN_10||e.os===Mu.WIN_81||e.os===Mu.WIN_7||e.os===Mu.LINUX||e.os===Mu.MAC_OS||e.os===Mu.MAC_OS_X)&&e.name===Nu.CHROME&&74<=Number(e.version)}(),Nf.supportDualStreamEncoding=function(){var e=$e();return e.name===Nu.CHROME&&87===Number(e.version)}(),Bl.info("browser compatibility",ri(Nf),ri(e))}();var Lg={VERSION:Ku,BUILD:"v4.6.3-0-g91da319d(8/10/2021, 9:07:29 PM)",setParameter:Ae,getParameter:function(e){return Zu[e]},getSupportedCodec:function(){var e=g(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,t?(n=new Op({})).addStream(t):n=new Tp({}),e.t0=Qn,e.next=5,n.createOfferSDP();case 5:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.abrupt("return",(n.close(),t));case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkSystemRequirements:function(){var e=Nd.reportApiInvoke(null,{name:zl.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Vl.TRACER}),t=!1;try{var n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(window.RTCPeerConnection&&n&&r)}catch(i){return Bl.error("check system requirement failed: ",i),!1}return n=!1,(r=$e()).name===Nu.CHROME&&58<=Number(r.version)&&r.os!==Mu.IOS&&(n=!0),r.name===Nu.FIREFOX&&56<=Number(r.version)&&(n=!0),r.name===Nu.OPERA&&45<=Number(r.version)&&(n=!0),r.name===Nu.SAFARI&&11<=Number(r.version)&&(n=!0),$e().name!==Nu.WECHAT&&$e().name!==Nu.QQ||r.os===Mu.IOS||(n=!0),Bl.debug("checkSystemRequirements, api:",t,"browser",n),t=t&&n,e.onSuccess(t),t},getDevices:function(e){return Wd.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return Wd.getRecordingDevices(e)},getCameras:function(e){return Wd.getCamerasDevices(e)},getElectronScreenSources:At,getPlaybackDevices:function(e){return Wd.getSpeakers(e)},createClient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",mode:"rtc"},t=Nd.reportApiInvoke(null,{name:zl.CREATE_CLIENT,options:[e],tag:Vl.TRACER});try{Pe(e.codec,"config.codec",["vp8","vp9","av1","h264"]),Pe(e.mode,"config.mode",["rtc","live"]),void 0!==e.proxyServer&&Fe(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&We(e.turnServer),void 0!==e.httpRetryConfig&&He(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&He(e.websocketRetryConfig)}catch(n){throw t.onError(n),n}return t.onSuccess(),new Eg(rr({forceWaitGatewayResponse:!0},e,{role:"rtc"===e.mode?"host":e.role}))},createCameraVideoTrack:function(){var e=g(p.mark((function e(){var t,n,r,i,o,a=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{encoderConfig:"480p_1"},n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_CAM_VIDEO_TRACK,options:[sr({},t)]}),r=Bn(t),i=Kt(8,"track-"),o=null,Bl.info("start create camera video track with config",ri(t),"trackId",i),e.prev=5,e.next=8,wt({video:r},i);case 8:if(e.t0=e.sent.getVideoTracks()[0],e.t0){e.next=11;break}e.t0=null;case 11:o=e.t0,e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(5),n.onError(e.t1),e.t1;case 17:if(o){e.next=19;break}return e.abrupt("return",(i=new Pl(ul.UNEXPECTED_ERROR,"can not find track in media stream"),n.onError(i),i.throw()));case 19:return t.optimizationMode&&cr(i,o,t,t.encoderConfig&&ve(t.encoderConfig)),t=new tg(o,t,r,t.scalabiltyMode?ye(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,i),e.abrupt("return",(n.onSuccess(t.getTrackId()),Bl.info("create camera video success, trackId:",i),t));case 22:case"end":return e.stop()}}),e,null,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}(),createCustomVideoTrack:function(e){var t=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new eg(e.mediaStreamTrack,{bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?ye(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode);return t.onSuccess(n.getTrackId()),Bl.info("create custom video track success with config",e,"trackId",n.getTrackId()),n},createScreenVideoTrack:function(){var e=g(p.mark((function e(){var t,n,r,i,o,a,s,c,u,l=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},n=l.length>1&&void 0!==l[1]?l[1]:"disable",r=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_SCREEN_VIDEO_TRACK,options:[sr({},t),n]}),t.encoderConfig?"string"==typeof t.encoderConfig||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig="1080p_2",i={},t.screenSourceType&&(i.mediaSource=t.screenSourceType),t.extensionId&&et()&&(i.extensionId=t.extensionId),t.electronScreenSourceId&&(i.sourceId=t.electronScreenSourceId),o=t.encoderConfig?me(t.encoderConfig):null,i.mandatory={chromeMediaSource:"desktop",maxWidth:o?o.width:void 0,maxHeight:o?o.height:void 0},o&&o.frameRate&&("number"==typeof o.frameRate?(i.mandatory.maxFrameRate=o.frameRate,i.mandatory.minFrameRate=o.frameRate):(i.mandatory.maxFrameRate=o.frameRate.max||o.frameRate.ideal||o.frameRate.exact||void 0,i.mandatory.minFrameRate=o.frameRate.min||o.frameRate.ideal||o.frameRate.exact||void 0),i.frameRate=o.frameRate),o&&o.width&&(i.width=o.width),o&&o.height&&(i.height=o.height),o=i,a=Kt(8,"track-"),s=null,i=null,(c=Nf).supportShareAudio||"enable"!==n){e.next=16;break}return e.abrupt("return",(t=new Pl(ul.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio"),r.onError(t),t.throw()));case 16:return Bl.info("start create screen video track with config",t,"withAudio",n,"trackId",a),e.prev=17,e.next=20,wt({screen:o,screenAudio:"auto"===n?c.supportShareAudio:"enable"===n},a);case 20:u=e.sent,s=u.getVideoTracks()[0]||null,i=u.getAudioTracks()[0]||null,e.next=28;break;case 25:throw e.prev=25,e.t0=e.catch(17),r.onError(e.t0),e.t0;case 28:if(s){e.next=30;break}return e.abrupt("return",(t=new Pl(ul.UNEXPECTED_ERROR,"can not find track in media stream"),r.onError(t),t.throw()));case 30:if(i||"enable"!==n){e.next=32;break}return e.abrupt("return",(s&&s.stop(),t=new Pl(ul.SHARE_AUDIO_NOT_ALLOWED),r.onError(t),t.throw()));case 32:if(t.optimizationMode||(t.optimizationMode="detail"),t.optimizationMode&&(cr(a,s,t,t.encoderConfig&&me(t.encoderConfig)),t.encoderConfig&&"string"!=typeof t.encoderConfig&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax)),(t=new eg(s,t.encoderConfig?me(t.encoderConfig):{},t.scalabiltyMode?ye(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a))._hints.push(Ef.SCREEN_TRACK),i){e.next=37;break}return e.abrupt("return",(r.onSuccess(t.getTrackId()),Bl.info("create screen video track success","video:",t.getTrackId()),t));case 37:return n=new ih(i),e.abrupt("return",(r.onSuccess([t.getTrackId(),n.getTrackId()]),Bl.info("create screen video track success","video:",t.getTrackId(),"audio:",n.getTrackId()),[t,n]));case 39:case"end":return e.stop()}}),e,null,[[17,25]])})));function t(){return e.apply(this,arguments)}return t}(),createMicrophoneAndCameraTracks:function(){var e=g(p.mark((function e(){var t,n,r,i,o,a,s,c,u,l,f,d,h,g,v,m=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=m.length>1&&void 0!==m[1]?m[1]:{encoderConfig:"480p_1"},a=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_MIC_AND_CAM_TRACKS,options:[t,n]}),s=Bn(n),c=Pn(t),u=Kt(8,"track-"),l=Kt(8,"track-"),f=null,d=null,Bl.info(bs(r=bs(i=bs(o="start create camera video track(".concat(l,") and microphone audio track(")).call(o,u,") with config, audio: ")).call(i,ri(t),", video: ")).call(r,ri(n))),e.prev=5,e.next=8,wt({audio:c,video:s},bs(h="".concat(u,"-")).call(h,l));case 8:g=e.sent,f=g.getAudioTracks()[0],d=g.getVideoTracks()[0],e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),a.onError(e.t0),e.t0;case 16:if(f&&d){e.next=19;break}return v=new Pl(ul.UNEXPECTED_ERROR,"can not find tracks in media stream"),e.abrupt("return",(a.onError(v),v.throw()));case 19:return n.optimizationMode&&cr(l,d,n,n.encoderConfig&&ve(n.encoderConfig)),t=new ah(f,t,c,u),n=new tg(d,n,s,n.scalabiltyMode?ye(n.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},n.optimizationMode,l),e.abrupt("return",(a.onSuccess([t.getTrackId(),n.getTrackId()]),Bl.info(bs(v="create camera video track(".concat(l,") and microphone audio track(")).call(v,u,") success")),[t,n]));case 23:case"end":return e.stop()}}),e,null,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}(),createMicrophoneAudioTrack:function(){var e=g(p.mark((function e(){var t,n,r,i,o,a=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_MIC_AUDIO_TRACK,options:[t]}),r=Pn(t),i=Kt(8,"track-"),o=null,Bl.info("start create microphone audio track with config",ri(t),"trackId",i),e.prev=5,e.next=8,wt({audio:r},i);case 8:if(e.t0=e.sent.getAudioTracks()[0],e.t0){e.next=11;break}e.t0=null;case 11:o=e.t0,e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(5),n.onError(e.t1),e.t1;case 17:if(o){e.next=19;break}return e.abrupt("return",(i=new Pl(ul.UNEXPECTED_ERROR,"can not find track in media stream"),n.onError(i),i.throw()));case 19:return t=new ah(o,t,r,i),e.abrupt("return",(n.onSuccess(t.getTrackId()),Bl.info("create microphone audio track success, trackId:",i),t));case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}(),createCustomAudioTrack:function(e){var t=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new ih(e.mediaStreamTrack,e.encoderConfig?be(e.encoderConfig):{});return Bl.info("create custom audio track success with config",e,"trackId",n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:function(){var e=g(p.mark((function e(t){var n,r,i,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CREATE_BUFFER_AUDIO_TRACK,options:[t]}),r=Kt(8,"track-"),Bl.info("start create buffer source audio track with config",ri(t),"trackId",r),i=t.source,t.source instanceof AudioBuffer){e.next=13;break}return e.prev=4,e.next=7,ir(t.source,t.cacheOnlineFile);case 7:t.source=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 13:return o=new wg(t.source),t=new sh(i,o,t.encoderConfig?be(t.encoderConfig):{},r),e.abrupt("return",(Bl.info("create buffer source audio track success, trackId:",r),n.onSuccess(t.getTrackId()),t));case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}(),setLogLevel:function(e){Bl.setLogLevel(e)},enableLogUpload:function(){Bl.enableLogUpload()},disableLogUpload:function(){Bl.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new gg},checkAudioTrackIsActive:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:5e3,r=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[n]}),t instanceof ih||t instanceof fg){e.next=5;break}return i=new Pl(ul.INVALID_TRACK,"the parameter is not a audio track"),e.abrupt("return",(r.onError(i),i.throw()));case 5:return n&&1e3>n&&(n=1e3),o=t instanceof ih?t.getTrackLabel():"remote_track",a=i=t.getVolumeLevel(),s=i,c=xd(),e.abrupt("return",new Fc((function(e){var i=Sg((function(){var u=t.getVolumeLevel();u=1e-4<(a=u>a?u:a)-(s=u<s?u:s);var l,f=xd()-c;(u||f>n)&&(clearInterval(i),f={duration:f,deviceLabel:o,maxVolumeLevel:a,result:u},Bl.info(bs(l="[track-".concat(t.getTrackId(),"] check audio track active completed. ")).call(l,ri(f))),r.onSuccess(f),e(u))}),200)})));case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkVideoTrackIsActive:function(){var e=g(p.mark((function e(t){var n,r,i,o,a,s,c,u,l,f=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:5e3,i=Nd.reportApiInvoke(null,{tag:Vl.TRACER,name:zl.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[n]}),t instanceof eg||t instanceof lg){e.next=4;break}return e.abrupt("return",(t=new Pl(ul.INVALID_TRACK,"the parameter is not a video track"),i.onError(t),t.throw()));case 4:return n&&1e3>n&&(n=1e3),o=t instanceof eg?t.getTrackLabel():"remote_track",a=t.getMediaStreamTrack(!0),(s=document.createElement("video")).style.width="1px",s.style.height="1px",s.setAttribute("muted",""),s.muted=!0,s.setAttribute("playsinline",""),s.controls=!1,kg===Nu.SAFARI&&(s.style.opacity="0.01",s.style.position="fixed",s.style.left="0",s.style.top="0",document.body.appendChild(s)),s.srcObject=new MediaStream([a]),s.play(),(c=document.createElement("canvas")).width=160,c.height=120,u=a=0,e.prev=20,l=xd(),e.next=24,function(e,t,n,r){var i,o=0,a=null;return new Fc((function(s,c){wd((function(){i&&(i(),s(o))}),t),i=gt((function(){e:{o>r&&i&&(i(),s(o));var t=n.getContext("2d");if(t){t.drawImage(e,0,0,160,120),t=t.getImageData(0,0,n.width,n.height);var u=Math.floor(t.data.length/3);if(a)for(var l=0;l<u;l+=3)if(t.data[l]!==a[l]){o+=1,a=t.data;break e}a=t.data}else t=new Pl(ul.UNEXPECTED_ERROR,"can not get canvas 2d context."),Bl.error(t.toString()),c(t)}}),30)}))}(s,n,c,4);case 24:a=e.sent,u=xd()-l,e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(20),i.onError(e.t0),e.t0;case 31:return kg===Nu.SAFARI&&(s.pause(),s.remove()),s.srcObject=null,o={duration:u,changedPicNum:a,deviceLabel:o,result:n=4<a},e.abrupt("return",(Bl.info(bs(r="[track-".concat(t.getTrackId(),"] check video track active completed. ")).call(r,ri(o))),i.onSuccess(o),n));case 36:case"end":return e.stop()}}),e,null,[[20,28]])})));function t(t){return e.apply(this,arguments)}return t}(),setArea:function(e){var t=Nd.reportApiInvoke(null,{name:zl.SET_AREA,options:e,tag:Vl.TRACER});try{var n,r=[];if("string"==typeof e&&(r=[e]),ll(e)&&(xa(e).call(e,(function(e){if(!Au(Rf).call(Rf,e))throw new Pl(ul.INVALID_PARAMS,"invalid area code")})),r=e),"[object Object]"===Object.prototype.toString.call(e)){var i=e,o=i.areaCode,a=i.excludedArea;if(!o)throw new Pl(ul.INVALID_PARAMS,"area code is needed");e=o,"string"==typeof o&&(e=[o]),r=a?dp(e,a):e}Ae("AREAS",r);var s=function(e){var t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return Vc(e).call(e,(function(e){var n=Mf[e];(e=Ba(n))&&Vc(e).call(e,(function(e){var r;"CODE"!==e&&(t[e]=bs(r=t[e]).call(r,n[e]))}))})),t}(r);Vc(n=Ba(s)).call(n,(function(e){Ae(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?s[e][0]:s[e])})),Bl.debug("set area success:",r.join(","))}catch(a){throw t.onError(a),a}t.onSuccess()},loadModule:function(e,t){e.moduleInit?e.moduleInit({logger:Bl,report:Nd},t):Bl.debug("Invalid Plugin")},processExternalMediaAEC:function(e){jg.processExternalMediaAEC(e)}};return Wd.on(Gl.CAMERA_DEVICE_CHANGED,(function(e){Bl.info("camera device changed",ri(e)),Lg.onCameraChanged&&Lg.onCameraChanged(e)})),Wd.on(Gl.RECORDING_DEVICE_CHANGED,(function(e){Bl.info("microphone device changed",ri(e)),Lg.onMicrophoneChanged&&Lg.onMicrophoneChanged(e)})),Wd.on(Gl.PLAYOUT_DEVICE_CHANGED,(function(e){Bl.debug("playout device changed",ri(e)),Lg.onPlaybackDeviceChanged&&Lg.onPlaybackDeviceChanged(e)})),nh.onAutoplayFailed=function(){Bl.info("detect audio element autoplay failed"),Lg.onAudioAutoplayFailed&&Lg.onAudioAutoplayFailed()},Fd.on("autoplay-failed",(function(){Bl.info("detect webaudio autoplay failed"),Lg.onAudioAutoplayFailed&&Lg.onAudioAutoplayFailed()})),eh.on("autoplay-failed",(function(){Bl.info("detect media autoplay failed"),Lg.onAutoplayFailed?Lg.onAutoplayFailed():Lg.onAudioAutoplayFailed?Bl.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\nPlease refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):Bl.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\nIt will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\nPlease refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .")})),Lg}()}).call(this,n(39),n(41))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(1),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";var r=n(1),i=r.createContext({});t.a=i},,function(e,t,n){var r=n(391);function i(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},function(e,t,n){"use strict";var r=n(18),i=n(179),o=n(182),a=n(183),s=n(86);function c(e){s.call(this,"digest"),this._hash=e}r(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(48).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(this,n(48).Buffer)},function(e,t,n){"use strict";var r=n(76),i=n(64);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){"use strict";var r=n(18),i=n(199).Reporter,o=n(197).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){return e instanceof a||"object"===typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"===typeof e.offset&&"number"===typeof e.length&&"function"===typeof e.save&&"function"===typeof e.restore&&"function"===typeof e.isEmpty&&"function"===typeof e.readUInt8&&"function"===typeof e.skip&&"function"===typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.isEncoderBuffer=function(e){return e instanceof s||"object"===typeof e&&"EncoderBuffer"===e.constructor.name&&"number"===typeof e.length&&"function"===typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,n){"use strict";var r=n(28).OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,o,a){return t(e,o)||(n(e)&&r(i,a),i=a),o})),n(e.last())&&r(i,e.count())}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},function(e,t,n){"use strict";var r=n(57),i=n(87)("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),s=o,c=o.getAnchorKey(),u=o.getFocusKey(),l=a.getBlockForKey(c);if(i&&"forward"===n&&c!==u)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var f=a.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===o)return a}return r.removeRange(a,s,n)}},function(e,t,n){var r=n(604),i=n(605),o=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:function(e,t){var n=e.length,i=new Array(n),a=0;e.forEach((function(e,s){r(e,!1,(function(e){i[s]=e,++a===n&&t(i.join(o))}))}))},decodePacket:i,decodePayload:function(e,t){for(var n=e.split(o),r=[],a=0;a<n.length;a++){var s=i(n[a],t);if(r.push(s),"error"===s.type)break}return r}}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(16),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,c=t.easing,u=void 0===c?i.easeInOut:c,l=t.delay,f=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(u," ").concat("string"===typeof f?f:a(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p}));var r=n(1),i=n.n(r),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=i.a.createContext&&i.a.createContext(o),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function u(e){return e&&e.map((function(e,t){return i.a.createElement(e.tag,s({key:t},e.attr),u(e.child))}))}function l(e){return function(t){return i.a.createElement(f,s({attr:s({},e.attr)},t),u(e.child))}}function f(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,u=c(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.a.createElement("title",null,a),e.children)};return void 0!==a?i.a.createElement(a.Consumer,null,(function(e){return t(e)})):t(o)}function d(e){return l({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 260H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 260H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V340c0-44.2-35.8-80-80-80zM512 716c-88.4 0-160-71.6-160-160s71.6-160 160-160 160 71.6 160 160-71.6 160-160 160zm-96-160a96 96 0 1 0 192 0 96 96 0 1 0-192 0z"}}]})(e)}function h(e){return l({tag:"svg",attr:{t:"1569682811064",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M682 455V311l-76 76v68c-0.1 50.7-42 92.1-94 92-19.1 0.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36 93.8 0 170-75.1 170-168z"}},{tag:"path",attr:{d:"M833 446h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c0.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328 0-4.4-3.6-8-8-8zM846.1 68.3l-43.5-41.9c-3.1-3-8.1-3-11.2 0.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7 0.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8-0.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8 0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l0.1-0.1c3.1-3.2 3-8.3-0.2-11.4zM417 401V232c0-50.6 41.9-92 94-92 46 0 84.1 32.3 92.3 74.7L417 401z"}}]})(e)}function p(e){return l({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})(e)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=new Map,i=0,o={bookId:function(){return"x:"+i++},register:function(e,t){return r.set(e,t),e},get:function(e){return r.get(e)},free:function(e){r.delete(e)}}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(380);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(100)},function(e,t,n){(function(t){var r=n(401),i=n(493),o=n(494).UINT32,a="006",s=Math.floor(4294967295*Math.random());e.exports.version=a,e.exports.AccessToken=function(e,n,r,u){var l=this;this.appID=e,this.appCertificate=n,this.channelName=r,this.messages={},this.salt=s,this.ts=Math.floor(new Date/1e3)+86400,this.uid=0===u?"":"".concat(u),this.build=function(){var e=d({salt:l.salt,ts:l.ts,messages:l.messages}).pack(),n=t.concat([t.from(l.appID,"utf8"),t.from(l.channelName,"utf8"),t.from(l.uid,"utf8"),e]),r=c(l.appCertificate,n),s=o(i.str(l.channelName)).and(o(4294967295)).toNumber(),u=o(i.str(l.uid)).and(o(4294967295)).toNumber(),h=f({signature:r,crc_channel:s,crc_uid:u,m:e}).pack();return a+l.appID+h.toString("base64")},this.addPriviledge=function(e,t){l.messages[e]=t},this.fromString=function(e){try{if(originVersion=e.substr(0,3),originVersion!=a)return!1;e.substr(3,35);var n=e.substr(35),r=t.from(n,"base64"),i=h(r);this.signature=i.signature,this.crc_channel_name=i.crc_channel_name,this.crc_uid=i.crc_uid,this.m=i.m;var o=p(this.m);this.salt=o.salt,this.ts=o.ts,this.messages=o.messages}catch(s){return console.log(s),!1}return!0}},e.exports.priviledges={kJoinChannel:1,kPublishAudioStream:2,kPublishVideoStream:3,kPublishDataStream:4,kPublishAudiocdn:5,kPublishVideoCdn:6,kRequestPublishAudioStream:7,kRequestPublishVideoStream:8,kRequestPublishDataStream:9,kInvitePublishAudioStream:10,kInvitePublishVideoStream:11,kInvitePublishDataStream:12,kAdministrateChannel:101,kRtmLogin:1e3};var c=function(e,t){return r.createHmac("sha256",e).update(t).digest()},u=function(){var e={buffer:t.alloc(1024),position:0};return e.buffer.fill(0),e.pack=function(){var n=t.alloc(e.position);return e.buffer.copy(n,0,0,n.length),n},e.putUint16=function(t){return e.buffer.writeUInt16LE(t,e.position),e.position+=2,e},e.putUint32=function(t){return e.buffer.writeUInt32LE(t,e.position),e.position+=4,e},e.putBytes=function(t){return e.putUint16(t.length),t.copy(e.buffer,e.position),e.position+=t.length,e},e.putString=function(n){return e.putBytes(t.from(n))},e.putTreeMap=function(t){if(!t)return e.putUint16(0),e;for(var n in e.putUint16(Object.keys(t).length),t)e.putUint16(n),e.putString(t[n]);return e},e.putTreeMapUInt32=function(t){if(!t)return e.putUint16(0),e;for(var n in e.putUint16(Object.keys(t).length),t)e.putUint16(n),e.putUint32(t[n]);return e},e},l=function(e){var n={buffer:e,position:0,getUint16:function(){var e=n.buffer.readUInt16LE(n.position);return n.position+=2,e},getUint32:function(){var e=n.buffer.readUInt32LE(n.position);return n.position+=4,e},getString:function(){var e=n.getUint16(),r=t.alloc(e);return n.buffer.copy(r,0,n.position,n.position+e),n.position+=e,r},getTreeMapUInt32:function(){for(var e={},t=n.getUint16(),r=0;r<t;r++){var i=n.getUint16(),o=n.getUint32();e[i]=o}return e}};return n},f=function(e){return e.pack=function(){return(new u).putString(e.signature).putUint32(e.crc_channel).putUint32(e.crc_uid).putString(e.m).pack()},e},d=function(e){return e.pack=function(){return(new u).putUint32(e.salt).putUint32(e.ts).putTreeMapUInt32(e.messages).pack()},e},h=function(e){var t=new l(e);return f({signature:t.getString(),crc_channel_name:t.getUint32(),crc_uid:t.getUint32(),m:t.getString()})},p=function(e){var t=new l(e);return d({salt:t.getUint32(),ts:t.getUint32(),messages:t.getTreeMapUInt32()})}}).call(this,n(48).Buffer)},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(41))},function(e,t,n){var r=n(24).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,c,u=n[0],l=n[1],f=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],v=e[3]^t[3],m=4,y=1;y<i;y++)o=u[h>>>24]^l[p>>>16&255]^f[g>>>8&255]^d[255&v]^t[m++],a=u[p>>>24]^l[g>>>16&255]^f[v>>>8&255]^d[255&h]^t[m++],s=u[g>>>24]^l[v>>>16&255]^f[h>>>8&255]^d[255&p]^t[m++],c=u[v>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&g]^t[m++],h=o,p=a,g=s,v=c;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&v])^t[m++],a=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[v>>>8&255]<<8|r[255&h])^t[m++],s=(r[g>>>24]<<24|r[v>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[m++],c=(r[v>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^t[m++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,r[u]=a;var l=e[a],f=e[l],d=e[f],h=257*e[u]^16843008*u;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*d^65537*f^257*l^16843008*a,o[0][u]=h<<24|h>>>8,o[1][u]=h<<16|h>>>16,o[2][u]=h<<8|h>>>24,o[3][u]=h,0===a?a=s=1:(a=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t===0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t===4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-t]^a}for(var u=[],l=0;l<r;l++){var f=r-l,d=i[f-(l%4?0:4)];u[l]=l<4||f<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},function(e,t,n){var r=n(24).Buffer,i=n(179);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),c=r.alloc(o||0),u=r.alloc(0);a>0||o>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,u.length),u.copy(s,d,0,f),a-=f}if(f<u.length&&o>0){var h=c.length-o,p=Math.min(o,u.length-f);u.copy(c,h,f,f+p),o-=p}}return u.fill(0),{key:s,iv:c}}},function(e,t,n){"use strict";var r=n(49),i=n(65),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a,c,u=[];for(a=0;a<r.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+r[l];u.push(c)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?d=d.mixedAdd(n.points[a]):c===-h&&(d=d.mixedAdd(n.points[a].neg()));f=f.add(d)}return f.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var f=a[u];s(0!==f),c="affine"===e.type?f>0?c.mixedAdd(i[f-1>>1]):c.mixedAdd(i[-f-1>>1].neg()):f>0?c.add(i[f-1>>1]):c.add(i[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){var s,c,u,l=this._wnafT1,f=this._wnafT2,d=this._wnafT3,h=0;for(s=0;s<r;s++){var p=(u=t[s])._getNAFPoints(e);l[s]=p.wnd,f[s]=p.points}for(s=r-1;s>=1;s-=2){var g=s-1,v=s;if(1===l[g]&&1===l[v]){var m=[t[g],null,null,t[v]];0===t[g].y.cmp(t[v].y)?(m[1]=t[g].add(t[v]),m[2]=t[g].toJ().mixedAdd(t[v].neg())):0===t[g].y.cmp(t[v].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[v]),m[2]=t[g].add(t[v].neg())):(m[1]=t[g].toJ().mixedAdd(t[v]),m[2]=t[g].toJ().mixedAdd(t[v].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[g],n[v]);for(h=Math.max(b[0].length,h),d[g]=new Array(h),d[v]=new Array(h),c=0;c<h;c++){var A=0|b[0][c],_=0|b[1][c];d[g][c]=y[3*(A+1)+(_+1)],d[v][c]=0,f[g]=m}}else d[g]=o(n[g],l[g],this._bitLength),d[v]=o(n[v],l[v],this._bitLength),h=Math.max(d[g].length,h),h=Math.max(d[v].length,h)}var E=this.jpoint(null,null,null),w=this._wnafT4;for(s=h;s>=0;s--){for(var I=0;s>=0;){var S=!0;for(c=0;c<r;c++)w[c]=0|d[c][s],0!==w[c]&&(S=!1);if(!S)break;I++,s--}if(s>=0&&I++,E=E.dblp(I),s<0)break;for(c=0;c<r;c++){var k=w[c];0!==k&&(k>0?u=f[c][k-1>>1]:k<0&&(u=f[c][-k-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(s=0;s<r;s++)f[s]=null;return i?E:E.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var r=n(478),i=n(485),o=n(486),a=n(188),s=n(249),c=n(24).Buffer;function u(e){var t;"object"!==typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=c.from(e));var n,u,l=o(e,t),f=l.tag,d=l.data;switch(f){case"CERTIFICATE":u=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(d,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(t,n,r,f,"sha1"),h=a.createDecipheriv(o,d,u),p=[];return p.push(h.update(l)),p.push(h.final()),c.concat(p)}(d=r.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=u,u.signature=r.signature},function(e,t,n){"use strict";var r=n(289),i=n(290);e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=i(e,t).getBlockMap(),u=c.keySeq(),l=u.indexOf(n),f=u.indexOf(a)+1;return r(c.slice(l,f).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===a?e.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:i.slice(o)}):t===a?e.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):e})))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(295),o=n(28),a=n(29),s=n(515),c=(0,o.Map)(),u=s();function l(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var f={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),f.__getLastCreatedEntityKey()},create:function(e,t,n){return l("DraftEntity.create","contentState.createEntity"),f.__create(e,t,n)},add:function(e){return l("DraftEntity.add","contentState.addEntity"),f.__add(e)},get:function(e){return l("DraftEntity.get","contentState.getEntity"),f.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,u=s()},mergeData:function(e,t){return l("DraftEntity.mergeData","contentState.mergeEntityData"),f.__mergeData(e,t)},replaceData:function(e,t){return l("DraftEntity.replaceData","contentState.replaceEntityData"),f.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return u},__create:function(e,t,n){return f.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){return u=s(),c=c.set(u,e),u},__get:function(e){var t=c.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=f.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",i);return c=c.set(e,o),o},__replaceData:function(e,t){var n=f.__get(e).set("data",t);return c=c.set(e,n),n}};e.exports=f},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(28).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";var r=n(29),i="LTR",o=null;function a(e){return e===i||"RTL"===e}function s(e){return a(e)||r(!1),e===i?"ltr":"rtl"}function c(e){o=e}var u={NEUTRAL:"NEUTRAL",LTR:i,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:s(e)},setGlobalDir:c,initGlobalDir:function(){c(i)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};e.exports=u},function(e,t,n){"use strict";var r=n(153),i=n(298);e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n(537),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";var r=n(541),i=n(542);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(30),o=!0,a=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function f(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!c[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},,function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(378),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=c(t),g=c(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=d(n,m);try{u(t,m,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=n(1),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(134);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(361),i=(n(1),n(113));function o(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(344);var i=n(168),o=n(345);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";t.a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},function(e,t,n){"use strict";t.a={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},,,function(e,t,n){var r=n(226);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r=n(18),i=n(232),o=n(24).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,i,o,a){return c(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return c(e+(t&r|n&~r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return c(e+(t^n^r)+i+o|0,a)+t|0}function d(e,t,n,r,i,o,a){return c(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,e[0],3614090360,7),o=u(o,n,r,i,e[1],3905402710,12),i=u(i,o,n,r,e[2],606105819,17),r=u(r,i,o,n,e[3],3250441966,22),n=u(n,r,i,o,e[4],4118548399,7),o=u(o,n,r,i,e[5],1200080426,12),i=u(i,o,n,r,e[6],2821735955,17),r=u(r,i,o,n,e[7],4249261313,22),n=u(n,r,i,o,e[8],1770035416,7),o=u(o,n,r,i,e[9],2336552879,12),i=u(i,o,n,r,e[10],4294925233,17),r=u(r,i,o,n,e[11],2304563134,22),n=u(n,r,i,o,e[12],1804603682,7),o=u(o,n,r,i,e[13],4254626195,12),i=u(i,o,n,r,e[14],2792965006,17),n=l(n,r=u(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,n,r,i,e[6],3225465664,9),i=l(i,o,n,r,e[11],643717713,14),r=l(r,i,o,n,e[0],3921069994,20),n=l(n,r,i,o,e[5],3593408605,5),o=l(o,n,r,i,e[10],38016083,9),i=l(i,o,n,r,e[15],3634488961,14),r=l(r,i,o,n,e[4],3889429448,20),n=l(n,r,i,o,e[9],568446438,5),o=l(o,n,r,i,e[14],3275163606,9),i=l(i,o,n,r,e[3],4107603335,14),r=l(r,i,o,n,e[8],1163531501,20),n=l(n,r,i,o,e[13],2850285829,5),o=l(o,n,r,i,e[2],4243563512,9),i=l(i,o,n,r,e[7],1735328473,14),n=f(n,r=l(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,n,r,i,e[8],2272392833,11),i=f(i,o,n,r,e[11],1839030562,16),r=f(r,i,o,n,e[14],4259657740,23),n=f(n,r,i,o,e[1],2763975236,4),o=f(o,n,r,i,e[4],1272893353,11),i=f(i,o,n,r,e[7],4139469664,16),r=f(r,i,o,n,e[10],3200236656,23),n=f(n,r,i,o,e[13],681279174,4),o=f(o,n,r,i,e[0],3936430074,11),i=f(i,o,n,r,e[3],3572445317,16),r=f(r,i,o,n,e[6],76029189,23),n=f(n,r,i,o,e[9],3654602809,4),o=f(o,n,r,i,e[12],3873151461,11),i=f(i,o,n,r,e[15],530742520,16),n=d(n,r=f(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,n,r,i,e[7],1126891415,10),i=d(i,o,n,r,e[14],2878612391,15),r=d(r,i,o,n,e[5],4237533241,21),n=d(n,r,i,o,e[12],1700485571,6),o=d(o,n,r,i,e[3],2399980690,10),i=d(i,o,n,r,e[10],4293915773,15),r=d(r,i,o,n,e[1],2240044497,21),n=d(n,r,i,o,e[8],1873313359,6),o=d(o,n,r,i,e[15],4264355552,10),i=d(i,o,n,r,e[6],2734768916,15),r=d(r,i,o,n,e[13],1309151649,21),n=d(n,r,i,o,e[4],4149444226,6),o=d(o,n,r,i,e[11],3174756917,10),i=d(i,o,n,r,e[2],718787259,15),r=d(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(39))},function(e,t,n){"use strict";var r=n(103).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,n){"use strict";var r=n(48).Buffer,i=n(18),o=n(232),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function v(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function m(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,A=0|this._a,_=0|this._b,E=0|this._c,w=0|this._d,I=0|this._e,S=0;S<80;S+=1){var k,C;S<16?(k=g(n,r,i,o,h,e[s[S]],f[0],u[S]),C=b(A,_,E,w,I,e[c[S]],d[0],l[S])):S<32?(k=v(n,r,i,o,h,e[s[S]],f[1],u[S]),C=y(A,_,E,w,I,e[c[S]],d[1],l[S])):S<48?(k=m(n,r,i,o,h,e[s[S]],f[2],u[S]),C=m(A,_,E,w,I,e[c[S]],d[2],l[S])):S<64?(k=y(n,r,i,o,h,e[s[S]],f[3],u[S]),C=v(A,_,E,w,I,e[c[S]],d[3],l[S])):(k=b(n,r,i,o,h,e[s[S]],f[4],u[S]),C=g(A,_,E,w,I,e[c[S]],d[4],l[S])),n=h,h=o,o=p(i,10),i=r,r=k,A=I,I=w,w=p(E,10),E=_,_=C}var O=this._b+i+w|0;this._b=this._c+o+I|0,this._c=this._d+h+A|0,this._d=this._e+n+_|0,this._e=this._a+r+E|0,this._a=O},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(410),t.sha1=n(411),t.sha224=n(412),t.sha256=n(239),t.sha384=n(413),t.sha512=n(240)},function(e,t,n){(t=e.exports=n(241)).Stream=t,t.Readable=t,t.Writable=n(186),t.Duplex=n(95),t.Transform=n(245),t.PassThrough=n(419)},function(e,t,n){var r=n(48),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var o=n(143);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=m;var u=Object.create(n(121));u.inherits=n(18);var l={deprecate:n(180)},f=n(242),d=n(185).Buffer,h=i.Uint8Array||function(){};var p,g=n(243);function v(){}function m(e,t){s=s||n(95),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}(e,n,r,t,i);else{var a=E(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?c(A,e,n,a,i):A(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(95),!p.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,f),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=d.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return c}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(41),n(418).setImmediate,n(39))},function(e,t,n){"use strict";var r=n(64);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var r=n(432),i=n(440),o=n(258);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var r={ECB:n(433),CBC:n(434),CFB:n(435),CFB8:n(436),CFB1:n(437),OFB:n(438),CTR:n(256),GCM:n(256)},i=n(258);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(444);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},function(e,t,n){"use strict";var r=n(106).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,n){(function(t){var r=n(457),i=n(102);function o(e){var t,n=e.modulus.byteLength();do{t=new r(i(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,n){var i=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),s=new r(e).mul(i.blinder).umod(n.modulus),c=s.toRed(r.mont(n.prime1)),u=s.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,d=n.prime2,h=c.redPow(n.exponent1).fromRed(),p=u.redPow(n.exponent2).fromRed(),g=h.isub(p).imul(l).umod(f).imul(d);return p.iadd(g).imul(i.unblinder).umod(n.modulus).toArrayLike(t,"be",a)}a.getr=o,e.exports=a}).call(this,n(48).Buffer)},function(e,t,n){"use strict";var r=t;r.version=n(459).version,r.utils=n(65),r.rand=n(191),r.curve=n(270),r.curves=n(195),r.ec=n(470),r.eddsa=n(474)},function(e,t,n){"use strict";var r,i=t,o=n(196),a=n(270),s=n(65).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(469)}catch(l){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){var r=t;r.utils=n(76),r.common=n(123),r.sha=n(463),r.ripemd=n(467),r.hmac=n(468),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";(function(t){var r,i=n(48),o=i.Buffer,a={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=i[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,n){if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&"undefined"===typeof e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),s.alloc||(s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(c){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this,n(41))},function(e,t,n){"use strict";var r=n(199).Reporter,i=n(124).EncoderBuffer,o=n(124).DecoderBuffer,a=n(64),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t,n){var r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(a=this._peekTag(e,c,n.any),e.isError(a))return a}else{var u=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(g){a=!1}e.restore(u)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){var d;n.any&&(d=e.save());var h=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(h))return h;n.any?i=e.raw(d):e=h}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},u.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var c=s._decode(e,t);if(e.isError(c))return!1;r={type:o,value:c},i=!0}catch(u){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},u.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),c))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,n){"use strict";var r=n(18);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(e,t,n){"use strict";function r(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(125),a=n(66),s=n(96),c=n(67),u=n(149),l=n(150),f=n(77),d=n(294),h=n(87),p=n(28),g=n(296),v=p.List,m=p.Record,y=p.Repeat,b=p.Map,A=p.OrderedMap,_=m({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),E=h("draft_tree_data_support")?c:s,w=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getEntityMap=function(){return u},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return u.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return u.__create(e,t,n),this},s.mergeEntityData=function(e,t){return u.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return u.__replaceData(e,t),this},s.addEntity=function(e){return u.__add(e),this},s.getEntity=function(e){return u.__get(e)},s.getAllEntities=function(){return u.__getAll()},s.loadWithEntities=function(e){return u.__loadWithEntities(e)},i.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=o.createFromArray(n),a=r.isEmpty()?new l:l.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:t||u,selectionBefore:a,selectionAfter:a})},i.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=g(e),new E({key:f(),text:e,type:"unstyled",characterList:v(y(a.EMPTY,e.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(e){return new i(r({},e,{blockMap:A(e.blockMap).map(i.createContentBlockFromJS),selectionBefore:new l(e.selectionBefore),selectionAfter:new l(e.selectionAfter)}))},i.createContentBlockFromJS=function(e){var t=e.characterList;return new E(r({},e,{data:b(e.data),characterList:null!=t?v((Array.isArray(t)?t:d(t)).map((function(e){return a.fromJS(e)}))):void 0}))},i}(_);e.exports=w},function(e,t,n){"use strict";var r=n(151),i=n(29),o="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",a="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+o+a+"]"),c=new RegExp("["+o+a+"]");function u(e){var t=s.exec(e);return null==t?null:t[0]}function l(e){var t=u(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=l(e);return n===r.NEUTRAL?t:n}function d(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),f(e,t)}var h={firstStrongChar:u,firstStrongCharDir:l,resolveBlockDir:f,getDirection:d,isDirectionLTR:function(e,t){return d(e,t)===r.LTR},isDirectionRTL:function(e,t){return d(e,t)===r.RTL}};e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(97),o=(0,n(28).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},function(e,t,n){"use strict";var r=n(306).notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:i(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),i(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(535);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var i={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=i},function(e,t,n){"use strict";n(208);e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(t>o){var c=r.getKeyBefore(i);if(null==c)a=i;else a=c,s=r.getBlockForKey(c).getText().length}else s=o-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},function(e,t,n){"use strict";var r=n(315);e.exports=r},function(e,t,n){"use strict";var r=n(59),i=n(562),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=a},function(e,t,n){var r=n(61),i=n(62),o=n(71),a=n(72),s=n(129),c=n(130),u=n(78)("engine.io-client:transport"),l=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this)).opts=e,i.query=e.query,i.readyState="",i.socket=e.socket,i}return i(n,[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState?this.write(e):u("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),n}(c);e.exports=l},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t,n){"use strict";var r=n(119),i=n(92),o=n(71),a=n(72),s=n(61),c=n(62);Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var u,l=n(130),f=n(610),d=n(337),h=n(78)("socket.io-parser");t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(u=t.PacketType||(t.PacketType={}));var p=function(){function e(){s(this,e)}return c(e,[{key:"encode",value:function(e){return h("encoding packet %j",e),e.type!==u.EVENT&&e.type!==u.ACK||!d.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===u.EVENT?u.BINARY_EVENT:u.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==u.BINARY_EVENT&&e.type!==u.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),h("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=f.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();t.Encoder=p;var g=function(e){o(n,e);var t=a(n);function n(){return s(this,n),t.call(this)}return c(n,[{key:"add",value:function(e){var t;if("string"===typeof e)(t=this.decodeString(e)).type===u.BINARY_EVENT||t.type===u.BINARY_ACK?(this.reconstructor=new v(t),0===t.attachments&&r(i(n.prototype),"emit",this).call(this,"decoded",t)):r(i(n.prototype),"emit",this).call(this,"decoded",t);else{if(!d.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,r(i(n.prototype),"emit",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===u[r.type])throw new Error("unknown packet type "+r.type);if(r.type===u.BINARY_EVENT||r.type===u.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var a=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var c=t+1;++t;){var l=e.charAt(t);if(null==l||Number(l)!=l){--t;break}if(t===e.length)break}r.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){var f=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(t));if(!n.isPayloadValid(r.type,f))throw new Error("invalid payload");r.data=f}return h("decoded %s as %j",e,r),r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case u.CONNECT:return"object"===typeof t;case u.DISCONNECT:return void 0===t;case u.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case u.EVENT:case u.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case u.ACK:case u.BINARY_ACK:return Array.isArray(t)}}}]),n}(l);t.Decoder=g;var v=function(){function e(t){s(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return c(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),o=n(46),a=n(21),s=n.n(a),c=1073741823,u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):c,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:d}};t.a=f}).call(this,n(39))},function(e,t,n){var r=n(383);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],g=n[2],v=n[3],m=n[4],y=n[5],b=n[6],A=n[7];s&&(r.push(s),s="");var _=null!=g&&null!=p&&p!==g,E="+"===b||"*"===b,w="?"===b||"*"===b,I=n[2]||l,S=m||y;r.push({name:v||o++,prefix:g||"",delimiter:I,optional:w,repeat:E,partial:_,asterisk:!!A,pattern:S?u(S):A?".*":"[^"+c(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},c=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=c(d[h]),!n[u].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(d),!n[u].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=c(u);else{var d=c(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+d+h+")*"),a+=h=u.optional?u.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=c(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},function(e,t,n){e.exports={RtcTokenBuilder:n(230).RtcTokenBuilder,RtcRole:n(230).Role,RtmTokenBuilder:n(284).RtmTokenBuilder,RtmRole:n(284).Role}},function(e,t,n){e.exports=function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}var n={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function r(e){return e&&n[e]}function i(t){var n="";return e(t,(function(e,t){t&&(n+="".concat(e,":").concat(t,";"))})),n}function o(e,t){var n=[];if(t)for(var r=0,i=0,o=e,a=t.trigger||"#",s=t.separator||" ";o.length>0&&i>=0;)if(o[0]===a?(i=0,r=0,o=o.substr(a.length)):(i=o.indexOf(s+a))>=0&&(o=o.substr(i+(s+a).length),r+=i+s.length),i>=0){var c=o.indexOf(s)>=0?o.indexOf(s):o.length,u=o.substr(0,c);u&&u.length>0&&n.push({offset:r,length:u.length+a.length,type:"HASHTAG"}),r+=a.length}return n}function a(e,t){var n=[],r=0,i=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(i=(i=i.concat(o(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length})),r<e.text.length&&n.push({start:r,end:e.text.length}),n}function s(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function c(e){var t=e.text,n=e.inlineStyleRanges,r={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach((function(e){for(var t=e.offset,n=t+e.length,i=t;i<n;i+=1)0===e.style.indexOf("color-")?r.COLOR[i]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?r.BGCOLOR[i]=e.style.substring(8):0===e.style.indexOf("fontsize-")?r.FONTSIZE[i]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?r.FONTFAMILY[i]=e.style.substring(11):r[e.style]&&(r[e.style][i]=!0)})),r}function u(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function l(e,t,n){var r=!0;return n>0&&n<e.length?t.forEach((function(t){r=r&&e[t][n]===e[t][n-1]})):r=!1,r}function f(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function d(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}function h(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(n+='"',">").concat(t,"</span>")}return t}function p(e,t,n,r){var i=e[t];if("function"===typeof r){var o=r(i,n);if(o)return o}if("MENTION"===i.type)return'<a href="'.concat(i.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(i.data.value,'">').concat(n,"</a>");if("LINK"===i.type){var a=i.data.targetOption||"_self";return'<a href="'.concat(i.data.url,'" target="').concat(a,'">').concat(n,"</a>")}if("IMAGE"===i.type){var s=i.data.alignment;return s&&s.length?'<div style="text-align:'.concat(s,';"><img src="').concat(i.data.src,'" alt="').concat(i.data.alt,'" style="height: ').concat(i.data.height,";width: ").concat(i.data.width,'"/></div>'):'<img src="'.concat(i.data.src,'" alt="').concat(i.data.alt,'" style="height: ').concat(i.data.height,";width: ").concat(i.data.width,'"/>')}return"EMBEDDED_LINK"===i.type?'<iframe width="'.concat(i.data.width,'" height="').concat(i.data.height,'" src="').concat(i.data.src,'" frameBorder="0"></iframe>'):n}function g(e,t,n,r){var i=[],o=Array.from(e.text);if(o.length>0)for(var a,s=c(e),f=n;f<r;f+=1)f!==n&&l(s,t,f)?(a.text.push(o[f]),a.end=f+1):(a={styles:u(s,f),text:[o[f]],start:f,end:f+1},i.push(a));return i}function v(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}function m(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}function y(t){var n=t.styles,r=d(t.text);return e(n,(function(e,t){r=f(e,r)})),r}function b(e,t){var n=g(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),r="";return n.forEach((function(e){r+=y(e)})),r=h(t.styles,r)}function A(e,t,n,r){var i=[];g(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach((function(t){i.push(b(e,t))}));var o=i.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(o=p(t,n.entityKey,o,r)):"HASHTAG"===n.type&&(o='<a href="'.concat(o,'" class="wysiwyg-hashtag">').concat(o,"</a>")),o}function _(e,t,n,r){var i=[],o=a(e,n);return o.forEach((function(n,a){var s=A(e,t,n,r);0===a&&(s=v(s)),a===o.length-1&&(s=m(s)),i.push(s)})),i.join("")}function E(e,t,n,o,a){var c=[];if(s(e))c.push(p(t,e.entityRanges[0].key,void 0,a));else{var u=r(e.type);if(u){c.push("<".concat(u));var l=i(e.data);l&&c.push(' style="'.concat(l,'"')),o&&c.push(' dir = "auto"'),c.push(">"),c.push(_(e,t,n,a)),c.push("</".concat(u,">"))}}return c.push("\n"),c.join("")}function w(e){return"unordered-list-item"===e||"ordered-list-item"===e}function I(e,t,n,o,a){var s,c=[],u=[];return e.forEach((function(e){var l=!1;if(s?s.type!==e.type?(c.push("</".concat(r(s.type),">\n")),c.push("<".concat(r(e.type),">\n"))):s.depth===e.depth?u&&u.length>0&&(c.push(I(u,t,n,o,a)),u=[]):(l=!0,u.push(e)):c.push("<".concat(r(e.type),">\n")),!l){c.push("<li");var f=i(e.data);f&&c.push(' style="'.concat(f,'"')),o&&c.push(' dir = "auto"'),c.push(">"),c.push(_(e,t,n,a)),c.push("</li>\n"),s=e}})),u&&u.length>0&&c.push(I(u,t,n,o,a)),c.push("</".concat(r(s.type),">\n")),c.join("")}function S(e,t,n,r){var i=[];if(e){var o=e.blocks,a=e.entityMap;if(o&&o.length>0){var s=[];if(o.forEach((function(e){if(w(e.type))s.push(e);else{if(s.length>0){var o=I(s,a,t,r);i.push(o),s=[]}var c=E(e,a,t,n,r);i.push(c)}})),s.length>0){var c=I(s,a,t,n,r);i.push(c),s=[]}}}return i.join("")}return S}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var i=["none",r(0,2,1,-1,0,1,1,0,0,1,3,0),r(0,3,1,-2,0,2,2,0,0,1,5,0),r(0,3,3,-2,0,3,4,0,0,1,8,0),r(0,2,4,-1,0,4,5,0,0,1,10,0),r(0,3,5,-1,0,5,8,0,0,1,14,0),r(0,3,5,-1,0,6,10,0,0,1,18,0),r(0,4,5,-2,0,7,10,1,0,2,16,1),r(0,5,5,-3,0,8,10,1,0,3,14,2),r(0,5,6,-3,0,9,12,1,0,3,16,2),r(0,6,6,-3,0,10,14,1,0,4,18,3),r(0,6,7,-4,0,11,15,1,0,4,20,3),r(0,7,8,-4,0,12,17,2,0,5,22,4),r(0,7,8,-4,0,13,19,2,0,5,24,4),r(0,7,9,-4,0,14,21,2,0,5,26,4),r(0,8,9,-5,0,15,22,2,0,6,28,5),r(0,8,10,-5,0,16,24,2,0,6,30,5),r(0,8,11,-5,0,17,26,2,0,6,32,5),r(0,9,11,-5,0,18,28,2,0,7,34,6),r(0,9,12,-6,0,19,29,2,0,7,36,6),r(0,10,13,-6,0,20,31,3,0,8,38,7),r(0,10,13,-6,0,21,33,3,0,8,40,7),r(0,10,14,-6,0,22,35,3,0,8,42,7),r(0,11,14,-7,0,23,36,3,0,9,44,8),r(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9),i={deferEvents:!1},o=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Object(r.a)(Object(r.a)({},i),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},e}()},function(e,t,n){"use strict";(function(e){function r(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:void 0}function i(e){if(r()){var t=function(){var e=r();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))}).call(this,n(39))},function(e,t,n){"use strict";n.d(t,"a",(function(){return ei}));var r=n(1),i=n.n(r),o=n(354),a=n.n(o),s=c()?r.useLayoutEffect:r.useEffect;a.a,"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;function c(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var u=n(30);var l,f=function(e){var t=e.children,n=e.type,i=void 0===n?"reach-portal":n,o=Object(r.useRef)(null),a=Object(r.useRef)(null),c=function(){var e=Object(r.useState)(Object.create(null))[1];return Object(r.useCallback)((function(){e(Object.create(null))}),[])}();return s((function(){if(o.current){var e=o.current.ownerDocument;return a.current=null==e?void 0:e.createElement(i),e.body.appendChild(a.current),c(),function(){a.current&&a.current.ownerDocument&&a.current.ownerDocument.body.removeChild(a.current)}}}),[i,c]),a.current?Object(u.createPortal)(t,a.current):Object(r.createElement)("span",{ref:o})},d=n(69);!function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"}(l||(l={}));var h=r.useLayoutEffect,p=n(653);function g(e){var t=r.useRef();return t.current||(t.current={v:e()}),t.current.v}var v=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},m=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var y=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},b=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function A(e,t){(0,e.exec)(t.context,t._event.data,{action:e,state:t,_event:t._event})()}function _(e){var t=Object(r.useRef)([]),n=Object(r.useRef)([]);h((function(){var r=e.subscribe((function(e){var r,i;if(e.actions.length){var o=e.actions.filter((function(e){return"function"===typeof e.exec&&"__effect"in e.exec})),a=y(function(e,t){var n,r,i=v([[],[]],2),o=i[0],a=i[1];try{for(var s=m(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(o,(function(e){return e.exec.__effect===l.Effect})),2),s=a[0],c=a[1];(r=t.current).push.apply(r,b([],y(s.map((function(t){return[t,e]}))))),(i=n.current).push.apply(i,b([],y(c.map((function(t){return[t,e]})))))}}));return function(){r.unsubscribe()}}),[]),h((function(){for(;n.current.length;){var e=y(n.current.shift(),2);A(e[0],e[1])}})),Object(r.useEffect)((function(){for(;t.current.length;){var e=y(t.current.shift(),2);A(e[0],e[1])}}))}var E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var I=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function S(e,t){void 0===t&&(t={});var n=Object(r.useCallback)((function(e){var t=void 0===e.changed&&Object.keys(e.children).length;(e.changed||t)&&s(e)}),[]),i=function(e,t,n){void 0===t&&(t={});var r=g((function(){return"function"===typeof e?e():e})),i=t.context,o=t.guards,a=t.actions,s=t.activities,c=t.services,u=t.delays,l=t.state,f=w(t,["context","guards","actions","activities","services","delays","state"]),v=g((function(){var e={context:i,guards:o,actions:a,activities:s,services:c,delays:u},t=r.withConfig(e,E(E({},r.context),i));return Object(p.a)(t,E({deferEvents:!0},f))}));return h((function(){var e;return n&&(e=v.subscribe(function(e,t,n){if("object"===typeof e)return e;var r=function(){};return{next:e,error:void 0||r,complete:void 0||r}}(n))),function(){null===e||void 0===e||e.unsubscribe()}}),[n]),h((function(){return v.start(l?d.a.create(l):void 0),function(){v.stop()}}),[]),h((function(){Object.assign(v.machine.options.actions,a)}),[a]),h((function(){Object.assign(v.machine.options.services,c)}),[c]),_(v),v}(e,t,n),o=I(Object(r.useState)((function(){var e=i.machine.initialState;return t.state?d.a.create(t.state):e})),2),a=o[0],s=o[1];return[a,i.send,i]}var k=n(44),C=n(13),O=n(60),T=n(14),R=n(15),x=n(3),M=n(4),N=n(8),D=n(5),j=n(35),L={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},nul:function(e){return null===e},set:function(e){return e instanceof Set},map:function(e){return e instanceof Map},equ:function(e,t){if(typeof e!==typeof t)return!1;if(L.str(e)||L.num(e))return e===t;if(L.obj(e)&&L.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!L.und(n)||e===t}};function B(){var e=Object(r.useState)(!1)[1];return Object(r.useCallback)((function(){return e((function(e){return!e}))}),[])}function P(e,t){return L.und(e)||L.nul(e)?t:e}function U(e){return L.und(e)?[]:L.arr(e)?e:[e]}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return L.fun(e)?e.apply(void 0,n):e}function Q(e){var t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,Object(j.a)(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(L.und(t))return Object(D.a)({to:t},e);var n=Object.keys(e).reduce((function(n,r){return L.und(t[r])?Object(D.a)({},n,Object(N.a)({},r,e[r])):n}),{});return Object(D.a)({to:t},n)}var z,V,K=function(){function e(){Object(x.a)(this,e),this.payload=void 0,this.children=[]}return Object(M.a)(e,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:function(){return this.payload||this}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(e){0===this.children.length&&this.attach(),this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}]),e}(),G=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.apply(this,arguments)).payload=[],e.attach=function(){return e.payload.forEach((function(t){return t instanceof K&&t.addChild(Object(O.a)(e))}))},e.detach=function(){return e.payload.forEach((function(t){return t instanceof K&&t.removeChild(Object(O.a)(e))}))},e}return n}(K),H=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.apply(this,arguments)).payload={},e.attach=function(){return Object.values(e.payload).forEach((function(t){return t instanceof K&&t.addChild(Object(O.a)(e))}))},e.detach=function(){return Object.values(e.payload).forEach((function(t){return t instanceof K&&t.removeChild(Object(O.a)(e))}))},e}return Object(M.a)(n,[{key:"getValue",value:function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof K)&&(t[n]=r instanceof K?r[e?"getAnimatedValue":"getValue"]():r)}return t}},{key:"getAnimatedValue",value:function(){return this.getValue(!0)}}]),n}(K);function q(e,t){z={fn:e,transform:t}}function W(e){V=e}var Y,J=function(e){return"undefined"!==typeof window?window.requestAnimationFrame(e):-1};function X(e){Y=e}var Z=function(){return Date.now()};function $(e){e}var ee,te,ne=function(e){return e.current};function re(e){ee=e}var ie=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e,r){var i;return Object(x.a)(this,n),(i=t.call(this)).update=void 0,i.payload=e.style?Object(D.a)({},e,{style:ee(e.style)}):e,i.update=r,i.attach(),i}return n}(H),oe=!1,ae=new Set,se=function e(){if(!oe)return!1;var t,n=Z(),r=Object(C.a)(ae);try{for(r.s();!(t=r.n()).done;){for(var i=t.value,o=!1,a=0;a<i.configs.length;a++){for(var s=i.configs[a],c=void 0,u=void 0,l=0;l<s.animatedValues.length;l++){var f=s.animatedValues[l];if(!f.done){var d=s.fromValues[l],h=s.toValues[l],p=f.lastPosition,g=h instanceof K,v=Array.isArray(s.initialVelocity)?s.initialVelocity[l]:s.initialVelocity;if(g&&(h=h.getValue()),s.immediate)f.setValue(h),f.done=!0;else if("string"!==typeof d&&"string"!==typeof h){if(void 0!==s.duration)p=d+s.easing((n-f.startTime)/s.duration)*(h-d),c=n>=f.startTime+s.duration;else if(s.decay)p=d+v/(1-.998)*(1-Math.exp(-(1-.998)*(n-f.startTime))),(c=Math.abs(f.lastPosition-p)<.1)&&(h=p);else{u=void 0!==f.lastTime?f.lastTime:n,v=void 0!==f.lastVelocity?f.lastVelocity:s.initialVelocity,n>u+64&&(u=n);for(var m=Math.floor(n-u),y=0;y<m;++y){p+=1*(v+=1*((-s.tension*(p-h)+-s.friction*v)/s.mass)/1e3)/1e3}var b=!(!s.clamp||0===s.tension)&&(d<h?p>h:p<h),A=Math.abs(v)<=s.precision,_=0===s.tension||Math.abs(h-p)<=s.precision;c=b||A&&_,f.lastVelocity=v,f.lastTime=n}g&&!s.toValues[l].done&&(c=!1),c?(f.value!==h&&(p=h),f.done=!0):o=!0,f.setValue(p),f.lastPosition=p}else f.setValue(h),f.done=!0}}i.props.onFrame&&(i.values[s.name]=s.interpolation.getValue())}i.props.onFrame&&i.props.onFrame(i.values),o||(ae.delete(i),i.stop(!0))}}catch(E){r.e(E)}finally{r.f()}return ae.size?te?te():J(e):oe=!1,oe};function ce(e,t,n){if("function"===typeof e)return e;if(Array.isArray(e))return ce({range:e,output:t,extrapolate:n});if(Y&&"string"===typeof e.output[0])return Y(e);var r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,c){var u=c?c(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,o[t],o[t+1],i[t],i[t+1],c,a,s,r.map)}}var ue=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e,r,i,o){var a;return Object(x.a)(this,n),(a=t.call(this)).calc=void 0,a.payload=e instanceof G&&!(e instanceof n)?e.getPayload():Array.isArray(e)?e:[e],a.calc=ce(r,i,o),a}return Object(M.a)(n,[{key:"getValue",value:function(){return this.calc.apply(this,Object(k.a)(this.payload.map((function(e){return e.getValue()}))))}},{key:"updateConfig",value:function(e,t,n){this.calc=ce(e,t,n)}},{key:"interpolate",value:function(e,t,r){return new n(this,e,t,r)}}]),n}(G),le=function(e,t,n){return e&&new ue(e,t,n)};function fe(e,t){"update"in e?t.add(e):e.getChildren().forEach((function(e){return fe(e,t)}))}var de=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var r,i;return Object(x.a)(this,n),r=t.call(this),i=Object(O.a)(r),r.animatedStyles=new Set,r.value=void 0,r.startPosition=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.startTime=void 0,r.lastTime=void 0,r.done=!1,r.setValue=function(e,t){void 0===t&&(t=!0),i.value=e,t&&i.flush()},r.value=e,r.startPosition=e,r.lastPosition=e,r}return Object(M.a)(n,[{key:"flush",value:function(){0===this.animatedStyles.size&&fe(this,this.animatedStyles),this.animatedStyles.forEach((function(e){return e.update()}))}},{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(e,t,n){return new ue(this,e,t,n)}}]),n}(K),he=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this)).payload=e.map((function(e){return new de(e)})),r}return Object(M.a)(n,[{key:"setValue",value:function(e,t){var n=this;void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((function(e,r){return n.payload[r].setValue(e,t)})):this.payload.forEach((function(n){return n.setValue(e,t)}))}},{key:"getValue",value:function(){return this.payload.map((function(e){return e.getValue()}))}},{key:"interpolate",value:function(e,t){return new ue(this,e,t)}}]),n}(G),pe=0,ge=function(){function e(){var t=this;Object(x.a)(this,e),this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=function(){return t.interpolations},this.id=pe++}return Object(M.a)(e,[{key:"update",value:function(e){if(!e)return this;var t=Q(e),n=t.delay,r=void 0===n?0:n,i=t.to,o=Object(j.a)(t,["delay","to"]);if(L.arr(i)||L.fun(i))this.queue.push(Object(D.a)({},o,{delay:r,to:i}));else if(i){var a={};Object.entries(i).forEach((function(e){var t=e[0],n=e[1],i=Object(D.a)({to:Object(N.a)({},t,n),delay:F(r,t)},o),s=a[i.delay]&&a[i.delay].to;a[i.delay]=Object(D.a)({},a[i.delay],i,{to:Object(D.a)({},s,i.to)})})),this.queue=Object.values(a)}return this.queue=this.queue.sort((function(e,t){return e.delay-t.delay})),this.diff(o),this}},{key:"start",value:function(e){var t,n=this;if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach((function(e){var t=e.from,r=void 0===t?{}:t,i=e.to,o=void 0===i?{}:i;L.obj(r)&&(n.merged=Object(D.a)({},r,n.merged)),L.obj(o)&&(n.merged=Object(D.a)({},n.merged,o))}));var r=this.local=++this.guid,i=this.localQueue=this.queue;this.queue=[],i.forEach((function(t,o){var a=t.delay,s=Object(j.a)(t,["delay"]),c=function(t){o===i.length-1&&r===n.guid&&t&&(n.idle=!0,n.props.onRest&&n.props.onRest(n.merged)),e&&e()},u=L.arr(s.to)||L.fun(s.to);a?setTimeout((function(){r===n.guid&&(u?n.runAsync(s,c):n.diff(s).start(c))}),a):u?n.runAsync(s,c):n.diff(s).start(c)}))}else L.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,ae.has(t)||ae.add(t),oe||(oe=!0,J(te||se));return this}},{key:"stop",value:function(e){return this.listeners.forEach((function(t){return t(e)})),this.listeners=[],this}},{key:"pause",value:function(e){var t;return this.stop(!0),e&&(t=this,ae.has(t)&&ae.delete(t)),this}},{key:"runAsync",value:function(e,t){var n=this,r=this,i=(e.delay,Object(j.a)(e,["delay"])),o=this.local,a=Promise.resolve(void 0);if(L.arr(i.to))for(var s=function(e){var t=e,r=Object(D.a)({},i,Q(i.to[t]));L.arr(r.config)&&(r.config=r.config[t]),a=a.then((function(){if(o===n.guid)return new Promise((function(e){return n.diff(r).start(e)}))}))},c=0;c<i.to.length;c++)s(c);else if(L.fun(i.to)){var u,l=0;a=a.then((function(){return i.to((function(e){var t=Object(D.a)({},i,Q(e));if(L.arr(t.config)&&(t.config=t.config[l]),l++,o===n.guid)return u=new Promise((function(e){return n.diff(t).start(e)}))}),(function(e){return void 0===e&&(e=!0),r.stop(e)})).then((function(){return u}))}))}a.then(t)}},{key:"diff",value:function(e){var t=this;this.props=Object(D.a)({},this.props,e);var n=this.props,r=n.from,i=void 0===r?{}:r,o=n.to,a=void 0===o?{}:o,s=n.config,c=void 0===s?{}:s,u=n.reverse,l=n.attach,f=n.reset,d=n.immediate;if(u){var h=[a,i];i=h[0],a=h[1]}this.merged=Object(D.a)({},i,this.merged,a),this.hasChanged=!1;var p=l&&l(this);if(this.animations=Object.entries(this.merged).reduce((function(e,n){var r=n[0],o=n[1],a=e[r]||{},s=L.num(o),u=L.str(o)&&!o.startsWith("#")&&!/\d/.test(o)&&!V[o],l=L.arr(o),h=!s&&!l&&!u,g=L.und(i[r])?o:i[r],v=s||l||u?o:1,m=F(c,r);p&&(v=p.animations[r].parent);var y,b=a.parent,A=a.interpolation,_=U(p?v.getPayload():v),E=o;h&&(E=Y({range:[0,1],output:[o,o]})(1));var w=A&&A.getValue(),I=!L.und(b)&&a.animatedValues.some((function(e){return!e.done})),S=!L.equ(E,w),k=!L.equ(E,a.previous),C=!L.equ(m,a.config);if(f||k&&S||C){if(s||u)b=A=a.parent||new de(g);else if(l)b=A=a.parent||new he(g);else if(h){var O=a.interpolation&&a.interpolation.calc(a.parent.value);O=void 0===O||f?g:O,a.parent?(b=a.parent).setValue(0,!1):b=new de(0);var T={output:[O,o]};a.interpolation?(A=a.interpolation,a.interpolation.updateConfig(T)):A=b.interpolate(T)}return _=U(p?v.getPayload():v),y=U(b.getPayload()),f&&!h&&b.setValue(g,!1),t.hasChanged=!0,y.forEach((function(e){e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=I?e.lastVelocity:void 0,e.lastTime=I?e.lastTime:void 0,e.startTime=Z(),e.done=!1,e.animatedStyles.clear()})),F(d,r)&&b.setValue(h?v:o,!1),Object(D.a)({},e,Object(N.a)({},r,Object(D.a)({},a,{name:r,parent:b,interpolation:A,animatedValues:y,toValues:_,previous:E,config:m,fromValues:U(b.getValue()),immediate:F(d,r),initialVelocity:P(m.velocity,0),clamp:P(m.clamp,!1),precision:P(m.precision,.01),tension:P(m.tension,170),friction:P(m.friction,26),mass:P(m.mass,1),duration:m.duration,easing:P(m.easing,(function(e){return e})),decay:m.decay})))}return S?e:(h&&(b.setValue(1,!1),A.updateConfig({output:[E,E]})),b.done=!0,t.hasChanged=!0,Object(D.a)({},e,Object(N.a)({},r,Object(D.a)({},e[r],{previous:E}))))}),this.animations),this.hasChanged)for(var g in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[g]=this.animations[g].interpolation,this.values[g]=this.animations[g].interpolation.getValue();return this}},{key:"destroy",value:function(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}]),e}(),ve=function(e,t){var n=Object(r.useRef)(!1),i=Object(r.useRef)(),o=L.fun(t),a=Object(r.useMemo)((function(){var n;return i.current&&(i.current.map((function(e){return e.destroy()})),i.current=void 0),[new Array(e).fill().map((function(e,r){var i=new ge,a=o?F(t,r,i):t[r];return 0===r&&(n=a.ref),i.update(a),n||i.start(),i})),n]}),[e]),s=a[0],c=a[1];i.current=s;Object(r.useImperativeHandle)(c,(function(){return{start:function(){return Promise.all(i.current.map((function(e){return new Promise((function(t){return e.start(t)}))})))},stop:function(e){return i.current.forEach((function(t){return t.stop(e)}))},get controllers(){return i.current}}}));var u=Object(r.useMemo)((function(){return function(e){return i.current.map((function(t,n){t.update(o?F(e,n,t):e[n]),c||t.start()}))}}),[e]);Object(r.useEffect)((function(){n.current?o||u(t):c||i.current.forEach((function(e){return e.start()}))})),Object(r.useEffect)((function(){return n.current=!0,function(){return i.current.forEach((function(e){return e.destroy()}))}}),[]);var l=i.current.map((function(e){return e.getValues()}));return o?[l,u,function(e){return i.current.forEach((function(t){return t.pause(e)}))}]:l};var me=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(x.a)(this,n),void 0===e&&(e={}),r=t.call(this),!e.transform||e.transform instanceof K||(e=z.transform(e)),r.payload=e,r}return n}(H),ye={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},be="[-+]?\\d*\\.?\\d+",Ae=be+"%";function _e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Ee=new RegExp("rgb"+_e(be,be,be)),we=new RegExp("rgba"+_e(be,be,be,be)),Ie=new RegExp("hsl"+_e(be,Ae,Ae)),Se=new RegExp("hsla"+_e(be,Ae,Ae,be)),ke=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Oe=/^#([0-9a-fA-F]{6})$/,Te=/^#([0-9a-fA-F]{8})$/;function Re(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xe(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=Re(i,r,e+1/3),a=Re(i,r,e),s=Re(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function Me(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Ne(e){return(parseFloat(e)%360+360)%360/360}function De(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function je(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function Le(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Oe.exec(e))?parseInt(t[1]+"ff",16)>>>0:ye.hasOwnProperty(e)?ye[e]:(t=Ee.exec(e))?(Me(t[1])<<24|Me(t[2])<<16|Me(t[3])<<8|255)>>>0:(t=we.exec(e))?(Me(t[1])<<24|Me(t[2])<<16|Me(t[3])<<8|De(t[4]))>>>0:(t=ke.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Te.exec(e))?parseInt(t[1],16)>>>0:(t=Ce.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ie.exec(e))?(255|xe(Ne(t[1]),je(t[2]),je(t[3])))>>>0:(t=Se.exec(e))?(xe(Ne(t[1]),je(t[2]),je(t[3]))|De(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Be=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Pe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ue=new RegExp("(".concat(Object.keys(ye).join("|"),")"),"g"),Fe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","Ms","Moz","O"];function ze(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Fe.hasOwnProperty(e)&&Fe[e]?(""+t).trim():t+"px"}Fe=Object.keys(Fe).reduce((function(e,t){return Qe.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Fe);var Ve={};re((function(e){return new me(e)})),$("div"),X((function(e){var t=e.output.map((function(e){return e.replace(Pe,Le)})).map((function(e){return e.replace(Ue,Le)})),n=t[0].match(Be).map((function(){return[]}));t.forEach((function(e){e.match(Be).forEach((function(e,t){return n[t].push(+e)}))}));var r=t[0].match(Be).map((function(t,r){return ce(Object(D.a)({},e,{output:n[r]}))}));return function(e){var n=0;return t[0].replace(Be,(function(){return r[n++](e)})).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")}))}})),W(ye),q((function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var n=t.style,r=t.children,i=t.scrollTop,o=t.scrollLeft,a=Object(j.a)(t,["style","children","scrollTop","scrollLeft"]),s="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(var c in void 0!==i&&(e.scrollTop=i),void 0!==o&&(e.scrollLeft=o),void 0!==r&&(e.textContent=r),n)if(n.hasOwnProperty(c)){var u=0===c.indexOf("--"),l=ze(c,n[c],u);"float"===c&&(c="cssFloat"),u?e.style.setProperty(c,l):e.style[c]=l}for(var f in a){var d=s?f:Ve[f]||(Ve[f]=f.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})));"undefined"!==typeof e.getAttribute(d)&&e.setAttribute(d,a[f])}}),(function(e){return e}));var Ke,Ge,He=(Ke=function(e){return Object(r.forwardRef)((function(t,n){var o=B(),a=Object(r.useRef)(!0),s=Object(r.useRef)(null),c=Object(r.useRef)(null),u=Object(r.useCallback)((function(e){var t=s.current;s.current=new ie(e,(function(){var e=!1;c.current&&(e=z.fn(c.current,s.current.getAnimatedValue())),c.current&&!1!==e||o()})),t&&t.detach()}),[]);Object(r.useEffect)((function(){return function(){a.current=!1,s.current&&s.current.detach()}}),[]),Object(r.useImperativeHandle)(n,(function(){return ne(c,a,o)})),u(t);var l,f=s.current.getValue(),d=(f.scrollTop,f.scrollLeft,Object(j.a)(f,["scrollTop","scrollLeft"])),h=(l=e,!L.fun(l)||l.prototype instanceof i.a.Component?function(e){return c.current=function(e,t){return t&&(L.fun(t)?t(e):L.obj(t)&&(t.current=e)),e}(e,n)}:void 0);return i.a.createElement(e,Object(D.a)({},d,{ref:h}))}))},void 0===(Ge=!1)&&(Ge=!0),function(e){return(L.arr(e)?e:Object.keys(e)).reduce((function(e,t){var n=Ge?t[0].toLowerCase()+t.substring(1):t;return e[n]=Ke(n),e}),Ke)})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function qe(e,t){return e.map((function(e,n){return e+t[n]}))}function We(e,t){return e.map((function(e,n){return e-t[n]}))}function Ye(e){return Math.hypot.apply(Math,e)}function Je(e,t,n){var r=Ye(t),i=0===r?0:1/r,o=0===n?0:1/n,a=o*r,s=t.map((function(e){return o*e})),c=t.map((function(e){return i*e}));return{velocities:s,velocity:a,distance:Ye(e),direction:c}}function Xe(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Ze(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function $e(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Ze(t-e,n-t,r)+t:e>n?+Ze(e-n,n-t,r)+n:e}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function rt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function st(){}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?st:1===t.length?t[0]:function(){for(var e,n,r=at(t);!(n=r()).done;){var i=n.value;e=i.apply(this,arguments)||e}return e}}function ut(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function lt(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function ft(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=ft(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var dt={threshold:function(e){return void 0===e&&(e=0),ut(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return ut(.15);case!1:return ut(0);default:return ut(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"===typeof e?e:ut(e)}},ht=tt({},dt,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"===typeof e)return function(t){return ht.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,i=t.right,o=void 0===i?1/0:i,a=t.top,s=void 0===a?-1/0:a,c=t.bottom;return[[r,o],[s,void 0===c?1/0:c]]}}),pt="undefined"!==typeof window&&window.document&&window.document.createElement,gt={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=pt?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,i=t.capture;return{passive:r,capture:void 0!==i&&i}}},vt=tt({},ht,{threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=void 0!==o&&o,s=n.axis,c=ut(e,i?3:a||(void 0===s?void 0:s)?1:0);return this.filterTaps=i||c[0]+c[1]>0,c},swipeVelocity:function(e){return void 0===e&&(e=.5),ut(e)},swipeDistance:function(e){return void 0===e&&(e=60),ut(e)},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function mt(e){return void 0===e&&(e={}),ft(e,gt)}function yt(e){return void 0===e&&(e={}),ft(e,vt)}function bt(e){var t=e.domTarget,n=e.eventOptions,r=e.window,i=e.enabled,o=rt(e,["domTarget","eventOptions","window","enabled"]),a=mt({domTarget:t,eventOptions:n,window:r,enabled:i});return a.drag=yt(o),a}function At(e){return tt({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:st,canceled:!1,memo:void 0,args:void 0},e)}function _t(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:At({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:At({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:At({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:At({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:At({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var Et=new Map,wt=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=tt({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var t,n,r,i=e.prototype;return i.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},i.updateGestureState=function(e){Object.assign(this.state,e)},i.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},i.getMovement=function(e){var t=this.config,n=t.initial,r=t.bounds,i=t.rubberband,o=t.threshold,a=this.state,s=a._bounds,c=a._initial,u=a._active,l=a._intentional,f=a.lastOffset,d=a.movement,h=this.getInternalMovement(e,this.state),p=!1===l[0]?It(h[0],o[0]):l[0],g=!1===l[1]?It(h[1],o[1]):l[1],v=this.checkIntentionality([p,g],h);if(v._blocked)return tt({},v,{_movement:h,delta:[0,0]});var m,y,b,A,_=v._intentional,E=h;(!1!==_[0]&&!1===l[0]&&(y=lt(n,this.state),m=lt(r,this.state),c[0]=y[0],s[0]=m[0]),!1!==_[1]&&!1===l[1])&&(y=null!=(b=y)?b:lt(n,this.state),m=null!=(A=m)?A:lt(r,this.state),c[1]=y[1],s[1]=m[1]);var w=[!1!==_[0]?h[0]-_[0]:c[0],!1!==_[1]?h[1]-_[1]:c[1]],I=qe(w,f),S=u?i:[0,0];return w=St(s,qe(w,c),S),tt({},v,{intentional:!1!==_[0]||!1!==_[1],_initial:c,_movement:E,movement:w,values:e,offset:St(s,I,S),delta:We(w,d)})},i.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&et(t.prototype,n),r&&et(t,r),e}();function It(e,t){return Math.abs(e)>=t&&Xe(e)*t}function St(e,t,n){var r=t[0],i=t[1],o=n[0],a=n[1],s=e[0],c=s[0],u=s[1],l=e[1],f=l[0],d=l[1];return[$e(r,c,u,o),$e(i,f,d,a)]}function kt(e,t,n){var r=e.state,i=e.args,o=t.timeStamp,a=t.type,s=r.values;return{_lastEventType:a,event:t,timeStamp:o,elapsedTime:n?0:o-r.startTime,args:i,previous:s}}function Ct(e,t,n){var r=e.state.offset,i=n.timeStamp;return tt({},_t()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}function Ot(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,tt({},t,{event:n})].concat(i))}}var Tt=function(e){var t=this;this.classes=e,this.bind=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=at(t.classes);!(o=a()).done;){var s=o.value;new s(t,r).addBindings(e)}for(var c=0,u=Object.entries(t.nativeRefs);c<u.length;c++){var l=u[c],f=l[0],d=l[1];Lt(e,f,Ot(d,tt({},t.state.shared,{args:r})))}return t.config.domTarget?Mt(t,e):Nt(t,e)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=jt(t.config),n=t.config.eventOptions;e&&Pt(e,Dt(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(!n)return;for(var o in i){Pt(n,i[o],r)}e.windowListeners={}}(t)},this.state=_t(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Rt(e,t){var n=e.config,r=e.windowListeners;n.window&&(Pt(n.window,r[t],n.eventOptions),delete r[t])}function xt(e,t,n){var r=e.config,i=e.windowListeners;void 0===n&&(n=[]),r.window&&(Pt(r.window,i[t],r.eventOptions),Bt(r.window,i[t]=n,r.eventOptions))}function Mt(e,t){var n=e.config,r=e.domListeners,i=jt(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;Pt(i,Dt(r),o);for(var a=0,s=Object.entries(t);a<s.length;a++){var c=s[a],u=c[0],l=c[1],f=u.slice(2).toLowerCase();r.push([f,ct.apply(void 0,l)])}Bt(i,r,o)}function Nt(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",i=0,o=Object.entries(t);i<o.length;i++){var a=o[i],s=a[0],c=a[1],u=Array.isArray(c)?c:[c];n[s+r]=ct.apply(void 0,u)}return n}function Dt(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function jt(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function Lt(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function Bt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=at(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.addEventListener(a,s,n)}}function Pt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=at(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.removeEventListener(a,s,n)}}function Ut(e,t,n){void 0===n&&(n={});var r=function(e){var t=new Set;e.drag&&t.add(Et.get("drag"));e.wheel&&t.add(Et.get("wheel"));e.scroll&&t.add(Et.get("scroll"));e.move&&t.add(Et.get("move"));e.pinch&&t.add(Et.get("pinch"));e.hover&&t.add(Et.get("hover"));return t}(e),o=i.a.useMemo((function(){return new Tt(r)}),[]);return o.config=t,o.handlers=e,o.nativeRefs=n,i.a.useEffect(o.effect,[]),o.config.domTarget?Ft:o.bind}function Ft(){0}var Qt=function(e){function t(){return e.apply(this,arguments)||this}nt(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return We(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,Je(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(wt);function zt(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function Vt(e){var t="buttons"in e?e.buttons:0,n=zt(e),r=n&&n.length||0;return{touches:r,down:r>0||t>0,buttons:t,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}function Kt(e){var t=zt(e),n=t?t[0]:e;return[n.clientX,n.clientY]}var Gt=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.onDragStart=function(e){t.enabled&&!t.state._active&&(xt(t.controller,t.stateKey,[["pointermove",t.onDragChange],["pointerup",t.onDragEnd],["pointercancel",t.onDragEnd]]),t.updateGestureState({_pointerId:e.pointerId}),t.config.delay>0?(t.state._delayedEvent=!0,"persist"in e&&"function"===typeof e.persist&&e.persist(),t.setTimeout(t.startDrag.bind(it(t)),t.config.delay,e)):t.startDrag(e))},t.onDragChange=function(e){if(!t.state.canceled&&e.pointerId===t.state._pointerId)if(t.state._active){var n=Vt(e);if(n.down){t.updateSharedState(n);var r=Kt(e),i=t.getKinematics(r,e),o=kt(it(t),e),a=t.state._isTap,s=Ye(i._movement);a&&s>=3&&(a=!1),t.updateGestureState(tt({},o,i,{_isTap:a})),t.fireGestureHandler()}else t.onDragEnd(e)}else t.state._delayedEvent&&(t.clearTimeout(),t.startDrag(e))},t.onDragEnd=function(e){if(e.pointerId===t.state._pointerId){t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0});var n=t.state._isTap,r=t.state.velocities,i=r[0],o=r[1],a=t.state.movement,s=a[0],c=a[1],u=t.state._intentional,l=u[0],f=u[1],d=t.config.swipeVelocity,h=d[0],p=d[1],g=t.config.swipeDistance,v=g[0],m=g[1],y=tt({},kt(it(t),e),t.getMovement(t.state.values)),b=[0,0];y.elapsedTime<220&&(!1!==l&&Math.abs(i)>h&&Math.abs(s)>v&&(b[0]=Xe(i)),!1!==f&&Math.abs(o)>p&&Math.abs(c)>m&&(b[1]=Xe(o))),t.updateGestureState(tt({},y,{tap:n,swipe:b})),t.fireGestureHandler(!0===n)}},t.clean=function(){e.prototype.clean.call(it(t)),t.state._delayedEvent=!1,Rt(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0}),t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return t.fireGestureHandler()})))},t.onClick=function(e){t.state._isTap||e.stopPropagation()},t}nt(t,e);var n=t.prototype;return n.startDrag=function(e){var t=Kt(e);this.updateSharedState(Vt(e)),this.updateGestureState(tt({},Ct(this,t,e),kt(this,e,!0),{_pointerId:e.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(t)),this.fireGestureHandler()},n.addBindings=function(e){(Lt(e,"onPointerDown",this.onDragStart),this.config.filterTaps)&&Lt(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(Qt);function Ht(e,t){var n,r,i=[],o=!1;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}}function qt(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!==r--;)if(!qt(e[r],t[r]))return!1;return!0}if("function"===typeof Map&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!qt(r.value[1],t.get(r.value[0])))return!1;return!0}if("function"===typeof Set&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if("undefined"!==typeof Element&&e instanceof Element)return!1;for(r=n;0!==r--;)if(("_owner"!==i[r]||!e.$$typeof)&&!qt(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}function Wt(e,t){try{return qt(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}var Yt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Jt=Yt.join(","),Xt="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Zt=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(Jt));return t&&Xt.call(e,Jt)&&r.unshift(e),r=r.filter(n)},$t=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t},en=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},tn=function(e){return"INPUT"===e.tagName},nn=function(e){return function(e){return tn(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||e.ownerDocument,r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},rn=function(e,t){return!(t.disabled||function(e){return tn(e)&&"hidden"===e.type}(t)||function(e,t){if("hidden"===getComputedStyle(e).visibility)return!0;var n=Xt.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Xt.call(n,"details:not([open]) *"))return!0;if(t&&"full"!==t){if("non-zero-area"===t){var r=e.getBoundingClientRect(),i=r.width,o=r.height;return 0===i&&0===o}}else for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(t,e.displayCheck)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(tn(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},on=function(e,t){return!(!rn(e,t)||nn(t)||$t(t)<0)},an=Yt.concat("iframe").join(","),sn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Xt.call(e,an)&&rn(t,e)};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ln=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},deactivateTrap:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}}}(),fn=function(e){return setTimeout(e,0)},dn=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},hn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e},pn=function(e,t){var n,r=document,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},s=function(e){return o.containers.some((function(t){return t.contains(e)}))},c=function(e){var t=i[e];if(!t)return null;var n=t;if("string"===typeof t&&!(n=r.querySelector(t)))throw new Error("`".concat(e,"` refers to no known node"));if("function"===typeof t&&!(n=t()))throw new Error("`".concat(e,"` did not return a node"));return n},u=function(){var e;if(!1===a({},"initialFocus"))return!1;if(null!==c("initialFocus"))e=c("initialFocus");else if(s(r.activeElement))e=r.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},l=function(){if(o.tabbableGroups=o.containers.map((function(e){var t=function(e,t){var n=[],r=[];return Zt(e,(t=t||{}).includeContainer,on.bind(null,t)).forEach((function(e,t){var i=$t(e);0===i?n.push(e):r.push({documentOrder:t,tabIndex:i,node:e})})),r.sort(en).map((function(e){return e.node})).concat(n)}(e);if(t.length>0)return{container:e,firstTabbableNode:t[0],lastTabbableNode:t[t.length-1]}})).filter((function(e){return!!e})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function e(t){!1!==t&&t!==r.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(t)&&t.select()):e(u()))},d=function(e){var t=c("setReturnFocus");return t||e},h=function(e){s(e.target)||(hn(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!sn(e.target)}):hn(i.allowOutsideClick,e)||e.preventDefault())},p=function(e){var t=s(e.target);t||e.target instanceof Document?t&&(o.mostRecentlyFocusedNode=e.target):(e.stopImmediatePropagation(),f(o.mostRecentlyFocusedNode||u()))},g=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==hn(i.escapeDeactivates))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){l();var t=null;if(o.tabbableGroups.length>0){var n=dn(o.tabbableGroups,(function(t){return t.container.contains(e.target)}));if(n<0)t=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var r=dn(o.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e.target===n}));if(r<0&&o.tabbableGroups[n].container===e.target&&(r=n),r>=0){var i=0===r?o.tabbableGroups.length-1:r-1;t=o.tabbableGroups[i].lastTabbableNode}}else{var a=dn(o.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e.target===n}));if(a<0&&o.tabbableGroups[n].container===e.target&&(a=n),a>=0){var s=a===o.tabbableGroups.length-1?0:a+1;t=o.tabbableGroups[s].firstTabbableNode}}}else t=c("fallbackFocus");t&&(e.preventDefault(),f(t))}(e)},v=function(e){hn(i.clickOutsideDeactivates,e)||s(e.target)||hn(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},m=function(){if(o.active)return ln.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?fn((function(){f(u())})):f(u()),r.addEventListener("focusin",p,!0),r.addEventListener("mousedown",h,{capture:!0,passive:!1}),r.addEventListener("touchstart",h,{capture:!0,passive:!1}),r.addEventListener("click",v,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),n},y=function(){if(o.active)return r.removeEventListener("focusin",p,!0),r.removeEventListener("mousedown",h,!0),r.removeEventListener("touchstart",h,!0),r.removeEventListener("click",v,!0),r.removeEventListener("keydown",g,!0),n};return(n={activate:function(e){if(o.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),i=a(e,"checkCanFocusTrap");i||l(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,t&&t();var s=function(){i&&l(),m(),n&&n()};return i?(i(o.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,y(),o.active=!1,o.paused=!1,ln.deactivateTrap(n);var t=a(e,"onDeactivate"),r=a(e,"onPostDeactivate"),i=a(e,"checkCanReturnFocus");t&&t();var s=a(e,"returnFocus","returnFocusOnDeactivate"),c=function(){fn((function(){s&&f(d(o.nodeFocusedBeforeActivation)),r&&r()}))};return s&&i?(i(d(o.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,y()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,l(),m(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"===typeof e?r.querySelector(e):e})),o.active&&l(),this}}).updateContainerElements(e),n};var gn=!1;if("undefined"!==typeof window){var vn={get passive(){gn=!0}};window.addEventListener("testPassive",null,vn),window.removeEventListener("testPassive",null,vn)}var mn,yn="undefined"!==typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),bn=[],An=!1,_n=-1,En=void 0,wn=void 0,In=function(e){return bn.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},Sn=function(e){var t=e||window.event;return!!In(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},kn=function(){void 0!==wn&&(document.body.style.paddingRight=wn,wn=void 0),void 0!==En&&(document.body.style.overflow=En,En=void 0)},Cn=function(e,t){if(e){if(!bn.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};bn=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(bn),[n]),yn?(e.ontouchstart=function(e){1===e.targetTouches.length&&(_n=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-_n;!In(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?Sn(e):e.stopPropagation())}(t,e)},An||(document.addEventListener("touchmove",Sn,gn?{passive:!1}:void 0),An=!0)):function(e){if(void 0===wn){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(wn=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===En&&(En=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},On=[],Tn="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(mn||(mn={}));var Rn,xn=function(e){return Object.freeze(e)},Mn=function(e,t){this.inlineSize=e,this.blockSize=t,xn(this)},Nn=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,xn(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Dn=function(e){return e instanceof SVGElement&&"getBBox"in e},jn=function(e){if(Dn(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},Ln=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},Bn="undefined"!==typeof window?window:{},Pn=new WeakMap,Un=/auto|scroll/,Fn=/^tb|vertical/,Qn=/msie|trident/i.test(Bn.navigator&&Bn.navigator.userAgent),zn=function(e){return parseFloat(e||"0")},Vn=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Mn((n?t:e)||0,(n?e:t)||0)},Kn=xn({devicePixelContentBoxSize:Vn(),borderBoxSize:Vn(),contentBoxSize:Vn(),contentRect:new Nn(0,0,0,0)}),Gn=function(e,t){if(void 0===t&&(t=!1),Pn.has(e)&&!t)return Pn.get(e);if(jn(e))return Pn.set(e,Kn),Kn;var n=getComputedStyle(e),r=Dn(e)&&e.ownerSVGElement&&e.getBBox(),i=!Qn&&"border-box"===n.boxSizing,o=Fn.test(n.writingMode||""),a=!r&&Un.test(n.overflowY||""),s=!r&&Un.test(n.overflowX||""),c=r?0:zn(n.paddingTop),u=r?0:zn(n.paddingRight),l=r?0:zn(n.paddingBottom),f=r?0:zn(n.paddingLeft),d=r?0:zn(n.borderTopWidth),h=r?0:zn(n.borderRightWidth),p=r?0:zn(n.borderBottomWidth),g=f+u,v=c+l,m=(r?0:zn(n.borderLeftWidth))+h,y=d+p,b=s?e.offsetHeight-y-e.clientHeight:0,A=a?e.offsetWidth-m-e.clientWidth:0,_=i?g+m:0,E=i?v+y:0,w=r?r.width:zn(n.width)-_-A,I=r?r.height:zn(n.height)-E-b,S=w+g+A+m,k=I+v+b+y,C=xn({devicePixelContentBoxSize:Vn(Math.round(w*devicePixelRatio),Math.round(I*devicePixelRatio),o),borderBoxSize:Vn(S,k,o),contentBoxSize:Vn(w,I,o),contentRect:new Nn(f,c,w,I)});return Pn.set(e,C),C},Hn=function(e,t,n){var r=Gn(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case mn.DEVICE_PIXEL_CONTENT_BOX:return a;case mn.BORDER_BOX:return i;default:return o}},qn=function(e){var t=Gn(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=xn([t.borderBoxSize]),this.contentBoxSize=xn([t.contentBoxSize]),this.devicePixelContentBoxSize=xn([t.devicePixelContentBoxSize])},Wn=function(e){if(jn(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Yn=function(){var e=1/0,t=[];On.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new qn(t.target),i=Wn(t.target);r.push(n),t.lastReportedSize=Hn(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},Jn=function(e){On.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(Wn(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Xn=function(){var e=0;for(Jn(e);On.some((function(e){return e.activeTargets.length>0}));)e=Yn(),Jn(e);return On.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:Tn}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Tn),window.dispatchEvent(e)}(),e>0},Zn=[],$n=function(e){if(!Rn){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Zn.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Rn=function(){n.textContent=""+(t?t--:t++)}}Zn.push(e),Rn()},er=0,tr={attributes:!0,characterData:!0,childList:!0,subtree:!0},nr=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],rr=function(e){return void 0===e&&(e=0),Date.now()+e},ir=!1,or=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!ir){ir=!0;var n,r=rr(e);n=function(){var n=!1;try{n=Xn()}finally{if(ir=!1,e=r-rr(),!er)return;n?t.run(1e3):e>0?t.run(e):t.start()}},$n((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,tr)};document.body?t():Bn.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),nr.forEach((function(t){return Bn.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),nr.forEach((function(t){return Bn.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),ar=function(e){!er&&e>0&&or.start(),!(er+=e)&&or.stop()},sr=function(){function e(e,t){this.target=e,this.observedBox=t||mn.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=Hn(this.target,this.observedBox,!0);return function(e){return!Dn(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),cr=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},ur=new WeakMap,lr=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},fr=function(){function e(){}return e.connect=function(e,t){var n=new cr(e,t);ur.set(e,n)},e.observe=function(e,t,n){var r=ur.get(e),i=0===r.observationTargets.length;lr(r.observationTargets,t)<0&&(i&&On.push(r),r.observationTargets.push(new sr(t,n&&n.box)),ar(1),or.schedule())},e.unobserve=function(e,t){var n=ur.get(e),r=lr(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&On.splice(On.indexOf(n),1),n.observationTargets.splice(r,1),ar(-1))},e.disconnect=function(e){var t=this,n=ur.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),dr=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");fr.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ln(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");fr.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ln(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");fr.unobserve(this,e)},e.prototype.disconnect=function(){fr.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),hr=n(9),pr=n(73),gr=n(37),vr=n(6),mr=n(25),yr=n(40),br=n(23),Ar=n(27),_r=n(101);function Er(e){if("string"===typeof e){var t={type:e,toString:function(){return e}};return t}return e}function wr(e){return Object(hr.a)(Object(hr.a)({type:br.g},e),{toJSON:function(){e.onDone,e.onError;var t=Object(hr.c)(e,["onDone","onError"]);return Object(hr.a)(Object(hr.a)({},t),{type:br.g,src:Er(e.src)})}})}var Ir="",Sr="*",kr={},Cr=function(e){return"#"===e[0]},Or=function(){function e(t,n,r){var i,o=this;void 0===r&&(r=t.context),this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:pr.c),this.id=this.config.id||Object(hr.d)([this.machine.key],Object(hr.b)(this.path)).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object(vr.m)(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(i=this.config.schema)&&void 0!==i?i:{},gr.a||Object(vr.L)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '+(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '"+this.type+"'`")+" in the config for state node '"+this.id+"' instead."),this.initial=this.config.initial,this.states=this.config.states?Object(vr.p)(this.config.states,(function(t,n){var r,i=new e(t,{_parent:o,_key:n});return Object.assign(o.idMap,Object(hr.a)(((r={})[i.id]=i,r),i.idMap)),i})):kr;var a=0;!function e(t){var n,r;t.order=a++;try{for(var i=Object(hr.e)(Object(yr.b)(t)),o=i.next();!o.done;o=i.next()){e(o.value)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Ir})):Ir in this.config.on),this.strict=!!this.config.strict,this.onEntry=Object(vr.y)(this.config.entry||this.config.onEntry).map((function(e){return Object(Ar.n)(e)})),this.onExit=Object(vr.y)(this.config.exit||this.config.onExit).map((function(e){return Object(Ar.n)(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Object(vr.y)(this.config.invoke).map((function(e,t){var n,r;if(Object(vr.i)(e))return o.machine.options.services=Object(hr.a)(((n={})[e.id]=e,n),o.machine.options.services),wr({src:e.id,id:e.id});if(Object(vr.l)(e.src))return wr(Object(hr.a)(Object(hr.a)({},e),{id:e.id||e.src,src:e.src}));if(Object(vr.i)(e.src)||Object(vr.h)(e.src)){var i=o.id+":invocation["+t+"]";return o.machine.options.services=Object(hr.a)(((r={})[i]=e.src,r),o.machine.options.services),wr(Object(hr.a)(Object(hr.a)({id:i},e),{src:i}))}var a=e.src;return wr(Object(hr.a)(Object(hr.a)({id:a.type},e),{src:a}))})),this.activities=Object(vr.y)(this.config.activities).concat(this.invoke).map((function(e){return Object(Ar.p)(e)})),this.transition=this.transition.bind(this),this.tags=Object(vr.y)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Object(yr.a)(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:Object(hr.a)(Object(hr.a)({},i),t.actions),activities:Object(hr.a)(Object(hr.a)({},o),t.activities),guards:Object(hr.a)(Object(hr.a)({},a),t.guards),services:Object(hr.a)(Object(hr.a)({},s),t.services),delays:Object(hr.a)(Object(hr.a)({},c),t.delays)},null!==n&&void 0!==n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Object(vr.h)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Object(vr.p)(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Ir,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Sr}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=Object(vr.h)(t)?e.id+":delay["+n+"]":t,i=Object(Ar.a)(r,e.id);return e.onEntry.push(Object(Ar.k)(i,{delay:t})),e.onExit.push(Object(Ar.c)(i)),i};return(Object(vr.e)(t)?t.map((function(e,t){var r=n(e.delay,t);return Object(hr.a)(Object(hr.a)({},e),{event:r})})):Object(vr.b)(Object(vr.m)(t).map((function(e,r){var i=t[e],o=Object(vr.l)(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return Object(vr.y)(o).map((function(e){return Object(hr.a)(Object(hr.a)({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return Object(hr.a)(Object(hr.a)({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof d.a?e.value:Object(vr.G)(e,this.delimiter);if(Object(vr.l)(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object(vr.m)(r),a=o.map((function(e){return n.getStateNode(e)}));return a.push(this),a.concat(o.reduce((function(e,t){var i=n.getStateNode(t).getStateNodes(r[t]);return e.concat(i)}),[]))},e.prototype.handles=function(e){var t=Object(vr.c)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=Array.from(Object(yr.c)([],this.getStateNodes(e.value)));return new d.a(Object(hr.a)(Object(hr.a)({},e),{value:this.resolve(e.value),configuration:t,done:Object(yr.g)(t,this)}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object(vr.m)(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Object(hr.e)(Object(vr.m)(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var l=this.getStateNode(c)._transition(u,t,n);l&&(o[c]=l)}}}catch(g){r={error:g}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var f=Object(vr.m)(o).map((function(e){return o[e]})),d=Object(vr.b)(f.map((function(e){return e.transitions})));if(!f.some((function(e){return e.transitions.length>0})))return this.next(t,n);var h=Object(vr.b)(f.map((function(e){return e.entrySet}))),p=Object(vr.b)(Object(vr.m)(o).map((function(e){return o[e].configuration})));return{transitions:d,entrySet:h,exitSet:Object(vr.b)(f.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:Object(vr.b)(Object(vr.m)(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Object(vr.l)(e)?this.transitionLeafNode(e,t,n):1===Object(vr.m)(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Object(hr.e)(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var f=l.value,d=f.cond,h=f.in,p=e.context,g=!h||(Object(vr.l)(h)&&Cr(h)?e.matches(Object(vr.G)(this.getStateNodeById(h).path,this.delimiter)):Object(vr.q)(Object(vr.G)(h,this.delimiter),Object(vr.u)(this.path.slice(0,-2))(e.value))),v=!1;try{v=!d||Object(vr.a)(this.machine,d,p,t,e)}catch(b){throw new Error("Unable to evaluate guard '"+(d.name||d.type)+"' in transition for event '"+a+"' in state node '"+this.id+"':\n"+b.message)}if(v&&g){void 0!==f.target&&(c=f.target),s.push.apply(s,Object(hr.d)([],Object(hr.b)(f.actions))),i=f;break}}}catch(A){n={error:A}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var m=Object(vr.b)(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)}))),y=!!i.internal;return{transitions:[i],entrySet:y?[]:Object(vr.b)(m.map((function(e){return o.nodesFromChild(e)}))),exitSet:y?[]:[this],configuration:m,source:e,actions:s}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,n,r){var i,o,a,s,c=Object(yr.c)([],r?this.getStateNodes(r.value):[this]),u=e.configuration.length?Object(yr.c)(c,e.configuration):c;try{for(var l=Object(hr.e)(u),f=l.next();!f.done;f=l.next()){var d=f.value;Object(yr.f)(c,d)||e.entrySet.push(d)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}try{for(var h=Object(hr.e)(c),p=h.next();!p.done;p=h.next()){d=p.value;Object(yr.f)(u,d)&&!Object(yr.f)(e.exitSet,d.parent)||e.exitSet.push(d)}}catch(E){a={error:E}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}e.source||(e.exitSet=[],e.entrySet.push(this));var g=Object(vr.b)(e.entrySet.map((function(r){var i=[];if("final"!==r.type)return i;var o=r.parent;if(!o.parent)return i;i.push(Object(Ar.d)(r.id,r.doneData),Object(Ar.d)(o.id,r.doneData?Object(vr.n)(r.doneData,t,n):void 0));var a=o.parent;return"parallel"===a.type&&Object(yr.b)(a).every((function(t){return Object(yr.g)(e.configuration,t)}))&&i.push(Object(Ar.d)(a.id)),i})));e.exitSet.sort((function(e,t){return t.order-e.order})),e.entrySet.sort((function(e,t){return e.order-t.order}));var v=new Set(e.entrySet),m=new Set(e.exitSet),y=Object(hr.b)([Object(vr.b)(Array.from(v).map((function(e){return Object(hr.d)(Object(hr.d)([],Object(hr.b)(e.activities.map((function(e){return Object(Ar.l)(e)})))),Object(hr.b)(e.onEntry))}))).concat(g.map(Ar.i)),Object(vr.b)(Array.from(m).map((function(e){return Object(hr.d)(Object(hr.d)([],Object(hr.b)(e.onExit)),Object(hr.b)(e.activities.map((function(e){return Object(Ar.m)(e)}))))})))],2),b=y[0],A=y[1];return Object(Ar.o)(A.concat(e.actions).concat(b),this.machine.options.actions)},e.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var r,i=Object(vr.D)(t);if(e instanceof d.a)r=void 0===n?e:this.resolveState(d.a.from(e,n));else{var o=Object(vr.l)(e)?this.resolve(Object(vr.v)(this.getResolvedPath(e))):this.resolve(e),a=null!==n&&void 0!==n?n:this.machine.context;r=this.resolveState(d.a.from(o,a))}if(!gr.a&&i.name===Sr)throw new Error("An event cannot have the wildcard type ('*')");if(this.strict&&!this.events.includes(i.name)&&!Object(vr.g)(i.name))throw new Error("Machine '"+this.id+"' does not accept event '"+i.name+"'");var s=this._transition(r.value,r,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},c=Object(yr.c)([],this.getStateNodes(r.value)),u=s.configuration.length?Object(yr.c)(c,s.configuration):c;return s.configuration=Object(hr.d)([],Object(hr.b)(u)),this.resolveTransition(s,r,i)},e.prototype.resolveRaisedTransition=function(e,t,n){var r,i=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,Object(hr.d)([],Object(hr.b)(i))),e},e.prototype.resolveTransition=function(e,t,n,r){var i,o,a=this;void 0===n&&(n=Ar.h),void 0===r&&(r=this.machine.context);var s=e.configuration,c=!t||e.transitions.length>0,u=c?Object(yr.e)(this.machine,s):void 0,l=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,f=t?t.context:r,h=this.getActions(e,f,n,t),p=t?Object(hr.a)({},t.activities):{};try{for(var g=Object(hr.e)(h),v=g.next();!v.done;v=g.next()){var m=v.value;m.type===br.m?p[m.activity.id||m.activity.type]=m:m.type===br.n&&(p[m.activity.id||m.activity.type]=!1)}}catch(D){i={error:D}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}var y=Object(hr.b)(Object(Ar.j)(this,t,f,n,h,this.machine.config.preserveActionOrder),2),b=y[0],A=y[1],_=Object(hr.b)(Object(vr.t)(b,(function(e){return e.type===br.k||e.type===br.l&&e.to===mr.b.Internal})),2),E=_[0],w=_[1],I=b.filter((function(e){var t;return e.type===br.m&&(null===(t=e.activity)||void 0===t?void 0:t.type)===br.g})).reduce((function(e,t){return e[t.activity.id]=Object(_r.b)(t.activity,a.machine,A,n),e}),t?Object(hr.a)({},t.children):{}),S=u?e.configuration:t?t.configuration:[],k=Object(yr.g)(S,this),C=new d.a({value:u||t.value,context:A,_event:n,_sessionid:t?t._sessionid:null,historyValue:u?l?Object(vr.K)(l,u):void 0:t?t.historyValue:void 0,history:!u||e.source?t:void 0,actions:u?w:[],activities:u?p:t?t.activities:{},events:[],configuration:S,transitions:e.transitions,children:I,done:k,tags:null===t||void 0===t?void 0:t.tags}),O=f!==A;C.changed=n.name===br.o||O;var T=C.history;T&&delete T.history;var R=!k&&(this._transient||s.some((function(e){return e._transient})));if(!c&&(!R||n.name===Ir))return C;var x=C;if(!k)for(R&&(x=this.resolveRaisedTransition(x,{type:br.i},n));E.length;){var M=E.shift();x=this.resolveRaisedTransition(x,M._event,n)}var N=x.changed||(T?!!x.actions.length||O||typeof T.value!==typeof x.value||!Object(d.d)(x.value,T.value):void 0);return x.changed=N,x.history=T,x.tags=new Set(Object(vr.b)(x.configuration.map((function(e){return e.tags})))),x},e.prototype.getStateNode=function(e){if(Cr(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '"+e+"' from '"+this.id+"'; no child states exist.");var t=this.states[e];if(!t)throw new Error("Child state '"+e+"' does not exist on '"+this.id+"'");return t},e.prototype.getStateNodeById=function(e){var t=Cr(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#"+t+"' does not exist on machine '"+this.id+"'");return n},e.prototype.getStateNodeByPath=function(e){if("string"===typeof e&&Cr(e))try{return this.getStateNodeById(e.slice(1))}catch(i){}for(var t=Object(vr.E)(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||kr;switch(this.type){case"parallel":return Object(vr.p)(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):kr}));case"compound":if(Object(vr.l)(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object(vr.m)(e).length?Object(vr.p)(e,(function(e,t){return e?n.getStateNode(t).resolve(e):kr})):this.initialStateValue||{};default:return e||kr}},e.prototype.getResolvedPath=function(e){if(Cr(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '"+e+"'");return t.path}return Object(vr.E)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Object(vr.o)(this.states,(function(e){return e.initialStateValue||kr}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+this.key+"'");t=Object(yr.h)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,t)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Object(vr.l)(t.target)&&Cr(t.target)?Object(vr.v)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if(Object(yr.h)(this))return[this];if("compound"===this.type&&!this.initial)return gr.a||Object(vr.L)(!1,"Compound state node '"+this.id+"' has no initial state."),[this];var t=Object(vr.F)(this.initialStateValue);return Object(vr.b)(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Object(hr.b)(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+n+"' from node with no states");var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '"+n+"' does not exist on '"+this.id+"'");return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object(vr.m)(this.states).length)return{current:e||this.initialStateValue,states:Object(vr.o)(this.states,(function(t,n){if(!e)return t.historyValue();var r=Object(vr.l)(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Object(vr.b)(Object(vr.F)(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i=Object(vr.r)(n.path,"states")(e).current;return Object(vr.l)(i)?[n.getStateNode(i)]:Object(vr.b)(Object(vr.F)(i).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Object(vr.b)(Object(vr.m)(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Object(hr.e)(Object(vr.m)(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Object(hr.e)(c.events)),l=u.next();!l.done;l=u.next()){var f=l.value;o.add(""+f)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Object(vr.l)(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(i){throw new Error("Invalid transition definition for state node '"+t.id+"':\n"+i.message)}}))},e.prototype.formatTransition=function(e){var t=this,n=Object(vr.s)(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Object(vr.l)(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=Object(hr.a)(Object(hr.a)({},e),{actions:Object(Ar.o)(Object(vr.y)(e.actions)),cond:Object(vr.A)(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return Object(hr.a)(Object(hr.a)({},a),{target:a.target?a.target.map((function(e){return"#"+e.id})):void 0,source:"#"+t.id})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=Sr,a=i[o],s=void 0===a?[]:a,c=Object(hr.c)(i,["*"]);n=Object(vr.b)(Object(vr.m)(c).map((function(e){gr.a||e!==Ir||Object(vr.L)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. Please check the `on` configuration for \"#"+r.id+'".');var t=Object(vr.H)(e,c[e]);return gr.a||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(Object(vr.l)(e.target)||Object(vr.i)(e.target))})),i=t===Ir?"the transient event":"event '"+t+"'";Object(vr.L)(!r,"One or more transitions for "+i+" on state '"+e.id+"' are unreachable. Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat(Object(vr.H)(Sr,s)))}else n=[];var u=this.config.always?Object(vr.H)("",this.config.always):[],l=this.config.onDone?Object(vr.H)(String(Object(Ar.d)(this.id)),this.config.onDone):[];gr.a||Object(vr.L)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'+this.id+'".');var f=Object(vr.b)(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,Object(hr.d)([],Object(hr.b)(Object(vr.H)(String(Object(Ar.e)(e.id)),e.onDone)))),e.onError&&t.push.apply(t,Object(hr.d)([],Object(hr.b)(Object(vr.H)(String(Object(Ar.f)(e.id)),e.onError)))),t}))),d=this.after,h=Object(vr.b)(Object(hr.d)(Object(hr.d)(Object(hr.d)(Object(hr.d)([],Object(hr.b)(l)),Object(hr.b)(f)),Object(hr.b)(n)),Object(hr.b)(u)).map((function(e){return Object(vr.y)(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Object(hr.e)(d),g=p.next();!g.done;g=p.next()){var v=g.value;h.push(v)}}catch(m){e={error:m}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return h},e}();function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rr(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var xr="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function Mr(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function Nr(e){var t=Math.round(e);if(Number.isNaN(e))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return t}var Dr={box:"border-box"};function jr(e,t){var n=t.label,i=t.enabled,o=t.resizeSourceRef,a=Object(r.useState)(0),s=a[0],c=a[1];Object(r.useDebugValue)(n+": "+s);var u=Object(r.useCallback)((function(e){c(e[0].borderBoxSize[0].blockSize),o.current="element"}),[o]);return xr((function(){if(e.current&&i){var t=new dr(u);return t.observe(e.current,Dr),function(){t.disconnect()}}}),[e,u,i]),i?s:0}function Lr(e){return void 0===e&&(e=1e3),new Promise((function(t){return setTimeout(t,e)}))}var Br,Pr,Ur,Fr={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},Qr={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},zr=(Br={id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:Tr({},Fr,Qr)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:Tr({},Fr,Qr)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:Tr({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[Object(Ar.b)({y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return void 0===n?"custom":n}})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},Pr={actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},activate:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},deactivate:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},openSmoothly:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},openImmediately:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},snapSmoothly:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},resizeSmoothly:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}},closeSmoothly:function(e,t){try{return Promise.resolve(Lr()).then((function(){}))}catch(e){return Promise.reject(e)}}},guards:{initiallyClosed:function(e){return"CLOSED"===e.initialState},initiallyOpen:function(e){return"OPEN"===e.initialState}}},void 0===Ur&&(Ur=Br.context),new Or(Br,Pr,Ur)),Vr=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],Kr=["velocity"],Gr=["onRest","config"],Hr={tension:170,friction:26},qr=Hr.tension,Wr=Hr.friction,Yr=i.a.forwardRef((function(e,t){var n=e.children,o=e.sibling,a=e.className,s=e.footer,c=e.header,u=e.open,l=e.initialState,f=e.lastSnapRef,d=e.initialFocusRef,h=e.onDismiss,p=e.maxHeight,g=e.defaultSnap,v=void 0===g?Xr:g,m=e.snapPoints,y=void 0===m?Zr:m,b=e.blocking,A=void 0===b||b,_=e.scrollLocking,E=void 0===_||_,w=e.style,I=e.onSpringStart,k=e.onSpringCancel,C=e.onSpringEnd,O=e.reserveScrollBarGap,T=void 0===O?A:O,R=e.expandOnContentDrag,x=void 0!==R&&R,M=Rr(e,Vr),N=function(){var e=Object(r.useState)(!1),t=e[0],n=e[1],i=Object(r.useState)({}),o=i[0],a=i[1],s=Object(r.useCallback)((function(e){return a((function(t){var n;return Tr({},t,((n={})[e]=!1,n))})),function(){a((function(t){var n;return Tr({},t,((n={})[e]=!0,n))}))}}),[]);return Object(r.useEffect)((function(){var e=Object.values(o);0!==e.length&&e.every(Boolean)&&n(!0)}),[o]),{ready:t,registerReady:s}}(),D=N.ready,j=N.registerReady,B=Object(r.useRef)(!1),P=Object(r.useRef)(I),U=Object(r.useRef)(k),F=Object(r.useRef)(C);Object(r.useEffect)((function(){P.current=I,U.current=k,F.current=C}),[k,I,C]);var Q,z,V=function(e){var t=L.fun(e),n=ve(1,t?e:[e]),r=n[0],i=n[1],o=n[2];return t?[r[0],i,o]:r}((function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}})),K=V[0],G=V[1],H=Object(r.useRef)(null),q=Object(r.useRef)(null),W=Object(r.useRef)(null),Y=Object(r.useRef)(null),J=Object(r.useRef)(null),X=Object(r.useRef)(null),Z=Object(r.useRef)(0),$=Object(r.useRef)(),ee=Object(r.useRef)(!1),te=(Q=Object(r.useMemo)((function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null}),[]),z=Object(r.useRef)(null==Q?void 0:Q.matches),Object(r.useDebugValue)(z.current?"reduce":"no-preference"),Object(r.useEffect)((function(){var e=function(e){z.current=e.matches};return null==Q||Q.addListener(e),function(){return null==Q?void 0:Q.removeListener(e)}}),[Q]),z),ne=function(e){var t=e.targetRef,n=e.enabled,i=e.reserveScrollBarGap,o=Object(r.useRef)({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return Object(r.useDebugValue)(n?"Enabled":"Disabled"),Object(r.useEffect)((function(){if(!n)return o.current.deactivate(),void(o.current={activate:function(){},deactivate:function(){}});var e=t.current,r=!1;o.current={activate:function(){r||(r=!0,Cn(e,{allowTouchMove:function(e){return e.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:i}))},deactivate:function(){var t;r&&(r=!1,(t=e)?(bn=bn.filter((function(e){return e.targetElement!==t})),yn?(t.ontouchstart=null,t.ontouchmove=null,An&&0===bn.length&&(document.removeEventListener("touchmove",Sn,gn?{passive:!1}:void 0),An=!1)):bn.length||kn()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}}}),[n,t,i]),o}({targetRef:q,enabled:D&&E,reserveScrollBarGap:T}),re=function(e){var t=e.targetRef,n=e.enabled,i=Object(r.useRef)({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return Object(r.useDebugValue)(n?"Enabled":"Disabled"),Object(r.useEffect)((function(){if(!n)return i.current.deactivate(),void(i.current={activate:function(){},deactivate:function(){}});var e=t.current,r=!1,o=[],a=[];i.current={activate:function(){if(!r){r=!0;var t=e.parentNode;document.querySelectorAll("body > *").forEach((function(e){if(e!==t){var n=e.getAttribute("aria-hidden");null!==n&&"false"!==n||(o.push(n),a.push(e),e.setAttribute("aria-hidden","true"))}}))}},deactivate:function(){r&&(r=!1,a.forEach((function(e,t){var n=o[t];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)})),o=[],a=[])}}}),[t,n]),i}({targetRef:H,enabled:D&&A}),ie=function(e){var t=e.targetRef,n=e.fallbackRef,i=e.initialFocusRef,o=e.enabled,a=Object(r.useRef)({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return Object(r.useDebugValue)(o?"Enabled":"Disabled"),Object(r.useEffect)((function(){if(!o)return a.current.deactivate(),void(a.current={activate:function(){},deactivate:function(){}});var e=n.current,r=pn(t.current,{onActivate:void 0,initialFocus:i?function(){return(null==i?void 0:i.current)||e}:void 0,fallbackFocus:e,escapeDeactivates:!1,clickOutsideDeactivates:!1}),s=!1;a.current={activate:function(){try{return s?Promise.resolve():(s=!0,Promise.resolve(r.activate()).then((function(){return Promise.resolve(new Promise((function(e){return setTimeout((function(){return e(void 0)}),0)}))).then((function(){}))})))}catch(e){return Promise.reject(e)}},deactivate:function(){s&&(s=!1,r.deactivate())}}}),[o,n,i,t]),a}({targetRef:H,fallbackRef:X,initialFocusRef:d||void 0,enabled:D&&A&&!1!==d}),oe=function(e){var t=e.getSnapPoints,n=e.heightRef,i=e.lastSnapRef,o=e.ready,a=function(e){var t=e.contentRef,n=e.controlledMaxHeight,i=e.footerEnabled,o=e.footerRef,a=e.headerEnabled,s=e.headerRef,c=e.registerReady,u=e.resizeSourceRef,l=Object(r.useMemo)((function(){return c("contentHeight")}),[c]),f=function(e,t,n){var i=Object(r.useMemo)((function(){return t("maxHeight")}),[t]),o=Object(r.useState)((function(){return Nr(e)||"undefined"!=typeof window?window.innerHeight:0})),a=o[0],s=o[1],c=a>0,u=Object(r.useRef)(0);return Object(r.useDebugValue)(e?"controlled":"auto"),Object(r.useEffect)((function(){c&&i()}),[c,i]),xr((function(){if(e)return s(Nr(e)),void(n.current="maxheightprop");var t=function(){u.current||(u.current=requestAnimationFrame((function(){s(window.innerHeight),n.current="window",u.current=0})))};return window.addEventListener("resize",t),s(window.innerHeight),n.current="window",i(),function(){window.removeEventListener("resize",t),cancelAnimationFrame(u.current)}}),[e,i,n]),a}(n,c,u),d=jr(s,{label:"headerHeight",enabled:a,resizeSourceRef:u}),h=jr(t,{label:"contentHeight",enabled:!0,resizeSourceRef:u}),p=jr(o,{label:"footerHeight",enabled:i,resizeSourceRef:u}),g=Math.min(f-d-p,h)+d+p;Object(r.useDebugValue)("minHeight: "+g);var v=h>0;return Object(r.useEffect)((function(){v&&l()}),[v,l]),{maxHeight:f,minHeight:g,headerHeight:d,footerHeight:p}}({contentRef:e.contentRef,controlledMaxHeight:e.controlledMaxHeight,footerEnabled:e.footerEnabled,footerRef:e.footerRef,headerEnabled:e.headerEnabled,headerRef:e.headerRef,registerReady:e.registerReady,resizeSourceRef:e.resizeSourceRef}),s=a.maxHeight,c=a.minHeight,u=a.headerHeight,l=a.footerHeight,f=function(e,t){var n=[].concat(e).map(Nr).reduce((function(e,n){return e.add(Mr(n,0,t)),e}),new Set),r=Array.from(n),i=Math.min.apply(Math,r);if(Number.isNaN(i))throw new TypeError("minSnap is NaN");var o=Math.max.apply(Math,r);if(Number.isNaN(o))throw new TypeError("maxSnap is NaN");return{snapPoints:r,minSnap:i,maxSnap:o}}(o?t({height:n.current,footerHeight:l,headerHeight:u,minHeight:c,maxHeight:s}):[0],s),d=f.snapPoints,h=f.minSnap,p=f.maxSnap;return Object(r.useDebugValue)("minSnap: "+h+", maxSnap:"+p),{minSnap:h,maxSnap:p,findSnap:function(e){var t=Nr("function"==typeof e?e({footerHeight:l,headerHeight:u,height:n.current,minHeight:c,maxHeight:s,snapPoints:d,lastSnap:i.current}):e);return d.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),h)},maxHeight:s}}({contentRef:W,controlledMaxHeight:p,footerEnabled:!!s,footerRef:J,getSnapPoints:y,headerEnabled:!1!==c,headerRef:Y,heightRef:Z,lastSnapRef:f,ready:D,registerReady:j,resizeSourceRef:$}),ae=oe.minSnap,se=oe.maxSnap,ce=oe.maxHeight,ue=oe.findSnap,fe=Object(r.useRef)(ce),de=Object(r.useRef)(ae),he=Object(r.useRef)(se),pe=Object(r.useRef)(ue),ge=Object(r.useRef)(0);xr((function(){fe.current=ce,he.current=se,de.current=ae,pe.current=ue,ge.current=ue(v)}),[ue,v,ce,se,ae]);var me=Object(r.useCallback)((function(e){var t=e.onRest,n=e.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=Rr(n,Kr),a=Rr(e,Gr);return new Promise((function(e){return G(Tr({},a,{config:Tr({velocity:i},o,{mass:1,tension:qr,friction:Math.max(Wr,Wr+(Wr-Wr*i))}),onRest:function(){var n=[].slice.call(arguments);e.apply(void 0,n),null==t||t.apply(void 0,n)}}))}))}),[G]),ye=S(zr,{devTools:!1,actions:{onOpenCancel:Object(r.useCallback)((function(){return null==U.current?void 0:U.current({type:"OPEN"})}),[]),onSnapCancel:Object(r.useCallback)((function(e){return null==U.current?void 0:U.current({type:"SNAP",source:e.snapSource})}),[]),onCloseCancel:Object(r.useCallback)((function(){return null==U.current?void 0:U.current({type:"CLOSE"})}),[]),onResizeCancel:Object(r.useCallback)((function(){return null==U.current?void 0:U.current({type:"RESIZE",source:$.current})}),[]),onOpenEnd:Object(r.useCallback)((function(){return null==F.current?void 0:F.current({type:"OPEN"})}),[]),onSnapEnd:Object(r.useCallback)((function(e,t){return null==F.current?void 0:F.current({type:"SNAP",source:e.snapSource})}),[]),onResizeEnd:Object(r.useCallback)((function(){return null==F.current?void 0:F.current({type:"RESIZE",source:$.current})}),[])},context:{initialState:l},services:{onSnapStart:Object(r.useCallback)((function(e,t){try{return Promise.resolve(null==P.current?void 0:P.current({type:"SNAP",source:t.payload.source||"custom"}))}catch(e){return Promise.reject(e)}}),[]),onOpenStart:Object(r.useCallback)((function(){try{return Promise.resolve(null==P.current?void 0:P.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseStart:Object(r.useCallback)((function(){try{return Promise.resolve(null==P.current?void 0:P.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeStart:Object(r.useCallback)((function(){try{return Promise.resolve(null==P.current?void 0:P.current({type:"RESIZE",source:$.current}))}catch(e){return Promise.reject(e)}}),[]),onSnapEnd:Object(r.useCallback)((function(e,t){try{return Promise.resolve(null==F.current?void 0:F.current({type:"SNAP",source:e.snapSource}))}catch(e){return Promise.reject(e)}}),[]),onOpenEnd:Object(r.useCallback)((function(){try{return Promise.resolve(null==F.current?void 0:F.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseEnd:Object(r.useCallback)((function(){try{return Promise.resolve(null==F.current?void 0:F.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeEnd:Object(r.useCallback)((function(){try{return Promise.resolve(null==F.current?void 0:F.current({type:"RESIZE",source:$.current}))}catch(e){return Promise.reject(e)}}),[]),renderVisuallyHidden:Object(r.useCallback)((function(e,t){try{return Promise.resolve(me({y:ge.current,ready:0,maxHeight:fe.current,maxSnap:he.current,minSnap:ge.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[me]),activate:Object(r.useCallback)((function(e,t){try{return B.current=!0,Promise.resolve(Promise.all([ne.current.activate(),ie.current.activate(),re.current.activate()])).then((function(){}))}catch(e){return Promise.reject(e)}}),[re,ie,ne]),deactivate:Object(r.useCallback)((function(){try{return ne.current.deactivate(),ie.current.deactivate(),re.current.deactivate(),B.current=!1,Promise.resolve()}catch(e){return Promise.reject(e)}}),[re,ie,ne]),openImmediately:Object(r.useCallback)((function(){try{return Z.current=ge.current,Promise.resolve(me({y:ge.current,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:ge.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[me]),openSmoothly:Object(r.useCallback)((function(){try{return Promise.resolve(me({y:0,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:ge.current,immediate:!0})).then((function(){return Z.current=ge.current,Promise.resolve(me({y:ge.current,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:ge.current,immediate:te.current})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[me,te]),snapSmoothly:Object(r.useCallback)((function(e,t){try{var n=pe.current(e.y);return Z.current=n,f.current=n,Promise.resolve(me({y:n,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:de.current,immediate:te.current,config:{velocity:e.velocity}})).then((function(){}))}catch(e){return Promise.reject(e)}}),[me,f,te]),resizeSmoothly:Object(r.useCallback)((function(){try{var e=pe.current(Z.current);return Z.current=e,f.current=e,Promise.resolve(me({y:e,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:de.current,immediate:"element"!==$.current||te.current})).then((function(){}))}catch(e){return Promise.reject(e)}}),[me,f,te]),closeSmoothly:Object(r.useCallback)((function(e,t){try{return me({minSnap:Z.current,immediate:!0}),Z.current=0,Promise.resolve(me({y:0,maxHeight:fe.current,maxSnap:he.current,immediate:te.current})).then((function(){return Promise.resolve(me({ready:0,immediate:!0})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[me,te])}}),be=ye[0],Ae=ye[1];Object(r.useEffect)((function(){D&&Ae(u?"OPEN":"CLOSE")}),[u,Ae,D]),xr((function(){(ce||se||ae)&&Ae("RESIZE")}),[ce,se,ae,Ae]),Object(r.useEffect)((function(){return function(){ne.current.deactivate(),ie.current.deactivate(),re.current.deactivate()}}),[re,ie,ne]),Object(r.useImperativeHandle)(t,(function(){return{snapTo:function(e,t){var n=void 0===t?{}:t,r=n.velocity,i=void 0===r?1:r,o=n.source,a=void 0===o?"custom":o;Ae("SNAP",{payload:{y:pe.current(e),velocity:i,source:a}})},get height(){return Z.current}}}),[Ae]),Object(r.useEffect)((function(){var e=q.current,t=function(e){ee.current&&e.preventDefault()},n=function(t){e.scrollTop<0&&(requestAnimationFrame((function(){e.style.overflow="hidden",e.scrollTop=0,e.style.removeProperty("overflow")})),t.preventDefault())};return x&&(e.addEventListener("scroll",t),e.addEventListener("touchmove",t),e.addEventListener("touchstart",n)),function(){e.removeEventListener("scroll",t),e.removeEventListener("touchmove",t),e.removeEventListener("touchstart",n)}}),[x,q]);var _e=function(e,t){void 0===t&&(t={}),Et.set("drag",Gt);var n=Object(r.useRef)();return n.current||(n.current=Ht(bt,Wt)),Ut({drag:e},n.current(t))}((function(e){var t=e.args,n=(t=void 0===t?[]:t)[0],r=(n=void 0===n?{}:n).closeOnTap,i=void 0!==r&&r,o=n.isContentDragging,a=void 0!==o&&o,s=e.cancel,c=e.direction[1],u=e.down,l=e.first,f=e.last,d=e.memo,p=void 0===d?K.y.getValue():d,g=e.tap,v=e.velocity,m=-1*e.movement[1];if(!B.current)return s(),p;if(h&&i&&g)return s(),setTimeout((function(){return h()}),0),p;if(g)return p;var y=p+m,b=m*v,A=Math.max(de.current,Math.min(he.current,y+2*b));if(!u&&h&&c>0&&y+b<de.current/2)return s(),h(),p;var _=u?h||de.current!==he.current?$e(y,h?0:de.current,he.current,.55):y<de.current?$e(y,de.current,2*he.current,.55):$e(y,de.current/2,he.current,.55):A;return x&&a?(_>=he.current&&(_=he.current),p===he.current&&q.current.scrollTop>0&&(_=he.current),ee.current=_<he.current):ee.current=!1,l&&Ae("DRAG"),f?(Ae("SNAP",{payload:{y:_,velocity:v>.05?v:1,source:"dragging"}}),p):(G({y:_,ready:1,maxHeight:fe.current,maxSnap:he.current,minSnap:de.current,immediate:!0,config:{velocity:v}}),p)}),{filterTaps:!0});if(Number.isNaN(he.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(de.current))throw new TypeError("minSnapRef is NaN!!");var Ee=function(e){var t,n=e.spring,r=le([n.y,n.maxHeight],(function(e,t){return Math.round(Mr(t-e,0,16))+"px"})),i=le([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return Mr(e,t,n)+"px"})),o=le([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return e<t?t-e+"px":e>n?n-e+"px":"0px"})),a=le([n.y,n.maxSnap],(function(e,t){return e>=t?Math.ceil(e-t):0})),s=le([n.y,n.minSnap],(function(e,t){if(!t)return 0;var n=Math.max(t/2-45,0);return Mr((e-n)*(1/(Math.min(t/2+45,t)-n)+0),0,1)})),c=le([n.y,n.minSnap],(function(e,t){return t?Mr(e/t,0,1):0}));return(t={})["--rsbs-content-opacity"]=s,t["--rsbs-backdrop-opacity"]=c,t["--rsbs-antigap-scale-y"]=a,t["--rsbs-overlay-translate-y"]=o,t["--rsbs-overlay-rounded"]=r,t["--rsbs-overlay-h"]=i,t}({spring:K});return i.a.createElement(He.div,Tr({},M,{"data-rsbs-root":!0,"data-rsbs-state":Jr.find(be.matches),"data-rsbs-is-blocking":A,"data-rsbs-is-dismissable":!!h,"data-rsbs-has-header":!!c,"data-rsbs-has-footer":!!s,className:a,ref:H,style:Tr({},Ee,w,{opacity:K.ready})}),o,A&&i.a.createElement("div",Tr({key:"backdrop","data-rsbs-backdrop":!0},_e({closeOnTap:!0}))),i.a.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:X,onKeyDown:function(e){"Escape"===e.key&&(e.stopPropagation(),h&&h())}},!1!==c&&i.a.createElement("div",Tr({key:"header","data-rsbs-header":!0,ref:Y},_e()),c),i.a.createElement("div",Tr({key:"scroll","data-rsbs-scroll":!0,ref:q},x?_e({isContentDragging:!0}):{}),i.a.createElement("div",{"data-rsbs-content":!0,ref:W},n)),s&&i.a.createElement("div",Tr({key:"footer",ref:J,"data-rsbs-footer":!0},_e()),s)))})),Jr=["closed","opening","open","closing","dragging","snapping","resizing"];function Xr(e){var t=e.lastSnap;return null!=t?t:Math.min.apply(Math,e.snapPoints)}function Zr(e){return e.minHeight}var $r=["onSpringStart","onSpringEnd","skipInitialTransition"],ei=Object(r.forwardRef)((function(e,t){var n=e.onSpringStart,o=e.onSpringEnd,a=e.skipInitialTransition,s=Rr(e,$r),c=Object(r.useState)(!1),u=c[0],l=c[1],d=Object(r.useRef)(),h=Object(r.useRef)(null),p=Object(r.useRef)(a&&s.open?"OPEN":"CLOSED");xr((function(){if(s.open)return cancelAnimationFrame(d.current),l(!0),function(){p.current="CLOSED"}}),[s.open]);var g=Object(r.useCallback)((function(e){try{return Promise.resolve(null==n?void 0:n(e)).then((function(){"OPEN"===e.type&&cancelAnimationFrame(d.current)}))}catch(e){return Promise.reject(e)}}),[n]),v=Object(r.useCallback)((function(e){try{return Promise.resolve(null==o?void 0:o(e)).then((function(){"CLOSE"===e.type&&(d.current=requestAnimationFrame((function(){return l(!1)})))}))}catch(e){return Promise.reject(e)}}),[o]);return u?i.a.createElement(f,{"data-rsbs-portal":!0},i.a.createElement(Yr,Tr({},s,{lastSnapRef:h,ref:t,initialState:p.current,onSpringStart:g,onSpringEnd:v}))):null}))},,,,,function(e,t,n){"use strict";e.exports=n(381)},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(390),i=n(178);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t,n){var r=n(394),i=n(395),o=n(177),a=n(396);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(177);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},function(e,t,n){var r=n(61),i=n(62),o=n(142).AccessToken,a=n(142).priviledges,s={ATTENDEE:0,PUBLISHER:1,SUBSCRIBER:2,ADMIN:101},c=function(){"use strict";function e(){r(this,e)}return i(e,null,[{key:"buildTokenWithUid",value:function(e,t,n,r,i,o){return this.buildTokenWithAccount(e,t,n,r,i,o)}},{key:"buildTokenWithAccount",value:function(e,t,n,r,i,c){return this.key=new o(e,t,n,r),this.key.addPriviledge(a.kJoinChannel,c),i!=s.ATTENDEE&&i!=s.PUBLISHER&&i!=s.ADMIN||(this.key.addPriviledge(a.kPublishAudioStream,c),this.key.addPriviledge(a.kPublishVideoStream,c),this.key.addPriviledge(a.kPublishDataStream,c)),this.key.build()}}]),e}();e.exports.RtcTokenBuilder=c,e.exports.Role=s},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(24).Buffer,i=n(402).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(18)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,r){var i;e.exports=S,S.ReadableState=I;n(93).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(234),s=n(48).Buffer,c=t.Uint8Array||function(){};var u,l=n(403);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=n(404),g=n(235),v=n(236).getHighWaterMark,m=n(103).codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,A=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(18)(S,a);var E=g.errorOrDestroy,w=["error","close","destroy","pause","resume"];function I(e,t,r){i=i||n(104),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(94).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function S(e){if(i=i||n(104),!(this instanceof S))return new S(e);var t=this instanceof i;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function k(e,t,n,r,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)E(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?E(e,new _):C(e,a,t,!0);else if(a.ended)E(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):M(e,a)):C(e,a,t,!1)}else r||(a.reading=!1,M(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),M(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},S.prototype.unshift=function(e){return k(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){f||(f=n(94).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(x,e))}function x(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function M(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):R(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(e){E(this,new A("_read()"))},S.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function s(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",d),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",l);var f=!1;function d(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Q(i.pipes,e))&&!f&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){u("onerror",t),v(),e.removeListener("error",h),0===o(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),v()}function g(){u("onfinish"),e.removeListener("close",p),v()}function v(){u("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Q(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},S.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(j,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(D,this),n},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(D,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(406)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=P,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(S.from=function(e,t){return void 0===h&&(h=n(407)),h(S,e,t)})}).call(this,n(39),n(41))},function(e,t,n){e.exports=n(93).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(41))},function(e,t,n){"use strict";var r=n(103).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=I;var a={deprecate:n(180)},s=n(234),c=n(48).Buffer,u=t.Uint8Array||function(){};var l,f=n(235),d=n(236).getHighWaterMark,h=n(103).codes,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,A=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function w(){}function I(e,t,a){o=o||n(104),e=e||{},"boolean"!==typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(x,e,t),e._writableState.errorEmitted=!0,E(e,i)):(o(i),e._writableState.errorEmitted=!0,E(e,i),x(e,t))}(e,n,i,t,o);else{var a=T(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),i?r.nextTick(C,e,n,a,o):C(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(e){var t=this instanceof(o=o||n(104));if(!t&&!l.call(S,this))return new S(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,k(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&E(e,n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(18)(S,s),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===S&&(e&&e._writableState instanceof I)}})):l=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new m)},S.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!==typeof n&&(n=w),o.ending?function(e,t){var n=new A;E(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"===typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(E(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,n){n(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this,n(39),n(41))},function(e,t,n){"use strict";e.exports=l;var r=n(103).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(104);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(18)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var r=n(18),i=n(105),o=n(24).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,g=0|this._g,v=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+h(n[m-15])+n[m-16];for(var y=0;y<64;++y){var b=v+d(c)+u(c,p,g)+a[y]+n[y]|0,A=f(r)+l(r,i,o)|0;v=g,g=p,p=c,c=s+b|0,s=o,o=i,i=r,r=b+A|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=v+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,n){var r=n(18),i=n(105),o=n(24).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,b=0|this._hh,A=0|this._al,_=0|this._bl,E=0|this._cl,w=0|this._dl,I=0|this._el,S=0|this._fl,k=0|this._gl,C=0|this._hl,O=0;O<32;O+=2)t[O]=e.readInt32BE(4*O),t[O+1]=e.readInt32BE(4*O+4);for(;O<160;O+=2){var T=t[O-30],R=t[O-30+1],x=h(T,R),M=p(R,T),N=g(T=t[O-4],R=t[O-4+1]),D=v(R,T),j=t[O-14],L=t[O-14+1],B=t[O-32],P=t[O-32+1],U=M+L|0,F=x+j+m(U,M)|0;F=(F=F+N+m(U=U+D|0,D)|0)+B+m(U=U+P|0,P)|0,t[O]=F,t[O+1]=U}for(var Q=0;Q<160;Q+=2){F=t[Q],U=t[Q+1];var z=l(n,r,i),V=l(A,_,E),K=f(n,A),G=f(A,n),H=d(s,I),q=d(I,s),W=a[Q],Y=a[Q+1],J=u(s,c,y),X=u(I,S,k),Z=C+q|0,$=b+H+m(Z,C)|0;$=($=($=$+J+m(Z=Z+X|0,X)|0)+W+m(Z=Z+Y|0,Y)|0)+F+m(Z=Z+U|0,U)|0;var ee=G+V|0,te=K+z+m(ee,G)|0;b=y,C=k,y=c,k=S,c=s,S=I,s=o+$+m(I=w+Z|0,w)|0,o=i,w=E,i=r,E=_,r=n,_=A,n=$+te+m(A=Z+ee|0,Z)|0}this._al=this._al+A|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+w|0,this._el=this._el+I|0,this._fl=this._fl+S|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+n+m(this._al,A)|0,this._bh=this._bh+r+m(this._bl,_)|0,this._ch=this._ch+i+m(this._cl,E)|0,this._dh=this._dh+o+m(this._dl,w)|0,this._eh=this._eh+s+m(this._el,I)|0,this._fh=this._fh+c+m(this._fl,S)|0,this._gh=this._gh+y+m(this._gl,k)|0,this._hh=this._hh+b+m(this._hl,C)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,n){"use strict";(function(t,r){var i=n(143);e.exports=b;var o,a=n(231);b.ReadableState=y;n(93).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(242),u=n(185).Buffer,l=t.Uint8Array||function(){};var f=Object.create(n(121));f.inherits=n(18);var d=n(415),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n(416),v=n(243);f.inherits(b,c);var m=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(95));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(94).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(95),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function A(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,I(e)}(e,a)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):k(e,a)):_(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),k(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},b.prototype.unshift=function(e){return A(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(94).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),R(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){h("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):I(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",g),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}o.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(t){h("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),b()}function y(){h("onfinish"),e.removeListener("close",m),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",m),e.once("finish",y),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&I(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=x}).call(this,n(39),n(41))},function(e,t,n){e.exports=n(93).EventEmitter},function(e,t,n){"use strict";var r=n(143);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(39),n(41))},function(e,t,n){"use strict";e.exports=a;var r=n(95),i=Object.create(n(121));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(18),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var r=n(18),i=n(424),o=n(86),a=n(24).Buffer,s=n(247),c=n(182),u=n(183),l=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"===typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new c:u(e),this._hash.update(r)}r(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},function(e,t,n){var r=n(179);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(426),t.pbkdf2Sync=n(252)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!==typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!==typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!==t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t){var n;if(t.browser)n="utf-8";else if(t.version){n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";e.exports=n}).call(this,n(41))},function(e,t,n){var r=n(247),i=n(182),o=n(183),a=n(24).Buffer,s=n(250),c=n(251),u=n(253),l=a.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,n){var s=function(e){function t(t){return o(e).update(t).digest()}function n(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?n:"md5"===e?r:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=s(t):t.length<c&&(t=a.concat([t,l],c));for(var u=a.allocUnsafe(c+f[e]),d=a.allocUnsafe(c+f[e]),h=0;h<c;h++)u[h]=54^t[h],d[h]=92^t[h];var p=a.allocUnsafe(c+n+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=d,this.alg=e,this.blocksize=c,this.hash=s,this.size=f[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){s(n,r);var o=new d(i=i||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),l=a.allocUnsafe(r),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,g=f[i],v=Math.ceil(r/g),m=1;m<=v;m++){h.writeUInt32BE(m,t.length);for(var y=o.run(h,o.ipad1),b=y,A=1;A<n;A++){b=o.run(b,o.ipad2);for(var _=0;_<g;_++)y[_]^=b[_]}y.copy(l,p),p+=g}return l}},function(e,t,n){var r=n(24).Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"===typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>r[c]&1;for(c=s;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(64),i=n(18),o=n(254),a=n(187);function s(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},c.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),d=s;s=(a^o.permute(f))>>>0,a=d}o.rip(s,a,r,i)},c.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),d=a;a=(s^o.permute(f))>>>0,s=d}o.rip(a,s,r,i)}},function(e,t,n){var r=n(122),i=n(24).Buffer,o=n(257);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(e),u=o+16*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var r=n(144),i=n(24).Buffer,o=n(86),a=n(18),s=n(439),c=n(122),u=n(257);function l(e,t,n,a){o.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),e._finID=r.state;var f=i.from(e._finID);return u(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,n){var r=n(144),i=n(24).Buffer,o=n(86);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(18)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var r=n(102);e.exports=y,y.simpleSieve=v,y.fermatTest=m;var i=n(49),o=new i(24),a=new(n(262)),s=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function g(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!==0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function v(e){for(var t=g(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function m(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;n.mod(l).cmp(f);)n.iadd(h)}else for(;n.mod(o).cmp(d);)n.iadd(h);if(v(p=n.shrn(1))&&v(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},function(e,t,n){var r=n(49),i=n(191);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var u=e.shrn(c),l=s.toRed(o);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(o).redPow(u);if(0!==d.cmp(a)&&0!==d.cmp(l)){for(var h=1;h<c;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(l))break}if(h===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),u=a.toRed(i);t>0;t--){var l=this._randrange(new r(2),a),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(u))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";(function(t,r){var i;e.exports=S,S.ReadableState=I;n(93).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(264),s=n(48).Buffer,c=t.Uint8Array||function(){};var u,l=n(449);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=n(450),g=n(265),v=n(266).getHighWaterMark,m=n(106).codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,A=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(18)(S,a);var E=g.errorOrDestroy,w=["error","close","destroy","pause","resume"];function I(e,t,r){i=i||n(107),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(94).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function S(e){if(i=i||n(107),!(this instanceof S))return new S(e);var t=this instanceof i;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function k(e,t,n,r,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)E(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?E(e,new _):C(e,a,t,!0);else if(a.ended)E(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):M(e,a)):C(e,a,t,!1)}else r||(a.reading=!1,M(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),M(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},S.prototype.unshift=function(e){return k(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){f||(f=n(94).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(x,e))}function x(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function M(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):R(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(e){E(this,new A("_read()"))},S.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function s(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",d),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",l);var f=!1;function d(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Q(i.pipes,e))&&!f&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){u("onerror",t),v(),e.removeListener("error",h),0===o(e,"error")&&E(e,t)}function p(){e.removeListener("finish",g),v()}function g(){u("onfinish"),e.removeListener("close",p),v()}function v(){u("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Q(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},S.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(j,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(D,this),n},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(D,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(452)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=P,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(S.from=function(e,t){return void 0===h&&(h=n(453)),h(S,e,t)})}).call(this,n(39),n(41))},function(e,t,n){e.exports=n(93).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(41))},function(e,t,n){"use strict";var r=n(106).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=I;var a={deprecate:n(180)},s=n(264),c=n(48).Buffer,u=t.Uint8Array||function(){};var l,f=n(265),d=n(266).getHighWaterMark,h=n(106).codes,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,A=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function w(){}function I(e,t,a){o=o||n(107),e=e||{},"boolean"!==typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(x,e,t),e._writableState.errorEmitted=!0,E(e,i)):(o(i),e._writableState.errorEmitted=!0,E(e,i),x(e,t))}(e,n,i,t,o);else{var a=T(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||O(e,n),i?r.nextTick(C,e,n,a,o):C(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(e){var t=this instanceof(o=o||n(107));if(!t&&!l.call(S,this))return new S(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function O(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,k(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&E(e,n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(18)(S,s),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===S&&(e&&e._writableState instanceof I)}})):l=function(e){return e instanceof this},S.prototype.pipe=function(){E(this,new m)},S.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!==typeof n&&(n=w),o.ending?function(e,t){var n=new A;E(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"===typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(E(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,n){n(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this,n(39),n(41))},function(e,t,n){"use strict";e.exports=l;var r=n(106).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(107);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(18)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var r=t;r.base=n(146),r.short=n(460),r.mont=n(461),r.edwards=n(462)},function(e,t,n){"use strict";var r=n(76).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(76),i=n(123),o=n(271),a=n(64),s=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,g=o.g1_256,v=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(y,v),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],m=this.h[3],y=this.h[4],b=this.h[5],A=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=u(_,h(y),l(y,b,A),this.k[r],n[r]),w=s(d(i),f(i,o,v));_=A,A=b,b=y,y=s(m,E),m=v,v=o,o=i,i=s(E,w)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],A),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(76),i=n(123),o=n(64),a=r.rotr64_hi,s=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,v=r.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function A(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function E(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function I(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function O(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function R(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function x(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,m),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=R(n[r-4],n[r-3]),o=x(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=O(n[r-30],n[r-29]),u=T(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,o,a,s,c,u,l,f),n[r+1]=p(i,o,a,s,c,u,l,f)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],b=this.h[10],O=this.h[11],T=this.h[12],R=this.h[13],x=this.h[14],M=this.h[15];o(this.k.length===n.length);for(var N=0;N<n.length;N+=2){var D=x,j=M,L=k(m,y),B=C(m,y),P=A(m,y,b,O,T),U=_(m,y,b,O,T,R),F=this.k[N],Q=this.k[N+1],z=n[N],V=n[N+1],K=g(D,j,L,B,P,U,F,Q,z,V),G=v(D,j,L,B,P,U,F,Q,z,V);D=I(r,i),j=S(r,i),L=E(r,i,a,s,c),B=w(r,i,a,s,c,u);var H=f(D,j,L,B),q=d(D,j,L,B);x=T,M=R,T=b,R=O,b=m,O=y,m=f(h,p,K,G),y=d(p,p,K,G),h=c,p=u,c=a,u=s,a=r,s=i,r=f(K,G,H,q),i=d(K,G,H,q)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,m,y),l(this.h,10,b,O),l(this.h,12,T,R),l(this.h,14,x,M)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(477).Buffer}catch(C){}function s(e,t,n){for(var i=0,o=Math.min(e.length,n),a=0,s=t;s<o;s++){var c,u=e.charCodeAt(s)-48;i<<=4,i|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,a|=c}return r(!(240&a),"Invalid character in "+e),i}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&a<i,"Invalid character"),o+=a}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this._strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){u(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(C){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,g=h>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],A=8191&b,_=b>>>13,E=0|a[4],w=8191&E,I=E>>>13,S=0|a[5],k=8191&S,C=S>>>13,O=0|a[6],T=8191&O,R=O>>>13,x=0|a[7],M=8191&x,N=x>>>13,D=0|a[8],j=8191&D,L=D>>>13,B=0|a[9],P=8191&B,U=B>>>13,F=0|s[0],Q=8191&F,z=F>>>13,V=0|s[1],K=8191&V,G=V>>>13,H=0|s[2],q=8191&H,W=H>>>13,Y=0|s[3],J=8191&Y,X=Y>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(u+(r=Math.imul(f,Q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,Q)|0))<<13)|0;u=((o=Math.imul(d,z))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,Q),i=(i=Math.imul(p,z))+Math.imul(g,Q)|0,o=Math.imul(g,z);var me=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,Q),i=(i=Math.imul(m,z))+Math.imul(y,Q)|0,o=Math.imul(y,z),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,G)|0;var ye=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(A,Q),i=(i=Math.imul(A,z))+Math.imul(_,Q)|0,o=Math.imul(_,z),r=r+Math.imul(m,K)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,G)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,W)|0;var be=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,Q),i=(i=Math.imul(w,z))+Math.imul(I,Q)|0,o=Math.imul(I,z),r=r+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var Ae=(u+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,$)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(k,Q),i=(i=Math.imul(k,z))+Math.imul(C,Q)|0,o=Math.imul(C,z),r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,G)|0,r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(T,Q),i=(i=Math.imul(T,z))+Math.imul(R,Q)|0,o=Math.imul(R,z),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(A,J)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0;var Ee=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,Q),i=(i=Math.imul(M,z))+Math.imul(N,Q)|0,o=Math.imul(N,z),r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,G)|0,r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,W)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0;var we=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,z))+Math.imul(L,Q)|0,o=Math.imul(L,z),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0;var Ie=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(P,Q),i=(i=Math.imul(P,z))+Math.imul(U,Q)|0,o=Math.imul(U,z),r=r+Math.imul(j,K)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,W)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,de)|0;var Se=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,K),i=(i=Math.imul(P,G))+Math.imul(U,K)|0,o=Math.imul(U,G),r=r+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(T,$)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var ke=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,W))+Math.imul(U,q)|0,o=Math.imul(U,W),r=r+Math.imul(j,J)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Ce=(u+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(P,J),i=(i=Math.imul(P,X))+Math.imul(U,J)|0,o=Math.imul(U,X),r=r+Math.imul(j,$)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Oe=(u+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(P,$),i=(i=Math.imul(P,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var Te=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(P,ne),i=(i=Math.imul(P,re))+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,de)|0;var Re=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(P,oe),i=(i=Math.imul(P,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0;var xe=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(P,ce),i=(i=Math.imul(P,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(L,fe)|0,o=o+Math.imul(L,de)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(P,fe),i=(i=Math.imul(P,de))+Math.imul(U,fe)|0,o=Math.imul(U,de);var Ne=(u+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var De=(u+(r=Math.imul(P,pe))|0)+((8191&(i=(i=Math.imul(P,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,ge))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ve,c[1]=me,c[2]=ye,c[3]=be,c[4]=Ae,c[5]=_e,c[6]=Ee,c[7]=we,c[8]=Ie,c[9]=Se,c[10]=ke,c[11]=Ce,c[12]=Oe,c[13]=Te,c[14]=Re,c[15]=xe,c[16]=Me,c[17]=Ne,c[18]=De,0!==u&&(c[19]=u,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function m(e,t,n){return v(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(g=p),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?p(this,e,t):n<1024?v(this,e,t):m(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},y.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},y.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=n[l+h],g=r[l+h],v=n[l+h+a],m=r[l+h+a],y=f*v-d*m;m=f*m+d*v,v=y,n[l+h]=p+v,r[l+h]=g+m,n[l+h+a]=p-v,r[l+h+a]=g-m,h!==s&&(y=c*f-u*d,d=c*d+u*f,f=y)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},y.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function A(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},A.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},A.prototype.split=function(e,t){e.iushrn(this.n,0,t)},A.prototype.imulK=function(e){return e.imul(this.k)},i(_,A),_.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,A),i(w,A),i(I,A),I.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new I}return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));d=d.redMul(m),f=m.redSqr(),h=h.redMul(f),p=v}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(190)(e))},function(e,t,n){"use strict";var r=t;r.bignum=n(49),r.define=n(479).define,r.base=n(482),r.constants=n(483),r.decoders=n(278),r.encoders=n(276)},function(e,t,n){"use strict";var r=t;r.der=n(277),r.pem=n(480)},function(e,t,n){"use strict";var r=n(18),i=n(197).Buffer,o=n(198),a=n(200);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(c,o),c.prototype._encodeComposite=function(e,t,n,r){var o=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128){var s=i.alloc(2);return s[0]=o,s[1]=r.length,this._createEncoderBuffer([s,r])}for(var c=1,u=r.length;u>=256;u>>=8)c++;var l=i.alloc(2+c);l[0]=o,l[1]=128|c;for(var f=1+c,d=r.length;d>0;f--,d>>=8)l[f]=255&d;return this._createEncoderBuffer([l,r])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=i.alloc(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var a=0,s=0;s<e.length;s++){var c=e[s];for(a++;c>=128;c>>=7)a++}for(var u=i.alloc(a),l=u.length-1,f=e.length-1;f>=0;f--){var d=e[f];for(u[l--]=127&d;(d>>=7)>0;)u[l--]=128|127&d}return this._createEncoderBuffer(u)},c.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[u(r.getUTCFullYear()),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[u(r.getUTCFullYear()%100),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=i.from(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=i.alloc(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var a=1,s=e;s>=256;s>>=8)a++;for(var c=new Array(a),u=c.length-1;u>=0;u--)c[u]=255&e,e>>=8;return 128&c[0]&&c.unshift(0),this._createEncoderBuffer(i.from(c))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t,n){"use strict";var r=t;r.der=n(279),r.pem=n(481)},function(e,t,n){"use strict";var r=n(18),i=n(49),o=n(124).DecoderBuffer,a=n(198),s=n(200);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=c,c.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},r(u,a),u.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},u.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r=f(e,n.primitive,t);if(e.isError(r))return r;var i=void 0;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0,a=0;!e.isEmpty();)o<<=7,o|=127&(a=e.readUInt8()),0===(128&a)&&(i.push(o),o=0);128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(r=n?i:[s,c].concat(i.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(e,t){var n,r,i,o,a,s,c=e.raw().toString();if("gentime"===t)n=0|c.slice(0,4),r=0|c.slice(4,6),i=0|c.slice(6,8),o=0|c.slice(8,10),a=0|c.slice(10,12),s=0|c.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|c.slice(0,2),r=0|c.slice(2,4),i=0|c.slice(4,6),o=0|c.slice(6,8),a=0|c.slice(8,10),s=0|c.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,i,o,a,s,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var n=e.raw(),r=new i(n);return t&&(r=t[r.toString(10)]||r),r},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var r=n(120),i=n(24).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(49),i=n(24).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){var r=n(61),i=n(62),o=n(142).AccessToken,a=n(142).priviledges,s=function(){"use strict";function e(){r(this,e)}return i(e,null,[{key:"buildToken",value:function(e,t,n,r,i){var s=new o(e,t,n,"");return s.addPriviledge(a.kRtmLogin,i),s.build()}}]),e}();e.exports.RtmTokenBuilder=s,e.exports.Role={Rtm_User:1}},function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(e,t){e.exports={L:1,M:0,Q:3,H:2}},function(e,t,n){var r=n(288);function i(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new i(n,0).mod(e)}},e.exports=i},function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)n.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)n.EXP_TABLE[r]=n.EXP_TABLE[r-4]^n.EXP_TABLE[r-5]^n.EXP_TABLE[r-6]^n.EXP_TABLE[r-8];for(r=0;r<255;r++)n.LOG_TABLE[n.EXP_TABLE[r]]=r;e.exports=n},function(e,t,n){"use strict";var r=n(67),i=n(77),o=n(28).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),u=r.getChildKeys(),l=r.getParentKey(),f=i();if(n[a]=f,s&&(e.get(s)?e.setIn([s,"prevSibling"],f):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],f):e.setIn([a,"prevSibling"],null)),l&&e.get(l)){var d=e.get(l).getChildKeys();e.setIn([l,"children"],d.set(d.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);u.forEach((function(t){e.get(t)?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},function(e,t,n){"use strict";var r=n(66),i=n(126),o=n(29);function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,u=s?s.getEntity():void 0,l=c?c.getEntity():void 0;if(l&&l===u&&"MUTABLE"!==e.__get(l).getMutability()){for(var f,d=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!==typeof r&&o(!1),r}(a,l,n),h=d.start,p=d.end;h<p;)f=a.get(h),a=a.set(h,r.applyEntity(f,null)),h++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),c=n.get(o),u=a(r,c,s);u!==c&&(i[o]=u);var l=t.getEndKey(),f=t.getEndOffset(),d=n.get(l);o===l&&(d=u);var h=a(r,d,f);return h!==d&&(i[l]=h),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},function(e,t,n){"use strict";var r=n(28).Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(67);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var o=t.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?t.get(a):null}return o?o.getNextSiblingKey():null}},function(e,t,n){"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n(28).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";var r=n(98);e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=e(n.childNodes[o]);if(a)return a}}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},function(e,t,n){"use strict";var r=n(301),i=n(34),o=n(302),a=n(303);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=a(n,o(e)),c=s.selectionState;c!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,c):i.acceptSelection(n,c),e.update(n))}}},function(e,t,n){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(29),i=n(127);e.exports=function(e){var t=e.editorContainer;return t||r(!1),i(t.firstChild)||r(!1),t.firstChild}},function(e,t,n){"use strict";var r=n(304);e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),i=n.anchorNode,o=n.anchorOffset,a=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==i||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,i,o,a,s)}},function(e,t,n){"use strict";var r=n(152),i=n(298),o=n(305),a=n(29),s=n(98),c=n(58);function u(e,t,n){var o=t,u=r(o);(null!=u||e&&(e===o||e.firstChild===o)||a(!1),e===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var f=null;if(null!=u)f=u;else{var d=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(o);f=c(i(d))}return{key:f,offset:0}}var h=o.childNodes[n-1],p=null,g=null;if(i(h)){var v=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(h);p=c(i(v)),g=l(v)}else p=c(u),g=l(h);return{key:p,offset:g}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,a,s){var l=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:o(e,c(r(n)),i,c(r(a)),s),needsRecovery:!1};var d=null,h=null,p=!0;return l?(d={key:c(r(n)),offset:i},h=u(t,a,s)):f?(h={key:c(r(a)),offset:s},d=u(t,n,i)):(d=u(t,n,i),h=u(t,a,s),n===a&&i===s&&(p=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,d.key,d.offset,h.key,h.offset),needsRecovery:p}}},function(e,t,n){"use strict";var r=n(83),i=n(58);e.exports=function(e,t,n,o,a){var s=i(e.getSelection());if(!t||!o)return s;var c=r.decode(t),u=c.blockKey,l=e.getBlockTree(u),f=l&&l.getIn([c.decoratorKey,"leaves",c.leafKey]),d=r.decode(o),h=d.blockKey,p=e.getBlockTree(h),g=p&&p.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!f||!g)return s;var v=f.get("start"),m=g.get("start"),y=f?v+n:null,b=g?m+a:null;if(s.getAnchorKey()===u&&s.getAnchorOffset()===y&&s.getFocusKey()===h&&s.getFocusOffset()===b)return s;var A=!1;if(u===h){var _=f.get("end"),E=g.get("end");A=m===v&&E===_?a<n:m<v}else{A=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===u||e===h})).first()===h}return s.merge({anchorKey:u,anchorOffset:y,focusKey:h,focusOffset:b,isBackward:A})}},function(e,t,n){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},function(e,t,n){"use strict";var r=n(75);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(533),s=n(1),c=n(29),u=n(308),l=n(534).setDraftEditorSelection,f=function(e){var t,n;function f(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=f.prototype;return d._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),a=r+i.length;if(e.hasEdgeWithin(o,r,a)){var s=this.leaf;s||c(!1);var f,d=s.firstChild;d||c(!1),d.nodeType===Node.TEXT_NODE?f=d:u(d)?f=s:(f=d.firstChild)||c(!1),l(e,f,o,r,a)}}},d.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},d.componentDidUpdate=function(){this._setSelection()},d.componentDidMount=function(){this._setSelection()},d.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,c=i.customStyleFn,u=i.offsetKey,l=i.styleSet,f=l.reduce((function(e,t){var n={},i=o[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(c){var d=c(l,t);f=r(f,d)}return s.createElement("span",{"data-offset-key":u,ref:function(t){return e.leaf=t},style:f},s.createElement(a,null,n))},f}(s.Component);e.exports=f},function(e,t,n){"use strict";var r=n(98);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},function(e,t,n){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(540);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function i(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},e.exports=o},function(e,t,n){"use strict";var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(307),c=n(83),u=n(1),l=n(206),f=n(155),d=n(202),h=n(151),p=n(97),g=n(311),v=n(156),m=n(312),y=n(29),b=n(127),A=n(58),_=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var E=r.prototype;return E.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||_(e.selection,e.block.getKey())&&e.forceSelection},E.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=f.getScrollParent(n),o=v(i);if(i===window){var a=g(n);(r=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{b(n)||y(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&l.setTop(i,l.getTop(i)+r+10)}}}}},E._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,a=_(this.props.selection,n);return this.props.tree.map((function(l,f){var p=l.get("leaves");if(0===p.size)return null;var g=p.size-1,v=p.map((function(i,l){var d=c.encode(n,f,l),h=i.get("start"),p=i.get("end");return u.createElement(s,{key:d,offsetKey:d,block:t,start:h,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(h,p),styleSet:t.getInlineStyleAt(h),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===o&&l===g})})).toArray(),m=l.get("decoratorKey");if(null==m)return v;if(!e.props.decorator)return v;var y=A(e.props.decorator),b=y.getComponentForKey(m);if(!b)return v;var _=y.getPropsForKey(m),E=c.encode(n,f,0),w=p.first().get("start"),I=p.last().get("end"),S=r.slice(w,I),k=t.getEntityAt(l.get("start")),C=h.getHTMLDirIfDifferent(d.getDirection(S),e.props.direction),O={contentState:e.props.contentState,decoratedText:S,dir:C,start:w,end:I,blockKey:n,entityKey:k,offsetKey:E};return u.createElement(b,i({},_,O,{key:E}),v)})).toArray()},E.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=p({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return u.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(u.Component);e.exports=E},function(e,t,n){"use strict";var r=n(546),i=n(547),o=n(315),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var u=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=u},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(29),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in o))return void n("");if(""===e.type){var a="";return i.test(e.name)&&(a=e.name.replace(i,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!==typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n(39))},function(e,t,n){"use strict";var r=n(148);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(34),i=n(99),o=n(207),a=n(128);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(e,s?i.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(59),i=n(29);var o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},function(e,t,n){"use strict";var r="\\s|(?![_])"+n(567).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},function(e,t,n){"use strict";n(208);e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),s=i;return t>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},function(e,t,n){"use strict";var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(66),s=n(96),c=n(67),u=n(203),l=n(149),f=n(577),d=n(97),h=n(77),p=n(323),g=n(87),v=n(28),m=v.List,y=v.Map,b=v.OrderedSet,A=n(578),_=n(308),E=n(127),w=n(579),I=g("draft_tree_data_support"),S=new RegExp("\r","g"),k=new RegExp("\n","g"),C=new RegExp("^\n","g"),O=new RegExp("&nbsp;","g"),T=new RegExp("&#13;?","g"),R=new RegExp("&#8203;?","g"),x=["bold","bolder","500","600","700","800","900"],M=["light","lighter","normal","100","200","300","400"],N=["className","href","rel","target","title"],D=["alt","className","height","src","width"],j=(o(r={},d("public/DraftStyleDefault/depth0"),0),o(r,d("public/DraftStyleDefault/depth1"),1),o(r,d("public/DraftStyleDefault/depth2"),2),o(r,d("public/DraftStyleDefault/depth3"),3),o(r,d("public/DraftStyleDefault/depth4"),4),r),L=y({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),B=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"===typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),y(t)},P=function(e){if(E(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(j).some((function(n){e.classList.contains(n)&&(t=j[n])})),t},F=function(e){if(!A(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{new f(t.href);return!0}catch(n){return!1}},Q=function(e){if(!w(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},z=function(e,t){if(!E(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){x.indexOf(r)>=0?e.add("BOLD"):M.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},V=function(e){return"ul"===e||"ol"===e},K=function(){function e(e,t){o(this,"characterList",m()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",l),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(I?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||h(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=m(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.nodeName.toLowerCase();if("body"===o||V(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;V(o)&&(this.wrapper=o,V(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(o);if(void 0===c)if("#text"!==o)if("br"!==o)if(Q(i))this._addImgNode(i,t);else if(F(i))this._addAnchorNode(i,n,t);else{var u=t;L.has(o)&&(u=u.add(L.get(o))),u=z(i,u);var l=P(i);null!=l&&(u=u.add(l)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),u))}else this._addBreakNode(i,t);else this._addTextNode(i,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!==typeof c&&(c=this.disambiguate(o,this.wrapper)||c[0]||"unstyled"),!I&&E(i)&&("unordered-list-item"===c||"ordered-list-item"===c)){var p=i;this.currentDepth=U(p,this.currentDepth)}var g=h(),v=this._toBlockConfigs(Array.from(i.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:g,childConfigs:v,type:c})),this.currentDepth=f,this.wrapper=d}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=m()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(C,"")).replace(k," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){_(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(w(e)){var n=e,r={};D.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),g("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("\ud83d\udcf7",t):this._appendText("\ud83d\udcf7",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(A(e)){var r=e,i={};N.forEach((function(e){var t=r.getAttribute(e);t&&(i[e]=t)})),i.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=m(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return m(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(i({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=m(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=t(e=e.trim().replace(S,"").replace(O," ").replace(T,"").replace(R,""));if(!r)return null;var i=B(n),o=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new K(i,o).addDOMNode(r).getContentBlocks()}},function(e,t,n){"use strict";var r=n(59),i=n(29),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(580),a=n(58),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var u=s.tryToRemoveBlockStyle(e);return u?i.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),a=n.getBlockForKey(o).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),u=r.removeRange(n,c,"forward");return u!==n?i.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),u=c.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var l=c.getDepth();if(!e.shiftKey&&l===n)return t;var f=o(s,r,e.shiftKey?-1:1,n);return i.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),u=n;if(o!==s&&0===n.getEndOffset()){var l=a(c.getBlockBefore(s));s=l.getKey(),u=u.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:l.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var f=c.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,u,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var a,s=e.getCurrentContent();return a=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";var r=n(209),i=n(154),o=n(59),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),c=r.hasCommandModifier,u=r.isCtrlKeyCommand;function l(e){return a&&e.altKey||u(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return a&&u(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&u(e)?"backspace-word":null;case 89:return u(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!a&&e.shiftKey?null:l(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":l(e)?"backspace-word":"backspace"}(e);case i.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:q(e)}function r(e){return s(e)?e:W(e)}function i(e){return c(e)?e:Y(e)}function o(e){return a(e)&&!u(e)?e:J(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function c(e){return!(!e||!e[h])}function u(e){return s(e)||c(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=u,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",g="delete",v=5,m=1<<v,y=m-1,b={},A={value:!1},_={value:!1};function E(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function I(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function C(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function O(){return!0}function T(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function R(e,t){return M(e,t,0)}function x(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N=0,D=1,j=2,L="function"===typeof Symbol&&Symbol.iterator,B="@@iterator",P=L||B;function U(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Q(){return{value:void 0,done:!0}}function z(e){return!!G(e)}function V(e){return e&&"function"===typeof e.next}function K(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(L&&e[L]||e[B]);if("function"===typeof t)return t}function H(e){return e&&"number"===typeof e.length}function q(e){return null===e||void 0===e?ae():a(e)?e.toSeq():ue(e)}function W(e){return null===e||void 0===e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function Y(e){return null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function J(e){return(null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=N,U.VALUES=D,U.ENTRIES=j,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[P]=function(){return this},t(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(e,t){return fe(this,e,t,!0)},q.prototype.__iterator=function(e,t){return de(this,e,t,!0)},t(W,q),W.prototype.toKeyedSeq=function(){return this},t(Y,q),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return fe(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return de(this,e,t,!1)},t(J,q),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},q.isSeq=oe,q.Keyed=W,q.Set=J,q.Indexed=Y;var X,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return X||(X=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():V(e)?new ie(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():"object"===typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=le(e)||"object"===typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return H(e)?new te(e):V(e)?new ie(e):z(e)?new re(e):void 0}function fe(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new U((function(){var e=i[n?o-a:a];return a++>o?Q():F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?pe(t,e,"",{"":e}):ge(e)}function pe(e,t,n,r){return Array.isArray(t)?e.call(r,n,Y(t).map((function(n,r){return pe(e,n,r,t)}))):ve(t)?e.call(r,n,W(t).map((function(n,r){return pe(e,n,r,t)}))):t}function ge(e){return Array.isArray(e)?Y(e).map(ge).toList():ve(e)?W(e).map(ge).toMap():e}function ve(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&me(i[1],e)&&(n||me(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!me(t,e.get(r,b)):!me(e.get(r,b),t))return f=!1,!1}));return f&&e.size===d}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function Ae(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(Ae(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Ee(){throw TypeError("Abstract")}function we(){}function Ie(){}function Se(){}q.prototype[ee]=!0,t(te,Y),te.prototype.get=function(e,t){return this.has(e)?this._array[C(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new U((function(){return i>r?Q():F(e,i,n[t?r-i++:i++])}))},t(ne,W),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new U((function(){var a=r[t?i-o:o];return o++>i?Q():F(e,a,n[a])}))},ne.prototype[p]=!0,t(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!V(n))return new U(Q);var r=0;return new U((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,Y),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new U((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(be,Y),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return me(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:new be(this._value,x(t,n)-R(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return me(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new U((function(){return r<n.size?F(e,r++,n._value):Q()}))},be.prototype.equals=function(e){return e instanceof be?me(this._value,e._value):ye(e)},t(_e,Y),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+C(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=R(e,this.size),(t=x(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new U((function(){var a=i;return i+=t?-r:r,o>n?Q():F(e,o++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(Ee,n),t(we,Ee),t(Ie,Ee),t(Se,Ee),Ee.Keyed=we,Ee.Indexed=Ie,Ee.Set=Se;var ke="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ce(e){return e>>>1&1073741824|3221225471&e}function Oe(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ce(n)}if("string"===t)return e.length>Ue?Te(e):Re(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return xe(e);if("function"===typeof e.toString)return Re(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Te(e){var t=ze[e];return void 0===t&&(t=Re(e),Qe===Fe&&(Qe=0,ze={}),Qe++,ze[e]=t),t}function Re(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ce(t)}function xe(e){var t;if(Le&&void 0!==(t=je.get(e)))return t;if(void 0!==(t=e[Pe]))return t;if(!Ne){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe]))return t;if(void 0!==(t=De(e)))return t}if(t=++Be,1073741824&Be&&(Be=0),Le)je.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ne)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Pe]=t}}return t}var Me=Object.isExtensible,Ne=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function De(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var je,Le="function"===typeof WeakMap;Le&&(je=new WeakMap);var Be=0,Pe="__immutablehash__";"function"===typeof Symbol&&(Pe=Symbol(Pe));var Ue=16,Fe=255,Qe=0,ze={};function Ve(e){Ae(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null===e||void 0===e?it():Ge(e)&&!l(e)?e:it().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ge(e){return!(!e||!e[qe])}t(Ke,we),Ke.of=function(){var t=e.call(arguments,0);return it().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return ot(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},Ke.prototype.remove=function(e){return ot(this,e,b)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=vt(this,En(e),t,n);return r===b?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},Ke.prototype.merge=function(){return dt(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return dt(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ke.prototype.mergeDeep=function(){return dt(this,ht,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return dt(this,pt(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ke.prototype.sort=function(e){return zt(fn(this,e))},Ke.prototype.sortBy=function(e,t){return zt(fn(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=Ge;var He,qe="@@__IMMUTABLE_MAP__@@",We=Ke.prototype;function Ye(e,t){this.ownerID=e,this.entries=t}function Je(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(We);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return He||(He=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=E(A),a=E(_);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===b?-1:1:0)}else{if(n===b)return e;i=1,r=new Ye(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===b?e:(w(s),w(a),new $e(t,r,[i,o]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Je(t,1<<a|1<<s,a===s?[ct(e,t,n+v,r,i)]:(o=new $e(t,r,i),a<s?[e,o]:[o,e]))}function ut(e,t,n,r){e||(e=new I);for(var i=new $e(e,Oe(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function lt(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,u=t.length;s<u;s++,c<<=1){var l=t[s];void 0!==l&&s!==r&&(i|=c,a[o++]=l)}return new Je(e,i,a)}function ft(e,t,n,r,i){for(var o=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Xe(e,o+1,a)}function dt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return he(e)}))),i.push(c)}return gt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function pt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return me(t,i)?t:i}}function gt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,b,(function(e){return e===b?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function vt(e,t,n,r){var i=e===b,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}Ae(i||e&&e.set,"invalid keyPath");var c=o.value,u=i?b:e.get(c,b),l=vt(u,t,n,r);return l===u?e:l===b?e.remove(c):(i?it():e).set(c,l)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function bt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function At(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}We[qe]=!0,We[g]=We.remove,We.removeIn=We.deleteIn,Ye.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ye.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===b,c=this.entries,u=0,l=c.length;u<l&&!me(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(w(a),(s||!f)&&w(o),!s||1!==c.length){if(!f&&!s&&c.length>=_t)return ut(e,c,r,i);var d=e&&e===this.ownerID,h=d?c:S(c);return f?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Ye(e,h)}},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Oe(n));var i=1<<((0===e?t:t>>>e)&y),o=this.bitmap;return 0===(o&i)?r:this.nodes[mt(o&i-1)].get(e+v,t,n,r)},Je.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=(0===t?n:n>>>t)&y,c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&i===b)return this;var f=mt(u&c-1),d=this.nodes,h=l?d[f]:void 0,p=at(h,e,t+v,n,r,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=Et)return ft(e,d,u,s,p);if(l&&!p&&2===d.length&&st(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&st(p))return p;var g=e&&e===this.ownerID,m=l?p?u:u^c:u|c,A=l?p?yt(d,f,p,g):At(d,f,g):bt(d,f,p,g);return g?(this.bitmap=m,this.nodes=A,this):new Je(e,m,A)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Oe(n));var i=(0===e?t:t>>>e)&y,o=this.nodes[i];return o?o.get(e+v,t,n,r):r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=(0===t?n:n>>>t)&y,c=i===b,u=this.nodes,l=u[s];if(c&&!l)return this;var f=at(l,e,t+v,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<wt)return lt(e,u,d,s)}else d++;var h=e&&e===this.ownerID,p=yt(u,s,f,h);return h?(this.count=d,this.nodes=p,this):new Xe(e,d,p)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Oe(r));var s=i===b;if(n!==this.keyHash)return s?this:(w(a),w(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!me(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(w(a),(s||!f)&&w(o),s&&2===l)return new $e(e,this.keyHash,c[1^u]);var d=e&&e===this.ownerID,h=d?c:S(c);return f?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Ze(e,this.keyHash,h)},$e.prototype.get=function(e,t,n,r){return me(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var s=i===b,c=me(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(w(a),s?void w(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(w(o),ct(this,e,t,Oe(r),[r,i])))},Ye.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Je.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,U),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return Q()};var _t=m/4,Et=m/2,wt=m/4;function It(e){var t=Dt();if(null===e||void 0===e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ve(r),r>0&&r<m?Nt(0,r,v,null,new Ot(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[kt])}t(It,Ie),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("List [","]")},It.prototype.get=function(e,t){if((e=C(this,e))>=0&&e<this.size){var n=Pt(this,e+=this._origin);return n&&n.array[e&y]}return t},It.prototype.set=function(e,t){return jt(this,e,t)},It.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},It.prototype.insert=function(e,t){return this.splice(e,0,t)},It.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Dt()},It.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ut(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},It.prototype.pop=function(){return Ut(this,0,-1)},It.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ut(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},It.prototype.shift=function(){return Ut(this,1)},It.prototype.merge=function(){return Ft(this,void 0,arguments)},It.prototype.mergeWith=function(t){return Ft(this,t,e.call(arguments,1))},It.prototype.mergeDeep=function(){return Ft(this,ht,arguments)},It.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ft(this,pt(t),n)},It.prototype.setSize=function(e){return Ut(this,0,e)},It.prototype.slice=function(e,t){var n=this.size;return T(e,t,n)?this:Ut(this,R(e,n),x(t,n))},It.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new U((function(){var t=r();return t===xt?Q():F(e,n++,t)}))},It.prototype.__iterate=function(e,t){for(var n,r=0,i=Mt(this,t);(n=i())!==xt&&!1!==e(n,r++,this););return r},It.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Nt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},It.isList=St;var kt="@@__IMMUTABLE_LIST__@@",Ct=It.prototype;function Ot(e,t){this.array=e,this.ownerID=t}Ct[kt]=!0,Ct[g]=Ct.remove,Ct.setIn=We.setIn,Ct.deleteIn=Ct.removeIn=We.removeIn,Ct.update=We.update,Ct.updateIn=We.updateIn,Ct.mergeIn=We.mergeIn,Ct.mergeDeepIn=We.mergeDeepIn,Ct.withMutations=We.withMutations,Ct.asMutable=We.asMutable,Ct.asImmutable=We.asImmutable,Ct.wasAltered=We.wasAltered,Ot.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new Ot([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-v,n))===a&&o)return this}if(o&&!i)return this;var s=Bt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Ot.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&y;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-v,n))===o&&i===this.array.length-1)return this}var a=Bt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Tt,Rt,xt={};function Mt(e,t){var n=e._origin,r=e._capacity,i=Qt(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,u=r-a;return u>m&&(u=m),function(){if(c===u)return xt;var e=t?--u:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>m&&(l=m),function(){for(;;){if(s){var e=s();if(e!==xt)return e;s=null}if(u===l)return xt;var n=t?--l:u++;s=a(c&&c[n],i-v,o+(n<<i))}}}}function Nt(e,t,n,r,i,o,a){var s=Object.create(Ct);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Dt(){return Tt||(Tt=Nt(0,0,v))}function jt(e,t,n){if((t=C(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ut(e,t).set(0,n):Ut(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=E(_);return t>=Qt(e._capacity)?r=Lt(r,e.__ownerID,0,t,n,o):i=Lt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Nt(e._origin,e._capacity,e._level,i,r):e}function Lt(e,t,n,r,i,o){var a,s=r>>>n&y,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var u=e&&e.array[s],l=Lt(u,t,n-v,r,i,o);return l===u?e:((a=Bt(e,t)).array[s]=l,a)}return c&&e.array[s]===i?e:(w(o),a=Bt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Bt(e,t){return t&&e&&t===e.ownerID?e:new Ot(e?e.array.slice():[],t)}function Pt(e,t){if(t>=Qt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=v;return n}}function Ut(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new I,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,u=e._root,l=0;a+l<0;)u=new Ot(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=v);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Qt(o),d=Qt(s);d>=1<<c+v;)u=new Ot(u&&u.array.length?[u]:[],r),c+=v;var h=e._tail,p=d<f?Pt(e,s-1):d>f?new Ot([],r):h;if(h&&d>f&&a<o&&h.array.length){for(var g=u=Bt(u,r),m=c;m>v;m-=v){var b=f>>>m&y;g=g.array[b]=Bt(g.array[b],r)}g.array[f>>>v&y]=h}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=d)a-=d,s-=d,c=v,u=null,p=p&&p.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;u;){var A=a>>>c&y;if(A!==d>>>c&y)break;A&&(l+=(1<<c)*A),c-=v,u=u.array[A]}u&&a>i&&(u=u.removeBefore(r,c,a-l)),u&&d<f&&(u=u.removeAfter(r,c,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):Nt(a,s,c,u,p)}function Ft(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],u=i(c);u.size>o&&(o=u.size),a(c)||(u=u.map((function(e){return he(e)}))),r.push(u)}return o>e.size&&(e=e.setSize(o)),gt(e,t,r)}function Qt(e){return e<m?0:e-1>>>v<<v}function zt(e){return null===e||void 0===e?Gt():Vt(e)?e:Gt().withMutations((function(t){var n=r(e);Ve(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Vt(e){return Ge(e)&&l(e)}function Kt(e,t,n,r){var i=Object.create(zt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Gt(){return Rt||(Rt=Kt(it(),Dt()))}function Ht(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===b){if(!c)return e;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Kt(r,i)}function qt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Wt(e){this._iter=e,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=An,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===j){var r=e.__iterator(t,n);return new U((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===D?N:D,n)},t}function Zt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,b);return o===b?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(j,i);return new U((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),i)}))},r}function $t(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=An,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=bn(e);return r&&(i.has=function(r){var i=e.get(r,b);return i!==b&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,b);return o!==b&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(j,o),s=0;return new U((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(t.call(n,l,u,e))return F(i,r?u:s++,l,o)}}))},i}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(l(e)?zt():Ke()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=yn(e);return i.map((function(t){return gn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),T(t,n,i))return e;var o=R(t,i),a=x(n,i);if(o!==o||a!==a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c===c&&(s=c<0?0:c);var u=bn(e);return u.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=C(this,t))>=0&&t<s?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,u=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return u++,!1!==t(e,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new U((function(){for(;a++<o;)i.next();if(++c>s)return Q();var e=i.next();return r||t===D?e:F(t,c-1,t===N?void 0:e.value[1],e)}))},u}function on(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(j,i),s=!0;return new U((function(){if(!s)return Q();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],u=i[1];return t.call(n,u,c,o)?r===j?e:F(r,c,u,e):(s=!1,Q())}))},r}function an(e,t,n,r){var i=bn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,u){if(!s||!(s=t.call(n,e,o,u)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(j,o),c=!0,u=0;return new U((function(){var e,o,l;do{if((e=s.next()).done)return r||i===D?e:F(i,u++,i===N?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],c&&(c=t.call(n,l,o,a))}while(c);return i===j?e:F(i,o,l,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var u=new te(i);return n?u=u.toKeyedSeq():c(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),u}function cn(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,u){var l=this;e.__iterate((function(e,i){return(!t||u<t)&&a(e)?c(e,u+1):!1===r(e,n?i:o++,l)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new U((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(r===j&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:F(r,c++,u,e);s.push(o),o=u.__iterator(r,i)}else o=s.pop()}return Q()}))},r}function un(e,t,n){var r=yn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function ln(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(D,r),a=0;return new U((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}function fn(e,t,n){t||(t=_n);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?W(o):c(e)?Y(o):J(o)}function dn(e,t,n){if(t||(t=_n),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function pn(e,t,r){var i=bn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(D,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),K(i?e.reverse():e)})),a=0,s=!1;return new U((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?Q():F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function gn(e,t){return oe(e)?t:e.constructor(t)}function vn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function mn(e){return Ve(e.size),k(e)}function yn(e){return s(e)?r:c(e)?i:o}function bn(e){return Object.create((s(e)?W:c(e)?Y:J).prototype)}function An(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function _n(e,t){return e>t?1:e<t?-1:0}function En(e){var t=K(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function wn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);Cn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Ke(o)},i=r.prototype=Object.create(In);return i.constructor=r,r}t(zt,Ke),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Gt()},zt.prototype.set=function(e,t){return Ht(this,e,t)},zt.prototype.remove=function(e){return Ht(this,e,b)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},zt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},zt.isOrderedMap=Vt,zt.prototype[p]=!0,zt.prototype[g]=zt.prototype.remove,t(qt,W),qt.prototype.get=function(e,t){return this._iter.get(e,t)},qt.prototype.has=function(e){return this._iter.has(e)},qt.prototype.valueSeq=function(){return this._iter.valueSeq()},qt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},qt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},qt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?mn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},qt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(D,t),r=t?mn(this):0;return new U((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},qt.prototype[p]=!0,t(Wt,Y),Wt.prototype.includes=function(e){return this._iter.includes(e)},Wt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Wt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t),r=0;return new U((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Yt,J),Yt.prototype.has=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new U((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Jt,W),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){vn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(D,t);return new U((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){vn(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Wt.prototype.cacheResult=qt.prototype.cacheResult=Yt.prototype.cacheResult=Jt.prototype.cacheResult=An,t(wn,we),wn.prototype.toString=function(){return this.__toString(kn(this)+" {","}")},wn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},wn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},wn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},wn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},wn.prototype.wasAltered=function(){return this._map.wasAltered()},wn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},wn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var In=wn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function kn(e){return e._name||e.constructor.name||"Record"}function Cn(e,t){try{t.forEach(On.bind(void 0,e))}catch(n){}}function On(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Ae(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Tn(e){return null===e||void 0===e?Ln():Rn(e)&&!l(e)?e:Ln().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function Rn(e){return!(!e||!e[Mn])}In[g]=In.remove,In.deleteIn=In.removeIn=We.removeIn,In.merge=We.merge,In.mergeWith=We.mergeWith,In.mergeIn=We.mergeIn,In.mergeDeep=We.mergeDeep,In.mergeDeepWith=We.mergeDeepWith,In.mergeDeepIn=We.mergeDeepIn,In.setIn=We.setIn,In.update=We.update,In.updateIn=We.updateIn,In.withMutations=We.withMutations,In.asMutable=We.asMutable,In.asImmutable=We.asImmutable,t(Tn,Se),Tn.of=function(){return this(arguments)},Tn.fromKeys=function(e){return this(r(e).keySeq())},Tn.prototype.toString=function(){return this.__toString("Set {","}")},Tn.prototype.has=function(e){return this._map.has(e)},Tn.prototype.add=function(e){return Dn(this,this._map.set(e,!0))},Tn.prototype.remove=function(e){return Dn(this,this._map.remove(e))},Tn.prototype.clear=function(){return Dn(this,this._map.clear())},Tn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Tn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Tn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Tn.prototype.merge=function(){return this.union.apply(this,arguments)},Tn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Tn.prototype.sort=function(e){return Bn(fn(this,e))},Tn.prototype.sortBy=function(e,t){return Bn(fn(this,t,e))},Tn.prototype.wasAltered=function(){return this._map.wasAltered()},Tn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Tn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Tn.isSet=Rn;var xn,Mn="@@__IMMUTABLE_SET__@@",Nn=Tn.prototype;function Dn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function jn(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ln(){return xn||(xn=jn(it()))}function Bn(e){return null===e||void 0===e?zn():Pn(e)?e:zn().withMutations((function(t){var n=o(e);Ve(n.size),n.forEach((function(e){return t.add(e)}))}))}function Pn(e){return Rn(e)&&l(e)}Nn[Mn]=!0,Nn[g]=Nn.remove,Nn.mergeDeep=Nn.merge,Nn.mergeDeepWith=Nn.mergeWith,Nn.withMutations=We.withMutations,Nn.asMutable=We.asMutable,Nn.asImmutable=We.asImmutable,Nn.__empty=Ln,Nn.__make=jn,t(Bn,Tn),Bn.of=function(){return this(arguments)},Bn.fromKeys=function(e){return this(r(e).keySeq())},Bn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Bn.isOrderedSet=Pn;var Un,Fn=Bn.prototype;function Qn(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return Un||(Un=Qn(Gt()))}function Vn(e){return null===e||void 0===e?Yn():Kn(e)?e:Yn().unshiftAll(e)}function Kn(e){return!(!e||!e[Hn])}Fn[p]=!0,Fn.__empty=zn,Fn.__make=Qn,t(Vn,Ie),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(e,t){var n=this._head;for(e=C(this,e);n&&e--;)n=n.next;return n?n.value:t},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Wn(e,t)},Vn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ve(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Wn(t,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(e){return this.pushAll(e)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yn()},Vn.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var n=R(e,this.size);if(x(t,this.size)!==this.size)return Ie.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Wn(r,i)},Vn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Wn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Vn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new U((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return Q()}))},Vn.isStack=Kn;var Gn,Hn="@@__IMMUTABLE_STACK__@@",qn=Vn.prototype;function Wn(e,t,n,r){var i=Object.create(qn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Yn(){return Gn||(Gn=Wn(0))}function Jn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}qn[Hn]=!0,qn.withMutations=We.withMutations,qn.asMutable=We.asMutable,qn.asImmutable=We.asImmutable,qn.wasAltered=We.wasAltered,n.Iterator=U,Jn(n,{toArray:function(){Ve(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Wt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new qt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){Ve(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return Bn(s(this)?this.valueSeq():this)},toSet:function(){return Tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Yt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(s(this)?this.valueSeq():this)},toList:function(){return It(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return gn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(j)},every:function(e,t){Ve(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return gn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ve(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ve(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(N)},map:function(e,t){return gn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ve(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,$t(this,!0))},slice:function(e,t){return gn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return gn(this,fn(this,e))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(O)},flatMap:function(e,t){return gn(this,un(this,e,t))},flatten:function(e){return gn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find((function(t,n){return me(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=En(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dn(this,e)},maxBy:function(e,t){return dn(this,t,e)},min:function(e){return dn(this,e?nr(e):or)},minBy:function(e,t){return dn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return gn(this,fn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[f]=!0,Xn[P]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,Jn(r,{flip:function(){return gn(this,Xt(this))},mapEntries:function(e,t){var n=this,r=0;return gn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return gn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"===typeof e?JSON.stringify(e):String(e)}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Oe(e),Oe(t))|0}:function(e,t){r=r+cr(Oe(e),Oe(t))|0}:t?function(e){r=31*r+Oe(e)|0}:function(e){r=r+Oe(e)|0}),r)}function sr(e,t){return t=ke(t,3432918353),t=ke(t<<15|t>>>-15,461845907),t=ke(t<<13|t>>>-13,5),t=ke((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ce((t=ke(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[d]=!0,Zn[P]=Xn.entries,Zn.__toJS=Xn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Jn(i,{toKeyedSeq:function(){return new qt(this,!1)},filter:function(e,t){return gn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return gn(this,$t(this,!1))},slice:function(e,t){return gn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=R(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return gn(this,cn(this,e,!1))},get:function(e,t){return(e=C(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=C(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return gn(this,ln(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=pn(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),gn(this,n)},keySeq:function(){return _e(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,!1))},zip:function(){return gn(this,pn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,gn(this,pn(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,Jn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,o.prototype.contains=o.prototype.includes,Jn(W,r.prototype),Jn(Y,i.prototype),Jn(J,o.prototype),Jn(we,r.prototype),Jn(Ie,i.prototype),Jn(Se,o.prototype),{Iterable:n,Seq:q,Collection:Ee,Map:Ke,OrderedMap:zt,List:It,Stack:Vn,Set:Tn,OrderedSet:Bn,Record:wn,Range:_e,Repeat:be,is:me,fromJS:he}}()},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},function(e,t,n){"use strict";var r=n(61),i=n(62),o=n(71),a=n(72);Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var s=n(600),c=n(336),u=n(212),l=n(338),f=n(611),d=n(339),h=n(78)("socket.io-client:manager"),p=function(e){o(n,e);var t=a(n);function n(e,i){var o;r(this,n),(o=t.call(this)).nsps={},o.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",o.opts=i,o.reconnection(!1!==i.reconnection),o.reconnectionAttempts(i.reconnectionAttempts||1/0),o.reconnectionDelay(i.reconnectionDelay||1e3),o.reconnectionDelayMax(i.reconnectionDelayMax||5e3),o.randomizationFactor(i.randomizationFactor||.5),o.backoff=new f({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==i.timeout?2e4:i.timeout),o._readyState="closed",o.uri=e;var a=i.parser||u;return o.encoder=new a.Encoder,o.decoder=new a.Decoder,o._autoConnect=!1!==i.autoConnect,o._autoConnect&&o.open(),o}return i(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=s(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=l.on(n,"open",(function(){r.onopen(),e&&e()})),o=l.on(n,"error",(function(n){h("error"),r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;h("connect attempt will timeout after %d",a),0===a&&i();var c=setTimeout((function(){h("connect attempt timed out after %d",a),i(),n.close(),n.emit("error",new Error("timeout"))}),a);this.opts.autoUnref&&c.unref(),this.subs.push((function(){clearTimeout(c)}))}return this.subs.push(i),this.subs.push(o),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(l.on(e,"ping",this.onping.bind(this)),l.on(e,"data",this.ondata.bind(this)),l.on(e,"error",this.onerror.bind(this)),l.on(e,"close",this.onclose.bind(this)),l.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){h("error",e),this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new c.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void h("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){h("writing packet %j",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){h("cleanup"),this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();h("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=setTimeout((function(){t.skipReconnect||(h("attempting reconnect"),e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(h("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):(h("reconnect success"),t.onreconnect())})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(d.StrictEventEmitter);t.Manager=p},function(e,t,n){var r=n(331),i=n(603),o=n(607),a=n(608);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},function(e,t,n){var r=n(602),i=n(158);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(a){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},function(e,t,n){var r=n(61),i=n(62),o=n(71),a=n(72),s=n(210),c=n(211),u=n(129),l=n(334),f=n(78)("engine.io-client:polling"),d=function(e){"use strict";o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){f("paused"),t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(f("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){f("pre-pause polling complete"),--r||n()}))),this.writable||(f("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){f("pre-pause writing complete"),--r||n()})))}else n()}},{key:"poll",value:function(){f("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;f("polling got data %s",e);u.decodePayload(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():f('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this,t=function(){f("writing close packet"),e.write([{type:"close"}])};"open"===this.readyState?(f("transport open - closing"),t()):(f("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,u.encodePayload(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=c.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}]),n}(s);e.exports=d},function(e,t){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach((function(e){r[n[e]]=e}));e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function c(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function u(){var e=c(+new Date);return e!==r?(a=0,r=e):e+"."+c(a++)}for(;s<64;s++)o[i[s]]=s;u.encode=c,u.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)];return t},e.exports=u},function(e,t){e.exports.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}},function(e,t,n){"use strict";var r=n(229),i=n(61),o=n(62),a=n(119),s=n(92),c=n(71),u=n(72);Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var l=n(212),f=n(338),d=n(339),h=n(78)("socket.io-client:socket"),p=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),g=function(e){c(n,e);var t=u(n);function n(e,r,o){var a;return i(this,n),(a=t.call(this)).receiveBuffer=[],a.sendBuffer=[],a.ids=0,a.acks={},a.flags={},a.io=e,a.nsp=r,a.ids=0,a.acks={},a.receiveBuffer=[],a.sendBuffer=[],a.connected=!1,a.disconnected=!0,a.flags={},o&&o.auth&&(a.auth=o.auth),a.io._autoConnect&&a.open(),a}return o(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[f.on(e,"open",this.onopen.bind(this)),f.on(e,"packet",this.onpacket.bind(this)),f.on(e,"error",this.onerror.bind(this)),f.on(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(p.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:l.PacketType.EVENT,data:n,options:{}};i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),i.id=this.ids++);var o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,a=this.flags.volatile&&(!o||!this.connected);return a?h("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;h("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(t){e.packet({type:l.PacketType.CONNECT,data:t})})):this.packet({type:l.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){h("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case l.PacketType.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case l.PacketType.EVENT:case l.PacketType.BINARY_EVENT:this.onevent(e);break;case l.PacketType.ACK:case l.PacketType.BINARY_ACK:this.onack(e);break;case l.PacketType.DISCONNECT:this.ondisconnect();break;case l.PacketType.CONNECT_ERROR:var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];h("emitting event %j",t),null!=e.id&&(h("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=this._anyListeners.slice(),o=r(i);try{for(o.s();!(t=o.n()).done;){t.value.apply(this,e)}}catch(c){o.e(c)}finally{o.f()}}a(s(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];h("sending ack %j",i),t.packet({type:l.PacketType.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t?(h("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):h("bad ack %s",e.id)}},{key:"onconnect",value:function(e){h("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:l.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),n}(d.StrictEventEmitter);t.Socket=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var r="function"===typeof ArrayBuffer,i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);function s(e){return r&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||o&&e instanceof Blob||a&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},function(e,t,n){"use strict";var r=n(61),i=n(62),o=n(119),a=n(92),s=n(71),c=n(72);Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;var u=function(e){s(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"on",value:function(e,t){return o(a(n.prototype),"on",this).call(this,e,t),this}},{key:"once",value:function(e,t){return o(a(n.prototype),"once",this).call(this,e,t),this}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(t=o(a(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"emitReserved",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(t=o(a(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"listeners",value:function(e){return o(a(n.prototype),"listeners",this).call(this,e)}}]),n}(n(130));t.StrictEventEmitter=u},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.disabledIconStyle=t.disabledStyle=t.hoverStyle=t.svgStyle=t.iconStyle=t.lightStyle=t.darkStyle=void 0;var a={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"},s=i({backgroundColor:"#4285f4",color:"#fff"},a);t.darkStyle=s;var c=i({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},a);t.lightStyle=c;t.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};t.svgStyle={width:"48px",height:"48px",display:"block"};t.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};t.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};t.disabledIconStyle={backgroundColor:"transparent"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(5),i=n(1),o=n.n(i),a=n(16),s=(n(21),n(19)),c=n(26),u=n(31),l=i.forwardRef((function(e,t){var n=e.children,o=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,g=void 0===p?"medium":p,v=e.htmlColor,m=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,A=Object(a.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(h,Object(r.a)({className:Object(s.a)(o.root,c,"inherit"!==f&&o["color".concat(Object(u.a)(f))],"default"!==g&&"medium"!==g&&o["fontSize".concat(Object(u.a)(g))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},A),n,m?i.createElement("title",null,m):null)}));l.muiName="SvgIcon";var f=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function d(e,t){var n=function(t,n){return o.a.createElement(f,Object(r.a)({ref:n},t),e)};return n.muiName=f.muiName,o.a.memo(o.a.forwardRef(n))}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(139),i=n(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=(0,r(n(141)).default)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=a},function(e,t,n){"use strict";var r=n(139),i=n(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=(0,r(n(141)).default)(o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=a},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(1),y=(n(21),n(497)),b=n(286);function A(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?(t+=String.fromCharCode(192|r>>6),t+=String.fromCharCode(128|63&r)):r<55296||r>=57344?(t+=String.fromCharCode(224|r>>12),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r)):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t+=String.fromCharCode(240|r>>18),t+=String.fromCharCode(128|r>>12&63),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r))}return t}var _={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var i=null;e.forEach((function(o,a){if(!o&&null!==i)return n.push("M".concat(i+t," ").concat(r+t,"h").concat(a-i,"v1H").concat(i+t,"z")),void(i=null);if(a!==e.length-1)o&&null===i&&(i=a);else{if(!o)return;null===i?n.push("M".concat(a+t,",").concat(r+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(r+t," h").concat(a+1-i,"v1H").concat(i+t,"z"))}}))})),n.join("")}function w(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function I(e,t){var n=e.imageSettings,r=e.size,i=e.includeMargin;if(null==n)return null;var o=i?4:0,a=t.length+2*o,s=Math.floor(.1*r),c=a/r,u=(n.width||s)*c,l=(n.height||s)*c,f=null==n.x?t.length/2-u/2:n.x*c,d=null==n.y?t.length/2-l/2:n.y*c,h=null;if(n.excavate){var p=Math.floor(f),g=Math.floor(d);h={x:p,y:g,w:Math.ceil(u+f-p),h:Math.ceil(l+d-g)}}return{x:f,y:d,h:l,w:u,excavation:h}}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),k=function(e){function t(){var e,n;c(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return v(h(n=f(this,(e=d(t)).call.apply(e,[this].concat(i)))),"_canvas",void 0),v(h(n),"_image",void 0),v(h(n),"state",{imgLoaded:!1}),v(h(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return p(t,e),l(t,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(e){var t,n;(null===(t=this.props.imageSettings)||void 0===t?void 0:t.src)!==(null===(n=e.imageSettings)||void 0===n?void 0:n.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,i=e.bgColor,o=e.fgColor,a=e.includeMargin,s=e.imageSettings,c=new y(-1,b[r]);if(c.addData(A(t)),c.make(),null!=this._canvas){var u=this._canvas,l=u.getContext("2d");if(!l)return;var f=c.modules;if(null===f)return;var d=a?4:0,h=f.length+2*d,p=I(this.props,f);null!=s&&null!=p&&null!=p.excavation&&(f=w(f,p.excavation));var g=window.devicePixelRatio||1;u.height=u.width=n*g;var v=n/h*g;l.scale(v,v),l.fillStyle=i,l.fillRect(0,0,h,h),l.fillStyle=o,S?l.fill(new Path2D(E(f,d))):f.forEach((function(e,t){e.forEach((function(e,n){e&&l.fillRect(n+d,t+d,1,1)}))})),this.state.imgLoaded&&this._image&&null!=p&&l.drawImage(this._image,p.x+d,p.y+d,p.w,p.h)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),r=(t.level,t.bgColor,t.fgColor,t.style),o=(t.includeMargin,t.imageSettings),c=s(t,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),u=a({height:n,width:n},r),l=null,f=o&&o.src;return null!=o&&null!=f&&(l=m.createElement("img",{src:f,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),m.createElement(m.Fragment,null,m.createElement("canvas",i({style:u,height:n,width:n,ref:function(t){return e._canvas=t}},c)),l)}}]),t}(m.PureComponent);v(k,"defaultProps",_);var C=function(e){function t(){return c(this,t),f(this,d(t).apply(this,arguments))}return p(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,a=e.fgColor,c=e.includeMargin,u=e.imageSettings,l=s(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),f=new y(-1,b[r]);f.addData(A(t)),f.make();var d=f.modules;if(null===d)return null;var h=c?4:0,p=d.length+2*h,g=I(this.props,d),v=null;null!=u&&null!=g&&(null!=g.excavation&&(d=w(d,g.excavation)),v=m.createElement("image",{xlinkHref:u.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));var _=E(d,h);return m.createElement("svg",i({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(p," ").concat(p)},l),m.createElement("path",{fill:o,d:"M0,0 h".concat(p,"v").concat(p,"H0z")}),m.createElement("path",{fill:a,d:_}),v)}}]),t}(m.PureComponent);v(C,"defaultProps",_);var O=function(e){var t=e.renderAs,n=s(e,["renderAs"]),r="svg"===t?C:k;return m.createElement(r,n)};O.defaultProps=a({renderAs:"canvas"},_),e.exports=O},function(e,t,n){window,e.exports=function(e,t,n){return o={},r.m=i=[function(e,t,n){e.exports=n(9)()},function(t,n){t.exports=e},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"==o||"number"==o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"==o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,n){e.exports=t},function(e,t,n){function r(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i,o,a,s;window,e.exports=(i=n(3),o=n(5),s={},r.m=a=[function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1);function o(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),i=t.getEndKey(),o=n.getBlockMap();return o.toSeq().skipUntil((function(e,t){return t===r})).takeUntil((function(e,t){return t===i})).concat([[i,o.get(i)]])}function a(e){return o(e).toList()}function s(e){if(e)return a(e).get(0)}function c(e){if(e){var t=s(e),n=e.getCurrentContent().getBlockMap().toSeq().toList(),r=0;if(n.forEach((function(e,n){e.get("key")===t.get("key")&&(r=n-1)})),-1<r)return n.get(r)}}function u(e){return e?e.getCurrentContent().getBlockMap().toList():new i.List}function l(e){var t=a(e);if(!t.some((function(e){return e.type!==t.get(0).type})))return t.get(0).type}function f(e){var t=r.RichUtils.tryToRemoveBlockStyle(e);return t?r.EditorState.push(e,t,"change-block-type"):e}function d(e){var t="",n=e.getSelection(),r=n.getAnchorOffset(),i=n.getFocusOffset(),o=a(e);if(0<o.size){if(n.getIsBackward()){var s=r;r=i,i=s}for(var c=0;c<o.size;c+=1){var u=0===c?r:0,l=c===o.size-1?i:o.get(c).getText().length;t+=o.get(c).getText().slice(u,l)}}return t}function h(e){var t=e.getCurrentContent(),n=e.getSelection(),i=r.Modifier.removeRange(t,n,"forward"),o=i.getSelectionAfter(),a=i.getBlockForKey(o.getStartKey());return i=r.Modifier.insertText(i,o,"\n",a.getInlineStyleAt(o.getStartOffset()),null),r.EditorState.push(e,i,"insert-fragment")}function p(e){var t=r.Modifier.splitBlock(e.getCurrentContent(),e.getSelection());return f(r.EditorState.push(e,t,"split-block"))}function g(e){var t=e.getCurrentContent().getBlockMap().toList(),n=e.getSelection().merge({anchorKey:t.first().get("key"),anchorOffset:0,focusKey:t.last().get("key"),focusOffset:t.last().getLength()}),i=r.Modifier.removeRange(e.getCurrentContent(),n,"forward");return r.EditorState.push(e,i,"remove-range")}function v(e,t){var n=r.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return r.EditorState.push(e,n,"change-block-data")}function m(e){var t=new i.Map({}),n=a(e);if(n&&0<n.size)for(var r=function(e){var r=n.get(e).getData();if(!r||0===r.size)return t=t.clear(),"break";if(0===e)t=r;else if(t.forEach((function(e,n){r.get(n)&&r.get(n)===e||(t=t.delete(n))})),0===t.size)return t=t.clear(),"break"},o=0;o<n.size&&"break"!==r(o);o+=1);return t}var y=Object(i.Map)({code:{element:"pre"}}),b=r.DefaultDraftBlockRenderMap.merge(y);function A(e){if(e){var t=e.getType();return"unordered-list-item"===t||"ordered-list-item"===t}return!1}function _(e,t,n){var i,a=e.getSelection();i=a.getIsBackward()?a.getFocusKey():a.getAnchorKey();var s=e.getCurrentContent(),c=s.getBlockForKey(i),u=c.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return e;var l=s.getBlockBefore(i);if(!l)return e;if(l.getType()!==u)return e;var f=c.getDepth();if(1===t&&f===n)return e;var d,h,p,g,v,m,y,b=Math.min(l.getDepth()+1,n),A=(h=t,p=b,g=(d=e).getSelection(),m=(v=d.getCurrentContent()).getBlockMap(),y=o(d).map((function(e){var t=e.getDepth()+h;return t=Math.max(0,Math.min(t,p)),e.set("depth",t)})),m=m.merge(y),v.merge({blockMap:m,selectionBefore:g,selectionAfter:g}));return r.EditorState.push(e,A,"adjust-depth")}function E(e,t){var n;return 13===(n=t).which&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))?e.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(e):h(e):function(e){var t=e.getSelection();if(t.isCollapsed()){var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockForKey(r);if(!A(i)&&"unstyled"!==i.getType()&&i.getLength()===t.getStartOffset())return p(e);if(A(i)&&0===i.getLength()){var o=i.getDepth();if(0===o)return f(e);if(0<o)return _(e,-1,o)}}}(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){var t=e.getSelection();if(t.isCollapsed()){var n={},r=e.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(e){n[e]=0<=r.indexOf(e)})),n}var i=t.getStartOffset(),o=t.getEndOffset(),s=a(e);if(0<s.size){var c=function(){for(var e={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},t=0;t<s.size;t+=1){var n=0===t?i:0,r=t===s.size-1?o:s.get(t).getText().length;n===r&&0===n?(n=1,r=2):n===r&&--n;for(var a=function(n){var r=s.get(t).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(t){e[t]=e[t]&&r.get(t)===t}))},c=n;c<r;c+=1)a(c)}return{v:e}}();if("object"===S(c))return c.v}return{}}function C(e){var t,n=e.getSelection(),r=n.getStartOffset(),i=n.getEndOffset();r===i&&0===r?i=1:r===i&&--r;for(var o=s(e),a=r;a<i;a+=1){var c=o.getEntityAt(a);if(!c){t=void 0;break}if(a===r)t=c;else if(t!==c){t=void 0;break}}return t}function O(e,t){var n,r=s(e);return r.findEntityRanges((function(e){return e.get("entity")===t}),(function(e,t){n={start:e,end:t,text:r.get("text").slice(e,t)}})),n}function T(e,t,n){x[e]["".concat(e.toLowerCase(),"-").concat(n)]=I({},"".concat(t),n)}function R(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},x.color,{},x.bgcolor,{},x.fontSize,{},x.fontFamily,{CODE:x.CODE,SUPERSCRIPT:x.SUPERSCRIPT,SUBSCRIPT:x.SUBSCRIPT})}var x={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}};function M(e,t,n){var i=e.getSelection(),o=Object.keys(x[t]).reduce((function(e,t){return r.Modifier.removeInlineStyle(e,i,t)}),e.getCurrentContent()),a=r.EditorState.push(e,o,"changeinline-style"),s=e.getCurrentInlineStyle();if(i.isCollapsed()&&(a=s.reduce((function(e,t){return r.RichUtils.toggleInlineStyle(e,t)}),a)),"SUPERSCRIPT"===t||"SUBSCRIPT"==t)s.has(n)||(a=r.RichUtils.toggleInlineStyle(a,n));else{var c="bgcolor"===t?"backgroundColor":t;s.has("".concat(c,"-").concat(n))||(a=r.RichUtils.toggleInlineStyle(a,"".concat(t.toLowerCase(),"-").concat(n)),T(t,c,n))}return a}function N(e){e&&e.getCurrentContent().getBlockMap().map((function(e){return e.get("characterList")})).toList().flatten().forEach((function(e){e&&0===e.indexOf("color-")?T("color","color",e.substr(6)):e&&0===e.indexOf("bgcolor-")?T("bgcolor","backgroundColor",e.substr(8)):e&&0===e.indexOf("fontsize-")?T("fontSize","fontSize",+e.substr(9)):e&&0===e.indexOf("fontfamily-")&&T("fontFamily","fontFamily",e.substr(11))}))}function D(e,t,n){var r=e.getInlineStyleAt(n).toList().filter((function(e){return e.startsWith(t.toLowerCase())}));if(r&&0<r.size)return r.get(0)}function j(e,t){if(e&&t&&0<t.length){var n=function(){var n=e.getSelection(),r={};if(n.isCollapsed())return t.forEach((function(t){r[t]=function(e,t){var n=e.getCurrentInlineStyle().toList().filter((function(e){return e.startsWith(t.toLowerCase())}));if(n&&0<n.size)return n.get(0)}(e,t)})),{v:r};var i=n.getStartOffset(),o=n.getEndOffset(),s=a(e);if(0<s.size){for(var c=function(e){var n=0===e?i:0,a=e===s.size-1?o:s.get(e).getText().length;n===a&&0===n?(n=1,a=2):n===a&&--n;for(var c=function(i){i===n?t.forEach((function(t){r[t]=D(s.get(e),t,i)})):t.forEach((function(t){r[t]&&r[t]!==D(s.get(e),t,i)&&(r[t]=void 0)}))},u=n;u<a;u+=1)c(u)},u=0;u<s.size;u+=1)c(u);return{v:r}}}();if("object"===S(n))return n.v}return{}}function L(e){var t=e.getCurrentInlineStyle(),n=e.getCurrentContent();return t.forEach((function(t){n=r.Modifier.removeInlineStyle(n,e.getSelection(),t)})),r.EditorState.push(e,n,"change-inline-style")}n.d(t,"isListBlock",(function(){return A})),n.d(t,"changeDepth",(function(){return _})),n.d(t,"handleNewLine",(function(){return E})),n.d(t,"getEntityRange",(function(){return O})),n.d(t,"getCustomStyleMap",(function(){return R})),n.d(t,"toggleCustomInlineStyle",(function(){return M})),n.d(t,"getSelectionEntity",(function(){return C})),n.d(t,"extractInlineStyle",(function(){return N})),n.d(t,"removeAllInlineStyles",(function(){return L})),n.d(t,"getSelectionInlineStyle",(function(){return k})),n.d(t,"getSelectionCustomInlineStyle",(function(){return j})),n.d(t,"getSelectedBlocksMap",(function(){return o})),n.d(t,"getSelectedBlocksList",(function(){return a})),n.d(t,"getSelectedBlock",(function(){return s})),n.d(t,"getBlockBeforeSelectedBlock",(function(){return c})),n.d(t,"getAllBlocks",(function(){return u})),n.d(t,"getSelectedBlocksType",(function(){return l})),n.d(t,"removeSelectedBlocksStyle",(function(){return f})),n.d(t,"getSelectionText",(function(){return d})),n.d(t,"addLineBreakRemovingSelection",(function(){return h})),n.d(t,"insertNewUnstyledBlock",(function(){return p})),n.d(t,"clearEditorContent",(function(){return g})),n.d(t,"setBlockData",(function(){return v})),n.d(t,"getSelectedBlocksMetadata",(function(){return m})),n.d(t,"blockRenderMap",(function(){return b}))}],r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t){e.exports=n},function(e,t,n){function r(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i,o,a,s;window,e.exports=(i=n(5),o=n(3),s={},r.m=a=[function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=function(e,t,n){var r,o=e.textContent;return""===o.trim()?{chunk:(r=n,{text:" ",inlines:[new i.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:o,inlines:Array(o.length).fill(t),entities:Array(o.length).fill(n),blocks:[]}}},a=function(){return{text:"\n",inlines:[new i.OrderedSet],entities:new Array(1),blocks:[]}},s=function(){return{text:"",inlines:[],entities:[],blocks:[]}},c=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new i.Map({})}]}},u=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new i.Map({})}]}},l=function(e){return{text:"\r ",inlines:[new i.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new i.Map({})}]}},f=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},d=new i.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),h={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function p(e){return e.style.textAlign?new i.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new i.Map({"margin-left":e.style.marginLeft}):void 0}var g=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",(function(){return b}));var v=" ",m=new RegExp("&nbsp;","g"),y=!0;function b(e,t){var n,b,A=(n=t,(b=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}(e.trim().replace(m,v)))?(y=!0,{chunk:function e(t,n,i,v,m,b){var A=t.nodeName.toLowerCase();if(b){var _=b(A,t);if(_){var E=r.Entity.__create(_.type,_.mutability,_.data||{});return{chunk:l(E)}}}if("#text"===A&&"\n"!==t.textContent)return o(t,n,m);if("br"===A)return{chunk:a()};if("img"===A&&t instanceof HTMLImageElement){var w={};w.src=t.getAttribute&&t.getAttribute("src")||t.src,w.alt=t.alt,w.height=t.style.height,w.width=t.style.width,t.style.float&&(w.alignment=t.style.float);var I=r.Entity.__create("IMAGE","MUTABLE",w);return{chunk:l(I)}}if("video"===A&&t instanceof HTMLVideoElement){var S={};S.src=t.getAttribute&&t.getAttribute("src")||t.src,S.alt=t.alt,S.height=t.style.height,S.width=t.style.width,t.style.float&&(S.alignment=t.style.float);var k=r.Entity.__create("VIDEO","MUTABLE",S);return{chunk:l(k)}}if("iframe"===A&&t instanceof HTMLIFrameElement){var C={};C.src=t.getAttribute&&t.getAttribute("src")||t.src,C.height=t.height,C.width=t.width;var O=r.Entity.__create("EMBEDDED_LINK","MUTABLE",C);return{chunk:l(O)}}var T,R=function(e,t){var n=d.filter((function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)})).keySeq().toSet().toArray();if(1===n.length)return n[0]}(A,v);R&&("ul"===A||"ol"===A?(v=A,i+=1):("unordered-list-item"!==R&&"ordered-list-item"!==R&&(v="",i=-1),y?(T=c(R,p(t)),y=!1):T=u(R,i,p(t)))),T=T||s(),n=function(e,t,n){var r,i=h[e];if(i)r=n.add(i).toOrderedSet();else if(t instanceof HTMLElement){var o=t;r=(r=n).withMutations((function(e){var t=o.style.color,n=o.style.backgroundColor,r=o.style.fontSize,i=o.style.fontFamily.replace(/^"|"$/g,""),a=o.style.fontWeight,s=o.style.textDecoration,c=o.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),i&&e.add("fontfamily-".concat(i)),"bold"===a&&e.add(h.strong),"underline"===s&&e.add(h.ins),"italic"===c&&e.add(h.em)})).toOrderedSet()}return r}(A,t,n);for(var x=t.firstChild;x;){var M=e(x,n,i,v,g(x)||m,b).chunk;T=f(T,M),x=x.nextSibling}return{chunk:T}}(b,new i.OrderedSet,-1,"",void 0,n).chunk}):null);if(A){var _=A.chunk,E=new i.OrderedMap({});_.entities&&_.entities.forEach((function(e){e&&(E=E.set(e,r.Entity.__get(e)))}));var w=0;return{contentBlocks:_.text.split("\r").map((function(e,t){var n=w+e.length,o=_&&_.inlines.slice(w,n),a=_&&_.entities.slice(w,n),s=new i.List(o.map((function(e,t){var n={style:e,entity:null};return a[t]&&(n.entity=a[t]),r.CharacterMetadata.create(n)})));return w=n,new r.ContentBlock({key:Object(r.genKey)(),type:_&&_.blocks[t]&&_.blocks[t].type||"unstyled",depth:_&&_.blocks[t]&&_.blocks[t].depth,data:_&&_.blocks[t]&&_.blocks[t].data||new i.Map({}),text:e,characterList:s})})),entityMap:E}}return null}}],r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]||3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function f(){return function(e,t){t.normalize(e)}}function d(e){var t=e.re=n(21)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(u),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r,a={validate:null,link:null};if(e.__compiled__[t]=a,"[object Object]"===i(n))return"[object RegExp]"===i(n.validate)?a.validate=(r=n.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}):o(n.validate)?a.validate=n.validate:l(t,n),void(o(n.normalize)?a.normalize=n.normalize:n.normalize?l(t,n):a.normalize=f());"[object String]"!==i(n)?l(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:f()};var d,h=Object.keys(e.__compiled__).filter((function(t){return 0<t.length&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),(d=e).__index__=-1,d.__text_cache__=""}function h(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var n=new h(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function g(e,t){if(!(this instanceof g))return new g(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}g.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},g.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},g.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(c=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),0<=this.__index__},g.prototype.pretest=function(e){return this.re.pretest.test(e)},g.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},g.prototype.match=function(e){var t=0,n=[];0<=this.__index__&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},g.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),d(this),this},g.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},g.prototype.onCompile=function(){},e.exports=g},function(e,t,n){e.exports=n(40)},function(e,t,n){"use strict";var r=n(10);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(22).source,t.src_Cc=n(23).source,t.src_Z=n(24).source,t.src_P=n(25).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uff5c]";return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=n(3),c=n(4),u=n(2),l=n.n(u);function f(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.callBacks=[],this.suggestionCallback=void 0,this.editorFlag=!1,this.suggestionFlag=!1,this.closeAllModals=function(t){e.callBacks.forEach((function(e){e(t)}))},this.init=function(t){var n=document.getElementById(t);n&&n.addEventListener("click",(function(){e.editorFlag=!0})),document&&(document.addEventListener("click",(function(){e.editorFlag?e.editorFlag=!1:(e.closeAllModals(),e.suggestionCallback&&e.suggestionCallback())})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.closeAllModals()})))},this.onEditorClick=function(){e.closeModals(),!e.suggestionFlag&&e.suggestionCallback?e.suggestionCallback():e.suggestionFlag=!1},this.closeModals=function(t){e.closeAllModals(t)},this.registerCallBack=function(t){e.callBacks.push(t)},this.deregisterCallBack=function(t){e.callBacks=e.callBacks.filter((function(e){return e!==t}))},this.setSuggestionCallback=function(t){e.suggestionCallback=t},this.removeSuggestionCallback=function(){e.suggestionCallback=void 0},this.onSuggestionClick=function(){e.suggestionFlag=!0}}function d(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.inputFocused=!1,this.editorMouseDown=!1,this.onEditorMouseDown=function(){e.editorFocused=!0},this.onInputMouseDown=function(){e.inputFocused=!0},this.isEditorBlur=function(t){return"INPUT"!==t.target.tagName&&"LABEL"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName||e.editorFocused?!("INPUT"===t.target.tagName&&"LABEL"===t.target.tagName&&"TEXTAREA"===t.target.tagName||e.inputFocused)&&!(e.editorFocused=!1):!(e.inputFocused=!1)},this.isEditorFocused=function(){return!e.inputFocused||(e.inputFocused=!1)},this.isToolbarFocused=function(){return!e.editorFocused||(e.editorFocused=!1)},this.isInputFocused=function(){return e.inputFocused}}var h,p=[],g={onKeyDown:function(e){p.forEach((function(t){t(e)}))},registerCallBack:function(e){p.push(e)},deregisterCallBack:function(e){p=p.filter((function(t){return t!==e}))}},v=function(){h=!0},m=function(){h=!1},y=function(){return h};function b(e){var t=e.getData()&&e.getData().get("text-align");return t?"rdw-".concat(t,"-aligned-block"):""}function A(e,t){if(e)for(var n in e)!{}.hasOwnProperty.call(e,n)||t(n,e[n])}function _(e,t){var n=!1;if(e)for(var r in e)if({}.hasOwnProperty.call(e,r)&&t===r){n=!0;break}return n}function E(e){e.stopPropagation()}function w(e){return e[e.options[0]].icon}function I(e,t){if(e&&void 0===t)return e;var n={};return A(e,(function(e,r){var i;i=r,"[object Object]"===Object.prototype.toString.call(i)?n[e]=I(r,t[e]):n[e]=void 0!==t[e]?t[e]:r})),n}var S=n(6),k=n.n(S),C=n(5);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(11);var D=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=x(this,(t=M(e)).call.apply(t,[this].concat(i)))).onClick=function(){var e=n.props,t=e.disabled,r=e.onClick,i=e.value;t||r(i)},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(e,r.Component),t=e,(n=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.className,o=t.activeClassName,a=t.active,s=t.disabled,c=t.title;return i.a.createElement("div",{className:l()("rdw-option-wrapper",r,(T(e={},"rdw-option-active ".concat(o),a),T(e,"rdw-option-disabled",s),e)),onClick:this.onClick,"aria-selected":a,title:c},n)}}])&&R(t.prototype,n),o&&R(t,o),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}D.propTypes={onClick:a.a.func.isRequired,children:a.a.any,value:a.a.string,className:a.a.string,activeClassName:a.a.string,active:a.a.bool,disabled:a.a.bool,title:a.a.string},D.defaultProps={activeClassName:""},n(12);var F=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=B(this,(t=P(e)).call.apply(t,[this].concat(i)))).state={highlighted:-1},n.onChange=function(e){var t=n.props.onChange;t&&t(e),n.toggleExpansion()},n.setHighlighted=function(e){n.setState({highlighted:e})},n.toggleExpansion=function(){var e=n.props,t=e.doExpand,r=e.doCollapse;e.expanded?r():t()},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.expanded;e.expanded&&!t&&this.setState({highlighted:-1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.expanded,r=t.children,o=t.className,a=t.optionWrapperClassName,s=t.ariaLabel,c=t.onExpandEvent,u=t.title,f=this.state.highlighted,d=r.slice(1,r.length);return i.a.createElement("div",{className:l()("rdw-dropdown-wrapper",o),"aria-expanded":n,"aria-label":s||"rdw-dropdown"},i.a.createElement("a",{className:"rdw-dropdown-selectedtext",onClick:c,title:u},r[0],i.a.createElement("div",{className:l()({"rdw-dropdown-carettoclose":n,"rdw-dropdown-carettoopen":!n})})),n?i.a.createElement("ul",{className:l()("rdw-dropdown-optionwrapper",a),onClick:E},i.a.Children.map(d,(function(t,n){return t&&i.a.cloneElement(t,{onSelect:e.onChange,highlighted:f===n,setHighlighted:e.setHighlighted,index:n})}))):void 0)}}])&&L(t.prototype,n),o&&L(t,o),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}F.propTypes={children:a.a.any,onChange:a.a.func,className:a.a.string,expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,optionWrapperClassName:a.a.string,ariaLabel:a.a.string,title:a.a.string},n(13);var q=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=K(this,(t=G(e)).call.apply(t,[this].concat(i)))).onClick=function(e){var t=n.props,r=t.onSelect,i=t.onClick,o=t.value;t.disabled||(r&&r(o),i&&(e.stopPropagation(),i(o)))},n.setHighlighted=function(){var e=n.props;(0,e.setHighlighted)(e.index)},n.resetHighlighted=function(){(0,n.props.setHighlighted)(-1)},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(e,r.Component),t=e,(n=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.active,o=t.disabled,a=t.highlighted,s=t.className,c=t.activeClassName,u=t.disabledClassName,f=t.highlightedClassName,d=t.title;return i.a.createElement("li",{className:l()("rdw-dropdownoption-default",s,(z(e={},"rdw-dropdownoption-active ".concat(c),r),z(e,"rdw-dropdownoption-highlighted ".concat(f),a),z(e,"rdw-dropdownoption-disabled ".concat(u),o),e)),onMouseEnter:this.setHighlighted,onMouseLeave:this.resetHighlighted,onClick:this.onClick,title:d},n)}}])&&V(t.prototype,n),o&&V(t,o),e}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}q.propTypes={children:a.a.any,value:a.a.any,onClick:a.a.func,onSelect:a.a.func,setHighlighted:a.a.func,index:a.a.number,disabled:a.a.bool,active:a.a.bool,highlighted:a.a.bool,className:a.a.string,activeClassName:a.a.string,disabledClassName:a.a.string,highlightedClassName:a.a.string,title:a.a.string},q.defaultProps={activeClassName:"",disabledClassName:"",highlightedClassName:""},n(14);var $=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,X(e).apply(this,arguments))}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(e,r.Component),t=e,(n=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState,r=e.onChange,o=e.translations;return i.a.createElement("div",{className:l()("rdw-inline-wrapper",t.className),"aria-label":"rdw-inline-control"},t.options.map((function(e,a){return i.a.createElement(D,{key:a,value:e,onClick:r,className:l()(t[e].className),active:!0===n[e]||"MONOSPACE"===e&&n.CODE,title:t[e].title||o["components.controls.inline.".concat(e)]},i.a.createElement("img",{alt:"",src:t[e].icon}))})))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,a=e.doCollapse,s=e.currentState,c=e.onChange,u=e.translations,f=t.className,d=t.dropdownClassName,h=t.title;return i.a.createElement(F,{className:l()("rdw-inline-dropdown",f),optionWrapperClassName:l()(d),onChange:c,expanded:n,doExpand:r,doCollapse:a,onExpandEvent:o,"aria-label":"rdw-inline-control",title:h},i.a.createElement("img",{src:w(t),alt:""}),t.options.map((function(e,n){return i.a.createElement(q,{key:n,value:e,className:l()("rdw-inline-dropdownoption",t[e].className),active:!0===s[e]||"MONOSPACE"===e&&s.CODE,title:t[e].title||u["components.controls.inline.".concat(e)]},i.a.createElement("img",{src:t[e].icon,alt:""}))})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&Y(t.prototype,n),o&&Y(t,o),e}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}$.propTypes={expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,config:a.a.object,onChange:a.a.func,currentState:a.a.object,translations:a.a.object};var oe=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ne(this,re(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.toggleInlineStyle=function(e){var t="monospace"===e?"CODE":e.toUpperCase(),r=n.props,i=r.editorState,o=r.onChange,a=s.RichUtils.toggleInlineStyle(i,t);if("subscript"===e||"superscript"===e){var c="subscript"===e?"SUPERSCRIPT":"SUBSCRIPT",u=s.Modifier.removeInlineStyle(a.getCurrentContent(),a.getSelection(),c);a=s.EditorState.push(a,u,"change-inline-style")}a&&o(a)},n.changeKeys=function(e){if(e){var t={};return A(e,(function(e,n){t["CODE"===e?"monospace":e.toLowerCase()]=n})),t}},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})};var r=n.props,i=r.editorState,o=r.modalHandler;return n.state={currentStyles:i?n.changeKeys(Object(c.getSelectionInlineStyle)(i)):{}},o.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentStyles:this.changeKeys(Object(c.getSelectionInlineStyle)(t))})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,a=r.currentStyles,s=t.component||$;return i.a.createElement(s,{config:t,translations:n,currentState:a,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.toggleInlineStyle})}}])&&te(t.prototype,n),o&&te(t,o),e}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}oe.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(15);var fe=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ce(this,ue(e).call(this,t))).getBlockTypes=function(e){return[{label:"Normal",displayName:e["components.controls.blocktype.normal"]},{label:"H1",displayName:e["components.controls.blocktype.h1"]},{label:"H2",displayName:e["components.controls.blocktype.h2"]},{label:"H3",displayName:e["components.controls.blocktype.h3"]},{label:"H4",displayName:e["components.controls.blocktype.h4"]},{label:"H5",displayName:e["components.controls.blocktype.h5"]},{label:"H6",displayName:e["components.controls.blocktype.h6"]},{label:"Blockquote",displayName:e["components.controls.blocktype.blockquote"]},{label:"Code",displayName:e["components.controls.blocktype.code"]}]},n.state={blockTypes:n.getBlockTypes(t.translations)},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.translations;t!==e.translations&&this.setState({blockTypes:this.getBlockTypes(t)})}},{key:"renderFlat",value:function(e){var t=this.props,n=t.config.className,r=t.onChange,o=t.currentState.blockType;return i.a.createElement("div",{className:l()("rdw-inline-wrapper",n)},e.map((function(e,t){return i.a.createElement(D,{key:t,value:e.label,active:o===e.label,onClick:r},e.displayName)})))}},{key:"renderInDropdown",value:function(e){var t=this.props,n=t.config,r=n.className,o=n.dropdownClassName,a=n.title,s=t.currentState.blockType,c=t.expanded,u=t.doExpand,f=t.onExpandEvent,d=t.doCollapse,h=t.onChange,p=t.translations,g=this.state.blockTypes.filter((function(e){return e.label===s})),v=g&&g[0]&&g[0].displayName;return i.a.createElement("div",{className:"rdw-block-wrapper","aria-label":"rdw-block-control"},i.a.createElement(F,{className:l()("rdw-block-dropdown",r),optionWrapperClassName:l()(o),onChange:h,expanded:c,doExpand:u,doCollapse:d,onExpandEvent:f,title:a||p["components.controls.blocktype.blocktype"]},i.a.createElement("span",null,v||p["components.controls.blocktype.blocktype"]),e.map((function(e,t){return i.a.createElement(q,{active:s===e.label,value:e.label,key:t},e.displayName)}))))}},{key:"render",value:function(){var e=this.props.config,t=e.inDropdown,n=this.state.blockTypes.filter((function(t){var n=t.label;return-1<e.options.indexOf(n)}));return t?this.renderInDropdown(n):this.renderFlat(n)}}])&&se(t.prototype,n),o&&se(t,o),e}();fe.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,doExpand:a.a.func,doCollapse:a.a.func,onChange:a.a.func,config:a.a.object,currentState:a.a.object,translations:a.a.object};var de=fe;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ge(this,ve(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.blocksTypes=[{label:"Normal",style:"unstyled"},{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"Code",style:"code"}],n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleBlockType=function(e){var t=n.blocksTypes.find((function(t){return t.label===e})).style,r=n.props,i=r.editorState,o=r.onChange,a=s.RichUtils.toggleBlockType(i,t);a&&o(a)};var r=t.editorState,i=t.modalHandler;return n.state={expanded:!1,currentBlockType:r?Object(c.getSelectedBlocksType)(r):"unstyled"},i.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlockType:Object(c.getSelectedBlocksType)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,a=r.currentBlockType,s=t.component||de,c=this.blocksTypes.find((function(e){return e.style===a}));return i.a.createElement(s,{config:t,translations:n,currentState:{blockType:c&&c.label},onChange:this.toggleBlockType,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&pe(t.prototype,n),o&&pe(t,o),e}();ye.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var be=ye;function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(16);var Se=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Ee(this,(t=we(e)).call.apply(t,[this].concat(i)))).state={defaultFontSize:void 0},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-size");t=t.substring(0,t.length-2),this.setState({defaultFontSize:t})}}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.dropdownClassName,a=t.options,s=t.title,c=e.onChange,u=e.expanded,f=e.doCollapse,d=e.onExpandEvent,h=e.doExpand,p=e.translations,g=this.props.currentState.fontSize,v=this.state.defaultFontSize;return v=Number(v),g=g||a&&0<=a.indexOf(v)&&v,i.a.createElement("div",{className:"rdw-fontsize-wrapper","aria-label":"rdw-font-size-control"},i.a.createElement(F,{className:l()("rdw-fontsize-dropdown",r),optionWrapperClassName:l()(o),onChange:c,expanded:u,doExpand:h,doCollapse:f,onExpandEvent:d,title:s||p["components.controls.fontsize.fontsize"]},g?i.a.createElement("span",null,g):i.a.createElement("img",{src:n,alt:""}),a.map((function(e,t){return i.a.createElement(q,{className:"rdw-fontsize-option",active:g===e,value:e,key:t},e)}))))}}])&&_e(t.prototype,n),o&&_e(t,o),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Se.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,doExpand:a.a.func,doCollapse:a.a.func,onChange:a.a.func,config:a.a.object,currentState:a.a.object,translations:a.a.object};var xe=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Oe(this,Te(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleFontSize=function(e){var t=n.props,r=t.editorState,i=t.onChange,o=Object(c.toggleCustomInlineStyle)(r,"fontSize",e);o&&i(o)};var r=t.editorState,i=t.modalHandler;return n.state={expanded:void 0,currentFontSize:r?Object(c.getSelectionCustomInlineStyle)(r,["FONTSIZE"]).FONTSIZE:void 0},i.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontSize:Object(c.getSelectionCustomInlineStyle)(t,["FONTSIZE"]).FONTSIZE})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,a=r.currentFontSize,s=t.component||Se,c=a&&Number(a.substring(9));return i.a.createElement(s,{config:t,translations:n,currentState:{fontSize:c},onChange:this.toggleFontSize,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&Ce(t.prototype,n),o&&Ce(t,o),e}();function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xe.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(17);var Be=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=De(this,(t=je(e)).call.apply(t,[this].concat(i)))).state={defaultFontFamily:void 0},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-family");this.setState({defaultFontFamily:t})}}},{key:"render",value:function(){var e=this.state.defaultFontFamily,t=this.props,n=t.config,r=n.className,o=n.dropdownClassName,a=n.options,s=n.title,c=t.translations,u=t.onChange,f=t.expanded,d=t.doCollapse,h=t.onExpandEvent,p=t.doExpand,g=this.props.currentState.fontFamily;return g=g||a&&e&&a.some((function(t){return t.toLowerCase()===e.toLowerCase()}))&&e,i.a.createElement("div",{className:"rdw-fontfamily-wrapper","aria-label":"rdw-font-family-control"},i.a.createElement(F,{className:l()("rdw-fontfamily-dropdown",r),optionWrapperClassName:l()("rdw-fontfamily-optionwrapper",o),onChange:u,expanded:f,doExpand:p,doCollapse:d,onExpandEvent:h,title:s||c["components.controls.fontfamily.fontfamily"]},i.a.createElement("span",{className:"rdw-fontfamily-placeholder"},g||c["components.controls.fontfamily.fontfamily"]),a.map((function(e,t){return i.a.createElement(q,{active:g===e,value:e,key:t},e)}))))}}])&&Ne(t.prototype,n),o&&Ne(t,o),e}();Be.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,doExpand:a.a.func,doCollapse:a.a.func,onChange:a.a.func,config:a.a.object,currentState:a.a.object,translations:a.a.object};var Pe=Be;function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Qe(this,ze(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleFontFamily=function(e){var t=n.props,r=t.editorState,i=t.onChange,o=Object(c.toggleCustomInlineStyle)(r,"fontFamily",e);o&&i(o)};var r=t.editorState,i=t.modalHandler;return n.state={expanded:void 0,currentFontFamily:r?Object(c.getSelectionCustomInlineStyle)(r,["FONTFAMILY"]).FONTFAMILY:void 0},i.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontFamily:Object(c.getSelectionCustomInlineStyle)(t,["FONTFAMILY"]).FONTFAMILY})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,a=r.currentFontFamily,s=t.component||Pe,c=a&&a.substring(11);return i.a.createElement(s,{translations:n,config:t,currentState:{fontFamily:c},onChange:this.toggleFontFamily,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&Fe(t.prototype,n),o&&Fe(t,o),e}();function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ke.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(18);var Je=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=qe(this,(t=We(e)).call.apply(t,[this].concat(i)))).options=["unordered","ordered","indent","outdent"],n.toggleBlockType=function(e){(0,n.props.onChange)(e)},n.indent=function(){(0,n.props.onChange)("indent")},n.outdent=function(){(0,n.props.onChange)("outdent")},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(e,r.Component),t=e,(n=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState.listType,r=e.translations,o=e.indentDisabled,a=e.outdentDisabled,s=t.options,c=t.unordered,u=t.ordered,f=t.indent,d=t.outdent,h=t.className;return i.a.createElement("div",{className:l()("rdw-list-wrapper",h),"aria-label":"rdw-list-control"},0<=s.indexOf("unordered")&&i.a.createElement(D,{value:"unordered",onClick:this.toggleBlockType,className:l()(c.className),active:"unordered"===n,title:c.title||r["components.controls.list.unordered"]},i.a.createElement("img",{src:c.icon,alt:""})),0<=s.indexOf("ordered")&&i.a.createElement(D,{value:"ordered",onClick:this.toggleBlockType,className:l()(u.className),active:"ordered"===n,title:u.title||r["components.controls.list.ordered"]},i.a.createElement("img",{src:u.icon,alt:""})),0<=s.indexOf("indent")&&i.a.createElement(D,{onClick:this.indent,disabled:o,className:l()(f.className),title:f.title||r["components.controls.list.indent"]},i.a.createElement("img",{src:f.icon,alt:""})),0<=s.indexOf("outdent")&&i.a.createElement(D,{onClick:this.outdent,disabled:a,className:l()(d.className),title:d.title||r["components.controls.list.outdent"]},i.a.createElement("img",{src:d.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this,t=this.props,n=t.config,r=t.expanded,o=t.doCollapse,a=t.doExpand,s=t.onExpandEvent,c=t.onChange,u=t.currentState.listType,f=t.translations,d=n.options,h=n.className,p=n.dropdownClassName,g=n.title;return i.a.createElement(F,{className:l()("rdw-list-dropdown",h),optionWrapperClassName:l()(p),onChange:c,expanded:r,doExpand:a,doCollapse:o,onExpandEvent:s,"aria-label":"rdw-list-control",title:g||f["components.controls.list.list"]},i.a.createElement("img",{src:w(n),alt:""}),this.options.filter((function(e){return 0<=d.indexOf(e)})).map((function(t,r){return i.a.createElement(q,{key:r,value:t,disabled:e.props["".concat(t,"Disabled")],className:l()("rdw-list-dropdownOption",n[t].className),active:u===t,title:n[t].title||f["components.controls.list.".concat(t)]},i.a.createElement("img",{src:n[t].icon,alt:""}))})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&He(t.prototype,n),o&&He(t,o),e}();function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Je.propTypes={expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,config:a.a.object,onChange:a.a.func,currentState:a.a.object,translations:a.a.object,indentDisabled:a.a.bool,outdentDisabled:a.a.bool};var nt=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$e(this,et(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e){"unordered"===e?n.toggleBlockType("unordered-list-item"):"ordered"===e?n.toggleBlockType("ordered-list-item"):"indent"===e?n.adjustDepth(1):n.adjustDepth(-1)},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleBlockType=function(e){var t=n.props,r=t.onChange,i=t.editorState,o=s.RichUtils.toggleBlockType(i,e);o&&r(o)},n.adjustDepth=function(e){var t=n.props,r=t.onChange,i=t.editorState,o=Object(c.changeDepth)(i,e,4);o&&r(o)},n.isIndentDisabled=function(){var e=n.props.editorState,t=n.state.currentBlock,r=Object(c.getBlockBeforeSelectedBlock)(e);return!r||!Object(c.isListBlock)(t)||r.get("type")!==t.get("type")||r.get("depth")<t.get("depth")},n.isOutdentDisabled=function(){var e=n.state.currentBlock;return!e||!Object(c.isListBlock)(e)||e.get("depth")<=0};var r=n.props,i=r.editorState,o=r.modalHandler;return n.state={expanded:!1,currentBlock:i?Object(c.getSelectedBlock)(i):void 0},o.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlock:Object(c.getSelectedBlock)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e,t=this.props,n=t.config,r=t.translations,o=this.state,a=o.expanded,s=o.currentBlock,c=n.component||Je;"unordered-list-item"===s.get("type")?e="unordered":"ordered-list-item"===s.get("type")&&(e="ordered");var u=this.isIndentDisabled(),l=this.isOutdentDisabled();return i.a.createElement(c,{config:n,translations:r,currentState:{listType:e},expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange,indentDisabled:u,outdentDisabled:l})}}])&&Ze(t.prototype,n),o&&Ze(t,o),e}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}nt.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(19);var ct=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,at(e).apply(this,arguments))}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(e,r.Component),t=e,(n=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.left,o=t.center,a=t.right,s=t.justify,c=t.className,u=e.onChange,f=e.currentState.textAlignment,d=e.translations;return i.a.createElement("div",{className:l()("rdw-text-align-wrapper",c),"aria-label":"rdw-textalign-control"},0<=n.indexOf("left")&&i.a.createElement(D,{value:"left",className:l()(r.className),active:"left"===f,onClick:u,title:r.title||d["components.controls.textalign.left"]},i.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("center")&&i.a.createElement(D,{value:"center",className:l()(o.className),active:"center"===f,onClick:u,title:o.title||d["components.controls.textalign.center"]},i.a.createElement("img",{src:o.icon,alt:""})),0<=n.indexOf("right")&&i.a.createElement(D,{value:"right",className:l()(a.className),active:"right"===f,onClick:u,title:a.title||d["components.controls.textalign.right"]},i.a.createElement("img",{src:a.icon,alt:""})),0<=n.indexOf("justify")&&i.a.createElement(D,{value:"justify",className:l()(s.className),active:"justify"===f,onClick:u,title:s.title||d["components.controls.textalign.justify"]},i.a.createElement("img",{src:s.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,a=e.doCollapse,s=e.currentState.textAlignment,c=e.onChange,u=e.translations,f=t.options,d=t.left,h=t.center,p=t.right,g=t.justify,v=t.className,m=t.dropdownClassName,y=t.title;return i.a.createElement(F,{className:l()("rdw-text-align-dropdown",v),optionWrapperClassName:l()(m),onChange:c,expanded:n,doExpand:r,doCollapse:a,onExpandEvent:o,"aria-label":"rdw-textalign-control",title:y||u["components.controls.textalign.textalign"]},i.a.createElement("img",{src:s&&t[s]&&t[s].icon||w(t),alt:""}),0<=f.indexOf("left")&&i.a.createElement(q,{value:"left",active:"left"===s,className:l()("rdw-text-align-dropdownOption",d.className),title:d.title||u["components.controls.textalign.left"]},i.a.createElement("img",{src:d.icon,alt:""})),0<=f.indexOf("center")&&i.a.createElement(q,{value:"center",active:"center"===s,className:l()("rdw-text-align-dropdownOption",h.className),title:h.title||u["components.controls.textalign.center"]},i.a.createElement("img",{src:h.icon,alt:""})),0<=f.indexOf("right")&&i.a.createElement(q,{value:"right",active:"right"===s,className:l()("rdw-text-align-dropdownOption",p.className),title:p.title||u["components.controls.textalign.right"]},i.a.createElement("img",{src:p.icon,alt:""})),0<=f.indexOf("justify")&&i.a.createElement(q,{value:"justify",active:"justify"===s,className:l()("rdw-text-align-dropdownOption",g.className),title:g.title||u["components.controls.textalign.justify"]},i.a.createElement("img",{src:g.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&it(t.prototype,n),o&&it(t,o),e}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ct.propTypes={expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,config:a.a.object,onChange:a.a.func,currentState:a.a.object,translations:a.a.object};var pt=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ft(this,dt(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addBlockAlignmentData=function(e){var t=n.props,r=t.editorState;(0,t.onChange)(n.state.currentTextAlignment!==e?Object(c.setBlockData)(r,{"text-align":e}):Object(c.setBlockData)(r,{"text-align":void 0}))};var r=n.props.modalHandler;return n.state={currentTextAlignment:void 0},r.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t!==e.editorState&&this.setState({currentTextAlignment:Object(c.getSelectedBlocksMetadata)(t).get("text-align")})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,a=r.currentTextAlignment,s=t.component||ct;return i.a.createElement(s,{config:t,translations:n,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{textAlignment:a},onChange:this.addBlockAlignmentData})}}])&&lt(t.prototype,n),o&&lt(t,o),e}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pt.propTypes={editorState:a.a.object.isRequired,onChange:a.a.func.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(20);var At=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=mt(this,(t=yt(e)).call.apply(t,[this].concat(o)))).state={currentStyle:"color"},n.onChange=function(e){(0,n.props.onChange)(n.state.currentStyle,e)},n.setCurrentStyleColor=function(){n.setState({currentStyle:"color"})},n.setCurrentStyleBgcolor=function(){n.setState({currentStyle:"bgcolor"})},n.renderModal=function(){var e=n.props,t=e.config,r=t.popupClassName,o=t.colors,a=e.currentState,s=a.color,c=a.bgColor,u=e.translations,f=n.state.currentStyle,d="color"===f?s:c;return i.a.createElement("div",{className:l()("rdw-colorpicker-modal",r),onClick:E},i.a.createElement("span",{className:"rdw-colorpicker-modal-header"},i.a.createElement("span",{className:l()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"color"===f}),onClick:n.setCurrentStyleColor},u["components.controls.colorpicker.text"]),i.a.createElement("span",{className:l()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"bgcolor"===f}),onClick:n.setCurrentStyleBgcolor},u["components.controls.colorpicker.background"])),i.a.createElement("span",{className:"rdw-colorpicker-modal-options"},o.map((function(e,t){return i.a.createElement(D,{value:e,key:t,className:"rdw-colorpicker-option",activeClassName:"rdw-colorpicker-option-active",active:d===e,onClick:n.onChange},i.a.createElement("span",{style:{backgroundColor:e},className:"rdw-colorpicker-cube"}))}))))},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded&&this.setState({currentStyle:"color"})}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,a=e.expanded,s=e.onExpandEvent,c=e.translations;return i.a.createElement("div",{className:"rdw-colorpicker-wrapper","aria-haspopup":"true","aria-expanded":a,"aria-label":"rdw-color-picker",title:o||c["components.controls.colorpicker.colorpicker"]},i.a.createElement(D,{onClick:s,className:l()(r)},i.a.createElement("img",{src:n,alt:""})),a?this.renderModal():void 0)}}])&&vt(t.prototype,n),o&&vt(t,o),e}();At.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,onChange:a.a.func,config:a.a.object,currentState:a.a.object,translations:a.a.object};var _t=At;function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=It(this,St(e).call(this,t))).state={expanded:!1,currentColor:void 0,currentBgColor:void 0},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleColor=function(e,t){var r=n.props,i=r.editorState,o=r.onChange,a=Object(c.toggleCustomInlineStyle)(i,e,t);a&&o(a),n.doCollapse()};var r=t.editorState,i=t.modalHandler,o={expanded:!1,currentColor:void 0,currentBgColor:void 0};return r&&(o.currentColor=Object(c.getSelectionCustomInlineStyle)(r,["COLOR"]).COLOR,o.currentBgColor=Object(c.getSelectionCustomInlineStyle)(r,["BGCOLOR"]).BGCOLOR),n.state=o,i.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentColor:Object(c.getSelectionCustomInlineStyle)(t,["COLOR"]).COLOR,currentBgColor:Object(c.getSelectionCustomInlineStyle)(t,["BGCOLOR"]).BGCOLOR})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.currentColor,a=r.currentBgColor,s=r.expanded,c=t.component||_t,u=o&&o.substring(6),l=a&&a.substring(8);return i.a.createElement(c,{config:t,translations:n,onChange:this.toggleColor,expanded:s,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{color:u,bgColor:l}})}}])&&wt(t.prototype,n),o&&wt(t,o),e}();Ct.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var Ot=Ct,Tt=n(7),Rt=n.n(Tt);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(26);var Lt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Nt(this,(t=Dt(e)).call.apply(t,[this].concat(i)))).state={showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:n.props.config.defaultTargetOption},n.removeLink=function(){(0,n.props.onChange)("unlink")},n.addLink=function(){var e=n.props.onChange,t=n.state;e("link",t.linkTitle,t.linkTarget,t.linkTargetOption)},n.updateValue=function(e){var t,r,i;n.setState((t={},r="".concat(e.target.name),i=e.target.value,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t))},n.updateTargetOption=function(e){n.setState({linkTargetOption:e.target.checked?"_blank":"_self"})},n.hideModal=function(){n.setState({showModal:!1})},n.signalExpandShowModal=function(){var e=n.props,t=e.onExpandEvent,r=e.currentState,i=r.link,o=r.selectionText,a=n.state.linkTargetOption;t(),n.setState({showModal:!0,linkTarget:i&&i.target||"",linkTargetOption:i&&i.targetOption||a,linkTitle:i&&i.title||o})},n.forceExpandAndShowModal=function(){var e=n.props,t=e.doExpand,r=e.currentState,i=r.link,o=r.selectionText,a=n.state.linkTargetOption;t(),n.setState({showModal:!0,linkTarget:i&&i.target,linkTargetOption:i&&i.targetOption||a,linkTitle:i&&i.title||o})},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){e.expanded&&!this.props.expanded&&this.setState({showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:this.props.config.defaultTargetOption})}},{key:"renderAddLinkModal",value:function(){var e=this.props,t=e.config.popupClassName,n=e.doCollapse,r=e.translations,o=this.state,a=o.linkTitle,s=o.linkTarget,c=o.linkTargetOption;return i.a.createElement("div",{className:l()("rdw-link-modal",t),onClick:E},i.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTitle"},r["components.controls.link.linkTitle"]),i.a.createElement("input",{id:"linkTitle",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTitle",value:a}),i.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTarget"},r["components.controls.link.linkTarget"]),i.a.createElement("input",{id:"linkTarget",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTarget",value:s}),i.a.createElement("label",{className:"rdw-link-modal-target-option",htmlFor:"openLinkInNewWindow"},i.a.createElement("input",{id:"openLinkInNewWindow",type:"checkbox",defaultChecked:"_blank"===c,value:"_blank",onChange:this.updateTargetOption}),i.a.createElement("span",null,r["components.controls.link.linkTargetOption"])),i.a.createElement("span",{className:"rdw-link-modal-buttonsection"},i.a.createElement("button",{className:"rdw-link-modal-btn",onClick:this.addLink,disabled:!s||!a},r["generic.add"]),i.a.createElement("button",{className:"rdw-link-modal-btn",onClick:n},r["generic.cancel"])))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.link,o=t.unlink,a=t.className,s=e.currentState,c=e.expanded,u=e.translations,f=this.state.showModal;return i.a.createElement("div",{className:l()("rdw-link-wrapper",a),"aria-label":"rdw-link-control"},0<=n.indexOf("link")&&i.a.createElement(D,{value:"unordered-list-item",className:l()(r.className),onClick:this.signalExpandShowModal,"aria-haspopup":"true","aria-expanded":f,title:r.title||u["components.controls.link.link"]},i.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("unlink")&&i.a.createElement(D,{disabled:!s.link,value:"ordered-list-item",className:l()(o.className),onClick:this.removeLink,title:o.title||u["components.controls.link.unlink"]},i.a.createElement("img",{src:o.icon,alt:""})),c&&f?this.renderAddLinkModal():void 0)}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.expanded,n=e.onExpandEvent,r=e.doCollapse,o=e.doExpand,a=e.onChange,s=e.config,c=e.currentState,u=e.translations,f=s.options,d=s.link,h=s.unlink,p=s.className,g=s.dropdownClassName,v=s.title,m=this.state.showModal;return i.a.createElement("div",{className:"rdw-link-wrapper","aria-haspopup":"true","aria-label":"rdw-link-control","aria-expanded":t,title:v},i.a.createElement(F,{className:l()("rdw-link-dropdown",p),optionWrapperClassName:l()(g),onChange:a,expanded:t&&!m,doExpand:o,doCollapse:r,onExpandEvent:n},i.a.createElement("img",{src:w(s),alt:""}),0<=f.indexOf("link")&&i.a.createElement(q,{onClick:this.forceExpandAndShowModal,className:l()("rdw-link-dropdownoption",d.className),title:d.title||u["components.controls.link.link"]},i.a.createElement("img",{src:d.icon,alt:""})),0<=f.indexOf("unlink")&&i.a.createElement(q,{onClick:this.removeLink,disabled:!c.link,className:l()("rdw-link-dropdownoption",h.className),title:h.title||u["components.controls.link.unlink"]},i.a.createElement("img",{src:h.icon,alt:""}))),t&&m?this.renderAddLinkModal():void 0)}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&Mt(t.prototype,n),o&&Mt(t,o),e}();Lt.propTypes={expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,config:a.a.object,onChange:a.a.func,currentState:a.a.object,translations:a.a.object};var Bt=Lt;function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=Ht.match(e.target);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{target:t&&t[0]&&t[0].url||e.target})}var Ht=Rt()(),qt=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ft(this,Qt(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e,t,r,i){var o=n.props.config.linkCallback;if("link"===e){var a=(o||Gt)({title:t,target:r,targetOption:i});n.addLink(a.title,a.target,a.targetOption)}else n.removeLink()},n.getCurrentValues=function(){var e=n.props.editorState,t=n.state.currentEntity,r=e.getCurrentContent(),i={};if(t&&"LINK"===r.getEntity(t).get("type")){i.link={};var o=t&&Object(c.getEntityRange)(e,t);i.link.target=t&&r.getEntity(t).get("data").url,i.link.targetOption=t&&r.getEntity(t).get("data").targetOption,i.link.title=o&&o.text}return i.selectionText=Object(c.getSelectionText)(e),i},n.doExpand=function(){n.setState({expanded:!0})},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doCollapse=function(){n.setState({expanded:!1})},n.removeLink=function(){var e=n.props,t=e.editorState,r=e.onChange,i=n.state.currentEntity,o=t.getSelection();if(i){var a=Object(c.getEntityRange)(t,i);o=o.getIsBackward()?o.merge({anchorOffset:a.end,focusOffset:a.start}):o.merge({anchorOffset:a.start,focusOffset:a.end}),r(s.RichUtils.toggleLink(t,o,null))}},n.addLink=function(e,t,r){var i=n.props,o=i.editorState,a=i.onChange,u=n.state.currentEntity,l=o.getSelection();if(u){var f=Object(c.getEntityRange)(o,u);l=l.getIsBackward()?l.merge({anchorOffset:f.end,focusOffset:f.start}):l.merge({anchorOffset:f.start,focusOffset:f.end})}var d=o.getCurrentContent().createEntity("LINK","MUTABLE",{url:t,targetOption:r}).getLastCreatedEntityKey(),h=s.Modifier.replaceText(o.getCurrentContent(),l,"".concat(e),o.getCurrentInlineStyle(),d),p=s.EditorState.push(o,h,"insert-characters");l=p.getSelection().merge({anchorOffset:l.get("anchorOffset")+e.length,focusOffset:l.get("anchorOffset")+e.length}),p=s.EditorState.acceptSelection(p,l),h=s.Modifier.insertText(p.getCurrentContent(),l," ",p.getCurrentInlineStyle(),void 0),a(s.EditorState.push(p,h,"insert-characters")),n.doCollapse()};var r=n.props,i=r.editorState,o=r.modalHandler;return n.state={expanded:!1,link:void 0,selectionText:void 0,currentEntity:i?Object(c.getSelectionEntity)(i):void 0},o.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentEntity:Object(c.getSelectionEntity)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=this.getCurrentValues(),a=o.link,s=o.selectionText,c=t.component||Bt;return i.a.createElement(c,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{link:a,selectionText:s},onChange:this.onChange})}}])&&Ut(t.prototype,n),o&&Ut(t,o),e}();qt.propTypes={editorState:a.a.object.isRequired,onChange:a.a.func.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var Wt=qt;function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(27);var en=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Xt(this,(t=Zt(e)).call.apply(t,[this].concat(i)))).state={embeddedLink:"",height:n.props.config.defaultSize.height,width:n.props.config.defaultSize.width},n.onChange=function(){var e=n.props.onChange,t=n.state;e(t.embeddedLink,t.height,t.width)},n.updateValue=function(e){var t,r,i;n.setState((t={},r="".concat(e.target.name),i=e.target.value,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t))},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.expanded,r=t.config;if(!n&&e.expanded){var i=r.defaultSize,o=i.height,a=i.width;this.setState({embeddedLink:"",height:o,width:a})}}},{key:"rendeEmbeddedLinkModal",value:function(){var e=this.state,t=e.embeddedLink,n=e.height,r=e.width,o=this.props,a=o.config.popupClassName,s=o.doCollapse,c=o.translations;return i.a.createElement("div",{className:l()("rdw-embedded-modal",a),onClick:E},i.a.createElement("div",{className:"rdw-embedded-modal-header"},i.a.createElement("span",{className:"rdw-embedded-modal-header-option"},c["components.controls.embedded.embeddedlink"],i.a.createElement("span",{className:"rdw-embedded-modal-header-label"}))),i.a.createElement("div",{className:"rdw-embedded-modal-link-section"},i.a.createElement("span",{className:"rdw-embedded-modal-link-input-wrapper"},i.a.createElement("input",{className:"rdw-embedded-modal-link-input",placeholder:c["components.controls.embedded.enterlink"],onChange:this.updateValue,onBlur:this.updateValue,value:t,name:"embeddedLink"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),i.a.createElement("div",{className:"rdw-embedded-modal-size"},i.a.createElement("span",null,i.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:n,name:"height",className:"rdw-embedded-modal-size-input",placeholder:"Height"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),i.a.createElement("span",null,i.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:r,name:"width",className:"rdw-embedded-modal-size-input",placeholder:"Width"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")))),i.a.createElement("span",{className:"rdw-embedded-modal-btn-section"},i.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:this.onChange,disabled:!t||!n||!r},c["generic.add"]),i.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:s},c["generic.cancel"])))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,a=e.expanded,s=e.onExpandEvent,c=e.translations;return i.a.createElement("div",{className:"rdw-embedded-wrapper","aria-haspopup":"true","aria-expanded":a,"aria-label":"rdw-embedded-control"},i.a.createElement(D,{className:l()(r),value:"unordered-list-item",onClick:s,title:o||c["components.controls.embedded.embedded"]},i.a.createElement("img",{src:n,alt:""})),a?this.rendeEmbeddedLinkModal():void 0)}}])&&Jt(t.prototype,n),o&&Jt(t,o),e}();en.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,onChange:a.a.func,config:a.a.object,translations:a.a.object,doCollapse:a.a.func};var tn=en;function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cn=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=on(this,(t=an(e)).call.apply(t,[this].concat(i)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addEmbeddedLink=function(e,t,r){var i=n.props,o=i.editorState,a=i.onChange,c=i.config.embedCallback,u=c?c(e):e,l=o.getCurrentContent().createEntity("EMBEDDED_LINK","MUTABLE",{src:u,height:t,width:r}).getLastCreatedEntityKey();a(s.AtomicBlockUtils.insertAtomicBlock(o,l," ")),n.doCollapse()},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||tn;return i.a.createElement(o,{config:t,translations:n,onChange:this.addEmbeddedLink,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&rn(t.prototype,n),o&&rn(t,o),e}();cn.propTypes={editorState:a.a.object.isRequired,onChange:a.a.func.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var un=cn;function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(28);var gn=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=dn(this,(t=hn(e)).call.apply(t,[this].concat(i)))).onChange=function(e){(0,n.props.onChange)(e.target.innerHTML)},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(e,r.Component),t=e,(n=[{key:"renderEmojiModal",value:function(){var e=this,t=this.props.config,n=t.popupClassName,r=t.emojis;return i.a.createElement("div",{className:l()("rdw-emoji-modal",n),onClick:E},r.map((function(t,n){return i.a.createElement("span",{key:n,className:"rdw-emoji-icon",alt:"",onClick:e.onChange},t)})))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,a=e.expanded,s=e.onExpandEvent,c=e.translations;return i.a.createElement("div",{className:"rdw-emoji-wrapper","aria-haspopup":"true","aria-label":"rdw-emoji-control","aria-expanded":a,title:o||c["components.controls.emoji.emoji"]},i.a.createElement(D,{className:l()(r),value:"unordered-list-item",onClick:s},i.a.createElement("img",{src:n,alt:""})),a?this.renderEmojiModal():void 0)}}])&&fn(t.prototype,n),o&&fn(t,o),e}();gn.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,onChange:a.a.func,config:a.a.object,translations:a.a.object};var vn=gn;function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var En=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=bn(this,(t=An(e)).call.apply(t,[this].concat(i)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addEmoji=function(e){var t=n.props,r=t.editorState,i=t.onChange,o=s.Modifier.replaceText(r.getCurrentContent(),r.getSelection(),e,r.getCurrentInlineStyle());i(s.EditorState.push(r,o,"insert-characters")),n.doCollapse()},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||vn;return i.a.createElement(o,{config:t,translations:n,onChange:this.addEmoji,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onCollpase:this.closeModal})}}])&&yn(t.prototype,n),o&&yn(t,o),e}();function wn(){return i.a.createElement("div",{className:"rdw-spinner"},i.a.createElement("div",{className:"rdw-bounce1"}),i.a.createElement("div",{className:"rdw-bounce2"}),i.a.createElement("div",{className:"rdw-bounce3"}))}function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}En.propTypes={editorState:a.a.object.isRequired,onChange:a.a.func.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object},n(29),n(30);var Tn=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=kn(this,(t=Cn(e)).call.apply(t,[this].concat(i)))).state={imgSrc:"",dragEnter:!1,uploadHighlighted:n.props.config.uploadEnabled&&!!n.props.config.uploadCallback,showImageLoading:!1,height:n.props.config.defaultSize.height,width:n.props.config.defaultSize.width,alt:""},n.onDragEnter=function(e){n.stopPropagation(e),n.setState({dragEnter:!0})},n.onImageDrop=function(e){var t,r;e.preventDefault(),e.stopPropagation(),n.setState({dragEnter:!1}),r=e.dataTransfer.items?(t=e.dataTransfer.items,!0):(t=e.dataTransfer.files,!1);for(var i=0;i<t.length;i+=1)if((!r||"file"===t[i].kind)&&t[i].type.match("^image/")){var o=r?t[i].getAsFile():t[i];n.uploadImage(o)}},n.showImageUploadOption=function(){n.setState({uploadHighlighted:!0})},n.addImageFromState=function(){var e=n.state,t=e.imgSrc,r=e.alt,i=n.state,o=i.height,a=i.width,s=n.props.onChange;isNaN(o)||(o+="px"),isNaN(a)||(a+="px"),s(t,o,a,r)},n.showImageURLOption=function(){n.setState({uploadHighlighted:!1})},n.toggleShowImageLoading=function(){var e=!n.state.showImageLoading;n.setState({showImageLoading:e})},n.updateValue=function(e){var t,r,i;n.setState((t={},r="".concat(e.target.name),i=e.target.value,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t))},n.selectImage=function(e){e.target.files&&0<e.target.files.length&&n.uploadImage(e.target.files[0])},n.uploadImage=function(e){n.toggleShowImageLoading(),(0,n.props.config.uploadCallback)(e).then((function(e){var t=e.data;n.setState({showImageLoading:!1,dragEnter:!1,imgSrc:t.link||t.url}),n.fileUpload=!1})).catch((function(){n.setState({showImageLoading:!1,dragEnter:!1})}))},n.fileUploadClick=function(e){n.fileUpload=!0,e.stopPropagation()},n.stopPropagation=function(e){n.fileUpload?n.fileUpload=!1:(e.preventDefault(),e.stopPropagation())},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.expanded&&!this.props.expanded?this.setState({imgSrc:"",dragEnter:!1,uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback,showImageLoading:!1,height:t.defaultSize.height,width:t.defaultSize.width,alt:""}):t.uploadCallback===e.config.uploadCallback&&t.uploadEnabled===e.config.uploadEnabled||this.setState({uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback})}},{key:"renderAddImageModal",value:function(){var e=this.state,t=e.imgSrc,n=e.uploadHighlighted,r=e.showImageLoading,o=e.dragEnter,a=e.height,s=e.width,c=e.alt,u=this.props,f=u.config,d=f.popupClassName,h=f.uploadCallback,p=f.uploadEnabled,g=f.urlEnabled,v=f.previewImage,m=f.inputAccept,y=f.alt,b=u.doCollapse,A=u.translations;return i.a.createElement("div",{className:l()("rdw-image-modal",d),onClick:this.stopPropagation},i.a.createElement("div",{className:"rdw-image-modal-header"},p&&h&&i.a.createElement("span",{onClick:this.showImageUploadOption,className:"rdw-image-modal-header-option"},A["components.controls.image.fileUpload"],i.a.createElement("span",{className:l()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":n})})),g&&i.a.createElement("span",{onClick:this.showImageURLOption,className:"rdw-image-modal-header-option"},A["components.controls.image.byURL"],i.a.createElement("span",{className:l()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":!n})}))),n?i.a.createElement("div",{onClick:this.fileUploadClick},i.a.createElement("div",{onDragEnter:this.onDragEnter,onDragOver:this.stopPropagation,onDrop:this.onImageDrop,className:l()("rdw-image-modal-upload-option",{"rdw-image-modal-upload-option-highlighted":o})},i.a.createElement("label",{htmlFor:"file",className:"rdw-image-modal-upload-option-label"},v&&t?i.a.createElement("img",{src:t,alt:t,className:"rdw-image-modal-upload-option-image-preview"}):t||A["components.controls.image.dropFileText"])),i.a.createElement("input",{type:"file",id:"file",accept:m,onChange:this.selectImage,className:"rdw-image-modal-upload-option-input"})):i.a.createElement("div",{className:"rdw-image-modal-url-section"},i.a.createElement("input",{className:"rdw-image-modal-url-input",placeholder:A["components.controls.image.enterlink"],name:"imgSrc",onChange:this.updateValue,onBlur:this.updateValue,value:t}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),y.present&&i.a.createElement("div",{className:"rdw-image-modal-size"},i.a.createElement("span",{className:"rdw-image-modal-alt-lbl"},"Alt Text"),i.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:c,name:"alt",className:"rdw-image-modal-alt-input",placeholder:"alt"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},y.mandatory&&"*")),i.a.createElement("div",{className:"rdw-image-modal-size"},"\u2195\xa0",i.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:a,name:"height",className:"rdw-image-modal-size-input",placeholder:"Height"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*"),"\xa0\u2194\xa0",i.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:s,name:"width",className:"rdw-image-modal-size-input",placeholder:"Width"}),i.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),i.a.createElement("span",{className:"rdw-image-modal-btn-section"},i.a.createElement("button",{className:"rdw-image-modal-btn",onClick:this.addImageFromState,disabled:!t||!a||!s||y.mandatory&&!c},A["generic.add"]),i.a.createElement("button",{className:"rdw-image-modal-btn",onClick:b},A["generic.cancel"])),r?i.a.createElement("div",{className:"rdw-image-modal-spinner"},i.a.createElement(wn,null)):void 0)}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,a=e.expanded,s=e.onExpandEvent,c=e.translations;return i.a.createElement("div",{className:"rdw-image-wrapper","aria-haspopup":"true","aria-expanded":a,"aria-label":"rdw-image-control"},i.a.createElement(D,{className:l()(r),value:"unordered-list-item",onClick:s,title:o||c["components.controls.image.image"]},i.a.createElement("img",{src:n,alt:""})),a?this.renderAddImageModal():void 0)}}])&&Sn(t.prototype,n),o&&Sn(t,o),e}();Tn.propTypes={expanded:a.a.bool,onExpandEvent:a.a.func,doCollapse:a.a.func,onChange:a.a.func,config:a.a.object,translations:a.a.object};var Rn=Tn;function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Nn(this,Dn(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.addImage=function(e,t,r,i){var o=n.props,a=o.editorState,c=o.onChange,u={src:e,height:t,width:r};o.config.alt.present&&(u.alt=i);var l=a.getCurrentContent().createEntity("IMAGE","MUTABLE",u).getLastCreatedEntityKey();c(s.AtomicBlockUtils.insertAtomicBlock(a,l," ")),n.doCollapse()};var r=n.props.modalHandler;return n.state={expanded:!1},r.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(e,r.Component),t=e,(n=[{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||Rn;return i.a.createElement(o,{config:t,translations:n,onChange:this.addImage,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&Mn(t.prototype,n),o&&Mn(t,o),e}();function Bn(e){var t=e.config,n=e.onChange,r=e.translations,o=t.icon,a=t.className,s=t.title;return i.a.createElement("div",{className:"rdw-remove-wrapper","aria-label":"rdw-remove-control"},i.a.createElement(D,{className:l()(a),onClick:n,title:s||r["components.controls.remove.remove"]},i.a.createElement("img",{src:o,alt:""})))}Ln.propTypes={editorState:a.a.object.isRequired,onChange:a.a.func.isRequired,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var Pn=Ln;n(31),Bn.propTypes={onChange:a.a.func,config:a.a.object,translations:a.a.object};var Un=Bn;function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gn=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=zn(this,(t=Vn(e)).call.apply(t,[this].concat(i)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.removeInlineStyles=function(){var e=n.props,t=e.editorState;(0,e.onChange)(n.removeAllInlineStyles(t))},n.removeAllInlineStyles=function(e){var t=e.getCurrentContent();return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","MONOSPACE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(n){t=s.Modifier.removeInlineStyle(t,e.getSelection(),n)})),A(Object(c.getSelectionCustomInlineStyle)(e,["FONTSIZE","FONTFAMILY","COLOR","BGCOLOR"]),(function(n,r){r&&(t=s.Modifier.removeInlineStyle(t,e.getSelection(),r))})),s.EditorState.push(e,t,"change-inline-style")},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||Un;return i.a.createElement(o,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.removeInlineStyles})}}])&&Qn(t.prototype,n),o&&Qn(t,o),e}();function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Gn.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object.isRequired,config:a.a.object,translations:a.a.object,modalHandler:a.a.object},n(32);var Xn=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Wn(this,(t=Yn(e)).call.apply(t,[this].concat(i)))).onChange=function(e){(0,n.props.onChange)(e)},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(e,r.Component),t=e,(n=[{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,a=e.doCollapse,s=e.currentState,c=s.undoDisabled,u=s.redoDisabled,f=e.translations,d=t.options,h=t.undo,p=t.redo,g=t.className,v=t.dropdownClassName,m=t.title;return i.a.createElement(F,{className:l()("rdw-history-dropdown",g),optionWrapperClassName:l()(v),expanded:n,doExpand:r,doCollapse:a,onExpandEvent:o,"aria-label":"rdw-history-control",title:m||f["components.controls.history.history"]},i.a.createElement("img",{src:w(t),alt:""}),0<=d.indexOf("undo")&&i.a.createElement(q,{value:"undo",onClick:this.onChange,disabled:c,className:l()("rdw-history-dropdownoption",h.className),title:h.title||f["components.controls.history.undo"]},i.a.createElement("img",{src:h.icon,alt:""})),0<=d.indexOf("redo")&&i.a.createElement(q,{value:"redo",onClick:this.onChange,disabled:u,className:l()("rdw-history-dropdownoption",p.className),title:p.title||f["components.controls.history.redo"]},i.a.createElement("img",{src:p.icon,alt:""})))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.undo,o=t.redo,a=t.className,s=e.currentState,c=s.undoDisabled,u=s.redoDisabled,f=e.translations;return i.a.createElement("div",{className:l()("rdw-history-wrapper",a),"aria-label":"rdw-history-control"},0<=n.indexOf("undo")&&i.a.createElement(D,{value:"undo",onClick:this.onChange,className:l()(r.className),disabled:c,title:r.title||f["components.controls.history.undo"]},i.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("redo")&&i.a.createElement(D,{value:"redo",onClick:this.onChange,className:l()(o.className),disabled:u,title:o.title||f["components.controls.history.redo"]},i.a.createElement("img",{src:o.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&qn(t.prototype,n),o&&qn(t,o),e}();function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Xn.propTypes={expanded:a.a.bool,doExpand:a.a.func,doCollapse:a.a.func,onExpandEvent:a.a.func,config:a.a.object,onChange:a.a.func,currentState:a.a.object,translations:a.a.object};var rr=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=er(this,tr(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e){var t=n.props,r=t.editorState,i=t.onChange,o=s.EditorState[e](r);o&&i(o)},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})};var r={expanded:!(n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1}),undoDisabled:!1,redoDisabled:!1},i=t.editorState,o=t.modalHandler;return i&&(r.undoDisabled=0===i.getUndoStack().size,r.redoDisabled=0===i.getRedoStack().size),n.state=r,o.registerCallBack(n.expandCollapse),n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&e.editorState!==t&&this.setState({undoDisabled:0===t.getUndoStack().size,redoDisabled:0===t.getRedoStack().size})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.undoDisabled,a=r.redoDisabled,s=r.expanded,c=t.component||Xn;return i.a.createElement(c,{config:t,translations:n,currentState:{undoDisabled:o,redoDisabled:a},expanded:s,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange})}}])&&$n(t.prototype,n),o&&$n(t,o),e}();rr.propTypes={onChange:a.a.func.isRequired,editorState:a.a.object,modalHandler:a.a.object,config:a.a.object,translations:a.a.object};var ir={inline:oe,blockType:be,fontSize:xe,fontFamily:Ke,list:nt,textAlign:pt,colorPicker:Ot,link:Wt,embedded:un,emoji:En,image:Pn,remove:Gn,history:rr},or=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ar=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function sr(e){return String(e).replace(or,"").match(ar)?e:"#"}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)}function pr(e){var t,n,o=e.showOpenOptionOnHover;return n=t=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=lr(this,(t=fr(e)).call.apply(t,[this].concat(i)))).state={showPopOver:!1},n.openLink=function(){var e=n.props,t=e.entityKey,r=e.contentState.getEntity(t).getData().url,i=window.open(sr(r),"blank");i&&i.focus()},n.toggleShowPopOver=function(){var e=!n.state.showPopOver;n.setState({showPopOver:e})},n}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(e,r.Component),t=e,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.entityKey,r=e.contentState.getEntity(n).getData(),a=r.url,s=r.targetOption,c=this.state.showPopOver;return i.a.createElement("span",{className:"rdw-link-decorator-wrapper",onMouseEnter:this.toggleShowPopOver,onMouseLeave:this.toggleShowPopOver},i.a.createElement("a",{href:sr(a),target:s},t),c&&o?i.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuMDcyIDBIOC45MTVhLjkyNS45MjUgMCAwIDAgMCAxLjg0OWgyLjkyNUw2Ljk2MSA2LjcyN2EuOTE4LjkxOCAwIDAgMC0uMjcuNjU0YzAgLjI0Ny4wOTUuNDguMjcuNjU0YS45MTguOTE4IDAgMCAwIC42NTQuMjcuOTE4LjkxOCAwIDAgMCAuNjUzLS4yN2w0Ljg4LTQuODh2Mi45MjZhLjkyNS45MjUgMCAwIDAgMS44NDggMFYuOTI0QS45MjUuOTI1IDAgMCAwIDE0LjA3MiAweiIvPjxwYXRoIGQ9Ik0xMC42MjMgMTMuNDExSDEuNTg1VjQuMzcyaDYuNzk4bDEuNTg0LTEuNTg0SC43OTJBLjc5Mi43OTIgMCAwIDAgMCAzLjU4djEwLjYyNGMwIC40MzcuMzU1Ljc5Mi43OTIuNzkyaDEwLjYyNGEuNzkyLjc5MiAwIDAgMCAuNzkyLS43OTJWNS4wMjlsLTEuNTg1IDEuNTg0djYuNzk4eiIvPjwvZz48L3N2Zz4=",alt:"",onClick:this.openLink,className:"rdw-link-decorator-icon"}):void 0)}}])&&ur(t.prototype,n),a&&ur(t,a),e}(),t.propTypes={entityKey:a.a.string.isRequired,children:a.a.array,contentState:a.a.object},n}function gr(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,gr),this.getMentionComponent=function(){function e(e){var t=e.entityKey,r=e.children,o=e.contentState.getEntity(t).getData(),a=o.url,s=o.value;return i.a.createElement("a",{href:a||s,className:l()("rdw-mention-link",n)},r)}var n=t.className;return e.propTypes={entityKey:a.a.number,children:a.a.array,contentState:a.a.object},e},this.getMentionDecorator=function(){return{strategy:t.findMentionEntities,component:t.getMentionComponent()}},this.className=e}n(33),n(34),gr.prototype.findMentionEntities=function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()}),t)};var vr=gr;function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(35);var wr=function e(t){var n=this;Er(this,e),this.findSuggestionEntities=function(e,t){if(n.config.getEditorState()){var r=n.config,i=r.separator,o=r.trigger,a=r.getSuggestions,s=(0,r.getEditorState)().getSelection();if(s.get("anchorKey")===e.get("key")&&s.get("anchorKey")===s.get("focusKey")){var c=e.getText(),u=(c=c.substr(0,s.get("focusOffset")===c.length-1?c.length:s.get("focusOffset")+1)).lastIndexOf(i+o),l=i+o;if((void 0===u||u<0)&&c[0]===o&&(u=0,l=o),0<=u){var f=c.substr(u+l.length,c.length);a().some((function(e){return!!e.value&&(n.config.caseSensitive?0<=e.value.indexOf(f):0<=e.value.toLowerCase().indexOf(f&&f.toLowerCase()))}))&&t(0===u?0:u+1,c.length)}}}},this.getSuggestionComponent=function(){var e,t,n=this.config;return t=e=function(){function e(){var t,r;Er(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=br(this,(t=Ar(e)).call.apply(t,[this].concat(o)))).state={style:{left:15},activeOption:-1,showSuggestions:!0},r.onEditorKeyDown=function(e){var t=r.state.activeOption,n={};"ArrowDown"===e.key?(e.preventDefault(),t===r.filteredSuggestions.length-1?n.activeOption=0:n.activeOption=t+1):"ArrowUp"===e.key?n.activeOption=t<=0?r.filteredSuggestions.length-1:t-1:"Escape"===e.key?(n.showSuggestions=!1,m()):"Enter"===e.key&&r.addMention(),r.setState(n)},r.onOptionMouseEnter=function(e){var t=e.target.getAttribute("data-index");r.setState({activeOption:t})},r.onOptionMouseLeave=function(){r.setState({activeOption:-1})},r.setSuggestionReference=function(e){r.suggestion=e},r.setDropdownReference=function(e){r.dropdown=e},r.closeSuggestionDropdown=function(){r.setState({showSuggestions:!1})},r.filteredSuggestions=[],r.filterSuggestions=function(e){var t=e.children[0].props.text.substr(1),i=n.getSuggestions();r.filteredSuggestions=i&&i.filter((function(e){return!t||0===t.length||(n.caseSensitive?0<=e.value.indexOf(t):0<=e.value.toLowerCase().indexOf(t&&t.toLowerCase()))}))},r.addMention=function(){var e=r.state.activeOption,t=n.getEditorState(),i=n.onChange,o=n.separator,a=n.trigger,u=r.filteredSuggestions[e];u&&function(e,t,n,r,i){var o=i.value,a=i.url,u=e.getCurrentContent().createEntity("MENTION","IMMUTABLE",{text:"".concat(r).concat(o),value:o,url:a}).getLastCreatedEntityKey(),l=Object(c.getSelectedBlock)(e).getText(),f=e.getSelection().focusOffset,d=(l.lastIndexOf(n+r,f)||0)+1,h=!1;l.length===d+1&&(f=l.length)," "===l[f]&&(h=!0);var p=e.getSelection().merge({anchorOffset:d,focusOffset:f}),g=s.EditorState.acceptSelection(e,p),v=s.Modifier.replaceText(g.getCurrentContent(),p,"".concat(r).concat(o),g.getCurrentInlineStyle(),u);g=s.EditorState.push(g,v,"insert-characters"),h||(p=g.getSelection().merge({anchorOffset:d+o.length+r.length,focusOffset:d+o.length+r.length}),g=s.EditorState.acceptSelection(g,p),v=s.Modifier.insertText(g.getCurrentContent(),p," ",g.getCurrentInlineStyle(),void 0)),t(s.EditorState.push(g,v,"insert-characters"))}(t,i,o,a,u)},r}var t,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(e,r.Component),t=e,(o=[{key:"componentDidMount",value:function(){var e,t,r,i=n.getWrapperRef().getBoundingClientRect(),o=this.suggestion.getBoundingClientRect(),a=this.dropdown.getBoundingClientRect();i.width<o.left-i.left+a.width?t=15:e=15,i.bottom<a.bottom&&(r=0),this.setState({style:{left:e,right:t,bottom:r}}),g.registerCallBack(this.onEditorKeyDown),v(),n.modalHandler.setSuggestionCallback(this.closeSuggestionDropdown),this.filterSuggestions(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&(this.filterSuggestions(e),this.setState({showSuggestions:!0}))}},{key:"componentWillUnmount",value:function(){g.deregisterCallBack(this.onEditorKeyDown),m(),n.modalHandler.removeSuggestionCallback()}},{key:"render",value:function(){var e=this,t=this.props.children,r=this.state,o=r.activeOption,a=r.showSuggestions,s=n.dropdownClassName,c=n.optionClassName;return i.a.createElement("span",{className:"rdw-suggestion-wrapper",ref:this.setSuggestionReference,onClick:n.modalHandler.onSuggestionClick,"aria-haspopup":"true","aria-label":"rdw-suggestion-popup"},i.a.createElement("span",null,t),a&&i.a.createElement("span",{className:l()("rdw-suggestion-dropdown",s),contentEditable:"false",suppressContentEditableWarning:!0,style:this.state.style,ref:this.setDropdownReference},this.filteredSuggestions.map((function(t,n){return i.a.createElement("span",{key:n,spellCheck:!1,onClick:e.addMention,"data-index":n,onMouseEnter:e.onOptionMouseEnter,onMouseLeave:e.onOptionMouseLeave,className:l()("rdw-suggestion-option",c,{"rdw-suggestion-option-active":n===o})},t.text)}))))}}])&&yr(t.prototype,o),a&&yr(t,a),e}(),e.propTypes={children:a.a.array},t}.bind(this),this.getSuggestionDecorator=function(){return{strategy:n.findSuggestionEntities,component:n.getSuggestionComponent()}};var o=t.separator,u=t.trigger,f=t.getSuggestions,d=t.onChange,h=t.getEditorState,p=t.getWrapperRef,y=t.caseSensitive,b=t.dropdownClassName,A=t.optionClassName,_=t.modalHandler;this.config={separator:o,trigger:u,getSuggestions:f,onChange:d,getEditorState:h,getWrapperRef:p,caseSensitive:y,dropdownClassName:b,optionClassName:A,modalHandler:_}},Ir=function(e){return[new vr(e.mentionClassName).getMentionDecorator(),new wr(e).getSuggestionDecorator()]};function Sr(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Sr),this.getHashtagComponent=function(){function e(e){var t=e.children,r=t[0].props.text;return i.a.createElement("a",{href:r,className:l()("rdw-hashtag-link",n)},t)}var n=t.className;return e.propTypes={children:a.a.object},e},this.findHashtagEntities=function(e,n){for(var r=e.getText(),i=0,o=0;0<r.length&&0<=i;)if(r[0]===t.hashCharacter?(o=i=0,r=r.substr(t.hashCharacter.length)):0<=(i=r.indexOf(t.separator+t.hashCharacter))&&(r=r.substr(i+(t.separator+t.hashCharacter).length),o+=i+t.separator.length),0<=i){var a=0<=r.indexOf(t.separator)?r.indexOf(t.separator):r.length,s=r.substr(0,a);s&&0<s.length&&(n(o,o+s.length+t.hashCharacter.length),o+=t.hashCharacter.length)}},this.getHashtagDecorator=function(){return{strategy:t.findHashtagEntities,component:t.getHashtagComponent()}},this.className=e.className,this.hashCharacter=e.hashCharacter||"#",this.separator=e.separator||" "}function kr(e){var t=e.block,n=e.contentState.getEntity(t.getEntityAt(0)).getData(),r=n.src,o=n.height,a=n.width;return i.a.createElement("iframe",{height:o,width:a,src:r,frameBorder:"0",allowFullScreen:!0,title:"Wysiwyg Embedded Content"})}n(36);var Cr=function(e){return new Sr(e).getHashtagDecorator()};kr.propTypes={block:a.a.object,contentState:a.a.object};var Or=kr;function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(37);var Dr=function(e){var t,n;return n=t=function(){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=xr(this,(n=Mr(t)).call.apply(n,[this].concat(o)))).state={hovered:!1},r.setEntityAlignmentLeft=function(){r.setEntityAlignment("left")},r.setEntityAlignmentRight=function(){r.setEntityAlignment("right")},r.setEntityAlignmentCenter=function(){r.setEntityAlignment("none")},r.setEntityAlignment=function(t){var n=r.props,i=n.block,o=n.contentState,a=i.getEntityAt(0);o.mergeEntityData(a,{alignment:t}),e.onChange(s.EditorState.push(e.getEditorState(),o,"change-block-data")),r.setState({dummy:!0})},r.toggleHovered=function(){var e=!r.state.hovered;r.setState({hovered:e})},r}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(t,r.Component),n=t,(o=[{key:"renderAlignmentOptions",value:function(e){return i.a.createElement("div",{className:l()("rdw-image-alignment-options-popup",{"rdw-image-alignment-options-popup-right":"right"===e})},i.a.createElement(D,{onClick:this.setEntityAlignmentLeft,className:"rdw-image-alignment-option"},"L"),i.a.createElement(D,{onClick:this.setEntityAlignmentCenter,className:"rdw-image-alignment-option"},"C"),i.a.createElement(D,{onClick:this.setEntityAlignmentRight,className:"rdw-image-alignment-option"},"R"))}},{key:"render",value:function(){var t=this.props,n=t.block,r=t.contentState,o=this.state.hovered,a=e.isReadOnly,s=e.isImageAlignmentEnabled,c=r.getEntity(n.getEntityAt(0)).getData(),u=c.src,f=c.alignment,d=c.height,h=c.width,p=c.alt;return i.a.createElement("span",{onMouseEnter:this.toggleHovered,onMouseLeave:this.toggleHovered,className:l()("rdw-image-alignment",{"rdw-image-left":"left"===f,"rdw-image-right":"right"===f,"rdw-image-center":!f||"none"===f})},i.a.createElement("span",{className:"rdw-image-imagewrapper"},i.a.createElement("img",{src:u,alt:p,style:{height:d,width:h}}),!a()&&o&&s()?this.renderAlignmentOptions(f):void 0))}}])&&Rr(n.prototype,o),a&&Rr(n,a),t}(),t.propTypes={block:a.a.object,contentState:a.a.object},n},jr=function(e,t){return function(n){if("function"==typeof t){var r=t(n,e,e.getEditorState);if(r)return r}if("atomic"===n.getType()){var i=e.getEditorState().getCurrentContent().getEntity(n.getEntityAt(0));if(i&&"IMAGE"===i.type)return{component:Dr(e),editable:!1};if(i&&"EMBEDDED_LINK"===i.type)return{component:Or,editable:!1}}}},Lr={options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],inline:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["bold","italic","underline","strikethrough","monospace","superscript","subscript"],bold:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuMjM2IDBjMS42NTIgMCAyLjk0LjI5OCAzLjg2Ni44OTMuOTI1LjU5NSAxLjM4OCAxLjQ4NSAxLjM4OCAyLjY2OSAwIC42MDEtLjE3MyAxLjEzOS0uNTE2IDEuNjEtLjM0My40NzQtLjg0NC44My0xLjQ5OSAxLjA2OC44NDMuMTY3IDEuNDc0LjUyMyAxLjg5NSAxLjA3MS40MTkuNTUuNjMgMS4xODMuNjMgMS45MDMgMCAxLjI0NS0uNDQ0IDIuMTg3LTEuMzMgMi44MjUtLjg4Ni42NDEtMi4xNDQuOTYxLTMuNzY5Ljk2MUgwdi0yLjE2N2gxLjQ5NFYyLjE2N0gwVjBoNi4yMzZ6TTQuMzA4IDUuNDQ2aDIuMDI0Yy43NTIgMCAxLjMzLS4xNDMgMS43MzQtLjQzLjQwNS0uMjg1LjYwOC0uNzAxLjYwOC0xLjI1IDAtLjYtLjIwNC0xLjA0NC0uNjEyLTEuMzMtLjQwOC0uMjg2LTEuMDE2LS40MjctMS44MjYtLjQyN0g0LjMwOHYzLjQzN3ptMCAxLjgwNFYxMWgyLjU5M2MuNzQ3IDAgMS4zMTQtLjE1MiAxLjcwNy0uNDUyLjM5LS4zLjU4OC0uNzQ1LjU4OC0xLjMzNCAwLS42MzYtLjE2OC0xLjEyNC0uNS0xLjQ2LS4zMzYtLjMzNS0uODY0LS41MDQtMS41ODItLjUwNEg0LjMwOHoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},italic:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTcgM1YyaDR2MUg5Ljc1M2wtMyAxMEg4djFINHYtMWgxLjI0N2wzLTEwSDd6Ii8+PC9zdmc+",className:void 0,title:void 0},underline:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTYuMDQ1IDJ2Ljk5Mkw0Ljc4NSAzdjUuMTcyYzAgLjg1OS4yNDMgMS41MTIuNzI3IDEuOTU3czEuMTI0LjY2OCAxLjkxOC42NjhjLjgzNiAwIDEuNTA5LS4yMjEgMi4wMTktLjY2NC41MTEtLjQ0Mi43NjYtMS4wOTYuNzY2LTEuOTYxVjNsLTEuMjYtLjAwOFYySDEzdi45OTJMMTEuNzM5IDN2NS4xNzJjMCAxLjIzNC0uMzk4IDIuMTgxLTEuMTk1IDIuODQtLjc5Ny42NTktMS44MzUuOTg4LTMuMTE0Ljk4OC0xLjI0MiAwLTIuMjQ4LS4zMjktMy4wMTctLjk4OC0uNzY5LS42NTktMS4xNTItMS42MDUtMS4xNTItMi44NFYzTDIgMi45OTJWMmg0LjA0NXpNMiAxM2gxMXYxSDJ6Ii8+PC9zdmc+",className:void 0,title:void 0},strikethrough:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4wNCA1Ljk1NGg2LjIxNWE3LjQxMiA3LjQxMiAwIDAgMC0uNzk1LS40MzggMTEuOTA3IDExLjkwNyAwIDAgMC0xLjQ0Ny0uNTU3Yy0xLjE4OC0uMzQ4LTEuOTY2LS43MTEtMi4zMzQtMS4wODgtLjM2OC0uMzc3LS41NTItLjc3LS41NTItMS4xODEgMC0uNDk1LjE4Ny0uOTA2LjU2LTEuMjMyLjM4LS4zMzEuODg3LS40OTcgMS41MjMtLjQ5Ny42OCAwIDEuMjY2LjI1NSAxLjc1Ny43NjcuMjk1LjMxNS41ODIuODkxLjg2MSAxLjczbC4xMTcuMDE2LjcwMy4wNS4xLS4wMjRjLjAyOC0uMTUyLjA0Mi0uMjc5LjA0Mi0uMzggMC0uMzM3LS4wMzktLjg1Mi0uMTE3LTEuNTQ0YTkuMzc0IDkuMzc0IDAgMCAwLS4xNzYtLjk5NUM5Ljg4LjM3OSA5LjM4NS4yNDQgOS4wMTcuMTc2IDguMzY1LjA3IDcuODk5LjAxNiA3LjYyLjAxNmMtMS40NSAwLTIuNTQ1LjM1Ny0zLjI4NyAxLjA3MS0uNzQ3LjcyLTEuMTIgMS41ODktMS4xMiAyLjYwNyAwIC41MTEuMTMzIDEuMDQuNCAxLjU4Ni4xMjkuMjUzLjI3LjQ3OC40MjcuNjc0ek04LjI4IDguMTE0Yy41NzUuMjM2Ljk1Ny40MzYgMS4xNDcuNTk5LjQ1MS40MS42NzcuODUyLjY3NyAxLjMyNCAwIC4zODMtLjEzLjc0NS0uMzkzIDEuMDg4LS4yNS4zMzgtLjU5LjU4LTEuMDIuNzI2YTMuNDE2IDMuNDE2IDAgMCAxLTEuMTYzLjIyOGMtLjQwNyAwLS43NzUtLjA2Mi0xLjEwNC0uMTg2YTIuNjk2IDIuNjk2IDAgMCAxLS44NzgtLjQ4IDMuMTMzIDMuMTMzIDAgMCAxLS42Ny0uNzk0IDEuNTI3IDEuNTI3IDAgMCAxLS4xMDQtLjIyNyA1Ny41MjMgNTcuNTIzIDAgMCAwLS4xODgtLjQ3MyAyMS4zNzEgMjEuMzcxIDAgMCAwLS4yNTEtLjU5OWwtLjg1My4wMTd2LjM3MWwtLjAxNy4zMTNhOS45MiA5LjkyIDAgMCAwIDAgLjU3M2MuMDExLjI3LjAxNy43MDkuMDE3IDEuMzE2di4xMWMwIC4wNzkuMDIyLjE0LjA2Ny4xODUuMDgzLjA2OC4yODQuMTQ3LjYwMi4yMzdsMS4xNy4zMzdjLjQ1Mi4xMy45OTYuMTk0IDEuNjMyLjE5NC42ODYgMCAxLjI1Mi0uMDU5IDEuNjk4LS4xNzdhNC42OTQgNC42OTQgMCAwIDAgMS4yOC0uNTU3Yy40MDEtLjI1OS43MDUtLjQ4Ni45MTEtLjY4My4yNjgtLjI3Ni40NjYtLjU2OC41OTQtLjg3OGE0Ljc0IDQuNzQgMCAwIDAgLjM0My0xLjc4OGMwLS4yOTgtLjAyLS41NTctLjA1OC0uNzc2SDguMjgxek0xNC45MTQgNi41N2EuMjYuMjYgMCAwIDAtLjE5My0uMDc2SC4yNjhhLjI2LjI2IDAgMCAwLS4xOTMuMDc2LjI2NC4yNjQgMCAwIDAtLjA3NS4xOTR2LjU0YzAgLjA3OS4wMjUuMTQzLjA3NS4xOTRhLjI2LjI2IDAgMCAwIC4xOTMuMDc2SDE0LjcyYS4yNi4yNiAwIDAgMCAuMTkzLS4wNzYuMjY0LjI2NCAwIDAgMCAuMDc1LS4xOTR2LS41NGEuMjY0LjI2NCAwIDAgMC0uMDc1LS4xOTR6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},monospace:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ0NCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS4wMjEgMi45MDZjLjE4NiAxLjIxOS4zNzIgMS41LjM3MiAyLjcxOUMxLjM5MyA2LjM3NSAwIDcuMDMxIDAgNy4wMzF2LjkzOHMxLjM5My42NTYgMS4zOTMgMS40MDZjMCAxLjIxOS0uMTg2IDEuNS0uMzcyIDIuNzE5Qy43NDMgMTQuMDYzIDEuNzY0IDE1IDIuNjkzIDE1aDEuOTV2LTEuODc1cy0xLjY3Mi4xODgtMS42NzItLjkzOGMwLS44NDMuMTg2LS44NDMuMzcyLTIuNzE4LjA5My0uODQ0LS40NjQtMS41LTEuMDIyLTEuOTY5LjU1OC0uNDY5IDEuMTE1LTEuMDMxIDEuMDIyLTEuODc1QzMuMDY0IDMuNzUgMi45NyAzLjc1IDIuOTcgMi45MDZjMC0xLjEyNSAxLjY3Mi0xLjAzMSAxLjY3Mi0xLjAzMVYwaC0xLjk1QzEuNjcgMCAuNzQzLjkzOCAxLjAyIDIuOTA2ek0xMS45NzkgMi45MDZjLS4xODYgMS4yMTktLjM3MiAxLjUtLjM3MiAyLjcxOSAwIC43NSAxLjM5MyAxLjQwNiAxLjM5MyAxLjQwNnYuOTM4cy0xLjM5My42NTYtMS4zOTMgMS40MDZjMCAxLjIxOS4xODYgMS41LjM3MiAyLjcxOS4yNzggMS45NjktLjc0MyAyLjkwNi0xLjY3MiAyLjkwNmgtMS45NXYtMS44NzVzMS42NzIuMTg4IDEuNjcyLS45MzhjMC0uODQzLS4xODYtLjg0My0uMzcyLTIuNzE4LS4wOTMtLjg0NC40NjQtMS41IDEuMDIyLTEuOTY5LS41NTgtLjQ2OS0xLjExNS0xLjAzMS0xLjAyMi0xLjg3NS4xODYtMS44NzUuMzcyLTEuODc1LjM3Mi0yLjcxOSAwLTEuMTI1LTEuNjcyLTEuMDMxLTEuNjcyLTEuMDMxVjBoMS45NWMxLjAyMiAwIDEuOTUuOTM4IDEuNjcyIDIuOTA2eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},superscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcuMzA1IDEwLjE2NUwxMS44NjUgMTVIOS4wNTdsLTMuMTkyLTMuNTM2TDIuNzQ2IDE1SDBsNC41MjMtNC44MzVMLjIxOCA1LjYwM2gyLjc3TDUuOTg2IDguOTEgOS4wMSA1LjYwM2gyLjY0OWwtNC4zNTQgNC41NjJ6bTYuMjM0LTMuMjY5bDEuODc5LTEuMzA2Yy42NC0uNDE2IDEuMDYyLS44MDEgMS4yNjQtMS4xNTcuMjAxLS4zNTYuMzAyLS43MzguMzAyLTEuMTQ4IDAtLjY2OS0uMjM3LTEuMjEtLjcxLTEuNjItLjQ3NC0uNDExLTEuMDk3LS42MTctMS44NjgtLjYxNy0uNzQ0IDAtMS4zNC4yMDgtMS43ODUuNjI0LS40NDcuNDE2LS42NyAxLjA0My0uNjcgMS44ODFoMS40MzZjMC0uNS4wOTQtLjg0Ni4yODEtMS4wMzguMTg4LS4xOTEuNDQ1LS4yODcuNzcyLS4yODdzLjU4NS4wOTcuNzc3LjI5MmMuMTkuMTk1LjI4Ni40MzcuMjg2LjcyNiAwIC4yOS0uMDg5LjU1LS4yNjYuNzg1cy0uNjcuNjI4LTEuNDc5IDEuMTg0Yy0uNjkxLjQ3Ny0xLjYyNy45MjctMS45MDggMS4zNWwuMDE0IDEuNTY5SDE3VjYuODk2aC0zLjQ2MXoiLz48L3N2Zz4=",className:void 0,title:void 0},subscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjg2NiAxMS42NDZIOS4wNkw1Ljg2NyA3Ljk0MmwtMy4xMjEgMy43MDRIMGw0LjUyNC01LjA2NEwuMjE4IDEuODA0aDIuNzdsMyAzLjQ2NCAzLjAyMy0zLjQ2NGgyLjY1TDcuMzA2IDYuNTgybDQuNTYgNS4wNjR6bTEuNzI1IDIuMDU4bDEuODI3LTEuMzY4Yy42NC0uNDM1IDEuMDYyLS44NCAxLjI2NC0xLjIxMi4yMDItLjM3Mi4zMDItLjc3My4zMDItMS4yMDIgMC0uNy0uMjM3LTEuMjY2LS43MS0xLjY5Ni0uNDc0LS40MzEtMS4wOTctLjY0Ni0xLjg2OS0uNjQ2LS43NDQgMC0xLjM0LjIxOC0xLjc4NS42NTMtLjQ0Ni40MzYtLjY3IDEuMDkyLS42NyAxLjk3aDEuNDM2YzAtLjUyNC4wOTQtLjg4Ni4yODEtMS4wODcuMTg4LS4yLjQ0NS0uMzAxLjc3Mi0uMzAxcy41ODYuMTAyLjc3Ny4zMDZjLjE5LjIwNC4yODYuNDU4LjI4Ni43NiAwIC4zMDMtLjA4OC41NzctLjI2Ni44MjItLjE3Ny4yNDUtLjY3LjY1OC0xLjQ3OCAxLjI0LS42OTIuNS0xLjYyOC45NzEtMS45MSAxLjQxM0wxMS44NjQgMTVIMTd2LTEuMjk2aC0zLjQxeiIvPjwvc3ZnPg==",className:void 0,title:void 0}},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontSize:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuOTIxIDMuMTE5YS40MjcuNDI3IDAgMCAwIC4zMzUuMTY0aC45N2EuNDI2LjQyNiAwIDAgMCAuMzA0LS4xMy40NDEuNDQxIDAgMCAwIC4xMjUtLjMxbC4wMDItMi40MWEuNDM0LjQzNCAwIDAgMC0uNDMtLjQzMkguNDNBLjQzNC40MzQgMCAwIDAgMCAuNDR2Mi40MDZjMCAuMjQyLjE5Mi40MzguNDMuNDM4aC45N2MuMTMgMCAuMjU0LS4wNi4zMzUtLjE2NWwuNzMtLjkzSDUuNTR2MTEuMzZjMCAuMjQxLjE5Mi40MzcuNDMuNDM3aDEuNzE3Yy4yMzcgMCAuNDMtLjE5Ni40My0uNDM3VjIuMTg4aDMuMDdsLjczNC45MzF6TTEzLjg5OCAxMS4yNjNhLjQyNS40MjUgMCAwIDAtLjQ4Mi0uMTQ2bC0uNTQ3LjE5NFY5LjYxN2EuNDQyLjQ0MiAwIDAgMC0uMTI2LS4zMS40MjYuNDI2IDAgMCAwLS4zMDQtLjEyN2gtLjQyOWEuNDM0LjQzNCAwIDAgMC0uNDMuNDM3djEuNjk0bC0uNTQ3LS4xOTRhLjQyNS40MjUgMCAwIDAtLjQ4MS4xNDYuNDQ0LjQ0NCAwIDAgMC0uMDE2LjUxMmwxLjMzMiAyLjAxN2EuNDI3LjQyNyAwIDAgMCAuNzEzIDBsMS4zMzMtMi4wMTdhLjQ0NC40NDQgMCAwIDAtLjAxNi0uNTEyeiIvPjwvZz48L3N2Zz4=",options:[8,9,10,11,12,14,16,18,24,30,36,48,60,72,96],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},list:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["unordered","ordered","indent","outdent"],unordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS43MiAzLjQyN2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3LjAxIDEuNzIuMDFDLjc3LjAwOCAwIC43NzUgMCAxLjcxNWMwIC45NC43NzQgMS43MTEgMS43MiAxLjcxMXptMC0yLjYyNWMuNTEgMCAuOTIyLjQxMi45MjIuOTE0YS45Mi45MiAwIDAgMS0xLjg0MiAwIC45Mi45MiAwIDAgMSAuOTItLjkxNHpNMS43MiA4LjcwM2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3IDUuMjg3IDEuNzIgNS4yODdDLjc3IDUuMjg3IDAgNi4wNTIgMCA2Ljk5NXMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjJjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAwIDEtMS44NDIgMGMwLS41MDUuNDE1LS45MTQuOTItLjkxNHpNMS43MiAxMy45ODJjLjk1MSAwIDEuNzIyLS43NjggMS43MjItMS43MDggMC0uOTQzLS43NzQtMS43MDgtMS43MjEtMS43MDgtLjk0NyAwLTEuNzIxLjc2OC0xLjcyMSAxLjcwOHMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjVjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAxIDEtMS44NDIgMCAuOTIuOTIgMCAwIDEgLjkyLS45MTR6TTUuNzQ0IDIuMTE1aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OS40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDcuMzk0aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOThINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OC40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDEyLjY3aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjQuNC40IDAgMCAwIC40MDIuMzk4eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},ordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4yMDIgMS40NjZoOC4xNWMuMzM4IDAgLjYxMi0uMzIyLjYxMi0uNzIgMC0uMzk3LS4yNzQtLjcyLS42MTItLjcyaC04LjE1Yy0uMzM4IDAtLjYxMS4zMjMtLjYxMS43MiAwIC4zOTguMjczLjcyLjYxLjcyek0xMi4zNTIgNS43ODNoLTguMTVjLS4zMzggMC0uNjExLjMyMi0uNjExLjcyIDAgLjM5Ny4yNzMuNzIuNjEuNzJoOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5OC0uMjc0LS43Mi0uNjEyLS43MnpNMTIuMzUyIDExLjU0aC04LjE1Yy0uMzM4IDAtLjYxMS4zMjItLjYxMS43MiAwIC4zOTYuMjczLjcxOS42MS43MTloOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5Ny0uMjc0LS43Mi0uNjEyLS43MnpNLjc2NyAxLjI0OXYxLjgwMmMwIC4xOTUuMTM2LjM0My4zMTUuMzQzLjE3NiAwIC4zMTUtLjE1LjMxNS0uMzQzVi4zNTZjMC0uMTktLjEzMy0uMzM5LS4zMDItLjMzOS0uMTQ4IDAtLjIyMy4xMTgtLjI0Ny4xNTZhLjIyOC4yMjggMCAwIDAtLjAwMy4wMDVMLjU3OS42MjFhLjQ3NC40NzQgMCAwIDAtLjA5OC4yNzNjMCAuMTk0LjEyOC4zNTEuMjg2LjM1NXpNLjM1MiA4LjE5SDEuNTVjLjE1NyAwIC4yODUtLjE2Mi4yODUtLjM2MiAwLS4xOTgtLjEyOC0uMzU5LS4yODUtLjM1OUguNjh2LS4wMDZjMC0uMTA3LjIxLS4yODEuMzc4LS40MjIuMzM2LS4yNzguNzUzLS42MjUuNzUzLTEuMjI2IDAtLjU3LS4zNzYtMS0uODc0LTEtLjQ3NyAwLS44MzYuMzg1LS44MzYuODk3IDAgLjI5Ny4xNjQuNDAyLjMwNS40MDIuMiAwIC4zMjEtLjE3Ni4zMjEtLjM0NiAwLS4xMDYuMDIzLS4yMjguMjA0LS4yMjguMjQzIDAgLjI1LjI1NC4yNS4yODMgMCAuMjI4LS4yNTIuNDQyLS40OTUuNjQ5LS4zMDEuMjU1LS42NDIuNTQ0LS42NDIuOTkydi4zODRjMCAuMjA1LjE1OS4zNDMuMzA4LjM0M3pNMS43NyAxMC41NDNjMC0uNTkyLS4yOTYtLjkzMS0uODE0LS45MzEtLjY4IDAtLjg1OS41Ny0uODU5Ljg3MiAwIC4zNTEuMjIyLjM5LjMxOC4zOS4xODUgMCAuMzEtLjE0OC4zMS0uMzY2IDAtLjA4NC4wMjYtLjE4MS4yMjQtLjE4MS4xNDIgMCAuMi4wMjQuMi4yNjcgMCAuMjM3LS4wNDMuMjYzLS4yMTMuMjYzLS4xNjQgMC0uMjg4LjE1Mi0uMjg4LjM1NCAwIC4yLjEyNS4zNS4yOTEuMzUuMjI1IDAgLjI3LjEwOC4yNy4yODN2LjA3NWMwIC4yOTQtLjA5Ny4zNS0uMjc3LjM1LS4yNDggMC0uMjY3LS4xNS0uMjY3LS4xOTcgMC0uMTc0LS4wOTgtLjM1LS4zMTctLjM1LS4xOTIgMC0uMzA3LjE0MS0uMzA3LjM3OCAwIC40My4zMTMuODg4Ljg5NS44ODguNTY0IDAgLjkwMS0uNC45MDEtMS4wN3YtLjA3NGMwLS4yNzQtLjA3NC0uNTAyLS4yMTQtLjY2Ni4wOTYtLjE2My4xNDgtLjM4LjE0OC0uNjM1eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},indent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS43MTYgMy4yMTFIMTd2MS4xOTdINS43MTZ6TTAgLjAyaDE3djEuMTk3SDB6TTAgMTIuNzgzaDE3djEuMTk3SDB6TTUuNzE2IDkuNTkzSDE3djEuMTk3SDUuNzE2ek01LjcxNiA2LjQwMkgxN3YxLjE5N0g1LjcxNnpNLjE4NyA5LjQ5MUwyLjUyIDcgLjE4NyA0LjUwOXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},outdent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS4zOTYgMy4xOTNoMTAuNTczVjQuMzlINS4zOTZ6TS4wMzkuMDAzaDE1LjkzVjEuMkguMDM5ek0uMDM5IDEyLjc2NmgxNS45M3YxLjE5N0guMDM5ek01LjM5NiA5LjU3NWgxMC41NzN2MS4xOTdINS4zOTZ6TTUuMzk2IDYuMzg0aDEwLjU3M3YxLjE5N0g1LjM5NnpNMi4xODcgNC40OTFMMCA2Ljk4M2wyLjE4NyAyLjQ5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},title:void 0},textAlign:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["left","center","right","justify"],left:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNOC40OTMgMTQuODg3SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4IDEwLjE2MkguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1M2gxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUzek04LjQ5MyA1LjQzNUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOC43MDlILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTJoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},center:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuNTU2IDE0Ljg4N0gzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTggMTAuMTYySC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUzaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6TTExLjU1NiA1LjQzNUgzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTguNzA5SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTJ6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},right:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjE4IDE0Ljg4N0g2LjQ1YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOCAxMC4xNjJILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTNoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1M3pNMTQuNjE4IDUuNDM1SDYuNDVhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4LjcwOUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1MmgxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyeiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},justify:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjIgMTQuODg4SC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgMTAuMTYySC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgNS40MzZILjMyNWEuMzI2LjMyNiAwIDAgMSAwLS42NTJIMTQuNjJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42Mi43MUguMzI1YS4zMjYuMzI2IDAgMCAxIDAtLjY1M0gxNC42MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},title:void 0},colorPicker:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNDA2LjU4NWExLjk5OCAxLjk5OCAwIDAgMC0yLjgyNSAwbC0uNTQuNTRhLjc0MS43NDEgMCAxIDAtMS4wNDggMS4wNDhsLjE3NS4xNzUtNS44MjYgNS44MjUtMi4wMjIgMi4wMjNhLjkxLjkxIDAgMCAwLS4yNjYuNjAybC0uMDA1LjEwOHYuMDAybC0uMDgxIDEuODI5YS4zMDIuMzAyIDAgMCAwIC4zMDIuMzE2aC4wMTNsLjk3LS4wNDQuNTkyLS4wMjYuMjY4LS4wMTJjLjI5Ny0uMDEzLjU3OS0uMTM3Ljc5LS4zNDdsNy43Ny03Ljc3LjE0Ni4xNDRhLjc0Ljc0IDAgMCAwIDEuMDQ4IDBjLjI5LS4yOS4yOS0uNzU5IDAtMS4wNDhsLjU0LS41NGMuNzgtLjc4Ljc4LTIuMDQ0IDAtMi44MjV6TTguNzk1IDcuMzMzbC0yLjczLjUxNSA0LjQ1Mi00LjQ1MiAxLjEwOCAxLjEwNy0yLjgzIDIuODN6TTIuMDggMTMuNjczYy0xLjE0OCAwLTIuMDguMjk1LTIuMDguNjYgMCAuMzYzLjkzMi42NTggMi4wOC42NTggMS4xNSAwIDIuMDgtLjI5NCAyLjA4LS42NTkgMC0uMzY0LS45My0uNjU5LTIuMDgtLjY1OXoiLz48L2c+PC9zdmc+",className:void 0,component:void 0,popupClassName:void 0,colors:["rgb(97,189,109)","rgb(26,188,156)","rgb(84,172,210)","rgb(44,130,201)","rgb(147,101,184)","rgb(71,85,119)","rgb(204,204,204)","rgb(65,168,95)","rgb(0,168,133)","rgb(61,142,185)","rgb(41,105,176)","rgb(85,57,130)","rgb(40,50,78)","rgb(0,0,0)","rgb(247,218,100)","rgb(251,160,38)","rgb(235,107,86)","rgb(226,80,65)","rgb(163,143,132)","rgb(239,239,239)","rgb(255,255,255)","rgb(250,197,28)","rgb(243,121,52)","rgb(209,72,65)","rgb(184,49,47)","rgb(124,112,107)","rgb(209,213,216)"],title:void 0},link:{inDropdown:!1,className:void 0,component:void 0,popupClassName:void 0,dropdownClassName:void 0,showOpenOptionOnHover:!0,defaultTargetOption:"_self",options:["link","unlink"],link:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjk2Ny45NUEzLjIyNiAzLjIyNiAwIDAgMCAxMS42Ny4wMDJjLS44NyAwLTEuNjg2LjMzNy0yLjI5Ny45NDhMNy4xMDUgMy4yMThBMy4yNDcgMy4yNDcgMCAwIDAgNi4yNCA2LjI0YTMuMjI1IDMuMjI1IDAgMCAwLTMuMDIyLjg2NUwuOTUgOS4zNzNhMy4yNTMgMy4yNTMgMCAwIDAgMCA0LjU5NCAzLjIyNiAzLjIyNiAwIDAgMCAyLjI5Ny45NDhjLjg3IDAgMS42ODYtLjMzNiAyLjI5OC0uOTQ4TDcuODEyIDExLjdhMy4yNDcgMy4yNDcgMCAwIDAgLjg2NS0zLjAyMyAzLjIyNSAzLjIyNSAwIDAgMCAzLjAyMi0uODY1bDIuMjY4LTIuMjY3YTMuMjUyIDMuMjUyIDAgMCAwIDAtNC41OTV6TTcuMTA1IDEwLjk5M0w0LjgzNyAxMy4yNmEyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NSAyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LS42NTUgMi4yNTIgMi4yNTIgMCAwIDEgMC0zLjE4bDIuMjY4LTIuMjY4YTIuMjMyIDIuMjMyIDAgMCAxIDEuNTktLjY1NWMuNDMgMCAuODQxLjEyIDEuMTk1LjM0M0w0Ljc3MiA5LjQzOGEuNS41IDAgMSAwIC43MDcuNzA3bDEuOTM5LTEuOTM4Yy41NDUuODY4LjQ0MiAyLjAzLS4zMTMgMi43ODV6bTYuMTU1LTYuMTU1bC0yLjI2OCAyLjI2N2EyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NWMtLjQzMSAwLS44NDEtLjEyLTEuMTk1LS4zNDNsMS45MzgtMS45MzhhLjUuNSAwIDEgMC0uNzA3LS43MDdMNy40OTkgNi43MWEyLjI1MiAyLjI1MiAwIDAgMSAuMzEzLTIuNzg1bDIuMjY3LTIuMjY4YTIuMjMzIDIuMjMzIDAgMCAxIDEuNTktLjY1NSAyLjIzMyAyLjIzMyAwIDAgMSAyLjI0NiAyLjI0NWMwIC42MDMtLjIzMiAxLjE2OC0uNjU1IDEuNTl6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",className:void 0,title:void 0},unlink:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTMuOTU2IDEuMDM3YTMuNTUgMy41NSAwIDAgMC01LjAxNCAwTDYuNDM2IDMuNTQ0YS41NDUuNTQ1IDAgMSAwIC43Ny43N2wyLjUwOC0yLjUwNmEyLjQzOCAyLjQzOCAwIDAgMSAxLjczNS0uNzE1Yy42NTggMCAxLjI3NS4yNTQgMS43MzYuNzE1LjQ2LjQ2MS43MTUgMS4wNzguNzE1IDEuNzM2IDAgLjY1OC0uMjU0IDEuMjc0LS43MTUgMS43MzVMOS45MDcgOC41NThhMi40NTggMi40NTggMCAwIDEtMy40NzIgMCAuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3MSAzLjUzNCAzLjUzNCAwIDAgMCAyLjUwNyAxLjAzN2MuOTA4IDAgMS44MTYtLjM0NiAyLjUwNy0xLjAzN2wzLjI3OC0zLjI3OGEzLjUyIDMuNTIgMCAwIDAgMS4wMzUtMi41MDdjMC0uOTUtLjM2Ny0xLjg0LTEuMDM1LTIuNTA3eiIvPjxwYXRoIGQ9Ik03LjQgMTEuMDY1bC0yLjEyMiAyLjEyYTIuNDM3IDIuNDM3IDAgMCAxLTEuNzM1LjcxNiAyLjQzNyAyLjQzNyAwIDAgMS0xLjczNi0uNzE1IDIuNDU3IDIuNDU3IDAgMCAxIDAtMy40NzFsMy4wODYtMy4wODZhMi40MzggMi40MzggMCAwIDEgMS43MzUtLjcxNWMuNjU4IDAgMS4yNzUuMjU0IDEuNzM2LjcxNWEuNTQ1LjU0NSAwIDEgMCAuNzcxLS43NzEgMy41NSAzLjU1IDAgMCAwLTUuMDE0IDBMMS4wMzYgOC45NDRBMy41MiAzLjUyIDAgMCAwIDAgMTEuNDVjMCAuOTUuMzY3IDEuODQgMS4wMzUgMi41MDdhMy41MiAzLjUyIDAgMCAwIDIuNTA2IDEuMDM1Yy45NSAwIDEuODQtLjM2OCAyLjUwNy0xLjAzNWwyLjEyMi0yLjEyMWEuNTQ1LjU0NSAwIDAgMC0uNzcxLS43NzF6TTkuMjc0IDEyLjAwMmEuNTQ2LjU0NiAwIDAgMC0uNTQ2LjU0NXYxLjYzN2EuNTQ2LjU0NiAwIDAgMCAxLjA5MSAwdi0xLjYzN2EuNTQ1LjU0NSAwIDAgMC0uNTQ1LS41NDV6TTExLjIzIDExLjYxNmEuNTQ1LjU0NSAwIDEgMC0uNzcyLjc3MmwxLjE1NyAxLjE1NmEuNTQzLjU0MyAwIDAgMCAuNzcxIDAgLjU0NS41NDUgMCAwIDAgMC0uNzdsLTEuMTU2LTEuMTU4ek0xMi41MzcgOS44MkgxMC45YS41NDYuNTQ2IDAgMCAwIDAgMS4wOTFoMS42MzdhLjU0Ni41NDYgMCAwIDAgMC0xLjA5ek00LjkxIDMuNTQ3YS41NDYuNTQ2IDAgMCAwIC41NDUtLjU0NVYxLjM2NmEuNTQ2LjU0NiAwIDAgMC0xLjA5IDB2MS42MzZjMCAuMzAxLjI0NC41NDUuNTQ1LjU0NXpNMi44ODggMy45MzNhLjU0My41NDMgMCAwIDAgLjc3MSAwIC41NDUuNTQ1IDAgMCAwIDAtLjc3MUwyLjUwMiAyLjAwNWEuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3bDEuMTU3IDEuMTU4ek0xLjYyOCA1LjczaDEuNjM2YS41NDYuNTQ2IDAgMCAwIDAtMS4wOTJIMS42MjhhLjU0Ni41NDYgMCAwIDAgMCAxLjA5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},linkCallback:void 0},emoji:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjE1LjcyOSAyMi4wODIgMTcgMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI5LjcwOCAyNS4xMDRjLTMuMDIxLTMuMDIyLTcuOTM3LTMuMDIyLTEwLjk1OCAwLTMuMDIxIDMuMDItMy4wMiA3LjkzNiAwIDEwLjk1OCAzLjAyMSAzLjAyIDcuOTM3IDMuMDIgMTAuOTU4LS4wMDEgMy4wMi0zLjAyMSAzLjAyLTcuOTM2IDAtMTAuOTU3em0tLjg0NSAxMC4xMTJhNi41NiA2LjU2IDAgMCAxLTkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAtOS4yNjcgNi41NiA2LjU2IDAgMCAxIDkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAgOS4yNjd6bS03LjUyNC02LjczYS45MDYuOTA2IDAgMSAxIDEuODExIDAgLjkwNi45MDYgMCAwIDEtMS44MTEgMHptNC4xMDYgMGEuOTA2LjkwNiAwIDEgMSAxLjgxMiAwIC45MDYuOTA2IDAgMCAxLTEuODEyIDB6bTIuMTQxIDMuNzA4Yy0uNTYxIDEuMjk4LTEuODc1IDIuMTM3LTMuMzQ4IDIuMTM3LTEuNTA1IDAtMi44MjctLjg0My0zLjM2OS0yLjE0N2EuNDM4LjQzOCAwIDAgMSAuODEtLjMzNmMuNDA1Ljk3NiAxLjQxIDEuNjA3IDIuNTU5IDEuNjA3IDEuMTIzIDAgMi4xMjEtLjYzMSAyLjU0NC0xLjYwOGEuNDM4LjQzOCAwIDAgMSAuODA0LjM0N3oiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,emojis:["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83d\ude03","\ud83d\ude09","\ud83d\ude0b","\ud83d\ude0e","\ud83d\ude0d","\ud83d\ude17","\ud83e\udd17","\ud83e\udd14","\ud83d\ude23","\ud83d\ude2b","\ud83d\ude34","\ud83d\ude0c","\ud83e\udd13","\ud83d\ude1b","\ud83d\ude1c","\ud83d\ude20","\ud83d\ude07","\ud83d\ude37","\ud83d\ude08","\ud83d\udc7b","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc7c","\ud83d\udc6e","\ud83d\udd75","\ud83d\udc82","\ud83d\udc73","\ud83c\udf85","\ud83d\udc78","\ud83d\udc70","\ud83d\udc72","\ud83d\ude4d","\ud83d\ude47","\ud83d\udeb6","\ud83c\udfc3","\ud83d\udc83","\u26f7","\ud83c\udfc2","\ud83c\udfcc","\ud83c\udfc4","\ud83d\udea3","\ud83c\udfca","\u26f9","\ud83c\udfcb","\ud83d\udeb4","\ud83d\udc6b","\ud83d\udcaa","\ud83d\udc48","\ud83d\udc49","\ud83d\udc46","\ud83d\udd95","\ud83d\udc47","\ud83d\udd96","\ud83e\udd18","\ud83d\udd90","\ud83d\udc4c","\ud83d\udc4d","\ud83d\udc4e","\u270a","\ud83d\udc4a","\ud83d\udc4f","\ud83d\ude4c","\ud83d\ude4f","\ud83d\udc35","\ud83d\udc36","\ud83d\udc07","\ud83d\udc25","\ud83d\udc38","\ud83d\udc0c","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83c\udf49","\ud83c\udf44","\ud83c\udf54","\ud83c\udf64","\ud83c\udf68","\ud83c\udf6a","\ud83c\udf82","\ud83c\udf70","\ud83c\udf7e","\ud83c\udf77","\ud83c\udf78","\ud83c\udf7a","\ud83c\udf0d","\ud83d\ude91","\u23f0","\ud83c\udf19","\ud83c\udf1d","\ud83c\udf1e","\u2b50","\ud83c\udf1f","\ud83c\udf20","\ud83c\udf28","\ud83c\udf29","\u26c4","\ud83d\udd25","\ud83c\udf84","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf81","\ud83c\udf97","\ud83c\udfc0","\ud83c\udfc8","\ud83c\udfb2","\ud83d\udd07","\ud83d\udd08","\ud83d\udce3","\ud83d\udd14","\ud83c\udfb5","\ud83c\udfb7","\ud83d\udcb0","\ud83d\udd8a","\ud83d\udcc5","\u2705","\u274e","\ud83d\udcaf"],title:void 0},embedded:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNzA4IDYuNjE1YS40MzYuNDM2IDAgMCAwLS41NDMuMjkxbC0xLjgzIDYuMDQ1YS40MzYuNDM2IDAgMCAwIC44MzMuMjUyTDcgNy4xNmEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHpNOC45MzEgNi42MTVhLjQzNi40MzYgMCAwIDAtLjU0My4yOTFsLTEuODMgNi4wNDVhLjQzNi40MzYgMCAwIDAgLjgzNC4yNTJsMS44My02LjA0NGEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHoiLz48cGF0aCBkPSJNMTYuNTY0IDBILjQzNkEuNDM2LjQzNiAwIDAgMCAwIC40MzZ2MTYuMTI4YzAgLjI0LjE5NS40MzYuNDM2LjQzNmgxNi4xMjhjLjI0IDAgLjQzNi0uMTk1LjQzNi0uNDM2Vi40MzZBLjQzNi40MzYgMCAwIDAgMTYuNTY0IDB6TTMuNDg3Ljg3MmgxMC4wMjZ2MS43NDNIMy40ODdWLjg3MnptLTIuNjE1IDBoMS43NDN2MS43NDNILjg3MlYuODcyem0xNS4yNTYgMTUuMjU2SC44NzJWMy40ODhoMTUuMjU2djEyLjY0em0wLTEzLjUxM2gtMS43NDNWLjg3MmgxLjc0M3YxLjc0M3oiLz48Y2lyY2xlIGN4PSI5My44NjciIGN5PSIyNDUuMDY0IiByPSIxMy4xMjgiIHRyYW5zZm9ybT0ibWF0cml4KC4wMzMyIDAgMCAuMDMzMiAwIDApIi8+PGNpcmNsZSBjeD0iOTMuODY3IiBjeT0iMzYwLjU5MiIgcj0iMTMuMTI4IiB0cmFuc2Zvcm09Im1hdHJpeCguMDMzMiAwIDAgLjAzMzIgMCAwKSIvPjxwYXRoIGQ9Ik0xNC4yNTQgMTIuNjQxSDEwLjJhLjQzNi40MzYgMCAwIDAgMCAuODcyaDQuMDU0YS40MzYuNDM2IDAgMCAwIDAtLjg3MnoiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,embedCallback:void 0,defaultSize:{height:"auto",width:"auto"},title:void 0},image:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNzQxIDBILjI2Qy4xMTYgMCAwIC4xMzYgMCAuMzA0djEzLjM5MmMwIC4xNjguMTE2LjMwNC4yNTkuMzA0SDE0Ljc0Yy4xNDMgMCAuMjU5LS4xMzYuMjU5LS4zMDRWLjMwNEMxNSAuMTM2IDE0Ljg4NCAwIDE0Ljc0MSAwem0tLjI1OCAxMy4zOTFILjUxN1YuNjFoMTMuOTY2VjEzLjM5eiIvPjxwYXRoIGQ9Ik00LjEzOCA2LjczOGMuNzk0IDAgMS40NC0uNzYgMS40NC0xLjY5NXMtLjY0Ni0xLjY5NS0xLjQ0LTEuNjk1Yy0uNzk0IDAtMS40NC43Ni0xLjQ0IDEuNjk1IDAgLjkzNC42NDYgMS42OTUgMS40NCAxLjY5NXptMC0yLjc4MWMuNTA5IDAgLjkyMy40ODcuOTIzIDEuMDg2IDAgLjU5OC0uNDE0IDEuMDg2LS45MjMgMS4wODYtLjUwOSAwLS45MjMtLjQ4Ny0uOTIzLTEuMDg2IDAtLjU5OS40MTQtMS4wODYuOTIzLTEuMDg2ek0xLjgxIDEyLjE3NGMuMDYgMCAuMTIyLS4wMjUuMTcxLS4wNzZMNi4yIDcuNzI4bDIuNjY0IDMuMTM0YS4yMzIuMjMyIDAgMCAwIC4zNjYgMCAuMzQzLjM0MyAwIDAgMCAwLS40M0w3Ljk4NyA4Ljk2OWwyLjM3NC0zLjA2IDIuOTEyIDMuMTQyYy4xMDYuMTEzLjI3LjEwNS4zNjYtLjAyYS4zNDMuMzQzIDAgMCAwLS4wMTYtLjQzbC0zLjEwNC0zLjM0N2EuMjQ0LjI0NCAwIDAgMC0uMTg2LS4wOC4yNDUuMjQ1IDAgMCAwLS4xOC4xTDcuNjIyIDguNTM3IDYuMzk0IDcuMDk0YS4yMzIuMjMyIDAgMCAwLS4zNTQtLjAxM2wtNC40IDQuNTZhLjM0My4zNDMgMCAwIDAtLjAyNC40My4yNDMuMjQzIDAgMCAwIC4xOTQuMTAzeiIvPjwvZz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,urlEnabled:!0,uploadEnabled:!0,previewImage:!1,alignmentEnabled:!0,uploadCallback:void 0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"},title:void 0},remove:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOC4xIDE0bDYuNC03LjJjLjYtLjcuNi0xLjgtLjEtMi41bC0yLjctMi43Yy0uMy0uNC0uOC0uNi0xLjMtLjZIOC42Yy0uNSAwLTEgLjItMS40LjZMLjUgOS4yYy0uNi43LS42IDEuOS4xIDIuNWwyLjcgMi43Yy4zLjQuOC42IDEuMy42SDE2di0xSDguMXptLTEuMy0uMXMwLS4xIDAgMGwtMi43LTIuN2MtLjQtLjQtLjQtLjkgMC0xLjNMNy41IDZoLTFsLTMgMy4zYy0uNi43LS42IDEuNy4xIDIuNEw1LjkgMTRINC42Yy0uMiAwLS40LS4xLS42LS4yTDEuMiAxMWMtLjMtLjMtLjMtLjggMC0xLjFMNC43IDZoMS44TDEwIDJoMUw3LjUgNmwzLjEgMy43LTMuNSA0Yy0uMS4xLS4yLjEtLjMuMnoiLz48L3N2Zz4=",className:void 0,component:void 0,title:void 0},history:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["undo","redo"],undo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcgMTQuODc1YzIuNjcyIDAgNC44NDYtMi4xNDUgNC44NDYtNC43ODEgMC0yLjYzNy0yLjE3NC00Ljc4MS00Ljg0Ni00Ljc4MVY4LjVMMS42MTUgNC4yNSA3IDB2My4xODhjMy44NiAwIDcgMy4wOTggNyA2LjkwNlMxMC44NiAxNyA3IDE3cy03LTMuMDk4LTctNi45MDZoMi4xNTRjMCAyLjYzNiAyLjE3NCA0Ljc4MSA0Ljg0NiA0Ljc4MXoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},redo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNTA0IDEzLjk3N2E0LjQ5NyA0LjQ5NyAwIDAgMS00LjQ5Mi00LjQ5MiA0LjQ5NyA0LjQ5NyAwIDAgMSA0LjQ5Mi00LjQ5M3YyLjk5NWw0Ljk5LTMuOTkzTDYuNTA0IDB2Mi45OTVhNi40OTYgNi40OTYgMCAwIDAtNi40ODggNi40OWMwIDMuNTc4IDIuOTEgNi40OSA2LjQ4OCA2LjQ5YTYuNDk2IDYuNDk2IDAgMCAwIDYuNDg3LTYuNDloLTEuOTk2YTQuNDk3IDQuNDk3IDAgMCAxLTQuNDkxIDQuNDkyeiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",className:void 0,title:void 0},title:void 0}},Br={en:{"generic.add":"Add","generic.cancel":"Cancel","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Block Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Color Picker","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Highlight","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Embedded Link","components.controls.embedded.enterlink":"Enter link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Font","components.controls.fontsize.fontsize":"Font Size","components.controls.history.history":"History","components.controls.history.undo":"Undo","components.controls.history.redo":"Redo","components.controls.image.image":"Image","components.controls.image.fileUpload":"File Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop the file or click to upload","components.controls.inline.bold":"Bold","components.controls.inline.italic":"Italic","components.controls.inline.underline":"Underline","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Link Title","components.controls.link.linkTarget":"Link Target","components.controls.link.linkTargetOption":"Open link in new window","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"List","components.controls.list.unordered":"Unordered","components.controls.list.ordered":"Ordered","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Remove","components.controls.textalign.textalign":"Text Align","components.controls.textalign.left":"Left","components.controls.textalign.center":"Center","components.controls.textalign.right":"Right","components.controls.textalign.justify":"Justify"},fr:{"generic.add":"Ok","generic.cancel":"Annuler","components.controls.blocktype.h1":"Titre 1","components.controls.blocktype.h2":"Titre 2","components.controls.blocktype.h3":"Titre 3","components.controls.blocktype.h4":"Titre 4","components.controls.blocktype.h5":"Titre 5","components.controls.blocktype.h6":"Titre 6","components.controls.blocktype.blockquote":"Citation","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Type bloc","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Palette de couleur","components.controls.colorpicker.text":"Texte","components.controls.colorpicker.background":"Fond","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Lien iFrame","components.controls.embedded.enterlink":"Entrer le lien","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Police","components.controls.fontsize.fontsize":"Taille de police","components.controls.history.history":"Historique","components.controls.history.undo":"Pr\xe9c\xe9dent","components.controls.history.redo":"Suivant","components.controls.image.image":"Image","components.controls.image.fileUpload":"T\xe9l\xe9chargement","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Glisser une image ou cliquer pour t\xe9l\xe9charger","components.controls.inline.bold":"Gras","components.controls.inline.italic":"Italique","components.controls.inline.underline":"Souligner","components.controls.inline.strikethrough":"Barrer","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Exposant","components.controls.inline.subscript":"Indice","components.controls.link.linkTitle":"Titre du lien","components.controls.link.linkTarget":"Cible du lien","components.controls.link.linkTargetOption":"Ouvrir le lien dans une nouvelle fen\xeatre","components.controls.link.link":"Lier","components.controls.link.unlink":"D\xe9lier","components.controls.list.list":"Liste","components.controls.list.unordered":"D\xe9sordonn\xe9e","components.controls.list.ordered":"Ordonn\xe9e","components.controls.list.indent":"Augmenter le retrait","components.controls.list.outdent":"Diminuer le retrait","components.controls.remove.remove":"Supprimer","components.controls.textalign.textalign":"Alignement du texte","components.controls.textalign.left":"Gauche","components.controls.textalign.center":"Centre","components.controls.textalign.right":"Droite","components.controls.textalign.justify":"Justifier"},zh:{"generic.add":"\u6dfb\u52a0","generic.cancel":"\u53d6\u6d88","components.controls.blocktype.h1":"\u6807\u98981","components.controls.blocktype.h2":"\u6807\u98982","components.controls.blocktype.h3":"\u6807\u98983","components.controls.blocktype.h4":"\u6807\u98984","components.controls.blocktype.h5":"\u6807\u98985","components.controls.blocktype.h6":"\u6807\u98986","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u6e90\u7801","components.controls.blocktype.blocktype":"\u6837\u5f0f","components.controls.blocktype.normal":"\u6b63\u6587","components.controls.colorpicker.colorpicker":"\u9009\u8272\u5668","components.controls.colorpicker.text":"\u6587\u5b57","components.controls.colorpicker.background":"\u80cc\u666f","components.controls.embedded.embedded":"\u5185\u5d4c","components.controls.embedded.embeddedlink":"\u5185\u5d4c\u7f51\u9875","components.controls.embedded.enterlink":"\u8f93\u5165\u7f51\u9875\u5730\u5740","components.controls.emoji.emoji":"\u8868\u60c5\u7b26\u53f7","components.controls.fontfamily.fontfamily":"\u5b57\u4f53","components.controls.fontsize.fontsize":"\u5b57\u53f7","components.controls.history.history":"\u5386\u53f2","components.controls.history.undo":"\u64a4\u9500","components.controls.history.redo":"\u6062\u590d","components.controls.image.image":"\u56fe\u7247","components.controls.image.fileUpload":"\u6765\u81ea\u6587\u4ef6","components.controls.image.byURL":"\u5728\u7ebf\u56fe\u7247","components.controls.image.dropFileText":"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20","components.controls.inline.bold":"\u7c97\u4f53","components.controls.inline.italic":"\u659c\u4f53","components.controls.inline.underline":"\u4e0b\u5212\u7ebf","components.controls.inline.strikethrough":"\u5220\u9664\u7ebf","components.controls.inline.monospace":"\u7b49\u5bbd\u5b57\u4f53","components.controls.inline.superscript":"\u4e0a\u6807","components.controls.inline.subscript":"\u4e0b\u6807","components.controls.link.linkTitle":"\u8d85\u94fe\u63a5","components.controls.link.linkTarget":"\u8f93\u5165\u94fe\u63a5\u5730\u5740","components.controls.link.linkTargetOption":"\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\u94fe\u63a5","components.controls.link.link":"\u94fe\u63a5","components.controls.link.unlink":"\u5220\u9664\u94fe\u63a5","components.controls.list.list":"\u5217\u8868","components.controls.list.unordered":"\u9879\u76ee\u7b26\u53f7","components.controls.list.ordered":"\u7f16\u53f7","components.controls.list.indent":"\u589e\u52a0\u7f29\u8fdb\u91cf","components.controls.list.outdent":"\u51cf\u5c11\u7f29\u8fdb\u91cf","components.controls.remove.remove":"\u6e05\u9664\u683c\u5f0f","components.controls.textalign.textalign":"\u6587\u672c\u5bf9\u9f50","components.controls.textalign.left":"\u6587\u672c\u5de6\u5bf9\u9f50","components.controls.textalign.center":"\u5c45\u4e2d","components.controls.textalign.right":"\u6587\u672c\u53f3\u5bf9\u9f50","components.controls.textalign.justify":"\u4e24\u7aef\u5bf9\u9f50"},ru:{"generic.add":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","generic.cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","components.controls.blocktype.h1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","components.controls.blocktype.h2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","components.controls.blocktype.h3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","components.controls.blocktype.h4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","components.controls.blocktype.h5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","components.controls.blocktype.h6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6","components.controls.blocktype.blockquote":"\u0426\u0438\u0442\u0430\u0442\u0430","components.controls.blocktype.code":"\u041a\u043e\u0434","components.controls.blocktype.blocktype":"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","components.controls.blocktype.normal":"\u041e\u0431\u044b\u0447\u043d\u044b\u0439","components.controls.colorpicker.colorpicker":"\u0412\u044b\u0431\u043e\u0440 \u0446\u0432\u0435\u0442\u0430","components.controls.colorpicker.text":"\u0422\u0435\u043a\u0441\u0442","components.controls.colorpicker.background":"\u0424\u043e\u043d","components.controls.embedded.embedded":"\u0412\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.embedded.embeddedlink":"\u0421\u0441\u044b\u043b\u043a\u0430 \u0432 iFrame","components.controls.embedded.enterlink":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443","components.controls.emoji.emoji":"\u042d\u043c\u043e\u0434\u0437\u0438","components.controls.fontfamily.fontfamily":"\u0428\u0440\u0438\u0444\u0442","components.controls.fontsize.fontsize":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430","components.controls.history.history":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f","components.controls.history.undo":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","components.controls.history.redo":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c","components.controls.image.image":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","components.controls.image.fileUpload":"\u0424\u0430\u0439\u043b\u044b","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0432 \u044d\u0442\u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438","components.controls.inline.bold":"\u0416\u0438\u0440\u043d\u044b\u0439","components.controls.inline.italic":"\u041a\u0443\u0440\u0441\u0438\u0432","components.controls.inline.underline":"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.inline.strikethrough":"\u0417\u0430\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"\u0412\u0435\u0440\u0445\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","components.controls.inline.subscript":"\u041d\u0438\u0436\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","components.controls.link.linkTitle":"\u0422\u0435\u043a\u0441\u0442","components.controls.link.linkTarget":"\u0410\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438","components.controls.link.linkTargetOption":"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435","components.controls.link.link":"\u0421\u0441\u044b\u043b\u043a\u0430","components.controls.link.unlink":"\u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","components.controls.list.list":"\u0421\u043f\u0438\u0441\u043e\u043a","components.controls.list.unordered":"\u041d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439","components.controls.list.ordered":"\u0423\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439","components.controls.list.indent":"\u041e\u0442\u0441\u0442\u0443\u043f","components.controls.list.outdent":"\u0412\u044b\u0441\u0442\u0443\u043f","components.controls.remove.remove":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","components.controls.textalign.textalign":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430","components.controls.textalign.left":"\u0421\u043b\u0435\u0432\u0430","components.controls.textalign.center":"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","components.controls.textalign.right":"\u0421\u043f\u0440\u0430\u0432\u0430","components.controls.textalign.justify":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0442\u044c"},pt:{"generic.add":"Ok","generic.cancel":"Cancelar","components.controls.blocktype.h1":"T\xedtulo 1","components.controls.blocktype.h2":"T\xedtulo 2","components.controls.blocktype.h3":"T\xedtulo 3","components.controls.blocktype.h4":"T\xedtulo 4","components.controls.blocktype.h5":"T\xedtulo 5","components.controls.blocktype.h6":"T\xedtulo 6","components.controls.blocktype.blockquote":"Cita\xe7\xe3o","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Estilo","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Paleta de cores","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Fundo","components.controls.embedded.embedded":"Embarcado","components.controls.embedded.embeddedlink":"Link embarcado","components.controls.embedded.enterlink":"Coloque o link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonte","components.controls.fontsize.fontsize":"Tamanho da Fonte","components.controls.history.history":"Hist\xf3rico","components.controls.history.undo":"Desfazer","components.controls.history.redo":"Refazer","components.controls.image.image":"Imagem","components.controls.image.fileUpload":"Carregar arquivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arraste uma imagem aqui ou clique para carregar","components.controls.inline.bold":"Negrito","components.controls.inline.italic":"It\xe1lico","components.controls.inline.underline":"Sublinhado","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobrescrito","components.controls.inline.subscript":"Subscrito","components.controls.link.linkTitle":"T\xedtulo do link","components.controls.link.linkTarget":"Alvo do link","components.controls.link.linkTargetOption":"Abrir link em outra janela","components.controls.link.link":"Adicionar Link","components.controls.link.unlink":"Remover link","components.controls.list.list":"Lista","components.controls.list.unordered":"Sem orden\xe7\xe3o","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Aumentar recuo","components.controls.list.outdent":"Diminuir recuo","components.controls.remove.remove":"Remover","components.controls.textalign.textalign":"Alinhamento do texto","components.controls.textalign.left":"\xc0 Esquerda","components.controls.textalign.center":"Centralizado","components.controls.textalign.right":"\xc0 Direita","components.controls.textalign.justify":"Justificado"},ko:{"generic.add":"\uc785\ub825","generic.cancel":"\ucde8\uc18c","components.controls.blocktype.h1":"\uc81c\ubaa91","components.controls.blocktype.h2":"\uc81c\ubaa92","components.controls.blocktype.h3":"\uc81c\ubaa93","components.controls.blocktype.h4":"\uc81c\ubaa94","components.controls.blocktype.h5":"\uc81c\ubaa95","components.controls.blocktype.h6":"\uc81c\ubaa96","components.controls.blocktype.blockquote":"\uc778\uc6a9","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"\ube14\ub85d","components.controls.blocktype.normal":"\ud45c\uc900","components.controls.colorpicker.colorpicker":"\uc0c9\uc0c1 \uc120\ud0dd","components.controls.colorpicker.text":"\uae00\uaf34\uc0c9","components.controls.colorpicker.background":"\ubc30\uacbd\uc0c9","components.controls.embedded.embedded":"\uc784\ubca0\ub4dc","components.controls.embedded.embeddedlink":"\uc784\ubca0\ub4dc \ub9c1\ud06c","components.controls.embedded.enterlink":"\uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694","components.controls.emoji.emoji":"\uc774\ubaa8\uc9c0","components.controls.fontfamily.fontfamily":"\uae00\uaf34","components.controls.fontsize.fontsize":"\uae00\uaf34 \ud06c\uae30","components.controls.history.history":"\ud788\uc2a4\ud1a0\ub9ac","components.controls.history.undo":"\uc2e4\ud589 \ucde8\uc18c","components.controls.history.redo":"\ub2e4\uc2dc \uc2e4\ud589","components.controls.image.image":"\uc774\ubbf8\uc9c0","components.controls.image.fileUpload":"\ud30c\uc77c \uc5c5\ub85c\ub4dc","components.controls.image.byURL":"\uc8fc\uc18c","components.controls.image.dropFileText":"\ud074\ub9ad\ud558\uac70\ub098 \ud30c\uc77c\uc744 \ub4dc\ub86d\ud558\uc5ec \uc5c5\ub85c\ub4dc\ud558\uc138\uc694","components.controls.inline.bold":"\uad75\uac8c","components.controls.inline.italic":"\uae30\uc6b8\uc784\uaf34","components.controls.inline.underline":"\ubc11\uc904","components.controls.inline.strikethrough":"\ucde8\uc18c\uc120","components.controls.inline.monospace":"\uace0\uc815 \ub108\ube44","components.controls.inline.superscript":"\uc704 \ucca8\uc790","components.controls.inline.subscript":"\uc544\ub798 \ucca8\uc790","components.controls.link.linkTitle":"\ub9c1\ud06c \uc81c\ubaa9","components.controls.link.linkTarget":"\ub9c1\ud06c \ud0c0\uac9f","components.controls.link.linkTargetOption":"\uc0c8\ucc3d\uc73c\ub85c \uc5f4\uae30","components.controls.link.link":"\ub9c1\ud06c","components.controls.link.unlink":"\ub9c1\ud06c \uc81c\uac70","components.controls.list.list":"\ub9ac\uc2a4\ud2b8","components.controls.list.unordered":"\uc77c\ubc18 \ub9ac\uc2a4\ud2b8","components.controls.list.ordered":"\uc21c\uc11c \ub9ac\uc2a4\ud2b8","components.controls.list.indent":"\ub4e4\uc5ec\uc4f0\uae30","components.controls.list.outdent":"\ub0b4\uc5b4\uc4f0\uae30","components.controls.remove.remove":"\uc0ad\uc81c","components.controls.textalign.textalign":"\ud14d\uc2a4\ud2b8 \uc815\ub82c","components.controls.textalign.left":"\uc67c\ucabd","components.controls.textalign.center":"\uc911\uc559","components.controls.textalign.right":"\uc624\ub978\ucabd","components.controls.textalign.justify":"\uc591\ucabd"},it:{"generic.add":"Aggiungi","generic.cancel":"Annulla","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Citazione","components.controls.blocktype.code":"Codice","components.controls.blocktype.blocktype":"Stili","components.controls.blocktype.normal":"Normale","components.controls.colorpicker.colorpicker":"Colore testo","components.controls.colorpicker.text":"Testo","components.controls.colorpicker.background":"Evidenziazione","components.controls.embedded.embedded":"Incorpora","components.controls.embedded.embeddedlink":"Incorpora link","components.controls.embedded.enterlink":"Inserisci link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Carattere","components.controls.fontsize.fontsize":"Dimensione carattere","components.controls.history.history":"Modifiche","components.controls.history.undo":"Annulla","components.controls.history.redo":"Ripristina","components.controls.image.image":"Immagine","components.controls.image.fileUpload":"Carica immagine","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Trascina il file o clicca per caricare","components.controls.inline.bold":"Grassetto","components.controls.inline.italic":"Corsivo","components.controls.inline.underline":"Sottolineato","components.controls.inline.strikethrough":"Barrato","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Apice","components.controls.inline.subscript":"Pedice","components.controls.link.linkTitle":"Testo","components.controls.link.linkTarget":"Link","components.controls.link.linkTargetOption":"Apri link in una nuova finestra","components.controls.link.link":"Inserisci link","components.controls.link.unlink":"Rimuovi link","components.controls.list.list":"Lista","components.controls.list.unordered":"Elenco puntato","components.controls.list.ordered":"Elenco numerato","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Rimuovi formattazione","components.controls.textalign.textalign":"Allineamento del testo","components.controls.textalign.left":"Allinea a sinistra","components.controls.textalign.center":"Allinea al centro","components.controls.textalign.right":"Allinea a destra","components.controls.textalign.justify":"Giustifica"},nl:{"generic.add":"Toevoegen","generic.cancel":"Annuleren","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Blocktype","components.controls.blocktype.normal":"Normaal","components.controls.colorpicker.colorpicker":"Kleurkiezer","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Achtergrond","components.controls.embedded.embedded":"Ingevoegd","components.controls.embedded.embeddedlink":"Ingevoegde link","components.controls.embedded.enterlink":"Voeg link toe","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Lettertype","components.controls.fontsize.fontsize":"Lettergrootte","components.controls.history.history":"Geschiedenis","components.controls.history.undo":"Ongedaan maken","components.controls.history.redo":"Opnieuw","components.controls.image.image":"Afbeelding","components.controls.image.fileUpload":"Bestand uploaden","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop het bestand hier of klik om te uploaden","components.controls.inline.bold":"Dikgedrukt","components.controls.inline.italic":"Schuingedrukt","components.controls.inline.underline":"Onderstrepen","components.controls.inline.strikethrough":"Doorstrepen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Linktitel","components.controls.link.linkTarget":"Link bestemming","components.controls.link.linkTargetOption":"Open link in een nieuw venster","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"Lijst","components.controls.list.unordered":"Ongeordend","components.controls.list.ordered":"Geordend","components.controls.list.indent":"Inspringen","components.controls.list.outdent":"Inspringen verkleinen","components.controls.remove.remove":"Verwijderen","components.controls.textalign.textalign":"Tekst uitlijnen","components.controls.textalign.left":"Links","components.controls.textalign.center":"Gecentreerd","components.controls.textalign.right":"Rechts","components.controls.textalign.justify":"Uitgelijnd"},de:{"generic.add":"Hinzuf\xfcgen","generic.cancel":"Abbrechen","components.controls.blocktype.h1":"\xdcberschrift 1","components.controls.blocktype.h2":"\xdcberschrift 2","components.controls.blocktype.h3":"\xdcberschrift 3","components.controls.blocktype.h4":"\xdcberschrift 4","components.controls.blocktype.h5":"\xdcberschrift 5","components.controls.blocktype.h6":"\xdcberschrift 6","components.controls.blocktype.blockquote":"Zitat","components.controls.blocktype.code":"Quellcode","components.controls.blocktype.blocktype":"Blocktyp","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farbauswahl","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Hintergrund","components.controls.embedded.embedded":"Eingebettet","components.controls.embedded.embeddedlink":"Eingebetteter Link","components.controls.embedded.enterlink":"Link eingeben","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Schriftart","components.controls.fontsize.fontsize":"Schriftgr\xf6\xdfe","components.controls.history.history":"Historie","components.controls.history.undo":"Zur\xfccknehmen","components.controls.history.redo":"Wiederholen","components.controls.image.image":"Bild","components.controls.image.fileUpload":"Datei-Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Dateien ziehen und ablegen, oder klicken zum Hochladen","components.controls.inline.bold":"Fett","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Unterstreichen","components.controls.inline.strikethrough":"Durchstreichen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Hochgestellt","components.controls.inline.subscript":"Tiefgestellt","components.controls.link.linkTitle":"Link-Titel","components.controls.link.linkTarget":"Link-Ziel","components.controls.link.linkTargetOption":"Link in neuem Fenster \xf6ffnen","components.controls.link.link":"Link","components.controls.link.unlink":"Aufheben","components.controls.list.list":"Liste","components.controls.list.unordered":"Aufz\xe4hlung","components.controls.list.ordered":"Nummerierte Liste","components.controls.list.indent":"Einzug vergr\xf6\xdfern","components.controls.list.outdent":"Einzug reduzieren","components.controls.remove.remove":"Entfernen","components.controls.textalign.textalign":"Textausrichtung","components.controls.textalign.left":"Linksb\xfcndig","components.controls.textalign.center":"Zentrieren","components.controls.textalign.right":"Rechtsb\xfcndig","components.controls.textalign.justify":"Blocksatz"},da:{"generic.add":"Tilf\xf8j","generic.cancel":"Annuller","components.controls.blocktype.h1":"Overskrift 1","components.controls.blocktype.h2":"Overskrift 2","components.controls.blocktype.h3":"Overskrift 3","components.controls.blocktype.h4":"Overskrift 4","components.controls.blocktype.h5":"Overskrift 5","components.controls.blocktype.h6":"Overskrift 6","components.controls.blocktype.blockquote":"Blokcitat","components.controls.blocktype.code":"Kode","components.controls.blocktype.blocktype":"Blok Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farver","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Baggrund","components.controls.embedded.embedded":"Indlejre","components.controls.embedded.embeddedlink":"Indlejre Link","components.controls.embedded.enterlink":"Indtast link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonttype","components.controls.fontsize.fontsize":"Fontst\xf8rrelser","components.controls.history.history":"Historie","components.controls.history.undo":"Fortryd","components.controls.history.redo":"Gendan","components.controls.image.image":"Billede","components.controls.image.fileUpload":"Filoverf\xf8rsel","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop filen eller klik for at uploade","components.controls.inline.bold":"Fed","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Understrege","components.controls.inline.strikethrough":"Gennemstreget","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"H\xe6vet","components.controls.inline.subscript":"S\xe6nket","components.controls.link.linkTitle":"Link Titel","components.controls.link.linkTarget":"Link M\xe5l","components.controls.link.linkTargetOption":"\xc5bn link i nyt vindue","components.controls.link.link":"Link","components.controls.link.unlink":"Fjern link","components.controls.list.list":"Liste","components.controls.list.unordered":"Uordnet","components.controls.list.ordered":"Ordnet","components.controls.list.indent":"Indrykning","components.controls.list.outdent":"Udrykning","components.controls.remove.remove":"Fjern","components.controls.textalign.textalign":"Tekstjustering","components.controls.textalign.left":"Venstre","components.controls.textalign.center":"Center","components.controls.textalign.right":"H\xf8jre","components.controls.textalign.justify":"Margener"},zh_tw:{"generic.add":"\u65b0\u589e","generic.cancel":"\u53d6\u6d88","components.controls.blocktype.h1":"\u6a19\u984c1","components.controls.blocktype.h2":"\u6a19\u984c2","components.controls.blocktype.h3":"\u6a19\u984c3","components.controls.blocktype.h4":"\u6a19\u984c4","components.controls.blocktype.h5":"\u6a19\u984c5","components.controls.blocktype.h6":"\u6a19\u984c6","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u7a0b\u5f0f\u78bc","components.controls.blocktype.blocktype":"\u6a23\u5f0f","components.controls.blocktype.normal":"\u6b63\u6587","components.controls.colorpicker.colorpicker":"\u9078\u8272\u5668","components.controls.colorpicker.text":"\u6587\u5b57","components.controls.colorpicker.background":"\u80cc\u666f","components.controls.embedded.embedded":"\u5167\u5d4c","components.controls.embedded.embeddedlink":"\u5167\u5d4c\u7db2\u9801","components.controls.embedded.enterlink":"\u8f38\u5165\u7db2\u9801\u5730\u5740","components.controls.emoji.emoji":"\u8868\u60c5\u7b26\u865f","components.controls.fontfamily.fontfamily":"\u5b57\u9ad4","components.controls.fontsize.fontsize":"\u5b57\u9ad4\u5927\u5c0f","components.controls.history.history":"\u6b77\u53f2\u7d00\u9304","components.controls.history.undo":"\u5fa9\u539f","components.controls.history.redo":"\u91cd\u505a","components.controls.image.image":"\u5716\u7247","components.controls.image.fileUpload":"\u6a94\u6848\u4e0a\u50b3","components.controls.image.byURL":"\u7db2\u5740","components.controls.image.dropFileText":"\u9ede\u64ca\u6216\u62d6\u66f3\u6a94\u6848\u4e0a\u50b3","components.controls.inline.bold":"\u7c97\u9ad4","components.controls.inline.italic":"\u659c\u9ad4","components.controls.inline.underline":"\u5e95\u7dda","components.controls.inline.strikethrough":"\u522a\u9664\u7dda","components.controls.inline.monospace":"\u7b49\u5bec\u5b57\u9ad4","components.controls.inline.superscript":"\u4e0a\u6a19","components.controls.inline.subscript":"\u4e0b\u6a19","components.controls.link.linkTitle":"\u8d85\u9023\u7d50","components.controls.link.linkTarget":"\u8f38\u5165\u9023\u7d50\u4f4d\u5740","components.controls.link.linkTargetOption":"\u5728\u65b0\u8996\u7a97\u6253\u958b\u9023\u7d50","components.controls.link.link":"\u9023\u7d50","components.controls.link.unlink":"\u522a\u9664\u9023\u7d50","components.controls.list.list":"\u5217\u8868","components.controls.list.unordered":"\u9805\u76ee\u7b26\u865f","components.controls.list.ordered":"\u7de8\u865f","components.controls.list.indent":"\u589e\u52a0\u7e2e\u6392","components.controls.list.outdent":"\u6e1b\u5c11\u7e2e\u6392","components.controls.remove.remove":"\u6e05\u9664\u683c\u5f0f","components.controls.textalign.textalign":"\u6587\u5b57\u5c0d\u9f4a","components.controls.textalign.left":"\u6587\u5b57\u5411\u5de6\u5c0d\u9f4a","components.controls.textalign.center":"\u6587\u5b57\u7f6e\u4e2d","components.controls.textalign.right":"\u6587\u5b57\u5411\u53f3\u5c0d\u9f4a","components.controls.textalign.justify":"\u5169\u7aef\u5c0d\u9f4a"},pl:{"generic.add":"Dodaj","generic.cancel":"Anuluj","components.controls.blocktype.h1":"Nag\u0142\xf3wek 1","components.controls.blocktype.h2":"Nag\u0142\xf3wek 2","components.controls.blocktype.h3":"Nag\u0142\xf3wek 3","components.controls.blocktype.h4":"Nag\u0142\xf3wek 4","components.controls.blocktype.h5":"Nag\u0142\xf3wek 5","components.controls.blocktype.h6":"Nag\u0142\xf3wek 6","components.controls.blocktype.blockquote":"Cytat","components.controls.blocktype.code":"Kod","components.controls.blocktype.blocktype":"Format","components.controls.blocktype.normal":"Normalny","components.controls.colorpicker.colorpicker":"Kolor","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"T\u0142o","components.controls.embedded.embedded":"Osad\u017a","components.controls.embedded.embeddedlink":"Osad\u017a odno\u015bnik","components.controls.embedded.enterlink":"Wprowad\u017a odno\u015bnik","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Kr\xf3j czcionki","components.controls.fontsize.fontsize":"Rozmiar czcionki","components.controls.history.history":"Historia","components.controls.history.undo":"Cofnij","components.controls.history.redo":"Pon\xf3w","components.controls.image.image":"Obrazek","components.controls.image.fileUpload":"Prze\u015blij plik","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Upu\u015b\u0107 plik lub kliknij, aby przes\u0142a\u0107","components.controls.inline.bold":"Pogrubienie","components.controls.inline.italic":"Kursywa","components.controls.inline.underline":"Podkre\u015blenie","components.controls.inline.strikethrough":"Przekre\u015blenie","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Indeks g\xf3rny","components.controls.inline.subscript":"Indeks dolny","components.controls.link.linkTitle":"Tytu\u0142 odno\u015bnika","components.controls.link.linkTarget":"Adres odno\u015bnika","components.controls.link.linkTargetOption":"Otw\xf3rz odno\u015bnik w nowej karcie","components.controls.link.link":"Wstaw odno\u015bnik","components.controls.link.unlink":"Usu\u0144 odno\u015bnik","components.controls.list.list":"Lista","components.controls.list.unordered":"Lista nieuporz\u0105dkowana","components.controls.list.ordered":"Lista uporz\u0105dkowana","components.controls.list.indent":"Zwi\u0119ksz wci\u0119cie","components.controls.list.outdent":"Zmniejsz wci\u0119cie","components.controls.remove.remove":"Usu\u0144","components.controls.textalign.textalign":"Wyr\xf3wnaj tekst","components.controls.textalign.left":"Do lewej","components.controls.textalign.center":"Do \u015brodka","components.controls.textalign.right":"Do prawej","components.controls.textalign.justify":"Wyjustuj"},es:{"generic.add":"A\xf1adir","generic.cancel":"Cancelar","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"C\xf3digo","components.controls.blocktype.blocktype":"Tipo de bloque","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Seleccionar color","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Subrayado","components.controls.embedded.embedded":"Adjuntar","components.controls.embedded.embeddedlink":"Adjuntar Link","components.controls.embedded.enterlink":"Introducir link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fuente","components.controls.fontsize.fontsize":"Tama\xf1o de fuente","components.controls.history.history":"Hist\xf3rico","components.controls.history.undo":"Deshacer","components.controls.history.redo":"Rehacer","components.controls.image.image":"Imagen","components.controls.image.fileUpload":"Subir archivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arrastra el archivo o haz click para subirlo","components.controls.inline.bold":"Negrita","components.controls.inline.italic":"Cursiva","components.controls.inline.underline":"Subrayado","components.controls.inline.strikethrough":"Tachado","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobre\xedndice","components.controls.inline.subscript":"Sub\xedndice","components.controls.link.linkTitle":"T\xedtulo del enlace","components.controls.link.linkTarget":"Objetivo del enlace","components.controls.link.linkTargetOption":"Abrir en nueva ventana","components.controls.link.link":"Enlazar","components.controls.link.unlink":"Desenlazar","components.controls.list.list":"Lista","components.controls.list.unordered":"Desordenada","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Indentada","components.controls.list.outdent":"Dentada","components.controls.remove.remove":"Eliminar","components.controls.textalign.textalign":"Alineaci\xf3n del texto","components.controls.textalign.left":"Izquierda","components.controls.textalign.center":"Centrado","components.controls.textalign.right":"Derecha","components.controls.textalign.justify":"Justificado"},ja:{"generic.add":"\u8ffd\u52a0","generic.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","components.controls.blocktype.h1":"\u898b\u51fa\u30571","components.controls.blocktype.h2":"\u898b\u51fa\u30572","components.controls.blocktype.h3":"\u898b\u51fa\u30573","components.controls.blocktype.h4":"\u898b\u51fa\u30574","components.controls.blocktype.h5":"\u898b\u51fa\u30575","components.controls.blocktype.h6":"\u898b\u51fa\u30576","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u30b3\u30fc\u30c9","components.controls.blocktype.blocktype":"\u30b9\u30bf\u30a4\u30eb","components.controls.blocktype.normal":"\u6a19\u6e96\u30c6\u30ad\u30b9\u30c8","components.controls.colorpicker.colorpicker":"\u30c6\u30ad\u30b9\u30c8\u306e\u8272","components.controls.colorpicker.text":"\u30c6\u30ad\u30b9\u30c8","components.controls.colorpicker.background":"\u30cf\u30a4\u30e9\u30a4\u30c8","components.controls.embedded.embedded":"\u57cb\u3081\u8fbc\u307f","components.controls.embedded.embeddedlink":"\u57cb\u3081\u8fbc\u307f\u30ea\u30f3\u30af","components.controls.embedded.enterlink":"\u30ea\u30f3\u30af\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","components.controls.emoji.emoji":"\u7d75\u6587\u5b57","components.controls.fontfamily.fontfamily":"\u30d5\u30a9\u30f3\u30c8","components.controls.fontsize.fontsize":"\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba","components.controls.history.history":"\u5c65\u6b74","components.controls.history.undo":"\u5143\u306b\u623b\u3059","components.controls.history.redo":"\u3084\u308a\u76f4\u3057","components.controls.image.image":"\u753b\u50cf","components.controls.image.fileUpload":"\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"\u3053\u3053\u306b\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\u3059\u308b\u304b\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044","components.controls.inline.bold":"\u592a\u5b57","components.controls.inline.italic":"\u659c\u4f53","components.controls.inline.underline":"\u4e0b\u7dda","components.controls.inline.strikethrough":"\u53d6\u308a\u6d88\u3057\u7dda","components.controls.inline.monospace":"\u7b49\u5e45\u30d5\u30a9\u30f3\u30c8","components.controls.inline.superscript":"\u4e0a\u4ed8\u304d\u6587\u5b57","components.controls.inline.subscript":"\u4e0b\u4ed8\u304d\u6587\u5b57","components.controls.link.linkTitle":"\u30ea\u30f3\u30af\u30bf\u30a4\u30c8\u30eb","components.controls.link.linkTarget":"\u30ea\u30f3\u30af\u5bfe\u8c61","components.controls.link.linkTargetOption":"\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u958b\u304f","components.controls.link.link":"\u30ea\u30f3\u30af","components.controls.link.unlink":"\u30ea\u30f3\u30af\u3092\u89e3\u9664","components.controls.list.list":"\u30ea\u30b9\u30c8","components.controls.list.unordered":"\u7b87\u6761\u66f8\u304d","components.controls.list.ordered":"\u756a\u53f7\u4ed8\u304d","components.controls.list.indent":"\u30a4\u30f3\u30c7\u30f3\u30c8\u5897","components.controls.list.outdent":"\u30a4\u30f3\u30c7\u30f3\u30c8\u6e1b","components.controls.remove.remove":"\u66f8\u5f0f\u3092\u30af\u30ea\u30a2","components.controls.textalign.textalign":"\u6574\u5217","components.controls.textalign.left":"\u5de6\u63c3\u3048","components.controls.textalign.center":"\u4e2d\u592e\u63c3\u3048","components.controls.textalign.right":"\u53f3\u63c3\u3048","components.controls.textalign.justify":"\u4e21\u7aef\u63c3\u3048"}};function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(38),n(39);var Wr=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Gr(this,Hr(e).call(this,t))).onEditorBlur=function(){n.setState({editorFocused:!1})},n.onEditorFocus=function(e){var t=n.props.onFocus;n.setState({editorFocused:!0});var r=n.focusHandler.isEditorFocused();t&&r&&t(e)},n.onEditorMouseDown=function(){n.focusHandler.onEditorMouseDown()},n.keyBindingFn=function(e){if("Tab"!==e.key)return"ArrowUp"!==e.key&&"ArrowDown"!==e.key||y()&&e.preventDefault(),Object(s.getDefaultKeyBinding)(e);var t=n.props.onTab;if(!t||!t(e)){var r=Object(c.changeDepth)(n.state.editorState,e.shiftKey?-1:1,4);r&&r!==n.state.editorState&&(n.onChange(r),e.preventDefault())}return null},n.onToolbarFocus=function(e){var t=n.props.onFocus;t&&n.focusHandler.isToolbarFocused()&&t(e)},n.onWrapperBlur=function(e){var t=n.props.onBlur;t&&n.focusHandler.isEditorBlur(e)&&t(e,n.getEditorState())},n.onChange=function(e){var t=n.props,r=t.readOnly,i=t.onEditorStateChange;r||"atomic"===Object(c.getSelectedBlocksType)(e)&&e.getSelection().isCollapsed||(i&&i(e,n.props.wrapperId),_(n.props,"editorState")?n.afterChange(e):n.setState({editorState:e},n.afterChange(e)))},n.setWrapperReference=function(e){n.wrapper=e},n.setEditorReference=function(e){n.props.editorRef&&n.props.editorRef(e),n.editor=e},n.getCompositeDecorator=function(e){var t=[].concat(Vr(n.props.customDecorators),[{strategy:hr,component:pr({showOpenOptionOnHover:e.link.showOpenOptionOnHover})}]);return n.props.mention&&t.push.apply(t,Vr(Ir(Qr({},n.props.mention,{onChange:n.onChange,getEditorState:n.getEditorState,getSuggestions:n.getSuggestions,getWrapperRef:n.getWrapperRef,modalHandler:n.modalHandler})))),n.props.hashtag&&t.push(Cr(n.props.hashtag)),new s.CompositeDecorator(t)},n.getWrapperRef=function(){return n.wrapper},n.getEditorState=function(){return n.state?n.state.editorState:null},n.getSuggestions=function(){return n.props.mention&&n.props.mention.suggestions},n.afterChange=function(e){setTimeout((function(){var t=n.props,r=t.onChange,i=t.onContentStateChange;r&&r(Object(s.convertToRaw)(e.getCurrentContent())),i&&i(Object(s.convertToRaw)(e.getCurrentContent()))}))},n.isReadOnly=function(){return n.props.readOnly},n.isImageAlignmentEnabled=function(){return n.state.toolbar.image.alignmentEnabled},n.createEditorState=function(e){var t;if(_(n.props,"editorState"))n.props.editorState&&(t=s.EditorState.set(n.props.editorState,{decorator:e}));else if(_(n.props,"defaultEditorState"))n.props.defaultEditorState&&(t=s.EditorState.set(n.props.defaultEditorState,{decorator:e}));else if(_(n.props,"contentState")){if(n.props.contentState){var r=Object(s.convertFromRaw)(n.props.contentState);t=s.EditorState.createWithContent(r,e),t=s.EditorState.moveSelectionToEnd(t)}}else if(_(n.props,"defaultContentState")||_(n.props,"initialContentState")){var i=n.props.defaultContentState||n.props.initialContentState;i&&(i=Object(s.convertFromRaw)(i),t=s.EditorState.createWithContent(i,e),t=s.EditorState.moveSelectionToEnd(t))}return t||s.EditorState.createEmpty(e)},n.filterEditorProps=function(e){return t=e,n=["onChange","onEditorStateChange","onContentStateChange","initialContentState","defaultContentState","contentState","editorState","defaultEditorState","locale","localization","toolbarOnFocus","toolbar","toolbarCustomButtons","toolbarClassName","editorClassName","toolbarHidden","wrapperClassName","toolbarStyle","editorStyle","wrapperStyle","uploadCallback","onFocus","onBlur","onTab","mention","hashtag","ariaLabel","customBlockRenderFunc","customDecorators","handlePastedText","customStyleMap"],r=Object.keys(t).filter((function(e){return n.indexOf(e)<0})),i={},r&&0<r.length&&r.forEach((function(e){i[e]=t[e]})),i;var t,n,r,i},n.getStyleMap=function(e){return Qr({},Object(c.getCustomStyleMap)(),{},e.customStyleMap)},n.changeEditorState=function(e){var t=Object(s.convertFromRaw)(e),r=n.state.editorState;return r=s.EditorState.push(r,t,"insert-characters"),s.EditorState.moveSelectionToEnd(r)},n.focusEditor=function(){setTimeout((function(){n.editor.focus()}))},n.handleKeyCommand=function(e){var t=n.state,r=t.editorState,i=t.toolbar.inline;if(i&&0<=i.options.indexOf(e)){var o=s.RichUtils.handleKeyCommand(r,e);if(o)return n.onChange(o),!0}return!1},n.handleReturn=function(e){if(y())return!0;var t=n.state.editorState,r=Object(c.handleNewLine)(t,e);return!!r&&(n.onChange(r),!0)},n.handlePastedTextFn=function(e,t){var r=n.state.editorState,i=n.props,o=i.handlePastedText,a=i.stripPastedStyles;return o?o(e,t,r,n.onChange):!a&&function(e,t,n,r){var i=Object(c.getSelectedBlock)(n);if(i&&"code"===i.type){var o=s.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),e,n.getCurrentInlineStyle());return r(s.EditorState.push(n,o,"insert-characters")),!0}if(t){var a=k()(t),u=n.getCurrentContent();return a.entityMap.forEach((function(e,t){u=u.mergeEntityData(t,e)})),u=s.Modifier.replaceWithFragment(u,n.getSelection(),new C.List(a.contentBlocks)),r(s.EditorState.push(n,u,"insert-characters")),!0}return!1}(e,t,r,n.onChange)},n.preventDefault=function(e){"INPUT"===e.target.tagName||"LABEL"===e.target.tagName||"TEXTAREA"===e.target.tagName?n.focusHandler.onInputMouseDown():e.preventDefault()};var r=I(Lr,t.toolbar),i=t.wrapperId?t.wrapperId:Math.floor(1e4*Math.random());n.wrapperId="rdw-wrapper-".concat(i),n.modalHandler=new f,n.focusHandler=new d,n.blockRendererFn=jr({isReadOnly:n.isReadOnly,isImageAlignmentEnabled:n.isImageAlignmentEnabled,getEditorState:n.getEditorState,onChange:n.onChange},t.customBlockRenderFunc),n.editorProps=n.filterEditorProps(t),n.customStyleMap=n.getStyleMap(t),n.compositeDecorator=n.getCompositeDecorator(r);var o=n.createEditorState(n.compositeDecorator);return Object(c.extractInlineStyle)(o),n.state={editorState:o,editorFocused:!1,toolbar:r},n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(e,r.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.modalHandler.init(this.wrapperId)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t={},n=this.props,r=n.editorState,i=n.contentState;if(!this.state.toolbar){var o=I(Lr,o);t.toolbar=o}if(_(this.props,"editorState")&&r!==e.editorState)t.editorState=r?s.EditorState.set(r,{decorator:this.compositeDecorator}):s.EditorState.createEmpty(this.compositeDecorator);else if(_(this.props,"contentState")&&i!==e.contentState)if(i){var a=this.changeEditorState(i);a&&(t.editorState=a)}else t.editorState=s.EditorState.createEmpty(this.compositeDecorator);e.editorState===r&&e.contentState===i||Object(c.extractInlineStyle)(t.editorState),Object.keys(t).length&&this.setState(t),this.editorProps=this.filterEditorProps(this.props),this.customStyleMap=this.getStyleMap(this.props)}}},{key:"render",value:function(){var e=this.state,t=e.editorState,n=e.editorFocused,r=e.toolbar,o=this.props,a=o.locale,u=o.localization,f=u.locale,d=u.translations,h=o.toolbarCustomButtons,p=o.toolbarOnFocus,v=o.toolbarClassName,m=o.toolbarHidden,y=o.editorClassName,A=o.wrapperClassName,_=o.toolbarStyle,E=o.editorStyle,w=o.wrapperStyle,I=o.uploadCallback,S=o.ariaLabel,k={modalHandler:this.modalHandler,editorState:t,onChange:this.onChange,translations:Qr({},Br[a||f],{},d)},C=n||this.focusHandler.isInputFocused()||!p;return i.a.createElement("div",{id:this.wrapperId,className:l()(A,"rdw-editor-wrapper"),style:w,onClick:this.modalHandler.onEditorClick,onBlur:this.onWrapperBlur,"aria-label":"rdw-wrapper"},!m&&i.a.createElement("div",{className:l()("rdw-editor-toolbar",v),style:Qr({visibility:C?"visible":"hidden"},_),onMouseDown:this.preventDefault,"aria-label":"rdw-toolbar","aria-hidden":(!n&&p).toString(),onFocus:this.onToolbarFocus},r.options.map((function(e,t){var n=ir[e],o=r[e];return"image"===e&&I&&(o.uploadCallback=I),i.a.createElement(n,Ur({key:t},k,{config:o}))})),h&&h.map((function(e,t){return i.a.cloneElement(e,Qr({key:t},k))}))),i.a.createElement("div",{ref:this.setWrapperReference,className:l()(y,"rdw-editor-main"),style:E,onClick:this.focusEditor,onFocus:this.onEditorFocus,onBlur:this.onEditorBlur,onKeyDown:g.onKeyDown,onMouseDown:this.onEditorMouseDown},i.a.createElement(s.Editor,Ur({ref:this.setEditorReference,keyBindingFn:this.keyBindingFn,editorState:t,onChange:this.onChange,blockStyleFn:b,customStyleMap:this.getStyleMap(this.props),handleReturn:this.handleReturn,handlePastedText:this.handlePastedTextFn,blockRendererFn:this.blockRendererFn,handleKeyCommand:this.handleKeyCommand,ariaLabel:S||"rdw-editor",blockRenderMap:c.blockRenderMap},this.editorProps))))}}])&&Kr(t.prototype,n),o&&Kr(t,o),e}();Wr.propTypes={onChange:a.a.func,onEditorStateChange:a.a.func,onContentStateChange:a.a.func,initialContentState:a.a.object,defaultContentState:a.a.object,contentState:a.a.object,editorState:a.a.object,defaultEditorState:a.a.object,toolbarOnFocus:a.a.bool,spellCheck:a.a.bool,stripPastedStyles:a.a.bool,toolbar:a.a.object,toolbarCustomButtons:a.a.array,toolbarClassName:a.a.string,toolbarHidden:a.a.bool,locale:a.a.string,localization:a.a.object,editorClassName:a.a.string,wrapperClassName:a.a.string,toolbarStyle:a.a.object,editorStyle:a.a.object,wrapperStyle:a.a.object,uploadCallback:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onTab:a.a.func,mention:a.a.object,hashtag:a.a.object,textAlignment:a.a.string,readOnly:a.a.bool,tabIndex:a.a.number,placeholder:a.a.string,ariaLabel:a.a.string,ariaOwneeID:a.a.string,ariaActiveDescendantID:a.a.string,ariaAutoComplete:a.a.string,ariaDescribedBy:a.a.string,ariaExpanded:a.a.string,ariaHasPopup:a.a.string,customBlockRenderFunc:a.a.func,wrapperId:a.a.number,customDecorators:a.a.array,editorRef:a.a.func,handlePastedText:a.a.func},Wr.defaultProps={toolbarOnFocus:!1,toolbarHidden:!1,stripPastedStyles:!1,localization:{locale:"en",translations:{}},customDecorators:[]};var Yr=Wr;n.d(t,"Editor",(function(){return Yr}))}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8);function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i,o}(n(1),n(90),n(327))},function(e,t,n){window,e.exports=function(e,t){return i={},n.m=r=[function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n},a=function(e,t,n){var r,o=e.textContent;return""===o.trim()?{chunk:(r=n,{text:" ",inlines:[new i.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:o,inlines:Array(o.length).fill(t),entities:Array(o.length).fill(n),blocks:[]}}},s=function(){return{text:"\n",inlines:[new i.OrderedSet],entities:new Array(1),blocks:[]}},c=function(){return{text:"",inlines:[],entities:[],blocks:[]}},u=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new i.Map({})}]}},l=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new i.Map({})}]}},f=function(e){return{text:"\r ",inlines:[new i.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new i.Map({})}]}},d=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},h=new i.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),p={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function g(e){return e.style.textAlign?new i.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new i.Map({"margin-left":e.style.marginLeft}):void 0}var v=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",(function(){return _}));var m=" ",y=new RegExp("&nbsp;","g"),b=!0;function A(e,t,n,i,o,m){var y=e.nodeName.toLowerCase();if(m){var _=m(y,e);if(_){var E=r.Entity.__create(_.type,_.mutability,_.data||{});return{chunk:f(E)}}}if("#text"===y&&"\n"!==e.textContent)return a(e,t,o);if("br"===y)return{chunk:s()};if("img"===y&&e instanceof HTMLImageElement){var w={};w.src=e.getAttribute&&e.getAttribute("src")||e.src,w.alt=e.alt,w.height=e.style.height,w.width=e.style.width,e.style.float&&(w.alignment=e.style.float);var I=r.Entity.__create("IMAGE","MUTABLE",w);return{chunk:f(I)}}if("video"===y&&e instanceof HTMLVideoElement){var S={};S.src=e.getAttribute&&e.getAttribute("src")||e.src,S.alt=e.alt,S.height=e.style.height,S.width=e.style.width,e.style.float&&(S.alignment=e.style.float);var k=r.Entity.__create("VIDEO","MUTABLE",S);return{chunk:f(k)}}if("iframe"===y&&e instanceof HTMLIFrameElement){var C={};C.src=e.getAttribute&&e.getAttribute("src")||e.src,C.height=e.height,C.width=e.width;var O=r.Entity.__create("EMBEDDED_LINK","MUTABLE",C);return{chunk:f(O)}}var T,R=function(e,t){var n=h.filter((function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)})).keySeq().toSet().toArray();if(1===n.length)return n[0]}(y,i);R&&("ul"===y||"ol"===y?(i=y,n+=1):("unordered-list-item"!==R&&"ordered-list-item"!==R&&(i="",n=-1),b?(T=u(R,g(e)),b=!1):T=l(R,n,g(e)))),T=T||c(),t=function(e,t,n){var r,i=p[e];if(i)r=n.add(i).toOrderedSet();else if(t instanceof HTMLElement){var o=t;r=(r=n).withMutations((function(e){var t=o.style.color,n=o.style.backgroundColor,r=o.style.fontSize,i=o.style.fontFamily.replace(/^"|"$/g,""),a=o.style.fontWeight,s=o.style.textDecoration,c=o.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),i&&e.add("fontfamily-".concat(i)),"bold"===a&&e.add(p.strong),"underline"===s&&e.add(p.ins),"italic"===c&&e.add(p.em)})).toOrderedSet()}return r}(y,e,t);for(var x=e.firstChild;x;){var M=A(x,t,n,i,v(x)||o,m).chunk;T=d(T,M),x=x.nextSibling}return{chunk:T}}function _(e,t){var n,a,s,c=(n=t,a=e.trim().replace(y,m),(s=o(a))?(b=!0,{chunk:A(s,new i.OrderedSet,-1,"",void 0,n).chunk}):null);if(c){var u=c.chunk,l=new i.OrderedMap({});u.entities&&u.entities.forEach((function(e){e&&(l=l.set(e,r.Entity.__get(e)))}));var f=0;return{contentBlocks:u.text.split("\r").map((function(e,t){var n=f+e.length,o=u&&u.inlines.slice(f,n),a=u&&u.entities.slice(f,n),s=new i.List(o.map((function(e,t){var n={style:e,entity:null};return a[t]&&(n.entity=a[t]),r.CharacterMetadata.create(n)})));return f=n,new r.ContentBlock({key:Object(r.genKey)(),type:u&&u.blocks[t]&&u.blocks[t].type||"unstyled",depth:u&&u.blocks[t]&&u.blocks[t].depth,data:u&&u.blocks[t]&&u.blocks[t].data||new i.Map({}),text:e,characterList:s})})),entityMap:l}}return null}}],n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2);function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,i}(n(327),n(90))},function(e,t,n){"use strict";var r=n(139),i=n(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=(0,r(n(141)).default)(o.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Event");t.default=a},function(e,t,n){"use strict";var r=n(139),i=n(140);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=(0,r(n(141)).default)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=a},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(101);function o(e,t){void 0===t&&(t={});var n=e.initialState,o=new Set,a=[],s=!1,c=Object(i.d)({id:t.id,send:function(t){a.push(t),function(){if(!s){for(s=!0;a.length>0;){var t=a.shift();n=e.transition(n,t,u),o.forEach((function(e){return e.next(n)}))}s=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var a=Object(r.C)(e,t,i);return o.add(a),a.next(n),{unsubscribe:function(){o.delete(a)}}}}),u={parent:t.parent,self:c,id:t.id||"anonymous",observers:o};return n=e.start?e.start(u):n,c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.io=t.Socket=t.Manager=t.protocol=void 0;var r=n(597),i=n(329),o=n(78)("socket.io-client");e.exports=t=s;var a=t.managers={};function s(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,s=r.url(e,t.path||"/socket.io"),c=s.source,u=s.id,l=s.path,f=a[u]&&l in a[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",c),n=new i.Manager(c,t)):(a[u]||(o("new io instance for %s",c),a[u]=new i.Manager(c,t)),n=a[u]),s.query&&!t.query&&(t.query=s.queryKey),n.socket(s.path,t)}t.io=s;var c=n(212);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return c.protocol}}),t.connect=s;var u=n(329);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return u.Manager}});var l=n(336);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return l.Socket}}),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(612))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";var r=n(50),i=n(16),o=n(645),a=n(5),s=["xs","sm","md","lg","xl"];function c(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,c=e.step,u=void 0===c?5:c,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function d(e,t){var r=s.indexOf(t);return r===s.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-u/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:f,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(o,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}function u(e,t,n){var i;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(a.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(a.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var l=n(362),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g=n(173),v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m=n(174),y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(52),A={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.e)(e.main,i):"dark"===t&&(e.dark=Object(b.b)(e.main,o)))}function w(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,s=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,c=e.error,u=void 0===c?{light:g.a[300],main:g.a[500],dark:g.a[700]}:c,w=e.warning,I=void 0===w?{light:v[300],main:v[500],dark:v[700]}:w,S=e.info,k=void 0===S?{light:m.a[300],main:m.a[500],dark:m.a[700]}:S,C=e.success,O=void 0===C?{light:y[300],main:y[500],dark:y[700]}:C,T=e.type,R=void 0===T?"light":T,x=e.contrastThreshold,M=void 0===x?3:x,N=e.tonalOffset,D=void 0===N?.2:N,j=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return Object(b.d)(e,_.text.primary)>=M?_.text.primary:A.text.primary}var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(a.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(l.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(l.a)(5,JSON.stringify(e.main)));return E(e,"light",n,D),E(e,"dark",r,D),e.contrastText||(e.contrastText=L(e.main)),e},P={dark:_,light:A};return Object(o.a)(Object(a.a)({common:f,type:R,primary:B(n),secondary:B(s,"A400","A200","A700"),error:B(u),warning:B(I),info:B(k),success:B(O),grey:d,contrastThreshold:M,getContrastText:L,augmentColor:B,tonalOffset:D},P[R]),j)}function I(e){return Math.round(1e5*e)/1e5}function S(e){return I(e)}var k={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function O(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?C:r,c=n.fontSize,u=void 0===c?14:c,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,g=void 0===p?500:p,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,A=n.allVariants,_=n.pxToRem,E=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=u/14,O=_||function(e){return"".concat(e/b*w,"rem")},T=function(e,t,n,r,i){return Object(a.a)({fontFamily:s,fontWeight:e,fontSize:O(t),lineHeight:n},s===C?{letterSpacing:"".concat(I(r/t),"em")}:{},i,A)},R={h1:T(f,96,1.167,-1.5),h2:T(f,60,1.2,-.5),h3:T(h,48,1.167,0),h4:T(h,34,1.235,.25),h5:T(h,24,1.334,0),h6:T(g,20,1.6,.15),subtitle1:T(h,16,1.75,.15),subtitle2:T(g,14,1.57,.1),body1:T(h,16,1.5,.15),body2:T(h,14,1.43,.15),button:T(g,14,1.75,.4,k),caption:T(h,12,1.66,.4),overline:T(h,12,2.66,1,k)};return Object(o.a)(Object(a.a)({htmlFontSize:b,pxToRem:O,round:S,fontFamily:s,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:g,fontWeightBold:m},R),E,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var R=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],x={borderRadius:4},M=n(172),N=(n(89),n(131));n(21);var D=function(e,t){return t?Object(o.a)(e,t,{clone:!1}):e},j={xs:0,sm:600,md:960,lg:1280,xl:1920},L={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(j[e],"px)")}};var B={m:"margin",p:"padding"},P={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},U={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!U[e])return[e];e=U[e]}var t=e.split(""),n=Object(M.a)(t,2),r=n[0],i=n[1],o=B[r],a=P[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),Q=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function z(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function V(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function K(e){var t=z(e.theme);return Object.keys(e).map((function(n){if(-1===Q.indexOf(n))return null;var r=V(F(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||L;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(N.a)(t)){var i=e.theme.breakpoints||L;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(D,{})}K.propTypes={},K.filterProps=Q;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=z({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var H=n(135),q=n(170);function W(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,s=e.palette,l=void 0===s?{}:s,f=e.spacing,d=e.typography,h=void 0===d?{}:d,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),g=w(l),v=c(n),m=G(f),y=Object(o.a)({breakpoints:v,direction:"ltr",mixins:u(v,m,a),overrides:{},palette:g,props:{},shadows:R,typography:O(g,h),spacing:m,shape:x,transitions:H.a,zIndex:q.a},p),b=arguments.length,A=new Array(b>1?b-1:0),_=1;_<b;_++)A[_-1]=arguments[_];return y=A.reduce((function(e,t){return Object(o.a)(e,t)}),y)}t.a=W},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38),i=n(111);var o=n(112);function a(e){var t="function"===typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return Object(o.a)(e,arguments,Object(r.a)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(a,e)})(e)}},function(e,t,n){"use strict";var r=n(16),i=n(5),o=n(1),a=(n(21),n(19)),s=n(26),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,l=e.square,f=void 0!==l&&l,d=e.elevation,h=void 0===d?1:d,p=e.variant,g=void 0===p?"elevation":p,v=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(u,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(h)],!f&&n.rounded),ref:t},v))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n.n(r),o=n(167);function a(){return i.a.useContext(o.a)}},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=n.n(o),s=(n(21),n(30)),c=n(19),u=n(33),l=n(53),f=n(26),d=n(159),h=n(89),p=n(35),g=n(133),v=n(46),m=n(116);function y(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function A(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=n(u)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var c=a in t,u=a in r,l=t[a],f=Object(o.isValidElement)(l)&&!l.props.in;!u||c&&!f?u||!c||f?u&&c&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:b(s,"exit",e),enter:b(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:b(s,"exit",e),enter:b(s,"enter",e)})}})),i}var _=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},E=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(g.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(v.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,y(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):A(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(p.a)(e,["component","childFactory"]),i=this.state.contextValue,o=_(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(m.a.Provider,{value:i},o):a.a.createElement(m.a.Provider,{value:i},a.a.createElement(t,r,o))},t}(a.a.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(e){return e}};var w=E,I="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var S=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,s=e.rippleSize,u=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=o.useState(!1),g=p[0],v=p[1],m=Object(c.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+i},b=Object(c.a)(t.child,g&&t.childLeaving,r&&t.childPulsate),A=Object(l.a)(d);return I((function(){if(!u){v(!0);var e=setTimeout(A,h);return function(){clearTimeout(e)}}}),[A,u,h]),o.createElement("span",{className:m,style:y},o.createElement("span",{className:b}))},k=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,u=e.className,l=Object(i.a)(e,["center","classes","className"]),f=o.useState([]),d=f[0],p=f[1],g=o.useRef(0),v=o.useRef(null);o.useEffect((function(){v.current&&(v.current(),v.current=null)}),[d]);var m=o.useRef(!1),y=o.useRef(null),b=o.useRef(null),A=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var _=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(Object(h.a)(e),[o.createElement(S,{key:g.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),g.current+=1,v.current=a}),[s]),E=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,c=t.fakeElement,u=void 0!==c&&c;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,d,h=u?null:A.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var g=e.touches?e.touches[0]:e,v=g.clientX,E=g.clientY;l=Math.round(v-p.left),f=Math.round(E-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var w=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(w,2)+Math.pow(I,2))}e.touches?null===b.current&&(b.current=function(){_({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):_({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,_]),I=o.useCallback((function(){E({},{pulsate:!0})}),[E]),k=o.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){k(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:I,start:E,stop:k}}),[I,E,k]),o.createElement("span",Object(r.a)({className:Object(c.a)(s.root,u),ref:A},l),o.createElement(w,{component:null,exit:!0},d))})),C=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(k)),O=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,p=e.children,g=e.classes,v=e.className,m=e.component,y=void 0===m?"button":m,b=e.disabled,A=void 0!==b&&b,_=e.disableRipple,E=void 0!==_&&_,w=e.disableTouchRipple,I=void 0!==w&&w,S=e.focusRipple,k=void 0!==S&&S,O=e.focusVisibleClassName,T=e.onBlur,R=e.onClick,x=e.onFocus,M=e.onFocusVisible,N=e.onKeyDown,D=e.onKeyUp,j=e.onMouseDown,L=e.onMouseLeave,B=e.onMouseUp,P=e.onTouchEnd,U=e.onTouchMove,F=e.onTouchStart,Q=e.onDragLeave,z=e.tabIndex,V=void 0===z?0:z,K=e.TouchRippleProps,G=e.type,H=void 0===G?"button":G,q=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),W=o.useRef(null);var Y=o.useRef(null),J=o.useState(!1),X=J[0],Z=J[1];A&&X&&Z(!1);var $=Object(d.a)(),ee=$.isFocusVisible,te=$.onBlurVisible,ne=$.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;return Object(l.a)((function(r){return t&&t(r),!n&&Y.current&&Y.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Z(!0),W.current.focus()}}}),[]),o.useEffect((function(){X&&k&&!E&&Y.current.pulsate()}),[E,k,X]);var ie=re("start",j),oe=re("stop",Q),ae=re("stop",B),se=re("stop",(function(e){X&&e.preventDefault(),L&&L(e)})),ce=re("start",F),ue=re("stop",P),le=re("stop",U),fe=re("stop",(function(e){X&&(te(e),Z(!1)),T&&T(e)}),!1),de=Object(l.a)((function(e){W.current||(W.current=e.currentTarget),ee(e)&&(Z(!0),M&&M(e)),x&&x(e)})),he=function(){var e=s.findDOMNode(W.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=o.useRef(!1),ge=Object(l.a)((function(e){k&&!pe.current&&X&&Y.current&&" "===e.key&&(pe.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!A&&(e.preventDefault(),R&&R(e))})),ve=Object(l.a)((function(e){k&&" "===e.key&&Y.current&&X&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),D&&D(e),R&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&R(e)})),me=y;"button"===me&&q.href&&(me="a");var ye={};"button"===me?(ye.type=H,ye.disabled=A):("a"===me&&q.href||(ye.role="button"),ye["aria-disabled"]=A);var be=Object(u.a)(a,t),Ae=Object(u.a)(ne,W),_e=Object(u.a)(be,Ae),Ee=o.useState(!1),we=Ee[0],Ie=Ee[1];o.useEffect((function(){Ie(!0)}),[]);var Se=we&&!E&&!A;return o.createElement(me,Object(r.a)({className:Object(c.a)(g.root,v,X&&[g.focusVisible,O],A&&g.disabled),onBlur:fe,onClick:R,onFocus:de,onKeyDown:ge,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ue,onTouchMove:le,onTouchStart:ce,ref:_e,tabIndex:A?-1:V},ye,q),p,Se?o.createElement(C,Object(r.a)({ref:Y,center:h},K)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(O)},,,,function(e,t,n){"use strict";var r=n(75),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),c=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var A={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:A.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+k(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+k(s=e[u],u);c+=C(s,t,n,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(s=e.next()).done;)c+=C(s=s.value,t,n,l=r+k(s,u++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function x(){var e=R.current;if(null===e)throw Error(h(321));return e}var M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var f=0;f<l;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return x().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,n){return x().useReducer(e,t,n)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),i=n(75),o=n(369);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,w=60106,I=60107,S=60108,k=60114,C=60109,O=60110,T=60112,R=60113,x=60120,M=60115,N=60116,D=60121,j=60128,L=60129,B=60130,P=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),w=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),k=U("react.profiler"),C=U("react.provider"),O=U("react.context"),T=U("react.forward_ref"),R=U("react.suspense"),x=U("react.suspense_list"),M=U("react.memo"),N=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),B=U("react.offscreen"),P=U("react.legacy_hidden")}var F,Q="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}function V(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var K=!1;function G(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function H(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case w:return"Portal";case k:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return q(e.type);case D:return q(e._render);case N:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ue(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Oe=null,Te=null;function Re(e){if(e=ei(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),Ce(e.stateNode,e.type,t))}}function xe(e){Oe?Te?Te.push(e):Te=[e]:Oe=e}function Me(){if(Oe){var e=Oe,t=Te;if(Te=Oe=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ne(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Ne,Be=!1,Pe=!1;function Ue(){null===Oe&&null===Te||(je(),Me())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Qe=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Qe=!1}function Ve(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Ke=!1,Ge=null,He=!1,qe=null,We={onError:function(e){Ke=!0,Ge=e}};function Ye(e,t,n,r,i,o,a,s,c){Ke=!1,Ge=null,Ve.apply(We,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(a(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ct=null,ut=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=$r(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function At(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Et(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ct&&_t(ct,e),null!==ut&&_t(ut,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},St={},kt={};function Ct(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ot=Ct("animationend"),Tt=Ct("animationiteration"),Rt=Ct("animationstart"),xt=Ct("transitionend"),Mt=new Map,Nt=new Map,Dt=["abort","abort",Ot,"animationEnd",Tt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Mt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Bt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Pt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var c=o&~a;0!==c?(r=Bt(c),i=Lt):0!==(s&=o)&&(r=Bt(s),i=Lt)}else 0!==(o=n&~a)?(r=Bt(o),i=Lt):0!==s&&(r=Bt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Bt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Qt(24&~t))?Ft(10,t):e;case 10:return 0===(e=Qt(192&~t))?Ft(8,t):e;case 8:return 0===(e=Qt(3584&~t))&&(0===(e=Qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Ht|0)|0},Gt=Math.log,Ht=Math.LN2;var qt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Be||je();var i=Zt,o=Be;Be=!0;try{De(i,e,t,n,r)}finally{(Be=o)||Ue()}}function Xt(e,t,n,r){Wt(qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ct=vt(ct,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Mr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=ke(r);if(null!==(i=$r(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function cn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=cn(dn),pn=i({},dn,{view:0,detail:0}),gn=cn(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(un=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=un=0,fn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=cn(vn),yn=cn(i({},vn,{dataTransfer:0})),bn=cn(i({},pn,{relatedTarget:0})),An=cn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=cn(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=cn(i({},dn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var On=cn(i({},pn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=cn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=cn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),xn=cn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=cn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],Dn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Ln=f&&"TextEvent"in window&&!jn,Bn=f&&(!Dn||jn&&8<jn&&11>=jn),Pn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){xe(r),0<(t=Dr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,qn=null;function Wn(e){kr(e,0)}function Yn(e){if(X(ti(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(f){var Zn;if(f){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];if(Gn(t,qn,e,ke(e)),e=Wn,Be)e(t);else{Be=!0;try{Ne(e,t)}finally{Be=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Dr(mr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Nt.set(_r[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,u){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var l=Ge;Ke=!1,Ge=null,He||(He=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Sr(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Sr(i,s,u),o=c}}}if(He)throw e=qe,He=!1,qe=null,e}function Cr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(xr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),xr(o,e,i,t),a.add(s))}function xr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=$r(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Pe)return e(t,n);Pe=!0;try{Le(e,t,n)}finally{Pe=!1,Ue()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var c=hn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":c=On;break;case"focusin":u="focus",c=bn;break;case"focusout":u="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Ot:case Tt:case Rt:c=An;break;case xt:c=xn;break;case"scroll":c=gn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Fe(p,d))&&l.push(Nr(p,g,h)))),f)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!$r(u)&&!u[Xr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$r(u):null)&&(u!==(f=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==c?s:ti(c),h=null==u?s:ti(u),(s=new l(g,p+"leave",c,n,i)).target=f,s.relatedTarget=h,g=null,$r(i)===r&&((l=new l(d,p+"enter",u,n,i)).target=h,l.relatedTarget=f,g=l),f=g,c&&u)e:{for(d=u,p=0,h=l=c;h;h=jr(h))p++;for(h=0,g=d;g;g=jr(g))h++;for(;0<p-h;)l=jr(l),p--;for(;0<h-p;)d=jr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=jr(l),d=jr(d)}l=null}else l=null;null!==c&&Lr(a,s,c,l,!1),null!==u&&null!==f&&Lr(a,f,u,l,!0)}if("select"===(c=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Jn;else if(Kn(s))if(Xn)v=ar;else{v=ir;var m=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Gn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ti(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Ar(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Ar(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(m=Dr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Qn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Pn);case"textInput":return(e=t.data)===Pn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}kr(a,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(Nr(e,o,i)),null!=(o=Fe(e,t))&&r.push(Nr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Fe(n,o))&&a.unshift(Nr(n,c,s)):i||null!=(c=Fe(n,o))&&a.push(Nr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Pr=null,Ur=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Wr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Wr,Jr="__reactProps$"+Wr,Xr="__reactContainer$"+Wr,Zr="__reactEvents$"+Wr;function $r(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[Yr])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Yr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[Jr]||null}function ri(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function si(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function ci(e,t){oi++,ii[oi]=e.current,e.current=t}var ui={},li=ai(ui),fi=ai(!1),di=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){si(fi),si(li)}function vi(e,t,n){if(li.current!==ui)throw Error(a(168));ci(li,t),ci(fi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,q(t)||"Unknown",o));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=li.current,ci(li,e),ci(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(fi),si(li),ci(li,e)):si(fi),ci(fi,n)}var Ai=null,_i=null,Ei=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ci=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Di={},ji=void 0!==ki?ki:function(){},Li=null,Bi=null,Pi=!1,Ui=Ci(),Fi=1e4>Ui?Ci:function(){return Ci()-Ui};function Qi(){switch(Oi()){case Ti:return 99;case Ri:return 98;case xi:return 97;case Mi:return 96;case Ni:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ti;case 98:return Ri;case 97:return xi;case 96:return Mi;case 95:return Ni;default:throw Error(a(332))}}function Vi(e,t){return e=zi(e),Ei(e,t)}function Ki(e,t,n){return e=zi(e),wi(e,t,n)}function Gi(){if(null!==Bi){var e=Bi;Bi=null,Ii(e)}Hi()}function Hi(){if(!Pi&&null!==Li){Pi=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),wi(Ti,Gi),n}finally{Pi=!1}}}var qi=_.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ai(null),Ji=null,Xi=null,Zi=null;function $i(){Zi=Xi=Ji=null}function eo(e){var t=Yi.current;si(Yi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){Ji=e,Zi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Da=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Ji)throw Error(a(308));Xi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,f=l=u=null;;){c=a.lane;var h=a.eventTime;if((r&c)===c){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(c=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,c);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(c="function"===typeof(p=g.payload)?p.call(h,d,c):p)||void 0===c)break e;d=i({},d,c);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else h={eventTime:h,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,u=d):f=f.next=h,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===f&&(u=d),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Ps|=s,e.lanes=s,e.memoizedState=d}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),o=so(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),fc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),o=so(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),fc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=lc(e),i=so(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),co(e,i),fc(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function mo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?di:li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?hi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?di:li.current,i.context=hi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ao=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Gc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case w:return(t=Wc(t,e.mode,n)).return=e,t}if(Ao(t)||z(t))return(t=Gc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null}if(Ao(n)||z(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ao(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function g(i,a,s,c){for(var u=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,s[g],c);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===l?u=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(i,f),u;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],c))&&(a=o(f,a,g),null===l?u=f:l.sibling=f,l=f);return u}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?u=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),u}function v(i,s,c,u){var l=z(c);if("function"!==typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,m=null,y=c.next();null!==g&&!y.done;v++,y=c.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;v++,y=c.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(i,g);!y.done;v++,y=c.next())null!==(y=p(g,i,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"===typeof o&&null!==o&&o.type===I&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(o.type===I){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=_o(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===I?((r=Gc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=_o(e,r,o),c.return=e,e=c)}return s(e);case w:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qc(o,e.mode,c)).return=e,e=r),s(e);if(Ao(o))return g(e,r,o,c);if(z(o))return v(e,r,o,c);if(l&&Eo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,q(e.type)||"Component"))}return n(e,r)}}var Io=wo(!0),So=wo(!1),ko={},Co=ai(ko),Oo=ai(ko),To=ai(ko);function Ro(e){if(e===ko)throw Error(a(174));return e}function xo(e,t){switch(ci(To,t),ci(Oo,e),ci(Co,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Co),ci(Co,t)}function Mo(){si(Co),si(Oo),si(To)}function No(e){Ro(To.current);var t=Ro(Co.current),n=pe(t,e.type);t!==n&&(ci(Oo,e),ci(Co,n))}function Do(e){Oo.current===e&&(si(Co),si(Oo))}var jo=ai(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Po=null,Uo=!1;function Fo(e,t){var n=Qc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zo(e){if(Uo){var t=Po;if(t){var n=t;if(!Qo(e,t)){if(!(t=Gr(n.nextSibling))||!Qo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Bo=e);Fo(Bo,n)}Bo=e,Po=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Bo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Ko(e){if(e!==Bo)return!1;if(!Uo)return Vo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Qr(t,e.memoizedProps))for(t=Po;t;)Fo(e,t),t=Gr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Po=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Po=null}}else Po=Bo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Po=Bo=null,Uo=!1}var Ho=[];function qo(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var Wo=_.ReactCurrentDispatcher,Yo=_.ReactCurrentBatchConfig,Jo=0,Xo=null,Zo=null,$o=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if(Jo=o,Xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=null===e||null===e.memoizedState?Ra:xa,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,$o=Zo=null,t.updateQueue=null,Wo.current=Ma,e=n(r,i)}while(ta)}if(Wo.current=Ta,t=null!==Zo&&null!==Zo.next,Jo=0,$o=Zo=Xo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Xo.memoizedState=$o=e:$o=$o.next=e,$o}function aa(){if(null===Zo){var e=Xo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===$o?Xo.memoizedState:$o.next;if(null!==t)$o=t,Zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===$o?Xo.memoizedState=$o=e:$o=$o.next=e}return $o}function sa(e,t){return"function"===typeof t?t(e):t}function ca(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,u=i;do{var l=u.lane;if((Jo&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=f,o=r):c=c.next=f,Xo.lanes|=l,Ps|=l}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=s,sr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ho.push(t))),e)return n(t._source);throw Ho.push(t),Error(a(350))}function fa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Wo.current,u=c.useState((function(){return la(i,t,n)})),l=u[1],f=u[0];u=$o;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=Xo;return e.memoizedState={refs:h,source:t,subscribe:r},c.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!sr(s,e)){e=n(t._source),sr(f,e)||(l(e),e=lc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-Kt(a),u=1<<c;r[c]|=e,a&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=lc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),sr(p,n)&&sr(g,t)&&sr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f}).dispatch=l=Oa.bind(null,Xo,e),u.queue=e,u.baseQueue=null,f=la(i,t,n),u.memoizedState=u.baseState=f),f}function da(e,t,n){return fa(aa(),e,t,n)}function ha(e){var t=oa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Oa.bind(null,Xo,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xo.updateQueue)?(t={lastEffect:null},Xo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},oa().memoizedState=e}function va(){return aa().memoizedState}function ma(e,t,n,r){var i=oa();Xo.flags|=e,i.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ya(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(t,n,o,r)}Xo.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function ba(e,t){return ma(516,4,e,t)}function Aa(e,t){return ya(516,4,e,t)}function _a(e,t){return ya(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,2,Ea.bind(null,t,e),n)}function Ia(){}function Sa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=Qi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Oa(e,t,n){var r=uc(),i=lc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Xo||null!==a&&a===Xo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,sr(c,s))return}catch(u){}fc(e,i,r)}}var Ta={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ra={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Xo,e),[r.memoizedState,e]},useRef:ga,useState:ha,useDebugValue:Ia,useDeferredValue:function(e){var t=ha(e),n=t[0],r=t[1];return ba((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ha(!1),t=e[0];return ga(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=ha(t)[1];return 0===(2&Xo.mode)&&(Xo.flags|=516,pa(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return ha(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},xa={readContext:ro,useCallback:Sa,useContext:ro,useEffect:Aa,useImperativeHandle:wa,useLayoutEffect:_a,useMemo:ka,useReducer:ca,useRef:va,useState:function(){return ca(sa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ca(sa),n=t[0],r=t[1];return Aa((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ca(sa)[0];return[va().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ma={readContext:ro,useCallback:Sa,useContext:ro,useEffect:Aa,useImperativeHandle:wa,useLayoutEffect:_a,useMemo:ka,useReducer:ua,useRef:va,useState:function(){return ua(sa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(sa),n=t[0],r=t[1];return Aa((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ua(sa)[0];return[va().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Na=_.ReactCurrentOwner,Da=!1;function ja(e,t,n,r){t.child=null===e?So(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Vc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Pa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0===(o&i))return t.lanes=e.lanes,ns(e,t,o);0!==(16384&e.flags)&&(Da=!0)}return Qa(e,t,n,r,o)}function Ua(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bc(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(t,e),null;t.memoizedState={baseLanes:0},bc(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bc(t,r);return ja(e,t,i,n),t.child}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Qa(e,t,n,r,i){var o=pi(n)?di:li.current;return o=hi(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function za(e,t,n,r,i){if(pi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=hi(t,u=pi(n)?di:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&yo(t,a,r,u),io=!1;var d=t.memoizedState;a.state=d,lo(t,r,a,i),c=t.memoizedState,s!==r||d!==c||fi.current||io?("function"===typeof l&&(po(t,n,l,r),c=t.memoizedState),(s=io||vo(t,n,s,r,d,c,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Wi(t.type,s),a.props=u,f=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=hi(t,c=pi(n)?di:li.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==c)&&yo(t,a,r,c),io=!1,d=t.memoizedState,a.state=d,lo(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||fi.current||io?("function"===typeof h&&(po(t,n,h,r),p=t.memoizedState),(u=io||vo(t,n,u,r,d,p,c))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Fa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&bi(t,n,!1),ns(e,t,o);r=t.stateNode,Na.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),xo(e,t.containerInfo)}var Ga,Ha,qa,Wa={dehydrated:null,retryLane:0};function Ya(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(jo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,t.lanes=33554432,e):((n=Hc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Za(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Wa,i):(n=Xa(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Hc(t,i,0,null),n=Gc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Xa(e,t,n,r){var i=e.child;return e=i.sibling,n=Vc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Za(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vc(a,s),null!==e?r=Vc(e,r):(r=Gc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&gi(),null;case 3:return Mo(),si(fi),si(li),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ko(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Ro(To.current);if(n=t.type,null!==e&&null!=t.stateNode)Ha(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Co.current),Ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Jr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<wr.length;e++)Cr(wr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ce(r,s),Cr("invalid",r)}for(var u in Ie(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Cr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Jr]=r,Ga(e,t),t.stateNode=e,u=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<wr.length;o++)Cr(wr[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&A(e,s,f,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(To.current),Ro(Co.current),Ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return si(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ko(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&Ps)&&0===(134217727&Us)||gc(Rs,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Tr(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return pi(t.type)&&gi(),null;case 19:if(si(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Lo(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Fi()>Vs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=jo.current,ci(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Ac(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:pi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),si(fi),si(li),qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return si(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(jo),null;case 4:return Mo(),null;case 10:return eo(e),null;case 23:case 24:return Ac(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Co.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Ie(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var u=o[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(c.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(u=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==u&&(null!=l||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(c.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ws=r),ss(0,t)},n}function ls(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bc(e,n)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Dc(n,e),Nc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ai,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Dc(t,n);else{r=t;try{i()}catch(o){Bc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bc(t,o)}break;case 5:ds(t);break;case 4:Es(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?As(e,n,t):_s(e,n,t)}function As(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(As(e,t,n),e=e.sibling;null!==e;)As(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Ee(n,c):"dangerouslySetInnerHTML"===s?me(n,c):"children"===s?ye(n,c):A(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(zs=Fi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Cs=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,Ts=0,Rs=null,xs=null,Ms=0,Ns=0,Ds=ai(0),js=0,Ls=null,Bs=0,Ps=0,Us=0,Fs=0,Qs=null,zs=0,Vs=1/0;function Ks(){Vs=Fi()+500}var Gs,Hs=null,qs=!1,Ws=null,Ys=null,Js=!1,Xs=null,Zs=90,$s=[],ec=[],tc=null,nc=0,rc=null,ic=-1,oc=0,ac=0,sc=null,cc=!1;function uc(){return 0!==(48&Ts)?Fi():-1!==ic?ic:ic=Fi()}function lc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Qi()?1:2;if(0===oc&&(oc=Bs),0!==qi.transition){0!==ac&&(ac=null!==Qs?Qs.pendingLanes:0),e=oc;var t=4186112&~ac;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Qi(),0!==(4&Ts)&&98===e?e=Ft(12,oc):e=Ft(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc),e}function fc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(a(185));if(null===(e=dc(e,t)))return null;Vt(e,t,n),e===Rs&&(Us|=t,4===js&&gc(e,Ms));var r=Qi();1===t?0!==(8&Ts)&&0===(48&Ts)?vc(e):(hc(e,n),0===Ts&&(Ks(),Gi())):(0===(4&Ts)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),hc(e,n)),Qs=e}function dc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Kt(s),u=1<<c,l=o[c];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Bt(u);var f=Lt;o[c]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Pt(e,e===Rs?Ms:0),t=Lt,0===r)null!==n&&(n!==Di&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ii(n)}15===t?(n=vc.bind(null,e),null===Li?(Li=[n],Bi=wi(Ti,Hi)):Li.push(n),n=Di):14===t?n=Ki(99,vc.bind(null,e)):n=Ki(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),pc.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pc(e){if(ic=-1,ac=oc=0,0!==(48&Ts))throw Error(a(327));var t=e.callbackNode;if(Mc()&&e.callbackNode!==t)return null;var n=Pt(e,e===Rs?Ms:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=wc();for(Rs===e&&Ms===r||(Ks(),_c(e,r));;)try{kc();break}catch(c){Ec(e,c)}if($i(),Cs.current=o,Ts=i,null!==xs?r=0:(Rs=null,Ms=0,r=js),0!==(Bs&Us))_c(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ic(e,n))),1===r)throw t=Ls,_c(e,0),gc(e,n),hc(e,Fi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tc(e);break;case 3:if(gc(e,n),(62914560&n)===n&&10<(r=zs+500-Fi())){if(0!==Pt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Tc.bind(null,e),r);break}Tc(e);break;case 4:if(gc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=zr(Tc.bind(null,e),n);break}Tc(e);break;case 5:Tc(e);break;default:throw Error(a(329))}}return hc(e,Fi()),e.callbackNode===t?pc.bind(null,e):null}function gc(e,t){for(t&=~Fs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(48&Ts))throw Error(a(327));if(Mc(),e===Rs&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Ic(e,t);0!==(Bs&Us)&&(n=Ic(e,t=Pt(e,t)))}else n=Ic(e,t=Pt(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ic(e,t))),1===n)throw n=Ls,_c(e,0),gc(e,t),hc(e,Fi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e),hc(e,Fi()),null}function mc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ks(),Gi())}}function yc(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Ks(),Gi())}}function bc(e,t){ci(Ds,Ns),Ns|=t,Bs|=t}function Ac(){Ns=Ds.current,si(Ds)}function _c(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Mo(),si(fi),si(li),qo();break;case 5:Do(r);break;case 4:Mo();break;case 13:case 19:si(jo);break;case 10:eo(r);break;case 23:case 24:Ac()}n=n.return}Rs=e,xs=Vc(e.current,null),Ms=Ns=Bs=t,js=0,Ls=null,Fs=Us=Ps=0}function Ec(e,t){for(;;){var n=xs;try{if($i(),Wo.current=Ta,ea){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(Jo=0,$o=Zo=Xo=null,ta=!1,Os.current=null,null===n||null===n.return){js=1,Ls=t,xs=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&jo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(u),d.updateQueue=m}else v.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=so(-1,1);y.tag=2,co(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new cs,c=new Set,b.set(u,c)):void 0===(c=b.get(u))&&(c=new Set,b.set(u,c)),!c.has(s)){c.add(s);var A=Pc.bind(null,o,u,s);u.then(A,A)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),c=as(c,s),d=a;do{switch(d.tag){case 3:o=c,d.flags|=4096,t&=-t,d.lanes|=t,uo(d,us(0,o,t));break e;case 1:o=c;var _=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ys||!Ys.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,uo(d,ls(d,o,t));break e}}d=d.return}while(null!==d)}Oc(n)}catch(w){t=w,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function wc(){var e=Cs.current;return Cs.current=Ta,null===e?Ta:e}function Ic(e,t){var n=Ts;Ts|=16;var r=wc();for(Rs===e&&Ms===t||_c(e,t);;)try{Sc();break}catch(i){Ec(e,i)}if($i(),Ts=n,Cs.current=r,null!==xs)throw Error(a(261));return Rs=null,Ms=0,js}function Sc(){for(;null!==xs;)Cc(xs)}function kc(){for(;null!==xs&&!Si();)Cc(xs)}function Cc(e){var t=Gs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Oc(e):xs=t,Os.current=null}function Oc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ns)))return void(xs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(xs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===js&&(js=5)}function Tc(e){var t=Qi();return Vi(99,Rc.bind(null,e,t)),null}function Rc(e,t){do{Mc()}while(null!==Xs);if(0!==(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var u=31-Kt(o),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,o&=~l}if(null!==tc&&0===(24&r)&&tc.has(e)&&tc.delete(e),e===Rs&&(xs=Rs=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Os.current=null,Pr=Yt,pr(s=hr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(k){c=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==c||0!==o&&3!==v.nodeType||(d=f+o),v!==u||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===c&&++p===o&&(d=f),m===u&&++g===l&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}c=-1===d||-1===h?null:{start:d,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Ur={focusedElem:s,selectionRange:c},Yt=!1,sc=null,cc=!1,Hs=r;do{try{xc()}catch(k){if(null===Hs)throw Error(a(330));Bc(Hs,k),Hs=Hs.nextEffect}}while(null!==Hs);sc=null,Hs=r;do{try{for(s=e;null!==Hs;){var b=Hs.flags;if(16&b&&ye(Hs.stateNode,""),128&b){var A=Hs.alternate;if(null!==A){var _=A.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Hs),Hs.flags&=-3;break;case 6:bs(Hs),Hs.flags&=-3,ws(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,ws(Hs.alternate,Hs);break;case 4:ws(Hs.alternate,Hs);break;case 8:Es(s,c=Hs);var E=c.alternate;ms(c),null!==E&&ms(E)}Hs=Hs.nextEffect}}catch(k){if(null===Hs)throw Error(a(330));Bc(Hs,k),Hs=Hs.nextEffect}}while(null!==Hs);if(_=Ur,A=hr(),b=_.focusedElem,s=_.selectionRange,A!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(A=s.start,void 0===(_=s.end)&&(_=A),"selectionStart"in b?(b.selectionStart=A,b.selectionEnd=Math.min(_,b.value.length)):(_=(A=b.ownerDocument||document)&&A.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,E=Math.min(s.start,c),s=void 0===s.end?E:Math.min(s.end,c),!_.extend&&E>s&&(c=s,s=E,E=c),c=fr(b,E),o=fr(b,s),c&&o&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((A=A.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),E>s?(_.addRange(A),_.extend(o.node,o.offset)):(A.setEnd(o.node,o.offset),_.addRange(A))))),A=[];for(_=b;_=_.parentNode;)1===_.nodeType&&A.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<A.length;b++)(_=A[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!Pr,Ur=Pr=null,e.current=n,Hs=r;do{try{for(b=e;null!==Hs;){var w=Hs.flags;if(36&w&&ps(b,Hs.alternate,Hs),128&w){A=void 0;var I=Hs.ref;if(null!==I){var S=Hs.stateNode;switch(Hs.tag){case 5:A=S;break;default:A=S}"function"===typeof I?I(A):I.current=A}}Hs=Hs.nextEffect}}catch(k){if(null===Hs)throw Error(a(330));Bc(Hs,k),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,ji(),Ts=i}else e.current=n;if(Js)Js=!1,Xs=e,Zs=t;else for(Hs=r;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((w=Hs).sibling=null,w.stateNode=null),Hs=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ai,n,void 0,64===(64&n.current.flags))}catch(k){}if(hc(e,Fi()),qs)throw qs=!1,e=Ws,Ws=null,e;return 0!==(8&Ts)||Gi(),null}function xc(){for(;null!==Hs;){var e=Hs.alternate;cc||null===sc||(0!==(8&Hs.flags)?et(Hs,sc)&&(cc=!0):13===Hs.tag&&Ss(e,Hs)&&et(Hs,sc)&&(cc=!0));var t=Hs.flags;0!==(256&t)&&hs(e,Hs),0===(512&t)||Js||(Js=!0,Ki(97,(function(){return Mc(),null}))),Hs=Hs.nextEffect}}function Mc(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Vi(e,jc)}return!1}function Nc(e,t){$s.push(t,e),Js||(Js=!0,Ki(97,(function(){return Mc(),null})))}function Dc(e,t){ec.push(t,e),Js||(Js=!0,Ki(97,(function(){return Mc(),null})))}function jc(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!==(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Bc(o,u)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(u){if(null===o)throw Error(a(330));Bc(o,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ts=t,Gi(),!0}function Lc(e,t,n){co(e,t=us(0,t=as(n,t),1)),t=uc(),null!==(e=dc(e,1))&&(Vt(e,1,t),hc(e,t))}function Bc(e,t){if(3===e.tag)Lc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,e=as(t,e),1);if(co(n,i),i=uc(),null!==(n=dc(n,1)))Vt(n,1,i),hc(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ms&n)===n&&(4===js||3===js&&(62914560&Ms)===Ms&&500>Fi()-zs?_c(e,0):Fs|=n),hc(e,t)}function Uc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Qi()?1:2:(0===oc&&(oc=Bs),0===(t=Qt(62914560&~oc))&&(t=4194304))),n=uc(),null!==(e=dc(e,t))&&(Vt(e,t,n),hc(e,n))}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qc(e,t,n,r){return new Fc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Qc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Gc(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case k:return(e=Qc(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case R:return(e=Qc(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case x:return(e=Qc(19,n,t,i)).elementType=x,e.lanes=o,e;case B:return Hc(n,i,o,t);case P:return(e=Qc(24,n,t,i)).elementType=P,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case O:s=9;break e;case T:s=11;break e;case M:s=14;break e;case N:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Qc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gc(e,t,n,r){return(e=Qc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=Qc(23,e,r,t)).elementType=B,e.lanes=n,e}function qc(e,t,n){return(e=Qc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=Qc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xc(e,t,n,r){var i=t.current,o=uc(),s=lc(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(pi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=mi(n,u,c);break e}}n=c}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),fc(i,s,o),s}function Zc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yc(e,t,null!=n&&!0===n.hydrate),t=Qc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[Xr]=n.current,Tr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Zc(a);s.call(e)}}Xc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Zc(a);c.call(e)}}yc((function(){Xc(t,a,e,i)}))}return Zc(a)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(a(200));return Jc(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,t.tag){case 3:Ka(t),Go();break;case 5:No(t);break;case 1:pi(t.type)&&yi(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ya(e,t,n):(ci(jo,1&jo.current),null!==(t=ns(e,t,n))?t.sibling:null);ci(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,n)}return ns(e,t,n)}Da=0!==(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,li.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(i),e=Wi(i,e),o){case 0:t=Qa(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Wi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Po=Gr(t.stateNode.containerInfo.firstChild),Bo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ho.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Go();t=t.child}return t;case 5:return No(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Qr(r,i)?s=null:null!==o&&Qr(r,o)&&(t.flags|=16),Fa(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Ya(e,t,n);case 4:return xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(ci(Yi,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=sr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===c.tag&&((l=so(-1,n&-n)).tag=2,co(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),to(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Wi(i=t.type,t.pendingProps),Ba(e,t,i,o=Wi(i.type,o),r,n);case 15:return Pa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,yi(t)):e=!1,no(t,n),mo(t,r,i),bo(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Ua(e,t,n)}throw Error(a(156,t.tag))},tu.prototype.render=function(e){Xc(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xc(null,e,null,(function(){t[Xr]=null}))},tt=function(e){13===e.tag&&(fc(e,4,uc()),eu(e,4))},nt=function(e){13===e.tag&&(fc(e,67108864,uc()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=uc(),n=lc(e);fc(e,n,t),eu(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=mc,De=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(Ks(),Gi())}},je=function(){0===(49&Ts)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hc(e,Fi())}))}Gi()}(),Mc())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Ks(),Gi())}};var ou={Events:[ei,ti,ni,xe,Me,Mc,{current:!1}]},au={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Ai=cu.inject(su),_i=cu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ts=n,Gi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(a(40));return!!e._reactRootContainer&&(yc((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=mc,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(370)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,b=5,A=0;t.unstable_shouldYield=function(){return t.unstable_now()>=A},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();A=e+b;try{m(!0,e)?E.postMessage(null):(v=!1,m=null)}catch(n){throw E.postMessage(null),n}}else v=!1},r=function(e){m=e,v||(v=!0,E.postMessage(null))},i=function(e,n){y=h((function(){e(t.unstable_now())}),n)},o=function(){p(y),y=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>k(a,n))void 0!==c&&0>k(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>k(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],O=[],T=1,R=null,x=3,M=!1,N=!1,D=!1;function j(e){for(var t=I(O);null!==t;){if(null===t.callback)S(O);else{if(!(t.startTime<=e))break;S(O),t.sortIndex=t.expirationTime,w(C,t)}t=I(O)}}function L(e){if(D=!1,j(e),!N)if(null!==I(C))N=!0,r(B);else{var t=I(O);null!==t&&i(L,t.startTime-e)}}function B(e,n){N=!1,D&&(D=!1,o()),M=!0;var r=x;try{for(j(n),R=I(C);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=R.callback;if("function"===typeof a){R.callback=null,x=R.priorityLevel;var s=a(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===I(C)&&S(C),j(n)}else S(C);R=I(C)}if(null!==R)var c=!0;else{var u=I(O);null!==u&&i(L,u.startTime-n),c=!1}return c}finally{R=null,x=r,M=!1}}var P=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||M||(N=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(C)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=P,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,w(O,e),null===I(C)&&e===I(O)&&(D?o():D=!0,i(L,a-s))):(e.sortIndex=c,w(C,e),N||M||(N=!0,r(B))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};b[o]=function(){return this};var A=Object.getPrototypeOf,_=A&&A(A(T([])));_&&_!==n&&r.call(_,o)&&(b=_);var E=y.prototype=v.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return m.prototype=E.constructor=y,y.constructor=m,m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(I.prototype),I.prototype[a]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new I(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(E),c(E,s,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n(374)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(3),o=n(4),a=n(2),s=n(68),c=n(11),u=n(43),l=n(10);function f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return!("file:"!==f()&&"ionic:"!==f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function h(){return Object(l.q)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return/Edge\/\d+/.test(e)}function g(){try{var e=self.localStorage,t=c.r();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.l)();return h()||p(e)}()||Object(l.r)()}catch(n){return v()&&Object(l.r)()}return!1}function v(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function m(){return("http:"===f()||"https:"===f()||Object(l.n)()||d())&&!(Object(l.u)()||Object(l.t)())&&g()&&!v()}function y(){return d()&&"undefined"!==typeof document}function b(){return A.apply(this,arguments)}function A(){return(A=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={LOCAL:"local",NONE:"none",SESSION:"session"},E=c.o,w="persistence";function I(e,t){E(Object.values(_).includes(t),e,"invalid-persistence-type"),Object(l.u)()?E(t!==_.SESSION,e,"unsupported-persistence-type"):Object(l.t)()?E(t===_.NONE,e,"unsupported-persistence-type"):v()?E(t===_.NONE||t===_.LOCAL&&Object(l.r)(),e,"unsupported-persistence-type"):E(t===_.NONE||g(),e,"unsupported-persistence-type")}function S(e){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=C(),i=c.u(w,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return"undefined"!==typeof window?window:null}var O=c.o,T=function(){function e(){Object(i.a)(this,e),this.browserResolver=c.s(c.y),this.cordovaResolver=c.s(c.D),this.underlyingResolver=null,this._redirectPersistence=c.z,this._completeRedirectFn=c.t}return Object(o.a)(e,[{key:"_initialize",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(a.a)(r.a.mark((function e(t,n,i,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,o));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(a.a)(r.a.mark((function e(t,n,i,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,o));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return y()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return O(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function R(e){return e.unwrap()}function x(e){return N(e)}function M(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new P(e,c.I(e,t));else if(r){var i=N(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function N(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return c.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===c.k.PASSWORD)return null;switch(r){case c.k.GOOGLE:n=c.f;break;case c.k.FACEBOOK:n=c.d;break;case c.k.GITHUB:n=c.e;break;case c.k.TWITTER:n=c.n;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?c.m._create(r,s):c.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new c.h(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function D(e,t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(r.a.mark((function e(t,n){var i,o,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:i=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0 instanceof l.c&&M(t,e.t0),e.t0;case 10:return a=(o=i).operationType,s=o.user,e.abrupt("return",{operationType:a,credential:x(i),additionalUserInfo:c.H(i),user:U.getOrCreate(s)});case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function L(e,t){return B.apply(this,arguments)}function B(){return(B=Object(a.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return D(t,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(o.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return D(R(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),U=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=c.R(t)}return Object(o.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,c.N(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(this.auth,c.O(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,c.P(this._delegate,t,T)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(c.p(this.auth));case 2:return e.abrupt("return",c.Q(this._delegate,t,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,c.S(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return L(this.auth,c.T(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return D(this.auth,c.U(this._delegate,e,T))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(c.p(this.auth));case 2:return e.abrupt("return",c.V(this._delegate,t,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return c.W(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.hb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return c.ib(this._delegate,e)}},{key:"updatePassword",value:function(e){return c.jb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return c.kb(this._delegate,e)}},{key:"updateProfile",value:function(e){return c.lb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return c.mb(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();U.USER_MAP=new WeakMap;var F=c.o,Q=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;F(r,"invalid-api-key",{appName:t.name});var o=[c.K];if("undefined"!==typeof window){o=function(e,t){var n=C();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=c.u(w,e,t);switch(n.sessionStorage.getItem(r)){case _.NONE:return[c.K];case _.LOCAL:return[c.L,c.z];case _.SESSION:return[c.z];default:return[]}}(r,t.name);for(var a=0,s=[c.L,c.x,c.z];a<s.length;a++){var u=s[a];o.includes(u)||o.push(u)}}F(r,"invalid-api-key",{appName:t.name});var l="undefined"!==typeof window?T:void 0;this._delegate=n.initialize({options:{persistence:o,popupRedirectResolver:l}}),this._delegate._updateErrorMap(c.F),this.linkUnderlyingAuth()}return Object(o.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?U.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){c.C(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return c.w(this._delegate,e)}},{key:"checkActionCode",value:function(e){return c.A(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return c.B(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this._delegate,c.E(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return c.G(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return c.M(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,c.J(this._delegate,T);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",D(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){c.v(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=z(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=z(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return c.Y(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return c.X(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(a.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(this._delegate,t),e.t0=t,e.next=e.t0===_.SESSION?4:e.t0===_.LOCAL?6:e.t0===_.NONE?11:13;break;case 4:return n=c.z,e.abrupt("break",14);case 6:return e.next=8,c.s(c.L)._isAvailable();case 8:return i=e.sent,n=i?c.L:c.x,e.abrupt("break",14);case 11:return n=c.K,e.abrupt("break",14);case 13:return e.abrupt("return",c.q("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return D(this._delegate,c.Z(this._delegate))}},{key:"signInWithCredential",value:function(e){return D(this._delegate,c.ab(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return D(this._delegate,c.bb(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return D(this._delegate,c.cb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return D(this._delegate,c.db(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return L(this._delegate,c.eb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(m(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",D(this._delegate,c.fb(this._delegate,t,T)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,S(this._delegate);case 3:return e.abrupt("return",c.gb(this._delegate,t,T));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return c.nb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function z(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&U.getOrCreate(e))},error:t,complete:n}}Q.Persistence=_;var V=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new c.i(R(s.a.auth()))}return Object(o.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return c.i.credential(e,t)}}]),e}();V.PHONE_SIGN_IN_METHOD=c.i.PHONE_SIGN_IN_METHOD,V.PROVIDER_ID=c.i.PROVIDER_ID;var K,G=c.o,H=function(){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.app();Object(i.a)(this,e),G(null===(r=o.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new c.l(t,n,o.auth()),this.type=this._delegate.type}return Object(o.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(K=s.a).INTERNAL.registerComponent(new u.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Q(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:c.a.EMAIL_SIGNIN,PASSWORD_RESET:c.a.PASSWORD_RESET,RECOVER_EMAIL:c.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:c.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:c.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:c.a.VERIFY_EMAIL}},EmailAuthProvider:c.c,FacebookAuthProvider:c.d,GithubAuthProvider:c.e,GoogleAuthProvider:c.f,OAuthProvider:c.h,PhoneAuthProvider:V,PhoneMultiFactorGenerator:c.j,RecaptchaVerifier:H,TwitterAuthProvider:c.n,Auth:Q,AuthCredential:c.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.1.0")}).call(this,n(39))},function(e,t,n){"use strict";n(75);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";var r=n(377);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(379)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,A=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case u:return e;default:return t}}case o:return t}}}function w(e){return E(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||E(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===c||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===A||e.$$typeof===_||e.$$typeof===y)},t.typeOf=E},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,c=60109,u=60110,l=60112,f=60113,d=60120,h=60115,p=60116,g=60121,v=60122,m=60117,y=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var A=Symbol.for;r=A("react.element"),i=A("react.portal"),o=A("react.fragment"),a=A("react.strict_mode"),s=A("react.profiler"),c=A("react.provider"),u=A("react.context"),l=A("react.forward_ref"),f=A("react.suspense"),d=A("react.suspense_list"),h=A("react.memo"),p=A("react.lazy"),g=A("react.block"),v=A("react.server.block"),m=A("react.fundamental"),y=A("react.debug_trace_mode"),b=A("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case u:case l:case p:case h:case c:return e;default:return t}}case i:return t}}}var E=c,w=r,I=l,S=o,k=p,C=h,O=i,T=s,R=a,x=f;t.ContextConsumer=u,t.ContextProvider=E,t.Element=w,t.ForwardRef=I,t.Fragment=S,t.Lazy=k,t.Memo=C,t.Portal=O,t.Profiler=T,t.StrictMode=R,t.Suspense=x,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===p},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===y||e===a||e===f||e===d||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===c||e.$$typeof===u||e.$$typeof===l||e.$$typeof===m||e.$$typeof===g||e[0]===v)},t.typeOf=_},function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="model",f="name",d="type",h="vendor",p="version",g="architecture",v="console",m="mobile",y="tablet",b="smarttv",A="wearable",_="embedded",E={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===u&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},w={rgx:function(e,t){for(var n,r,i,s,u,l,f=0;f<t.length&&!u;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(E.has(t[n][r],e))return"?"===n?o:n}else if(E.has(t[n],e))return"?"===n?o:n;return e}},I={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[f,p],[/opios[\/\s]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[f,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[f,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[f],[/;fbav\/([\w\.]+);/i],[p,[f,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[f,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[f,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[p,w.str,I.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,E.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[h,"Samsung"],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[h,"Samsung"],[d,m]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[h,"Apple"],[d,m]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,"Apple"],[d,y]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[h,"Huawei"],[d,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[h,"Huawei"],[d,m]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[h,"Xiaomi"],[d,m]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[h,"Xiaomi"],[d,y]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[h,"OPPO"],[d,m]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[h,"Vivo"],[d,m]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[h,"Realme"],[d,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[h,"Motorola"],[d,m]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[d,y]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[d,y]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[h,"LG"],[d,m]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,m]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[h,"Google"],[d,y]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[h,"Google"],[d,m]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,"Sony"],[d,m]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[h,"Sony"],[d,y]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[h,"Amazon"],[d,y]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[h,"Amazon"],[d,m]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,h,[d,y]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[d,m]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[h,"ASUS"],[d,y]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[h,"ASUS"],[d,m]],[/(nexus\s9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[l,/_/g," "],[d,m]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[h,"Meizu"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,l,[d,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,l,[d,y]],[/\s(surface\sduo)\s/i],[l,[h,"Microsoft"],[d,y]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[h,"Fairphone"],[d,m]],[/\s(u304aa)\sbuild/i],[l,[h,"AT&T"],[d,m]],[/sie-(\w*)/i],[l,[h,"Siemens"],[d,m]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[h,"RCA"],[d,y]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[h,"Dell"],[d,y]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[h,"Verizon"],[d,y]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[h,"Barnes & Noble"],[d,y]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[h,"NuVision"],[d,y]],[/;\s(k88)\sbuild/i],[l,[h,"ZTE"],[d,y]],[/;\s(nx\d{3}j)\sbuild/i],[l,[h,"ZTE"],[d,m]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[h,"Swiss"],[d,m]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[h,"Swiss"],[d,y]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[h,"Zeki"],[d,y]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],l,[d,y]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[h,"Insignia"],[d,y]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[h,"NextBook"],[d,y]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],l,[d,m]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],l,[d,m]],[/;\s(ph-1)\s/i],[l,[h,"Essential"],[d,m]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[h,"Envizen"],[d,y]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[h,"MachSpeed"],[d,y]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w\s]+)\sbuild/i],[l,[h,"Nvidia"],[d,y]],[/(sprint)\s(\w+)/i],[h,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[d,m]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,"Zebra"],[d,y]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,"Zebra"],[d,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,l,[d,v]],[/droid.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[d,v]],[/(playstation\s[345portablevi]+)/i],[l,[h,"Sony"],[d,v]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[h,"Microsoft"],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,"Samsung"],[d,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[d,b]],[/(apple)\s?tv/i],[h,[l,"Apple TV"],[d,b]],[/crkey/i],[[l,"Chromecast"],[h,"Google"],[d,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[h,"Amazon"],[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[l,E.trim],[d,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,b]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[d,A]],[/droid.+;\s(glass)\s\d/i],[l,[h,"Google"],[d,A]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[h,"Zebra"],[d,A]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[d,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[d,m]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[d,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,E.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[h,"Generic"]],[/(phone)/i],[[d,m]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[f,[p,w.str,I.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[p,w.str,I.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[f,p],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[f,p]]},k=function e(t,n){if("object"===typeof t&&(n=t,t=o),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==typeof i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?E.extend(S,n):S;return this.getBrowser=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:o};return w.rgx.call(e,r,a.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return w.rgx.call(e,r,a.device),e},this.getEngine=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.engine),e},this.getOS=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?E.trim(e,255):e,this},this.setUA(r),this};k.VERSION="0.7.28",k.BROWSER={NAME:f,MAJOR:"major",VERSION:p},k.CPU={ARCHITECTURE:g},k.DEVICE={MODEL:l,VENDOR:h,TYPE:d,CONSOLE:v,MOBILE:m,SMARTTV:b,TABLET:y,WEARABLE:A,EMBEDDED:_},k.ENGINE={NAME:f,VERSION:p},k.OS={NAME:f,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=k),t.UAParser=k):(r=function(){return k}.call(t,n,t,e))===o||(e.exports=r);var C="undefined"!==typeof i&&(i.jQuery||i.Zepto);if(C&&!C.ua){var O=new k;C.ua=O.getResult(),C.ua.get=function(){return O.getUA()},C.ua.set=function(e){O.setUA(e);var t=O.getResult();for(var n in t)C.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(385)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,A=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case u:return e;default:return t}}case o:return t}}}function w(e){return E(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||E(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===c||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===A||e.$$typeof===_||e.$$typeof===y)},t.typeOf=E},function(e,t,n){var r=n(387),i=n(388),o=n(177),a=n(389);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(92);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(226);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(102),t.createHash=t.Hash=n(120),t.createHmac=t.Hmac=n(246);var r=n(425),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(249);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(427);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=n(442);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=n(447);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(488);var l=n(489);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=n(492);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){(t=e.exports=n(233)).Stream=t,t.Readable=t,t.Writable=n(237),t.Duplex=n(104),t.Transform=n(238),t.PassThrough=n(408),t.finished=n(181),t.pipeline=n(409)},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(48).Buffer,s=n(405).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},,function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(181),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function g(e){t.nextTick(p,e)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[c]?r(e[c]):n(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[f](n,r)}),r)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(m,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",g.bind(null,n)),n}}).call(this,n(41))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(238);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(18)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(103).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(181)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(u),o||(a.forEach(u),i(r))}))}));return t.reduce(l)}},function(e,t,n){var r=n(18),i=n(105),o=n(24).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=r)<<5|t>>>27)+l(h,i,o,s)+c+n[d]+a[h];c=s,s=o,o=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var r=n(18),i=n(105),o=n(24).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),g=u(r)+f(p,i,o,s)+c+n[h]+a[p]|0;c=s,s=o,o=l(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var r=n(18),i=n(239),o=n(105),a=n(24).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,n){var r=n(18),i=n(240),o=n(105),a=n(24).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,n){e.exports=i;var r=n(93).EventEmitter;function i(){r.call(this)}n(18)(i,r),i.Readable=n(184),i.Writable=n(420),i.Duplex=n(421),i.Transform=n(422),i.PassThrough=n(423),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},,function(e,t,n){"use strict";var r=n(185).Buffer,i=n(417);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(244),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(39))},function(e,t,n){"use strict";e.exports=o;var r=n(245),i=Object.create(n(121));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(18),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(186)},function(e,t,n){e.exports=n(95)},function(e,t,n){e.exports=n(184).Transform},function(e,t,n){e.exports=n(184).PassThrough},function(e,t,n){"use strict";var r=n(18),i=n(24).Buffer,o=n(86),a=i.alloc(128),s=64;function c(e,t){o.call(this,"digest"),"string"===typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),c=0;c<s;c++)n[c]=54^t[c],r[c]=92^t[c];this._hash=[n]}r(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},function(e,t,n){e.exports=n(248)},function(e,t,n){(function(t,r){var i,o=n(24).Buffer,a=n(250),s=n(251),c=n(252),u=n(253),l=t.crypto&&t.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function h(e,t,n,r,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,n,p,g,v,m){"function"===typeof v&&(m=v,v=void 0);var y=f[(v=v||"sha1").toLowerCase()];if(!y||"function"!==typeof t.Promise)return r.nextTick((function(){var t;try{t=c(e,n,p,g,v)}catch(r){return m(r)}m(null,t)}));if(a(p,g),e=u(e,s,"Password"),n=u(n,s,"Salt"),"function"!==typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var n=h(i=i||o.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=n,n}(y).then((function(t){return t?h(e,n,p,g,y):c(e,n,p,g,v)})),m)}}).call(this,n(39),n(41))},function(e,t,n){var r=n(428),i=n(188),o=n(189),a=n(441),s=n(145);function c(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,n){var r=n(86),i=n(429),o=n(18),a=n(24).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=c,o(c,r),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(254),t.Cipher=n(187),t.DES=n(255),t.CBC=n(430),t.EDE=n(431)},function(e,t,n){"use strict";var r=n(64),i=n(18),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(64),i=n(18),o=n(187),a=n(255);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function c(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},function(e,t,n){var r=n(189),i=n(259),o=n(24).Buffer,a=n(260),s=n(86),c=n(144),u=n(145);function l(e,t,n){s.call(this),this._cache=new d,this._cipher=new c.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(18)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(122);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(24).Buffer,i=n(122);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},function(e,t,n){var r=n(24).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){var r=n(24).Buffer;function i(e,t,n){for(var r,i,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return s}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){(function(e){var r=n(122);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,o)}}).call(this,n(48).Buffer)},function(e,t,n){var r=n(24).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var r=n(259),i=n(24).Buffer,o=n(189),a=n(260),s=n(86),c=n(144),u=n(145);function l(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(18)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(t,!1,n.key,n.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(261),i=n(445),o=n(446);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new o(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,c){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,c)),"number"===typeof n?new o(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new o(n,s,!0)))}}).call(this,n(48).Buffer)},,,function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var r=n(49),i=new(n(262)),o=new r(24),a=new r(11),s=new r(10),c=new r(3),u=new r(7),l=n(261),f=n(102);function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=g;var p={};function g(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function v(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var f,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return d+=1,d+="02"===n||"05"===n?8:4,p[r]=d,d;switch(i.test(e.shrn(1))||(d+=2),n){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(c)&&f.cmp(u)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},g.prototype.getPublicKey=function(e){return v(this._pub,e)},g.prototype.getPrivateKey=function(e){return v(this._priv,e)},g.prototype.getPrime=function(e){return v(this.__prime,e)},g.prototype.getGenerator=function(e){return v(this._gen,e)},g.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(48).Buffer)},function(e,t,n){var r=n(24).Buffer,i=n(120),o=n(448),a=n(18),s=n(456),c=n(487),u=n(248);function l(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new l(e)}function h(e){return new f(e)}Object.keys(u).forEach((function(e){u[e].id=r.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(l,o.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=s(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(f,o.Writable),f.prototype._write=function(e,t,n){this._hash.update(e),n()},f.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,n){"string"===typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return c(t,i,e,this._signType,this._tag)},e.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},function(e,t,n){(t=e.exports=n(263)).Stream=t,t.Readable=t,t.Writable=n(267),t.Duplex=n(107),t.Transform=n(268),t.PassThrough=n(454),t.finished=n(192),t.pipeline=n(455)},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(48).Buffer,s=n(451).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},,function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(192),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function g(e){t.nextTick(p,e)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[c]?r(e[c]):n(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[f](n,r)}),r)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(m,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",g.bind(null,n)),n}}).call(this,n(41))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(268);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(18)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(106).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(192)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(u),o||(a.forEach(u),i(r))}))}));return t.reduce(l)}},function(e,t,n){var r=n(24).Buffer,i=n(246),o=n(193),a=n(194).ec,s=n(274),c=n(147),u=n(280);function l(e,t,n,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var s=n.length,c=function(e,t){e=(e=f(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(n,t),u=r.alloc(s);u.fill(1);var l=r.alloc(s);return l=i(o,l).update(u).update(r.from([0])).update(e).update(c).digest(),u=i(o,l).update(u).digest(),{k:l=i(o,l).update(u).update(r.from([1])).update(e).update(c).digest(),v:u=i(o,l).update(u).digest()}}function f(e,t){var n=new s(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function d(e,t,n){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=i(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=f(o,e),t.k=i(n,t.k).update(t.v).update(r.from([0])).digest(),t.v=i(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,n,r){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,n,i,p){var g=c(t);if(g.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var n=u[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}(e,g)}if("dsa"===g.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,n){var i,o=t.params.priv_key,a=t.params.p,c=t.params.q,u=t.params.g,p=new s(0),g=f(e,c).mod(c),v=!1,m=l(o,c,e,n);for(;!1===v;)p=h(u,i=d(c,m,n),a,c),0===(v=i.invm(c).imul(g.add(o.mul(p))).mod(c)).cmpn(0)&&(v=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}(p,v)}(e,g,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=r.concat([p,e]);for(var v=g.modulus.byteLength(),m=[0,1];e.length+m.length+1<v;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return o(m,g)},e.exports.getKey=l,e.exports.makeKey=d},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(458).Buffer}catch(C){}function s(e,t,n){for(var i=0,o=Math.min(e.length,n),a=0,s=t;s<o;s++){var c,u=e.charCodeAt(s)-48;i<<=4,i|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,a|=c}return r(!(240&a),"Invalid character in "+e),i}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&a<i,"Invalid character"),o+=a}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this._strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){u(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(C){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,g=h>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],A=8191&b,_=b>>>13,E=0|a[4],w=8191&E,I=E>>>13,S=0|a[5],k=8191&S,C=S>>>13,O=0|a[6],T=8191&O,R=O>>>13,x=0|a[7],M=8191&x,N=x>>>13,D=0|a[8],j=8191&D,L=D>>>13,B=0|a[9],P=8191&B,U=B>>>13,F=0|s[0],Q=8191&F,z=F>>>13,V=0|s[1],K=8191&V,G=V>>>13,H=0|s[2],q=8191&H,W=H>>>13,Y=0|s[3],J=8191&Y,X=Y>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(u+(r=Math.imul(f,Q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,Q)|0))<<13)|0;u=((o=Math.imul(d,z))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,Q),i=(i=Math.imul(p,z))+Math.imul(g,Q)|0,o=Math.imul(g,z);var me=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,Q),i=(i=Math.imul(m,z))+Math.imul(y,Q)|0,o=Math.imul(y,z),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,G)|0;var ye=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(A,Q),i=(i=Math.imul(A,z))+Math.imul(_,Q)|0,o=Math.imul(_,z),r=r+Math.imul(m,K)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,G)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,W)|0;var be=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,J)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,Q),i=(i=Math.imul(w,z))+Math.imul(I,Q)|0,o=Math.imul(I,z),r=r+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var Ae=(u+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,$)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(k,Q),i=(i=Math.imul(k,z))+Math.imul(C,Q)|0,o=Math.imul(C,z),r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,G)|0,r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(T,Q),i=(i=Math.imul(T,z))+Math.imul(R,Q)|0,o=Math.imul(R,z),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(A,J)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0;var Ee=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,Q),i=(i=Math.imul(M,z))+Math.imul(N,Q)|0,o=Math.imul(N,z),r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,G)|0,r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,W)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0;var we=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,z))+Math.imul(L,Q)|0,o=Math.imul(L,z),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,W)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0;var Ie=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(P,Q),i=(i=Math.imul(P,z))+Math.imul(U,Q)|0,o=Math.imul(U,z),r=r+Math.imul(j,K)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,W)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,de)|0;var Se=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,K),i=(i=Math.imul(P,G))+Math.imul(U,K)|0,o=Math.imul(U,G),r=r+Math.imul(j,q)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,W)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(T,$)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var ke=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,W))+Math.imul(U,q)|0,o=Math.imul(U,W),r=r+Math.imul(j,J)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Ce=(u+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(P,J),i=(i=Math.imul(P,X))+Math.imul(U,J)|0,o=Math.imul(U,X),r=r+Math.imul(j,$)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Oe=(u+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(P,$),i=(i=Math.imul(P,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var Te=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(P,ne),i=(i=Math.imul(P,re))+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,de)|0;var Re=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(P,oe),i=(i=Math.imul(P,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0;var xe=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(P,ce),i=(i=Math.imul(P,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(L,fe)|0,o=o+Math.imul(L,de)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(P,fe),i=(i=Math.imul(P,de))+Math.imul(U,fe)|0,o=Math.imul(U,de);var Ne=(u+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var De=(u+(r=Math.imul(P,pe))|0)+((8191&(i=(i=Math.imul(P,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,ge))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ve,c[1]=me,c[2]=ye,c[3]=be,c[4]=Ae,c[5]=_e,c[6]=Ee,c[7]=we,c[8]=Ie,c[9]=Se,c[10]=ke,c[11]=Ce,c[12]=Oe,c[13]=Te,c[14]=Re,c[15]=xe,c[16]=Me,c[17]=Ne,c[18]=De,0!==u&&(c[19]=u,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function m(e,t,n){return v(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(g=p),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?p(this,e,t):n<1024?v(this,e,t):m(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},y.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},y.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=n[l+h],g=r[l+h],v=n[l+h+a],m=r[l+h+a],y=f*v-d*m;m=f*m+d*v,v=y,n[l+h]=p+v,r[l+h]=g+m,n[l+h+a]=p-v,r[l+h+a]=g-m,h!==s&&(y=c*f-u*d,d=c*d+u*f,f=y)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},y.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function A(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},A.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},A.prototype.split=function(e,t){e.iushrn(this.n,0,t)},A.prototype.imulK=function(e){return e.imul(this.k)},i(_,A),_.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,A),i(w,A),i(I,A),I.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new I}return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));d=d.redMul(m),f=m.redSqr(),h=h.redMul(f),p=v}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(190)(e))},,function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(e,t,n){"use strict";var r=n(65),i=n(49),o=n(18),a=n(146),s=r.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),g=new i(0),v=new i(0),m=new i(1),y=0;0!==d.cmpn(0);){var b=h.div(d);u=h.sub(b.mul(d)),l=v.sub(b.mul(p));var A=m.sub(b.mul(g));if(!r&&u.cmp(f)<0)t=c.neg(),n=p,r=u.neg(),o=l;else if(r&&2===++y)break;c=u,h=d,d=u,v=p,p=l,m=g,g=A}a=u.neg(),s=l;var _=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*o]=s,r[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,n){return new u(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=r.redMul(u),d=c.redSqr().redIAdd(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),f=u.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(f),g=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(g),m=h.redMul(v);m=m.redIAdd(m).redISub(d);var y=u.redMul(s);t+1<e&&(c=c.redMul(d)),o=g,s=y,u=m}return this.curve.jpoint(o,u.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),v=d.redIAdd(d);v=(v=v.redIAdd(v)).redIAdd(v),e=g.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(49),i=n(18),o=n(146),a=n(65);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(65),i=n(49),o=n(18),a=n(146),s=r.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function u(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new u(this,e,t,n,r)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var e,t,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(r=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(r.redSub(c)),n=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(r.redSub(c)),n=u.redMul(o))}else r=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(c)),n=r.redMul(o);return this.curve.point(e,t,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),c=n.redAdd(t),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),d=a.redMul(s);return this.curve.point(u,l,d,f)},u.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=r.redMul(c).redMul(l);return this.curve.twisted?(t=r.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(u)):(t=r.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},u.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(e,t,n){"use strict";t.sha1=n(464),t.sha224=n(465),t.sha256=n(272),t.sha384=n(466),t.sha512=n(273)},function(e,t,n){"use strict";var r=n(76),i=n(123),o=n(271),a=r.rotl32,s=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=c(a(i,5),u(p,o,l,d),h,n[r],f[p]);h=d,d=l,l=a(o,30),o=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(76),i=n(272);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(76),i=n(273);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(76),i=n(123),o=r.rotl32,a=r.sum32,s=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],y=n,b=r,A=i,_=u,E=l,w=0;w<80;w++){var I=a(o(c(n,f(w,r,i,u),e[p[w]+t],d(w)),v[w]),l);n=l,l=u,u=o(i,10),i=r,r=I,I=a(o(c(y,f(79-w,b,A,_),e[g[w]+t],h(w)),m[w]),E),y=E,E=_,_=o(A,10),A=b,b=I}I=s(this.h[1],i,_),this.h[1]=s(this.h[2],u,E),this.h[2]=s(this.h[3],l,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,A),this.h[0]=I},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(76),i=n(64);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(49),i=n(471),o=n(65),a=n(195),s=n(191),c=o.assert,u=n(472),l=n(473);function f(e){if(!(this instanceof f))return new f(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=o.k?o.k(d):new r(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var g=p.getX(),v=g.umod(this.n);if(0!==v.cmpn(0)){var m=h.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(v)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new l({r:v,s:m,recoveryParam:y})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new r(e),s=t.r,u=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),g=u.mul(h).umod(o);return this.g.mulAdd(p,s,g)},f.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(196),i=n(269),o=n(64);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},function(e,t,n){"use strict";var r=n(49),i=n(65).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(49),i=n(65),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=c(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=c(e,n);if(!1===a)return!1;var u=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=c(e,n);if(!1===l)return!1;if(e.length!==l+n.place)return!1;var f=e.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(u),this.s=new r(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,n){"use strict";var r=n(196),i=n(195),o=n(65),a=o.assert,s=o.parseBytes,c=n(475),u=n(476);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(65),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(49),i=n(65),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},,function(e,t,n){"use strict";var r=n(275);t.certificate=n(484);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f;var d=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,n){"use strict";var r=n(276),i=n(278),o=n(18);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t=this.name;function n(e){this._initNamed(e,t)}return o(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(e,t,n){"use strict";var r=n(18),i=n(277);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=n(18),i=n(197).Buffer,o=n(279);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,u=0;u<n.length;u++){var l=n[u].match(a);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;s=u}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,c).join("");f.replace(/[^a-z0-9+/=]+/gi,"");var d=i.from(f,"base64");return o.prototype.decode.call(this,d,t)}},function(e,t,n){"use strict";var r=t;r.Reporter=n(199).Reporter,r.DecoderBuffer=n(124).DecoderBuffer,r.EncoderBuffer=n(124).EncoderBuffer,r.Node=n(198)},function(e,t,n){"use strict";var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(200)},function(e,t,n){"use strict";var r=n(275),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(c)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(145),s=n(188),c=n(24).Buffer;e.exports=function(e,t){var n,u=e.toString(),l=u.match(r);if(l){var f="aes"+l[1],d=c.from(l[2],"hex"),h=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(l[1],10)).key,g=[],v=s.createDecipheriv(f,p,d);g.push(v.update(h)),g.push(v.final()),n=c.concat(g)}else{var m=u.match(o);n=c.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},function(e,t,n){var r=n(24).Buffer,i=n(274),o=n(194).ec,a=n(147),s=n(280);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,u,l){var f=a(n);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,u=n.data.pub_key,l=a.signature.decode(e,"der"),f=l.s,d=l.r;c(f,o),c(d,o);var h=i.mont(r),p=f.invm(o);return 0===s.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(u.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(d)}(e,t,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=r.concat([l,t]);for(var d=f.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var g=-1;++g<t.length;)h.push(t[g]);h=r.from(h);var v=i.mont(f.modulus);e=(e=new i(e).toRed(v)).redPow(new i(f.publicExponent)),e=r.from(e.fromRed().toArray());var m=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(m=1),g=-1;++g<d;)m|=e[g]^h[g];return 0===m}},function(e,t,n){(function(t){var r=n(194),i=n(49);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(48).Buffer)},function(e,t,n){t.publicEncrypt=n(490),t.privateDecrypt=n(491),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(147),i=n(102),o=n(120),a=n(281),s=n(282),c=n(49),u=n(283),l=n(193),f=n(24).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===d)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,u=o("sha1").update(f.alloc(0)).digest(),l=u.length,d=2*l;if(r>n-d-2)throw new Error("message too long");var h=f.alloc(n-r-d-2),p=n-l-1,g=i(l),v=s(f.concat([u,h,f.alloc(1,1),t],p),a(g,p)),m=s(g,a(v,l));return new c(f.concat([f.alloc(1),m,v],n))}(p,t);else if(1===d)h=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?f.alloc(a-o-3,255):function(e){var t,n=f.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new c(f.concat([f.from([0,n?1:2]),r,f.alloc(1),t],a))}(p,t,n);else{if(3!==d)throw new Error("unknown padding");if((h=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(h,p):u(h,p)}},function(e,t,n){var r=n(147),i=n(281),o=n(282),a=n(49),s=n(193),c=n(120),u=n(283),l=n(24).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var d,h=r(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=n?u(new a(t),h):s(t,h);var g=l.alloc(p-d.length);if(d=l.concat([g,d],p),4===f)return function(e,t){var n=e.modulus.byteLength(),r=c("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),u=t.slice(a+1),f=o(s,i(u,a)),d=o(u,i(f,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,d.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,d,n);if(3===f)return d;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(24),a=n(102),s=o.Buffer,c=o.kMaxLength,u=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>c)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return u.getRandomValues(s),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,t),e;a(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=t.length;else if("function"===typeof r)i=r,r=t.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return f(n,t.length),d(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){"undefined"===typeof n&&(n=0);if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,t.length),void 0===r&&(r=t.length-n);return d(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(39),n(41))},function(e,t,n){var r;r=function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=e.length-1,o=0;o<i;)r=(r=r>>>8^t[255&(r^e.charCodeAt(o++))])>>>8^t[255&(r^e.charCodeAt(o++))];return o===i&&(r=r>>>8^t[255&(r^e.charCodeAt(o))]),-1^r},e.buf=function(e,n){if(e.length>1e4)return function(e,n){for(var r=-1^n,i=e.length-7,o=0;o<i;)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])];for(;o<i+7;)r=r>>>8^t[255&(r^e[o++])];return-1^r}(e,n);for(var r=-1^n,i=e.length-3,o=0;o<i;)r=(r=(r=(r=r>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])];for(;o<i+3;)r=r>>>8^t[255&(r^e[o++])];return-1^r},e.str=function(e,n){for(var r,i,o=-1^n,a=0,s=e.length;a<s;)(r=e.charCodeAt(a++))<128?o=o>>>8^t[255&(o^r)]:r<2048?o=(o=o>>>8^t[255&(o^(192|r>>6&31))])>>>8^t[255&(o^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),i=1023&e.charCodeAt(a++),o=(o=(o=(o=o>>>8^t[255&(o^(240|r>>8&7))])>>>8^t[255&(o^(128|r>>2&63))])>>>8^t[255&(o^(128|i>>6&15|(3&r)<<4))])>>>8^t[255&(o^(128|63&i))]):o=(o=(o=o>>>8^t[255&(o^(224|r>>12&15))])>>>8^t[255&(o^(128|r>>6&63))])>>>8^t[255&(o^(128|63&r))];return-1^o}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},function(e,t,n){t.UINT32=n(495),t.UINT64=n(496)},function(e,t,n){var r;!function(n){i(Math.pow(36,5)),i(Math.pow(16,7)),i(Math.pow(10,9)),i(Math.pow(2,30)),i(36),i(16),i(10),i(2);function i(e,t){return this instanceof i?(this._low=0,this._high=0,this.remainder=null,"undefined"==typeof t?a.call(this,e):"string"==typeof e?s.call(this,e,t):void o.call(this,e,t)):new i(e,t)}function o(e,t){return this._low=0|e,this._high=0|t,this}function a(e){return this._low=65535&e,this._high=e>>>16,this}function s(e,t){var n=parseInt(e,t||10);return this._low=65535&n,this._high=n>>>16,this}i.prototype.fromBits=o,i.prototype.fromNumber=a,i.prototype.fromString=s,i.prototype.toNumber=function(){return 65536*this._high+this._low},i.prototype.toString=function(e){return this.toNumber().toString(e||10)},i.prototype.add=function(e){var t=this._low+e._low,n=t>>>16;return n+=this._high+e._high,this._low=65535&t,this._high=65535&n,this},i.prototype.subtract=function(e){return this.add(e.clone().negate())},i.prototype.multiply=function(e){var t,n,r=this._high,i=this._low,o=e._high,a=e._low;return t=(n=i*a)>>>16,t+=r*a,t&=65535,t+=i*o,this._low=65535&n,this._high=65535&t,this},i.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)return this.remainder=new i(0),this;if(e.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(e))return this.remainder=new i(0),this._low=1,this._high=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},i.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},i.prototype.greaterThan=i.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},i.prototype.lessThan=i.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},i.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},i.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},i.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},i.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},i.prototype.shiftRight=i.prototype.shiftr=function(e){return e>16?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},i.prototype.shiftLeft=i.prototype.shiftl=function(e,t){return e>16?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},i.prototype.rotateLeft=i.prototype.rotl=function(e){var t=this._high<<16|this._low;return t=t<<e|t>>>32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(e){var t=this._high<<16|this._low;return t=t>>>e|t<<32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.clone=function(){return new i(this._low,this._high)},void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r;!function(n){var i={16:a(Math.pow(16,5)),10:a(Math.pow(10,5)),2:a(Math.pow(2,5))},o={16:a(16),10:a(10),2:a(2)};function a(e,t,n,r){return this instanceof a?(this.remainder=null,"string"==typeof e?u.call(this,e,t):"undefined"==typeof t?c.call(this,e):void s.apply(this,arguments)):new a(e,t,n,r)}function s(e,t,n,r){return"undefined"==typeof n?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16,this):(this._a00=0|e,this._a16=0|t,this._a32=0|n,this._a48=0|r,this)}function c(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function u(e,t){t=t||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=i[t]||new a(Math.pow(t,5)),r=0,o=e.length;r<o;r+=5){var s=Math.min(5,o-r),c=parseInt(e.slice(r,r+s),t);this.multiply(s<5?new a(Math.pow(t,s)):n).add(new a(c))}return this}a.prototype.fromBits=s,a.prototype.fromNumber=c,a.prototype.fromString=u,a.prototype.toNumber=function(){return 65536*this._a16+this._a00},a.prototype.toString=function(e){var t=o[e=e||10]||new a(e);if(!this.gt(t))return this.toNumber().toString(e);for(var n=this.clone(),r=new Array(64),i=63;i>=0&&(n.div(t),r[i]=n.remainder.toNumber().toString(e),n.gt(t));i--);return r[i-1]=n.toNumber().toString(e),r.join("")},a.prototype.add=function(e){var t=this._a00+e._a00,n=t>>>16,r=(n+=this._a16+e._a16)>>>16,i=(r+=this._a32+e._a32)>>>16;return i+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},a.prototype.subtract=function(e){return this.add(e.clone().negate())},a.prototype.multiply=function(e){var t=this._a00,n=this._a16,r=this._a32,i=this._a48,o=e._a00,a=e._a16,s=e._a32,c=t*o,u=c>>>16,l=(u+=t*a)>>>16;u&=65535,l+=(u+=n*o)>>>16;var f=(l+=t*s)>>>16;return l&=65535,f+=(l+=n*a)>>>16,l&=65535,f+=(l+=r*o)>>>16,f+=t*e._a48,f&=65535,f+=n*s,f&=65535,f+=r*a,f&=65535,f+=i*o,this._a00=65535&c,this._a16=65535&u,this._a32=65535&l,this._a48=65535&f,this},a.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=new a(0),this}if(e.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(e))return this.remainder=new a(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},a.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},a.prototype.equals=a.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},a.prototype.greaterThan=a.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},a.prototype.lessThan=a.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},a.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},a.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},a.prototype.xor=function(e){return this._a00^=e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},a.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},a.prototype.shiftRight=a.prototype.shiftr=function(e){return(e%=64)>=48?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):e>=32?(e-=32,this._a00=65535&(this._a32>>e|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):e>=16?(e-=16,this._a00=65535&(this._a16>>e|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},a.prototype.shiftLeft=a.prototype.shiftl=function(e,t){return(e%=64)>=48?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):e>=32?(e-=32,this._a48=this._a16<<e|this._a00>>16-e,this._a32=this._a00<<e&65535,this._a16=0,this._a00=0):e>=16?(e-=16,this._a48=this._a32<<e|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},a.prototype.rotateLeft=a.prototype.rotl=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.rotateRight=a.prototype.rotr=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>e|r<<32-e,o=r>>>e|n<<32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.clone=function(){return new a(this._a00,this._a16,this._a32,this._a48)},void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(498),i=n(499),o=n(500),a=n(501),s=n(287);function c(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=c.prototype;u.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var c=this.dataList[s];n.put(c.mode,4),n.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=a.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},u.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},u.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=a.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[r][s-c]){var u=!1;o<e.length&&(u=1==(e[o]>>>i&1)),a.getMask(t,r,s-c)&&(u=!u),this.modules[r][s-c]=u,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},c.PAD0=236,c.PAD1=17,c.createData=function(e,t,n){for(var r=i.getRSBlocks(e,t),s=new o,u=0;u<n.length;u++){var l=n[u];s.put(l.mode,4),s.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(s)}var f=0;for(u=0;u<r.length;u++)f+=r[u].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f)&&(s.put(c.PAD0,8),!(s.getLengthInBits()>=8*f));)s.put(c.PAD1,8);return c.createBytes(s,r)},c.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),c=new Array(t.length),u=0;u<t.length;u++){var l=t[u].dataCount,f=t[u].totalCount-l;r=Math.max(r,l),i=Math.max(i,f),o[u]=new Array(l);for(var d=0;d<o[u].length;d++)o[u][d]=255&e.buffer[d+n];n+=l;var h=a.getErrorCorrectPolynomial(f),p=new s(o[u],h.getLength()-1).mod(h);c[u]=new Array(h.getLength()-1);for(d=0;d<c[u].length;d++){var g=d+p.getLength()-c[u].length;c[u][d]=g>=0?p.get(g):0}}var v=0;for(d=0;d<t.length;d++)v+=t[d].totalCount;var m=new Array(v),y=0;for(d=0;d<r;d++)for(u=0;u<t.length;u++)d<o[u].length&&(m[y++]=o[u][d]);for(d=0;d<i;d++)for(u=0;u<t.length;u++)d<c[u].length&&(m[y++]=c[u][d]);return m},e.exports=c},function(e,t,n){var r=n(285);function i(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},function(e,t,n){var r=n(286);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,a=0;a<r;a++)for(var s=n[3*a+0],c=n[3*a+1],u=n[3*a+2],l=0;l<s;l++)o.push(new i(c,u));return o},i.getRsBlockTable=function(e,t){switch(t){case r.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=i},function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var r=n(285),i=n(287),o=n(288),a=0,s=1,c=2,u=3,l=4,f=5,d=6,h=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case a:return(t+n)%2==0;case s:return t%2==0;case c:return n%3==0;case u:return(t+n)%3==0;case l:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case f:return t*n%2+t*n%3==0;case d:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),n=0;n<e;n++)t=t.multiply(new i([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0==s&&0==c||a==e.isDark(r+s,i+c)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var u=0;e.isDark(r,i)&&u++,e.isDark(r+1,i)&&u++,e.isDark(r,i+1)&&u++,e.isDark(r+1,i+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var l=0;for(i=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&l++;return n+=10*(Math.abs(100*l/t/t-50)/5)}};e.exports=p},,function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(125),a=n(66),s=n(96),c=n(67),u=n(57),l=n(34),f=n(77),d=n(87),h=n(28),p=n(518),g=d("draft_tree_data_support"),v=g?c:s,m=h.List,y=h.Repeat,b={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),s=e.getSelection(),c=u.removeRange(i,s,"backward"),d=c.getSelectionAfter(),h=u.splitBlock(c,d),p=h.getSelectionAfter(),b=u.setBlockType(h,p,"atomic"),A=a.create({entity:t}),_={key:f(),type:"atomic",text:n,characterList:m(y(A,n.length))},E={key:f(),type:"unstyled"};g&&(_=r({},_,{nextSibling:E.key}),E=r({},E,{prevSibling:_.key}));var w=[new v(_),new v(E)],I=o.createFromArray(w),S=u.replaceWithFragment(b,p,I),k=S.merge({selectionBefore:s,selectionAfter:S.getSelectionAfter().set("hasFocus",!0)});return l.push(e,k,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=p(o,t,s,r)}else{var c=u.removeRange(o,n,"backward"),f=c.getSelectionAfter(),d=c.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=p(c,t,d,"before");else if(f.getEndOffset()===d.getLength())i=p(c,t,d,"after");else{var h=u.splitBlock(c,f),g=h.getSelectionAfter(),v=h.getBlockForKey(g.getFocusKey());i=p(h,t,v,"before")}}var m=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return l.push(e,m,"move-block")}};e.exports=b},function(e,t,n){"use strict";var r=n(66),i=n(28).Map,o={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,o){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),u=t.getEndKey(),l=t.getEndOffset(),f=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===u})).concat(i([[u,a.get(u)]])).map((function(e,t){var i,a;s===u?(i=c,a=l):(i=t===s?c:0,a=t===u?l:e.getLength());for(var f,d=e.getCharacterList();i<a;)f=d.get(i),d=d.set(i,o?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return e.set("characterList",d)}));return e.merge({blockMap:a.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=o},function(e,t,n){"use strict";var r=n(506),i=n(28);e.exports=function(e,t,n){var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),u=t.getEndOffset(),l=o.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(i.OrderedMap([[c,o.get(c)]])).map((function(e,t){var i=t===a?s:0,o=t===c?u:e.getLength();return r(e,i,o,n)}));return e.merge({blockMap:o.merge(l),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(66);e.exports=function(e,t,n,i){for(var o=t,a=e.getCharacterList();o<n;)a=a.set(o,r.applyEntity(a.get(o),i)),o++;return e.set("characterList",a)}},function(e,t,n){"use strict";var r=n(508),i=n(509),o=n(29);function a(e,t,n,a,s,c,u){var l=n.getStartOffset(),f=n.getEndOffset(),d=e.__get(s).getMutability(),h=u?l:f;if("MUTABLE"===d)return n;var p=i(t,s).filter((function(e){return h<=e.end&&h>=e.start}));1!=p.length&&o(!1);var g=p[0];if("IMMUTABLE"===d)return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});c||(u?f=g.end:l=g.start);var v=r.getRemovalRange(l,f,t.getText().slice(g.start,g.end),g.start,a);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(o),u=n.getEntityAt(s-1);if(!c&&!u)return r;var l=r;if(c&&c===u)l=a(e,t,l,i,c,!0,!0);else if(c&&u){var f=a(e,t,l,i,c,!1,!0),d=a(e,n,l,i,u,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(c){var h=a(e,t,l,i,c,!1,!0);l=l.merge({anchorOffset:h.getStartOffset(),isBackward:!1})}else if(u){var p=a(e,n,l,i,u,!1,!1);l=l.merge({focusOffset:p.getEndOffset(),isBackward:!1})}return l}},function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,i){var o=n.split(" ");o=o.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var a,s=r,c=null,u=null,l=0;l<o.length;l++){if(e<(a=s+o[l].length)&&s<t)null!==c||(c=s),u=a;else if(null!==c)break;s=a}var f=r+n.length,d=c===r,h=u===f;return(!d&&h||d&&!h)&&("forward"===i?u!==f&&u++:c!==r&&c--),{start:c,end:u}}}},function(e,t,n){"use strict";var r=n(29);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(125),i=n(67),o=n(28),a=n(291),s=n(29),c=n(289),u=o.List,l=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),u=c.getText(),l=c.getCharacterList(),f=i,d=o+r.getText().length,h=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":h=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":h=r.getData()}var p=c.getType();u&&"unstyled"===p&&(p=r.getType());var g=c.merge({text:u.slice(0,o)+r.getText()+u.slice(o),characterList:a(l,r.getCharacterList(),o),type:p,data:h});return e.merge({blockMap:n.set(i,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})},f=function(e,t,n,o,a,s){var c=n.first()instanceof i,l=[],f=o.size,d=n.get(a),h=o.first(),p=o.last(),g=p.getLength(),v=p.getKey(),m=c&&(!d.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(m?l.push(e):l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(m?0:1,f-1).forEach((function(e){return l.push(e)})),l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),s=i.slice(t,o),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,o))):l.push(e)}));var y=r.createFromArray(l);return c&&(y=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),l=c[c.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([l,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],l),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var f=e.get(s).getChildKeys(),d=f.indexOf(i)+1,h=f.toArray();h.splice.apply(h,[d,0].concat(c)),t.setIn([s,"children"],u(h))}}))}(y,0,d,h)),e.merge({blockMap:y,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:g,focusKey:v,focusOffset:g,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),a=c(n),u=t.getStartKey(),d=t.getStartOffset(),h=o.get(u);return h instanceof i&&(h.getChildKeys().isEmpty()||s(!1)),1===a.size?l(e,t,o,a.first(),u,d,r):f(e,t,o,a,u,d)}},function(e,t,n){"use strict";var r=n(28),i=n(291),o=n(29),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var c=e.getBlockMap(),u=t.getStartKey(),l=t.getStartOffset(),f=c.get(u),d=f.getText(),h=f.merge({text:d.slice(0,l)+n+d.slice(l,f.getLength()),characterList:i(f.getCharacterList(),a(r,s).toList(),l)}),p=l+s;return e.merge({blockMap:c.set(u,h),selectionAfter:t.merge({anchorOffset:p,focusOffset:p})})}},function(e,t,n){"use strict";var r=n(67),i=n(293),o=n(28),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})})),c(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:l(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),s(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var f=a?e.get(a):null,d=f?f.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:d})}))})),null!=d){var h=e.get(d);s(d,o,(function(e){return e.merge({children:h.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},d=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),s=t.getStartKey(),u=t.getStartOffset(),l=t.getEndKey(),h=t.getEndOffset(),p=o.get(s),g=o.get(l),v=p instanceof r,m=[];if(v){var y=g.getChildKeys(),b=c(l,o);g.getNextSiblingKey()&&(m=m.concat(b)),y.isEmpty()||(m=m.concat(b.concat([l]))),m=m.concat(c(i(g,o),o))}n=p===g?d(p.getCharacterList(),u,h):p.getCharacterList().slice(0,u).concat(g.getCharacterList().slice(h));var A=p.merge({text:p.getText().slice(0,u)+g.getText().slice(h),characterList:n}),_=v&&0===u&&0===h&&g.getParentKey()===s&&null==g.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).filter((function(e,t){return-1===m.indexOf(t)})).concat(a([[l,null]])).map((function(e,t){return t===s?A:null})),E=o.merge(_).filter((function(e){return!!e}));return v&&p!==g&&(E=f(E,p,g,o)),e.merge({blockMap:E,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:u,focusKey:s,focusOffset:u,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(67),i=n(77),o=n(28),a=n(29),s=n(292),c=o.List,u=o.Map,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),f=o.get(n),d=f.getText();if(!d){var h=f.getType();if("unordered-list-item"===h||"ordered-list-item"===h)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var p=t.getAnchorOffset(),g=f.getCharacterList(),v=i(),m=f instanceof r,y=f.merge({text:d.slice(0,p),characterList:g.slice(0,p)}),b=y.merge({key:v,text:d.slice(p),characterList:g.slice(p),data:u()}),A=o.toSeq().takeUntil((function(e){return e===f})),_=o.toSeq().skipUntil((function(e){return e===f})).rest(),E=A.concat([[n,y],[v,b]],_).toOrderedMap();return m&&(f.getChildKeys().isEmpty()||a(!1),E=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();l(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:c(o)})})),l(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),l(r,e,(function(e){return e.merge({nextSibling:i})})),l(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(E,y,b)),e.merge({blockMap:E,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(126),o=n(294),a=n(28),s=a.List,c=a.Repeat,u=a.Record,l=function(){return!0},f=u({start:null,end:null}),d=u({start:null,end:null,decoratorKey:null,leaves:null}),h={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new d({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var o=[],a=n?n.getDecorations(t,e):s(c(null,r)),u=t.getCharacterList();return i(a,g,l,(function(e,t){o.push(new d({start:e,end:t,decoratorKey:a.get(e),leaves:p(u.slice(e,t).toList(),e)}))})),s(o)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["leaves"]);return new d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:o(t)).map((function(e){return f(e)})):null}))}};function p(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return i(r,g,l,(function(e,r){n.push(new f({start:e+t,end:r+t}))})),s(n)}function g(e,t){return e===t}e.exports=h},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},function(e,t,n){"use strict";var r,i=n(517),o=n(28),a=n(58),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),u=s(n.keySeq().zip(c));return null!=t&&o.is(t,u)?t:u}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(202),o=n(151),a=n(29),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||a(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},function(e,t,n){"use strict";var r=n(67),i=n(293),o=n(28),a=n(29),s=o.OrderedMap,c=o.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),l=t.getParentKey(),f=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),h=n.getParentKey(),p=o?n.getNextSiblingKey():s,g=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){u(l,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),u(d,e,(function(e){return e.merge({nextSibling:f})})),u(f,e,(function(e){return e.merge({prevSibling:d})})),u(p,e,(function(e){return e.merge({prevSibling:a})})),u(g,e,(function(e){return e.merge({nextSibling:a})})),u(h,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:c(i)})})),u(a,e,(function(e){return e.merge({nextSibling:p,prevSibling:g,parent:h})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),u=t.getKey();u===c&&a(!1);var f=e.getBlockMap(),d=t instanceof r,h=[t],p=f.delete(u);d&&(h=[],p=f.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===u})).takeWhile((function(e){var t=e.getKey(),i=t===u,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){h.push(t),e.delete(t.getKey())}))})));var g=p.toSeq().takeUntil((function(e){return e===n})),v=p.toSeq().skipUntil((function(e){return e===n})).skip(1),m=h.map((function(e){return[e.getKey(),e]})),y=s();if("before"===o){var b=e.getBlockBefore(c);b&&b.getKey()===t.getKey()&&a(!1),y=g.concat([].concat(m,[[c,n]]),v).toOrderedMap()}else if("after"===o){var A=e.getBlockAfter(c);A&&A.getKey()===u&&a(!1),y=g.concat([[c,n]].concat(m),v).toOrderedMap()}return e.merge({blockMap:l(y,t,n,o,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})}},function(e,t,n){"use strict";var r=n(28).List,i=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=n(203),l=n(297),f=n(521),d=n(528),h=n(545),p=n(548),g=n(582),v=n(583),m=n(309),y=n(34),b=n(1),A=n(206),_=n(155),E=n(59),w=n(97),I=n(77),S=n(325),k=n(156),C=n(87),O=n(29),T=n(127),R=n(58),x=E.isBrowser("IE"),M=!x,N={edit:p,composite:f,drag:h,cut:null,render:null},D=!1,j=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),L=function(e){function n(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var o=_.getScrollParent(i),a=e||k(o),s=a.x,c=a.y;T(i)||O(!1),i.focus(),o===window?window.scrollTo(s,c):A.setTop(o,c),r||n.update(y.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(T(e)||O(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},N.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var c=o({},N,{edit:s});n._handler=c[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||I(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(g?g((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:R(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(v,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,c=e.editorState,u=e.preventScroll,f=e.readOnly,h=e.textAlignment,p=e.textDirectionality,g=w({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),v=this.props.role||"textbox",m="combobox"===v?!!this.props.ariaExpanded:null,y={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},l,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:u,textDirectionality:p};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:w("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":f?null:m,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:w({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:v,spellCheck:M&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(j,{editor:this,editorState:c}),b.createElement(d,i({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!D&&C("draft_ods_enabled")&&(D=!0,m.initODS()),this.setMode("edit"),x&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(b.Component);s(L,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:u,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:S,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=L}).call(this,n(39))},function(e,t,n){"use strict";var r=n(522),i=n(57),o=n(83),a=n(34),s=n(154),c=n(59),u=n(300),l=n(302),f=n(303),d=n(204),h=n(58),p=c.isBrowser("IE"),g=!1,v=!1,m=null;var y={onCompositionStart:function(e){v=!0,function(e){m||(m=new r(l(e))).start()}(e)},onCompositionEnd:function(e){g=!1,v=!1,setTimeout((function(){g||y.resolveComposition(e)}),20)},onSelect:u,onKeyDown:function(e,t){if(!v)return y.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!v){var t=h(m).stopAndFlushMutations();m=null,g=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),c=s.blockKey,u=s.decoratorKey,l=s.leafKey,f=n.getBlockTree(c).getIn([u,"leaves",l]),h=f.start,p=f.end,g=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:h,focusOffset:p,isBackward:!1}),v=d(r,g),m=r.getBlockForKey(c).getInlineStyleAt(h);r=i.replaceText(r,g,e,m,v),n=a.set(n,{currentContent:r})}));var s=f(n,l(e)).selectionState;e.restoreEditorDOM();var c=p?a.forceSelection(n,s):a.acceptSelection(n,s);e.update(a.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=y},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(59),o=n(152),a=n(299),s=n(28),c=n(29),u=n(58),l=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=i.isBrowser("IE <= 11"),h=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=l();var n=a(e);n.MutationObserver&&!d?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=l(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return d?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=u(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=h},function(e,t,n){"use strict";var r=n(524),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),u={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:c.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};e.exports=u},function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="model",f="name",d="type",h="vendor",p="version",g="architecture",v="console",m="mobile",y="tablet",b="smarttv",A="wearable",_="embedded",E={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===u&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},w={rgx:function(e,t){for(var n,r,i,s,u,l,f=0;f<t.length&&!u;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(E.has(t[n][r],e))return"?"===n?o:n}else if(E.has(t[n],e))return"?"===n?o:n;return e}},I={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[f,p],[/opios[\/\s]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[f,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[f,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[f],[/;fbav\/([\w\.]+);/i],[p,[f,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[f,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[f,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[p,w.str,I.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,E.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[h,"Samsung"],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[h,"Samsung"],[d,m]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[h,"Apple"],[d,m]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,"Apple"],[d,y]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[h,"Huawei"],[d,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[h,"Huawei"],[d,m]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[h,"Xiaomi"],[d,m]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[h,"Xiaomi"],[d,y]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[h,"OPPO"],[d,m]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[h,"Vivo"],[d,m]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[h,"Realme"],[d,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[h,"Motorola"],[d,m]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[d,y]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[d,y]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[h,"LG"],[d,m]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,m]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[h,"Google"],[d,y]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[h,"Google"],[d,m]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,"Sony"],[d,m]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[h,"Sony"],[d,y]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[h,"Amazon"],[d,y]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[h,"Amazon"],[d,m]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,h,[d,y]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[d,m]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[h,"ASUS"],[d,y]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[h,"ASUS"],[d,m]],[/(nexus\s9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[l,/_/g," "],[d,m]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[h,"Meizu"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,l,[d,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,l,[d,y]],[/\s(surface\sduo)\s/i],[l,[h,"Microsoft"],[d,y]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[h,"Fairphone"],[d,m]],[/\s(u304aa)\sbuild/i],[l,[h,"AT&T"],[d,m]],[/sie-(\w*)/i],[l,[h,"Siemens"],[d,m]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[h,"RCA"],[d,y]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[h,"Dell"],[d,y]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[h,"Verizon"],[d,y]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[h,"Barnes & Noble"],[d,y]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[h,"NuVision"],[d,y]],[/;\s(k88)\sbuild/i],[l,[h,"ZTE"],[d,y]],[/;\s(nx\d{3}j)\sbuild/i],[l,[h,"ZTE"],[d,m]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[h,"Swiss"],[d,m]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[h,"Swiss"],[d,y]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[h,"Zeki"],[d,y]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],l,[d,y]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[h,"Insignia"],[d,y]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[h,"NextBook"],[d,y]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],l,[d,m]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],l,[d,m]],[/;\s(ph-1)\s/i],[l,[h,"Essential"],[d,m]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[h,"Envizen"],[d,y]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[h,"MachSpeed"],[d,y]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w\s]+)\sbuild/i],[l,[h,"Nvidia"],[d,y]],[/(sprint)\s(\w+)/i],[h,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[d,m]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,"Zebra"],[d,y]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,"Zebra"],[d,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,l,[d,v]],[/droid.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[d,v]],[/(playstation\s[345portablevi]+)/i],[l,[h,"Sony"],[d,v]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[h,"Microsoft"],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,"Samsung"],[d,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[d,b]],[/(apple)\s?tv/i],[h,[l,"Apple TV"],[d,b]],[/crkey/i],[[l,"Chromecast"],[h,"Google"],[d,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[h,"Amazon"],[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[l,E.trim],[d,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,b]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[d,A]],[/droid.+;\s(glass)\s\d/i],[l,[h,"Google"],[d,A]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[h,"Zebra"],[d,A]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[d,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[d,m]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[d,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,E.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[h,"Generic"]],[/(phone)/i],[[d,m]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[f,[p,w.str,I.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[p,w.str,I.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[f,p],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[f,p]]},k=function e(t,n){if("object"===typeof t&&(n=t,t=o),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==typeof i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?E.extend(S,n):S;return this.getBrowser=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:o};return w.rgx.call(e,r,a.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return w.rgx.call(e,r,a.device),e},this.getEngine=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.engine),e},this.getOS=function(){var e={name:o,version:o};return w.rgx.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?E.trim(e,255):e,this},this.setUA(r),this};k.VERSION="0.7.28",k.BROWSER={NAME:f,MAJOR:"major",VERSION:p},k.CPU={ARCHITECTURE:g},k.DEVICE={MODEL:l,VENDOR:h,TYPE:d,CONSOLE:v,MOBILE:m,SMARTTV:b,TABLET:y,WEARABLE:A,EMBEDDED:_},k.ENGINE={NAME:f,VERSION:p},k.OS={NAME:f,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=k),t.UAParser=k):(r=function(){return k}.call(t,n,t,e))===o||(e.exports=r);var C="undefined"!==typeof i&&(i.jQuery||i.Zepto);if(C&&!C.ua){var O=new k;C.ua=O.getResult(),C.ua.get=function(){return O.getUA()},C.ua.set=function(e){O.setUA(e);var t=O.getResult();for(var n in t)C.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";var r=n(29),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function u(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return A.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return l(n[0],t);var i=n[0],o=n[1];return g(i)&&g(o)||r(!1),l(">="+i,t)&&l("<="+o,t)}(e=n[0].trim(),t)}function l(e,t){if(""===(e=e.trim()))return!0;var n=t.split(i),r=h(e),o=r.modifier,a=r.rangeComponents;switch(o){case"<":return f(n,a);case"<=":return function(e,t){var n=b(e,t);return-1===n||0===n}(n,a);case">=":return d(n,a);case">":return 1===b(n,a);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);p(o)&&(r[i]=o+1+"");return d(e,n)&&f(e,r)}(n,a);default:return function(e,t){return 0===b(e,t)}(n,a)}}function f(e,t){return-1===b(e,t)}function d(e,t){var n=b(e,t);return 1===n||0===n}function h(e){var t=e.split(i),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function g(e){return!h(e).modifier}function v(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function m(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),o=parseInt(r,10);return p(i)&&p(o)&&i!==o?y(i,o):y(e,t)}function y(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){v(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return v(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var a=m(r[o],i[o]);if(a)return a}return 0}var A={contains:function(e,t){return u(e.trim(),t.trim())}};e.exports=A},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=n(87)("draft_tree_data_support");e.exports=n(r?529:543)},function(e,t,n){"use strict";var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(530),a=n(83),s=n(1),c=n(58),u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),u=n.getDecorator();return i!==o||a!==s||c!==u||n.mustForceSelection()},u.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,u=e.customStyleMap,l=e.customStyleFn,f=e.editorState,d=e.editorKey,h=e.textDirectionality,p=f.getCurrentContent(),g=f.getSelection(),v=f.mustForceSelection(),m=f.getDecorator(),y=c(f.getDirectionMap()),b=[],A=p.getBlocksAsArray()[0];A;){var _=A.getKey(),E={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:p,customStyleFn:l,customStyleMap:u,decorator:m,editorKey:d,editorState:f,forceSelection:v,selection:g,block:A,direction:h||y.get(_),tree:f.getBlockTree(_)},w=(t.get(A.getType())||t.get("unstyled")).wrapper;b.push({block:s.createElement(o,i({key:_},E)),wrapperTemplate:w,key:_,offsetKey:a.encode(_,0,0)});var I=A.getNextSiblingKey();A=I?p.getBlockForKey(I):null}for(var S=[],k=0;k<b.length;){var C=b[k];if(C.wrapperTemplate){var O=[];do{O.push(b[k].block),k++}while(k<b.length&&b[k].wrapperTemplate===C.wrapperTemplate);var T=s.cloneElement(C.wrapperTemplate,{key:C.key+"-wrap","data-offset-key":C.offsetKey},O);S.push(T)}else S.push(C.block),k++}return s.createElement("div",{"data-contents":"true"},S)},r}(s.Component);e.exports=u},function(e,t,n){"use strict";var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(531),u=n(83),l=n(1),f=n(206),d=n(155),h=n(311),p=n(156),g=n(312),v=n(28),m=n(29),y=n(127),b=(v.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),A=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},_=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},E=function(e,t,n,r,i,o){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:o},c=r(e);return c&&(s.className=c),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(o(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",l.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,o=!n.getChildKeys().isEmpty(),a=n!==e.block||i!==e.tree||r!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection;return o||a},v.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=d.getScrollParent(n),o=p(i);if(i===window){var a=h(n);(r=a.y+a.height-g().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{y(n)||m(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&f.setTop(i,f.getTop(i)+r+10)}}}},v.render=function(){var e=this,t=this.props,n=t.block,o=t.blockRenderMap,s=t.blockRendererFn,f=t.blockStyleFn,d=t.contentState,h=t.decorator,p=t.editorKey,g=t.editorState,v=t.customStyleFn,m=t.customStyleMap,y=t.direction,w=t.forceSelection,I=t.selection,S=t.tree,k=null;n.children.size&&(k=n.children.reduce((function(t,n){var i=u.encode(n,0,0),c=d.getBlockForKey(n),h=_(c,s),v=h.CustomComponent||r,m=A(c,o),y=m.Element,b=m.wrapperTemplate,w=E(c,p,i,f,h,null),I=a({},e.props,{tree:g.getBlockTree(n),blockProps:h.customProps,offsetKey:i,block:c});return t.push(l.createElement(y,w,l.createElement(v,I))),!b||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(c,d)||function(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,c=n.reverse()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;if(f.type!==t)break;r.push(f)}}catch(p){o=!0,a=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var d=r.reverse(),h=d[0].key;n.push(l.cloneElement(e,{key:"".concat(h,"-wrap"),"data-offset-key":u.encode(h,0,0)},d))}(b,y,t),t}),[]));var C=n.getKey(),O=u.encode(C,0,0),T=_(n,s),R=T.CustomComponent,x=null!=R?l.createElement(R,i({},this.props,{tree:g.getBlockTree(C),blockProps:T.customProps,offsetKey:O,block:n})):l.createElement(c,{block:n,children:k,contentState:d,customStyleFn:v,customStyleMap:m,decorator:h,direction:y,forceSelection:w,hasSelection:b(I,C),selection:I,tree:S});if(n.getParentKey())return x;var M=A(n,o).Element,N=E(n,p,O,f,T,this.wrapperRef);return l.createElement(M,N,x)},r}(l.Component);e.exports=w},function(e,t,n){"use strict";var r=n(532),i=n(307),o=n(83),a=n(28),s=n(1),c=n(97),u=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,u=e.customStyleMap,l=e.decorator,f=e.direction,d=e.forceSelection,h=e.hasSelection,p=e.selection,g=e.tree,v=t.getKey(),m=t.getText(),y=g.size-1,b=this.props.children||g.map((function(e,c){var g=e.get("decoratorKey"),b=e.get("leaves"),A=b.size-1,_=b.map((function(e,n){var r=o.encode(v,c,n),l=e.get("start"),f=e.get("end");return s.createElement(i,{key:r,offsetKey:r,block:t,start:l,selection:h?p:null,forceSelection:d,text:m.slice(l,f),styleSet:t.getInlineStyleAt(l),customStyleMap:u,customStyleFn:a,isLast:g===y&&n===A})})).toArray();return g&&l?s.createElement(r,{block:t,children:_,contentState:n,decorator:l,decoratorKey:g,direction:f,leafSet:e,text:m,key:c}):_})).toArray();return s.createElement("div",{"data-offset-key":o.encode(v,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},a}(s.Component));e.exports=u},function(e,t,n){"use strict";var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(83),a=n(1),s=n(202),c=n(151),u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,u=e.decorator,l=e.decoratorKey,f=e.direction,d=e.leafSet,h=e.text,p=t.getKey(),g=d.get("leaves"),v=u.getComponentForKey(l),m=u.getPropsForKey(l),y=o.encode(p,parseInt(l,10),0),b=h.slice(g.first().get("start"),g.last().get("end")),A=c.getHTMLDirIfDifferent(s.getDirection(b),f);return a.createElement(v,i({},m,{contentState:r,decoratedText:b,dir:A,key:y,entityKey:t.getEntityAt(d.get("start")),offsetKey:y}),n)},r}(a.Component);e.exports=u},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(1),a=n(59),s=n(29),c=n(98),u=a.isBrowser("IE <= 11");var l=function(e){var t,n;function a(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||s(!1);var r=t;return n?!function(e){return u?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},u?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return u?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(o.Component);e.exports=l},function(e,t,n){"use strict";var r=n(309),i=n(301),o=n(59),a=n(205),s=n(310),c=n(153),u=n(29),l=n(98),f=o.isBrowser("IE");function d(e,t){if(!e)return"[empty]";var n=h(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||u(!1),n.outerHTML)}function h(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return c(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,a=0;a<o.length;a++)i.appendChild(h(o[a],t));return i}function p(e,t){for(var n=e,r=n;n;){if(l(n)&&r.hasAttribute("contenteditable"))return d(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function g(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function v(e,t,n,r){var o=s();if(e.extend&&null!=t&&a(o,t)){n>g(t)&&i.logSelectionStateFailure({anonymizedDom:p(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(l){throw i.logSelectionStateFailure({anonymizedDom:p(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:l?""+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function m(e,t,n,o){var a=c(t).createRange();if(n>g(t)&&(i.logSelectionStateFailure({anonymizedDom:p(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),f)try{e.addRange(a)}catch(s){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=c(t);if(a(o.documentElement,t)){var s=o.defaultView.getSelection(),u=e.getAnchorKey(),l=e.getAnchorOffset(),f=e.getFocusKey(),d=e.getFocusOffset(),h=e.getIsBackward();if(!s.extend&&h){var p=u,g=l;u=f,l=d,f=p,d=g,h=!1}var y=u===n&&r<=l&&i>=l,b=f===n&&r<=d&&i>=d;if(y&&b)return s.removeAllRanges(),m(s,t,l-r,e),void v(s,t,d-r,e);if(h){if(b&&(s.removeAllRanges(),m(s,t,d-r,e)),y){var A=s.focusNode,_=s.focusOffset;s.removeAllRanges(),m(s,t,l-r,e),v(s,A,_,e)}}else y&&(s.removeAllRanges(),m(s,t,l-r,e)),b&&v(s,t,d-r,e)}},addFocusToSelection:v}},function(e,t,n){"use strict";var r=n(536);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(538),i=n(539);function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(205);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(75);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(313),c=n(83),u=n(1),l=n(97),f=n(544),d=n(58),h=function(e,t,n,r){return l({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),u=n.getDecorator();return i!==o||a!==s||c!==u||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,l=e.customStyleFn,p=e.editorState,g=e.editorKey,v=e.preventScroll,m=e.textDirectionality,y=p.getCurrentContent(),b=p.getSelection(),A=p.mustForceSelection(),_=p.getDecorator(),E=d(p.getDirectionMap()),w=y.getBlocksAsArray(),I=[],S=null,k=null,C=0;C<w.length;C++){var O=w[C],T=O.getKey(),R=O.getType(),x=n(O),M=void 0,N=void 0,D=void 0;x&&(M=x.component,N=x.props,D=x.editable);var j=m||E.get(T),L=c.encode(T,0,0),B={contentState:y,block:O,blockProps:N,blockStyleFn:r,customStyleMap:a,customStyleFn:l,decorator:_,direction:j,forceSelection:A,offsetKey:L,preventScroll:v,selection:b,tree:p.getBlockTree(T)},P=t.get(R)||t.get("unstyled"),U=P.wrapper,F=P.element||t.get("unstyled").element,Q=O.getDepth(),z="";if(r&&(z=r(O)),"li"===F)z=f(z,h(R,Q,k!==U||null===S||Q>S,j));var V=M||s,K={className:z,"data-block":!0,"data-editor":g,"data-offset-key":L,key:T};void 0!==D&&(K=o({},K,{contentEditable:D,suppressContentEditableWarning:!0}));var G=u.createElement(F,K,u.createElement(V,i({},B,{key:T})));I.push({block:G,wrapperTemplate:U,key:T,offsetKey:L}),S=U?O.getDepth():null,k=U}for(var H=[],q=0;q<I.length;){var W=I[q];if(W.wrapperTemplate){var Y=[];do{Y.push(I[q].block),q++}while(q<I.length&&I[q].wrapperTemplate===W.wrapperTemplate);var J=u.cloneElement(W.wrapperTemplate,{key:W.key+"-wrap","data-offset-key":W.offsetKey},Y);H.push(J)}else H.push(W.block),q++}return u.createElement("div",{"data-contents":"true"},H)},r}(u.Component);e.exports=p},function(e,t,n){"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},function(e,t,n){"use strict";var r=n(314),i=n(57),o=n(34),a=n(152),s=n(153),c=n(316),u=n(305),l=n(299),f=n(157),d=n(58);var h={onDragEnd:function(e){e.exitCurrentMode(),p(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),l=e._latestEditorState,h=function(e,t){var n=null,r=null,i=s(e.currentTarget);if("function"===typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=d(n),r=d(r);var c=d(a(n));return u(t,c,r,c,r)}(t.nativeEvent,l);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=h){var v=n.getFiles();if(v.length>0){if(e.props.handleDroppedFiles&&f(e.props.handleDroppedFiles(h,v)))return;c(v,(function(t){t&&e.update(g(l,h,t))}))}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&f(e.props.handleDrop(h,n,m))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(l,h)):e.update(g(l,h,n.getText()))),p(e)}}}};function p(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:l(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function g(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=h},function(e,t,n){"use strict";var r={isImage:function(e){return"image"===i(e)[0]},isJpeg:function(e){var t=i(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function i(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(29);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(59),i=n(549),o=n(552),a=n(553),s=n(554),c=n(555),u=n(557),l=n(558),f=n(559),d=n(560),h=n(561),p=n(575),g=n(300),v=r.isBrowser("Chrome"),m=r.isBrowser("Firefox"),y=v||m?g:function(e){},b={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:u,onDragStart:l,onFocus:f,onInput:d,onKeyDown:h,onPaste:p,onSelect:g,onMouseUp:y,onKeyUp:y};e.exports=b},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(59),a=n(204),s=n(157),c=n(550),u=n(58),l=n(551),f=o.isBrowser("Firefox");function d(e,t,n,o,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return i.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var o=n.getSelection(),h=o.getStartOffset(),p=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void e.update(d(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var g,v=d(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),m=!1;if(m||(m=c(e._latestCommittedEditorState)),!m){var y=n.getBlockTree(p),b=v.getBlockTree(p);m=y.size!==b.size||y.zip(b).some((function(e){var t=e[0],n=e[1],i=t.get("start"),o=i+(i>=h?r.length:0),a=t.get("end"),s=a+(a>=h?r.length:0),c=n.get("start"),u=n.get("end"),l=n.get("decoratorKey");return t.get("decoratorKey")!==l||t.get("leaves").size!==n.get("leaves").size||o!==c||s!==u||null!=l&&u-c!==a-i}))}if(m||(g=r,m=f&&("'"==g||"/"==g)),m||(m=u(v.getDirectionMap()).get(p)!==u(n.getDirectionMap()).get(p)),m)return t.preventDefault(),v=i.set(v,{forceSelection:!0}),void e.update(v);v=i.set(v,{nativelyRenderedContent:v.getCurrentContent()}),e._pendingStateFromBeforeInput=v,l((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},function(e,t,n){"use strict";(function(t){n(244),e.exports=t.setImmediate}).call(this,n(39))},function(e,t,n){"use strict";var r=n(34),i=n(205),o=n(310);e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,u=c.getSelection();if(u.getHasFocus()){var l=u.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,l))}}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(317);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(155),a=n(317),s=n(156),c=n(556);e.exports=function(e,t){var n,u=e._latestEditorState,l=u.getSelection(),f=t.target;if(l.isCollapsed())t.preventDefault();else{if(c(f)){var d=f;n=s(o.getScrollParent(d))}var h=a(u);e.setClipboard(h),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(u))}),0)}}},function(e,t,n){"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},function(e,t,n){"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(34),i=n(59);e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},function(e,t,n){"use strict";var r=n(57),i=n(83),o=n(34),a=n(59),s=n(306).notEmptyKey,c=n(152),u=n(318),l=n(58),f=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,d=n.isCollapsed,h=(null===a||void 0===a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null===a||void 0===a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!h){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var p=a.parentNode;if(null==p)return;a.nodeValue=p.textContent;for(var g=p.firstChild;null!=g;g=g.nextSibling)g!==a&&p.removeChild(g)}var v=a.textContent,m=e._latestEditorState,y=l(c(a)),b=i.decode(y),A=b.blockKey,_=b.decoratorKey,E=b.leafKey,w=m.getBlockTree(A).getIn([_,"leaves",E]),I=w.start,S=w.end,k=m.getCurrentContent(),C=k.getBlockForKey(A),O=C.getText().slice(I,S);if(v.endsWith("\n\n")&&(v=v.slice(0,-1)),v!==O){var T,R,x,M,N=m.getSelection(),D=N.merge({anchorOffset:I,focusOffset:S,isBackward:!1}),j=C.getEntityAt(I),L=s(j)?k.getEntity(j):null,B="MUTABLE"===(null!=L?L.getMutability():null),P=B?"spellcheck-change":"apply-entity",U=r.replaceText(k,D,v,C.getInlineStyleAt(I),B?C.getEntityAt(I):null);if(f)T=n.anchorOffset,R=n.focusOffset,M=(x=I+Math.min(T,R))+Math.abs(T-R),T=x,R=M;else{var F=v.length-O.length;x=N.getStartOffset(),M=N.getEndOffset(),T=d?M+F:x,R=M+F}var Q=U.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:N.merge({anchorOffset:T,focusOffset:R})});e.update(o.push(m,Q,P))}else{var z=t.nativeEvent.inputType;if(z){var V=function(e,t){switch(e){case"deleteContentBackward":return u(t)}return t}(z,m);if(V!==m)return e.restoreEditorDOM(),void e.update(V)}}}}},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(209),a=n(154),s=n(563),c=n(59),u=n(157),l=n(564),f=n(566),d=n(568),h=n(569),p=n(570),g=n(571),v=n(318),m=n(572),y=n(573),b=n(574),A=o.isOptionKeyCommand,_=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&u(e.props.handleReturn(t,o)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:_&&A(t)&&t.preventDefault()}var E=e.props.keyBindingFn(t);if(null!=E&&""!==E)if("undo"!==E){if(t.preventDefault(),!e.props.handleKeyCommand||!u(e.props.handleKeyCommand(E,o,t.timeStamp))){var w=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return m(t);case"delete-word":return d(t);case"backspace":return v(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return l(t,n);case"split-block":return h(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return p(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(E,o,t);w!==o&&e.update(w)}}else b(t,o,e.update);else if(n===a.SPACE&&_&&A(t)){var I=r.replaceText(o.getCurrentContent(),o.getSelection(),"\xa0");e.update(i.push(o,I,"insert-characters"))}}},function(e,t,n){"use strict";var r=n(154);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(148),a=n(58),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var u=n.getAnchorKey(),l=t.getBlockForKey(u).getLength();if(l===n.getAnchorOffset()){var f=t.getKeyAfter(u);if(null==f)return e;c=n.set("focusKey",f).set("focusOffset",0)}else c=n.set("focusOffset",l)}else c=n;c=a(c),s=o(t,c);var d=r.removeRange(t,c,"forward");return d===t?e:i.push(e,d,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return i.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,n){"use strict";var r=n(34),i=n(565),o=n(304),a=n(207),s=n(128);e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},function(e,t,n){"use strict";var r=n(99),i=n(153),o=n(319),a=n(29);function s(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<t&&o-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),u=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(u=e.startContainer,l=e.startOffset,u.parentNode||a(!1),e.setStartBefore(u),1!==u.nodeType||"inline"===getComputedStyle(u).display););for(var f=u,d=l-1;;){for(var h=f.nodeValue,p=d;p>=0;p--)if(!(null!=h&&p>0&&r.isSurrogatePair(h,p-1))){if(e.setStart(f,p),!s(o(e),n))break;u=f,l=p}if(-1===p||0===f.childNodes.length)break;d=c(f=f.childNodes[p])}return e.setStart(u,l),e}},function(e,t,n){"use strict";var r=n(320),i=n(34),o=n(207),a=n(128);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},function(e,t,n){"use strict";var r=n(320),i=n(34),o=n(321),a=n(128);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(57),i=n(34);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(34),i=n(99),o=n(321),a=n(128);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(e,s?i.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(57),i=n(34),o=n(148);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),u=e.getCurrentContent(),l=u.getBlockForKey(c).getLength();if(l<=1)return e;n===l?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=o(u,a),d=r.removeRange(u,a,"backward"),h=d.getSelectionAfter(),p=h.getAnchorOffset()-1,g=h.merge({anchorOffset:p,focusOffset:p}),v=r.replaceWithFragment(d,g,f),m=i.push(e,v,"insert-fragment");return i.acceptSelection(m,s)}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},function(e,t,n){"use strict";var r=n(125),i=n(66),o=n(314),a=n(57),s=n(576),c=n(34),u=n(324),l=n(204),f=n(316),d=n(157),h=n(581);function p(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var g=n.getFiles(),v=n.getText();if(g.length>0){if(e.props.handlePastedFiles&&d(e.props.handlePastedFiles(g)))return;return void f(g,(function(t){if(t=t||v){var n=e._latestEditorState,o=h(t),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),d=u.getCurrentBlockType(n),p=s.processText(o,f,d),g=r.createFromArray(p),m=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),g);e.update(c.push(n,m,"insert-fragment"))}}))}}var m=[],y=n.getText(),b=n.getHTML(),A=e._latestEditorState;if(e.props.formatPastedText){var _=e.props.formatPastedText(y,b);y=_.text,b=_.html}if(!e.props.handlePastedText||!d(e.props.handlePastedText(y,b,A))){if(y&&(m=h(y)),!e.props.stripPastedStyles){var E,w=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&w){if(-1!==(null===(E=b)||void 0===E?void 0:E.indexOf(e.getEditorKey()))||1===m.length&&1===w.size&&w.first().getText()===y)return void e.update(p(e._latestEditorState,w))}else if(w&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(m,w))return void e.update(p(e._latestEditorState,w));if(b){var I=s.processHTML(b,e.props.blockRenderMap);if(I){var S=I.contentBlocks,k=I.entityMap;if(S){var C=r.createFromArray(S);return void e.update(p(e._latestEditorState,C,k))}}}e.setClipboard(null)}if(m.length){var O=i.create({style:A.getCurrentInlineStyle(),entity:l(A.getCurrentContent(),A.getSelection())}),T=u.getCurrentBlockType(A),R=s.processText(m,O,T),x=r.createFromArray(R);e.update(p(e._latestEditorState,x))}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(96),o=n(67),a=n(322),s=n(77),c=n(323),u=n(87),l=n(28),f=n(296),d=l.List,h=l.Repeat,p=u("draft_tree_data_support"),g=p?o:i,v={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,i,o){i=f(i);var a=s(),c={key:a,type:n,text:i,characterList:d(h(t,i.length))};if(p&&0!==o){var u=o-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[u]=e[u].merge({nextSibling:a})).getKey()})}return e.push(new g(c)),e}),[])}};e.exports=v},function(e,t,n){"use strict";var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";var r=n(98);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},function(e,t,n){"use strict";var r=n(98);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat([[o,a.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(30).unstable_flushControlled;e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(97),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(96),o=n(67),a=n(326),s=n(586),c=n(587),u=n(29),l=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},f=function(e,t,n,a){if(e instanceof i)n.push(l(e,t));else{e instanceof o||u(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},l(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],i={},o={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=a.stringify(r);o[i]||(o[i]=r,n[i]="".concat(s),s++)})),f(e,n,r,i)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t)}},function(e,t,n){"use strict";var r=n(326),i=n(99).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,a){var s=e.getText(),c=e.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(t[r.stringify(c)])})})),n}},function(e,t,n){"use strict";var r=n(99),i=n(126),o=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return i(c,o,a,(function(t,i){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(96),a=n(67),s=n(201),c=n(149),u=n(589),l=(n(590),n(150)),f=n(591),d=n(592),h=n(593),p=n(77),g=n(87),v=n(28),m=n(29),y=g("draft_tree_data_support"),b=v.List,A=v.Map,_=v.OrderedMap,E=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||p(),data:A(i),characterList:w(e,t)}},w=function(e,t){var n=e.text,i=e.entityRanges,o=e.inlineStyleRanges,a=i||[];return f(h(n,o||[]),d(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},I=function(e){return r({},e,{key:e.key||p()})},S=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())},k=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=y&&!n?u.fromRawStateToRawTreeState(e).blocks:e.blocks;return y?function(e,t){return e.map(I).reduce((function(n,i,o){Array.isArray(i.children)||m(!1);var s=i.children.map(I),c=new a(r({},E(i,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:b(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var u=S([],s,c);u.length>0;){var l=u.pop(),f=l.parentRef,d=f.getChildKeys(),h=d.indexOf(l.key),p=Array.isArray(l.children);if(!p){p||m(!1);break}var g=l.children.map(I),v=new a(r({},E(l,t),{parent:f.getKey(),children:b(g.map((function(e){return e.key}))),prevSibling:0===h?null:d.get(h-1),nextSibling:h===d.size-1?null:d.get(h+1)}));n=n.set(v.getKey(),v),u=S(u,g,v)}return n}),_())}(i,t):function(e,t){return _(e.map((function(e){var n=new o(E(e,t));return[n.getKey(),n]})))}(n?u.fromRawTreeStateToRawState(e).blocks:i,t)};e.exports=function(e){Array.isArray(e.blocks)||m(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,o=r.mutability,a=r.data;n[e]=c.__create(i,o,a||{})})),n}(e),n=k(e,t),r=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(77),a=n(29),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=s(e),a=e.depth||0,c=r({},e,{children:[]});if(i){var u=n[0];if(null==u&&0===a)t.push(c);else if(null==u||u.depth<a-1){var l={key:o(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===a?t.push(l):null!=u&&u.children.push(l),l.children.push(c)}else if(u.depth===a-1)u.children.push(c);else{for(;null!=u&&u.depth>=a;)n.shift(),u=n[0];a>0?u.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},function(e,t,n){"use strict";n(208);var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();if(null!=o&&t.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var o=e.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},function(e,t,n){"use strict";var r=n(66),i=n(28).List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},function(e,t,n){"use strict";var r=n(99).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,a=i;a<o;a++)n[a]=t.key})),n}},function(e,t,n){"use strict";var r=n(99),i=n(28).OrderedSet,o=r.substr,a=i();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},function(e,t,n){"use strict";var r=n(595);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,c=i.left;return 0===o&&0===a&&0===s&&0===c?null:i}},function(e,t,n){"use strict";var r=n(319);e.exports=function(e){var t=r(e),n=0,i=0,o=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var c=t[0];n=c.top,i=c.right,o=c.bottom,a=c.left}for(var u=1;u<t.length;u++){var l=t[u];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var r=n(328),i=n(78)("socket.io-client:url");t.url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":"),s=a?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+t,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}},function(e,t,n){var r=n(228);e.exports=function(e){function t(e){var n,r=null;function o(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(o.enabled){var a=o,s=Number(new Date),c=s-(n||s);a.diff=c,a.prev=n,a.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";u++;var i=t.formatters[n];if("function"===typeof i){var o=r[u];e=i.call(a,o),r.splice(u,1),u--}return e})),t.formatArgs.call(a,r);var l=a.log||t.log;l.apply(a,r)}}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===r?t.enabled(e):r},set:function(e){r=e}}),"function"===typeof t.init&&t.init(o),o}function i(e,n){var r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(o)),r(t.skips.map(o).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(599),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,a=7*o,s=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(601);e.exports=function(e,t){return new r(e,t)},e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n(210),e.exports.transports=n(330),e.exports.parser=n(129)},function(e,t,n){var r=n(61),i=n(62),o=n(71),a=n(72),s=n(330),c=n(130),u=n(78)("engine.io-client:socket"),l=n(129),f=n(328),d=n(211),h=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,n),i=t.call(this),e&&"object"===typeof e&&(o=e,e=null),e?(e=f(e),o.hostname=e.host,o.secure="https"===e.protocol||"wss"===e.protocol,o.port=e.port,e.query&&(o.query=e.query)):o.host&&(o.hostname=f(o.host).host),i.secure=null!=o.secure?o.secure:"undefined"!==typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=i.secure?"443":"80"),i.hostname=o.hostname||("undefined"!==typeof location?location.hostname:"localhost"),i.port=o.port||("undefined"!==typeof location&&location.port?location.port:i.secure?443:80),i.transports=o.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"===typeof i.opts.query&&(i.opts.query=d.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"===typeof addEventListener&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return i(n,[{key:"createTransport",value:function(e){u('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return u("options: %j",n),new s[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void setTimeout((function(){t.emit("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return u("error while creating transport: %s",r),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;u("setting transport %s",e.name),this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var t=this;u('probing transport "%s"',e);var r=this.createTransport(e,{probe:1}),i=!1;n.priorWebsocketSuccess=!1;var o=function(){i||(u('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(o){if(!i)if("pong"===o.type&&"probe"===o.data){if(u('probe transport "%s" pong',e),t.upgrading=!0,t.emit("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,u('pausing current transport "%s"',t.transport.name),t.transport.pause((function(){i||"closed"!==t.readyState&&(u("changing transport and sending upgrade packet"),d(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emit("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{u('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=r.name,t.emit("upgradeError",a)}})))};function a(){i||(i=!0,d(),r.close(),r=null)}var s=function(n){var i=new Error("probe error: "+n);i.transport=r.name,a(),u('probe transport "%s" failed because of error: %s',e,n),t.emit("upgradeError",i)};function c(){s("transport closed")}function l(){s("socket closed")}function f(e){r&&e.name!==r.name&&(u('"%s" works - aborting "%s"',e.name,r.name),a())}var d=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",c),t.removeListener("close",l),t.removeListener("upgrading",f)};r.once("open",o),r.once("error",s),r.once("close",c),this.once("close",l),this.once("upgrading",f),r.open()}},{key:"onOpen",value:function(){if(u("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){u("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(u('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else u('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),u("socket closing - telling transport to close"),e.transport.close()},n=function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){u("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(u('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(c);h.priorWebsocketSuccess=!1,h.protocol=l.protocol,e.exports=h},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var r=n(61),i=n(62),o=n(71),a=n(72),s=n(331),c=n(332),u=n(130),l=n(335).pick,f=n(158),d=n(78)("engine.io-client:polling-xhr");function h(){}var p=null!=new s({xdomain:!1}).responseType,g=function(e){"use strict";o(n,e);var t=a(n);function n(e){var i;if(r(this,n),i=t.call(this,e),"undefined"!==typeof location){var o="https:"===location.protocol,a=location.port;a||(a=o?443:80),i.xd="undefined"!==typeof location&&e.hostname!==location.hostname||a!==e.port,i.xs=e.secure!==o}var s=e&&e.forceBase64;return i.supportsBinary=p&&!s,i}return i(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new v(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e){n.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this;d("xhr poll");var t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(c),v=function(e){"use strict";o(n,e);var t=a(n);function n(e,i){var o;return r(this,n),(o=t.call(this)).opts=i,o.method=i.method||"GET",o.uri=e,o.async=!1!==i.async,o.data=void 0!==i.data?i.data:null,o.create(),o}return i(n,[{key:"create",value:function(){var e=this,t=l(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new s(t);try{d("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}catch(o){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{r.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),this.hasXDR()?(r.onload=function(){e.onLoad()},r.onerror=function(){e.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():setTimeout((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},d("xhr data %s",this.data),r.send(this.data)}catch(o){return void setTimeout((function(){e.onError(o)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=h:this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}(u);if(v.requestsCount=0,v.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",m);else if("function"===typeof addEventListener){addEventListener("onpagehide"in f?"pagehide":"unload",m,!1)}function m(){for(var e in v.requests)v.requests.hasOwnProperty(e)&&v.requests[e].abort()}e.exports=g,e.exports.Request=v},function(e,t,n){var r=n(333).PACKET_TYPES,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"===typeof ArrayBuffer,a=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=function(e,t,n){var s,c=e.type,u=e.data;return i&&u instanceof Blob?t?n(u):a(u,n):o&&(u instanceof ArrayBuffer||(s=u,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?t?n(u instanceof ArrayBuffer?u:u.buffer):a(new Blob([u]),n):n(r[c]+(u||""))}},function(e,t,n){var r,i=n(333),o=i.PACKET_TYPES_REVERSE,a=i.ERROR_PACKET;"function"===typeof ArrayBuffer&&(r=n(606));var s=function(e,t){if(r){var n=r.decode(e);return c(n,t)}return{base64:!0,data:e}},c=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};e.exports=function(e,t){if("string"!==typeof e)return{type:"message",data:c(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:s(e.substring(1),t)}:o[n]?e.length>1?{type:o[n],data:e.substring(1)}:{type:o[n]}:a}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),f[u++]=r<<2|i>>4,f[u++]=(15&i)<<4|o>>2,f[u++]=(3&o)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t,n){var r,i=n(61),o=n(62),a=n(178),s=n(119),c=n(92),u=n(71),l=n(72),f=n(332),d=n(158),h=/\n/g,p=/\\n/g,g=function(e){"use strict";u(n,e);var t=l(n);function n(e){var o;return i(this,n),(o=t.call(this,e)).query=o.query||{},r||(r=d.___eio=d.___eio||[]),o.index=r.length,r.push(o.onData.bind(a(o))),o.query.j=o.index,o}return o(n,[{key:"supportsBinary",get:function(){return!1}},{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s(c(n.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}},{key:"doWrite",value:function(e,t){var n,r=this;if(!this.form){var i=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function s(){c(),t()}this.form.action=this.uri();var c=function(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n};c(),e=e.replace(p,"\\\n"),this.area.value=e.replace(h,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&s()}:this.iframe.onload=s}}]),n}(f);e.exports=g},function(e,t,n){(function(t){var r=n(61),i=n(62),o=n(71),a=n(72),s=n(210),c=n(129),u=n(211),l=n(334),f=n(335).pick,d=n(609),h=d.WebSocket,p=d.usingBrowserWebSocket,g=d.defaultBinaryType,v=d.nextTick,m=n(78)("engine.io-client:websocket"),y="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),b=function(e){"use strict";o(d,e);var n=a(d);function d(e){var t;return r(this,d),(t=n.call(this,e)).supportsBinary=!e.forceBase64,t}return i(d,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=y?{}:f(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=p&&!y?t?new h(e,t):new h(e):new h(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||g,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var n=this;this.writable=!1;for(var r=function(r){var i=e[r],o=r===e.length-1;c.encodePacket(i,n.supportsBinary,(function(e){var r={};p||(i.options&&(r.compress=i.options.compress),n.opts.perMessageDeflate&&("string"===typeof e?t.byteLength(e):e.length)<n.opts.perMessageDeflate.threshold&&(r.compress=!1));try{p?n.ws.send(e):n.ws.send(e,r)}catch(a){m("websocket closed before onclose event")}o&&v((function(){n.writable=!0,n.emit("drain")}))}))},i=0;i<e.length;i++)r(i)}},{key:"onClose",value:function(){s.prototype.onClose.call(this)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=u.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!!h&&!("__initialize"in h&&this.name===d.prototype.name)}}]),d}(s);e.exports=b}).call(this,n(48).Buffer)},function(e,t,n){var r=n(158),i="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e){return setTimeout(e,0)};e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var r=n(337);function i(e,t){if(!e)return e;if(r.isBinary(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=i(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){var s={};for(var c in e)e.hasOwnProperty(c)&&(s[c]=i(e[c],t));return s}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&(e[r]=o(e[r],t));return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=i(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=(r=n(21))&&r.__esModule?r:{default:r},a=n(613),s=n(340);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(u,e);var t,n,r,o,c=(t=u,function(){var e,n=b(t);if(y()){var r=b(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return v(this,e)});function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(m(e=c.call.apply(c,[this].concat(n))),"state",{hovered:!1}),_(m(e),"getStyle",(function(t){var n="dark"===e.props.type?s.darkStyle:s.lightStyle;return e.state.hovered?h({},n,{},s.hoverStyle,{},t):e.props.disabled?h({},n,{},s.disabledStyle,{},t):h({},n,{},t)})),_(m(e),"mouseOver",(function(){e.props.disabled||e.setState({hovered:!0})})),_(m(e),"mouseOut",(function(){e.props.disabled||e.setState({hovered:!1})})),_(m(e),"click",(function(t){e.props.disabled||e.props.onClick(t)})),e}return n=u,(r=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.style,r=f(e,["label","style"]);return i.default.createElement("div",l({},r,{role:"button",onClick:this.click,style:this.getStyle(n),onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}),i.default.createElement(a.GoogleIcon,this.props),i.default.createElement("span",null,t))}}])&&g(n.prototype,r),o&&g(n,o),u}(i.PureComponent);t.default=E,_(E,"propTypes",{label:o.default.string,disabled:o.default.bool,tabIndex:o.default.number,onClick:o.default.func,type:o.default.oneOf(["light","dark"]),style:o.default.object}),_(E,"defaultProps",{label:"Sign in with Google",disabled:!1,type:"dark",tabIndex:0,onClick:function(){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleIcon=void 0;var r=a(n(1)),i=a(n(21)),o=n(340);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=r.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:o.svgStyle},r.default.createElement("defs",null,r.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),r.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),r.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("g",{id:"button-bg-copy"},r.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"})),r.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.default.createElement("g",{id:"handles_square"})))),f=r.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:o.svgStyle},r.default.createElement("defs",null,r.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),r.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.default.createElement("g",{id:"handles_square"})))),d=r.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:o.svgStyle},r.default.createElement("defs",null,r.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),r.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),r.default.createElement("g",{id:"handles_square"})))),h=function(e){var t=e.disabled,n=e.type;return r.default.createElement("div",{style:t?c({},o.iconStyle,{},o.disabledIconStyle):o.iconStyle},t?d:"dark"===n?l:f)};t.GoogleIcon=h,h.propTypes={disabled:i.default.bool,type:i.default.oneOf(["light","dark"])},h.defaultProps={type:"dark"}},,,function(e,t,n){"use strict";var r,i=n(3),o=n(4),a=n(68),s=n(44),c=n(0),u=n.n(c),l=n(2),f=n(17),d=n(13),h=n(60),p=n(14),g=n(15),v=n(22),m=n(10),y=n(43);!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(r||(r={}));var b="firebasestorage.googleapis.com",A=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,_(e),"Firebase Storage: ".concat(r," (").concat(_(e),")"))).customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(Object(h.a)(o),n.prototype),o}return Object(o.a)(n,[{key:"_codeEquals",value:function(e){return _(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(m.c);function _(e){return"storage/"+e}function E(){return new A("unknown","An unknown error occurred, please check the error payload for server response.")}function w(){return new A("canceled","User canceled the upload/download.")}function I(){return new A("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function S(){return new A("no-download-url","The given file does not have any download URLs.")}function k(e){return new A("invalid-argument",e)}function C(){return new A("app-deleted","The Firebase app was deleted.")}function O(e){return new A("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function T(e,t){return new A("invalid-format","String does not match format '"+e+"': "+t)}function R(e){throw new A("internal-error","Internal error: "+e)}var x=function(){function e(){var t=this;Object(i.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=r.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=r.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=r.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Object(o.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw R("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw R("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw R("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw R("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}();var M=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"createConnection",value:function(){return new x}}]),e}(),N=function(){function e(t,n){Object(i.a)(this,e),this.bucket=t,this.path_=n}return Object(o.a)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new A("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),c=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===b?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],u=0;u<c.length;u++){var l=c[u],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new A("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),D=function(){function e(t){Object(i.a)(this,e),this.promise_=Promise.reject(t)}return Object(o.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function j(e){return"string"===typeof e||e instanceof String}function L(e){return B()&&e instanceof Blob}function B(){return"undefined"!==typeof Blob}function P(e,t,n,r){if(r<t)throw k("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw k("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function U(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://".concat(t)),"".concat(r,"/v0").concat(e)}function F(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Q=function(){function e(t,n,r,o,a,s,c,u,l,f,d){var h=this;Object(i.a)(this,e),this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=c,this.errorCallback_=u,this.progressCallback_=f,this.timeout_=l,this.pool_=d,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Object(o.a)(e,[{key:"start_",value:function(){var e=this;function t(t,n){var r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(c){i(c)}else if(null!==o){var s=E();s.serverResponse=o.getResponseText(),e.errorCallback_?i(e.errorCallback_(o,s)):i(s)}else{if(n.canceled)i(e.appDelete_?C():w());else i(new A("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?t(0,new z(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){if(!c){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var f;if(e)u.call.apply(u,[null,e].concat(n));else s()||o?u.call.apply(u,[null,e].concat(n)):(r<64&&(r*=2),1===a?(a=2,f=0):f=1e3*(r+Math.random()),l(f))}}var d=!1;function h(e){d||(d=!0,c||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,h(!0)}),n),h}((function(t,n){if(n)t(!1,new z(!1,null,!0));else{var i=e.pool_.createConnection();e.pendingConnection_=i,null!==e.progressCallback_&&i.addUploadProgressListener(o),i.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&i.removeUploadProgressListener(o),e.pendingConnection_=null;var n=i.getErrorCode()===r.NO_ERROR,a=i.getStatus();if(n&&!e.isRetryStatusCode_(a)){var s=-1!==e.successCodes_.indexOf(a);t(!0,new z(s,i))}else{var c=i.getErrorCode()===r.ABORT;t(!1,new z(!1,null,c))}}))}function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),z=function e(t,n,r){Object(i.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r};function V(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function K(){for(var e=V(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,o=0;o<n.length;o++)i.append(n[o]);return i.getBlob()}if(B())return new Blob(n);throw new A("unsupported-environment","This browser doesn't seem to support creating Blobs")}var G={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},H=function e(t,n){Object(i.a)(this,e),this.data=t,this.contentType=n||null};function q(e,t){switch(e){case G.RAW:return new H(W(t));case G.BASE64:case G.BASE64URL:return new H(Y(e,t));case G.DATA_URL:return new H(function(e){var t=new J(e);return t.base64?Y(G.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw T(G.DATA_URL,"Malformed data URL.")}return W(t)}(t.rest)}(t),new J(t).contentType)}throw E()}function W(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Y(e,t){switch(e){case G.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw T(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case G.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw T(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw T(e,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var J=function e(t){Object(i.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw T(G.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)};var X=function(){function e(t,n){Object(i.a)(this,e);var r=0,o="";L(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return Object(o.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(L(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(B()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(K.apply(null,i))}var o=n.map((function(e){return j(e)?q(G.RAW,e).data:e.data_})),a=0;o.forEach((function(e){a+=e.byteLength}));var s=new Uint8Array(a),c=0;return o.forEach((function(e){for(var t=0;t<e.length;t++)s[c++]=e[t]})),new e(s,!0)}}]),e}();function Z(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function $(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ee(e,t){return t}var te=function e(t,n,r,o){Object(i.a)(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||ee},ne=null;function re(){if(ne)return ne;var e=[];e.push(new te("bucket")),e.push(new te("generation")),e.push(new te("metageneration")),e.push(new te("name","fullPath",!0));var t=new te("name");t.xform=function(e,t){return function(e){return!j(e)||e.length<2?e:$(e)}(t)},e.push(t);var n=new te("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new te("timeCreated")),e.push(new te("updated")),e.push(new te("md5Hash",null,!0)),e.push(new te("cacheControl",null,!0)),e.push(new te("contentDisposition",null,!0)),e.push(new te("contentEncoding",null,!0)),e.push(new te("contentLanguage",null,!0)),e.push(new te("contentType",null,!0)),e.push(new te("metadata","customMetadata",!0)),ne=e}function ie(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new N(n,r);return t._makeStorageReference(i)}})}(r,e),r}function oe(e,t,n){var r=Z(t);return null===r?null:ie(e,r,n)}function ae(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function se(e,t,n){var r=Z(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,o=Object(d.a)(n.prefixes);try{for(o.s();!(i=o.n()).done;){var a=i.value.replace(/\/$/,""),s=e._makeStorageReference(new N(t,a));r.prefixes.push(s)}}catch(h){o.e(h)}finally{o.f()}}if(n.items){var c,u=Object(d.a)(n.items);try{for(u.s();!(c=u.n()).done;){var l=c.value,f=e._makeStorageReference(new N(t,l.name));r.items.push(f)}}catch(h){u.e(h)}finally{u.f()}}return r}(e,t,r)}var ce=function e(t,n,r,o){Object(i.a)(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ue(e){if(!e)throw E()}function le(e,t){return function(n,r){var i=oe(e,r,t);return ue(null!==i),i}}function fe(e,t){return function(n,r){var i=oe(e,r,t);return ue(null!==i),function(e,t,n){var r=Z(t);if(null===r)return null;if(!j(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return U("/b/"+o(r)+"/o/"+o(i),n)+F({alt:"media",token:t})}))[0]}(i,r,e.host)}}function de(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new A("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new A("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new A("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new A("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function he(e){var t=de(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new A("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function pe(e,t,n){var r=U(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ce(r,"GET",le(e,n),i);return o.errorHandler=he(t),o}function ge(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=U(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,c=new ce(a,"GET",function(e,t){return function(n,r){var i=se(e,t,r);return ue(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=de(t),c}function ve(e,t,n){var r=U(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ce(r,"GET",fe(e,n),i);return o.errorHandler=he(t),o}function me(e,t,n,r){var i=U(t.fullServerUrl(),e.host),o=ae(n,r),a=e.maxOperationRetryTime,s=new ce(i,"PATCH",le(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=he(t),s}function ye(e,t){var n=U(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime;var i=new ce(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=he(t),i}function be(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ae(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var c=be(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ae(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=X.getBlob(u,r,l);if(null===f)throw I();var d={name:c.fullPath},h=U(o,e.host),p=e.maxUploadRetryTime,g=new ce(h,"POST",le(e,n),p);return g.urlParams=d,g.headers=a,g.body=f.uploadData(),g.errorHandler=de(t),g}var _e=function e(t,n,r,o){Object(i.a)(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null};function Ee(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ue(!1)}return ue(!!n&&-1!==(t||["active"]).indexOf(n)),n}var we=262144;function Ie(e,t,n,r,i,o,a,s){var c=new _e(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new A("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var f=c.current,d=f+l,h={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(c.current)},p=r.slice(f,d);if(null===p)throw I();var g=t.maxUploadRetryTime,v=new ce(n,"POST",(function(e,n){var i,a=Ee(e,["active","final"]),s=c.current+l,u=r.size();return i="final"===a?le(t,o)(e,n):null,new _e(s,u,"final"===a,i)}),g);return v.headers=h,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=de(e),v}var Se={STATE_CHANGED:"state_changed"},ke={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ce(e){switch(e){case"running":case"pausing":case"canceling":return ke.RUNNING;case"paused":return ke.PAUSED;case"success":return ke.SUCCESS;case"canceled":return ke.CANCELED;case"error":default:return ke.ERROR}}var Oe=function e(t,n,r){if(Object(i.a)(this,e),"function"===typeof t||null!=n||null!=r)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}};function Te(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Re=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(i.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=o,this._mappings=re(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Object(o.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Object(f.a)(n,2),i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=be(t,r,i),s={name:a.fullPath},c=U(o,e.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ae(a,n),f=e.maxUploadRetryTime,d=new ce(c,"POST",(function(e){var t;Ee(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ue(!1)}return ue(j(t)),t}),f);return d.urlParams=s,d.headers=u,d.body=l,d.errorHandler=de(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new ce(n,"POST",(function(e){var t=Ee(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){ue(!1)}n||ue(!1);var i=Number(n);return ue(!isNaN(i)),new _e(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=de(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=we*this._chunkMultiplier,n=new _e(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Ie(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(c){return e._error=c,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){we*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=pe(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Ae(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Ce(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,o=new Oe(t||void 0,n||void 0,r||void 0);return this._addObserver(o),function(){i._removeObserver(o)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Ce(this._state)){case ke.SUCCESS:Te(this._resolve.bind(null,this.snapshot))();break;case ke.CANCELED:case ke.ERROR:Te(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Ce(this._state)){case ke.RUNNING:case ke.PAUSED:e.next&&Te(e.next.bind(e,this.snapshot))();break;case ke.SUCCESS:e.complete&&Te(e.complete.bind(e))();break;case ke.CANCELED:case ke.ERROR:e.error&&Te(e.error.bind(e,this._error))();break;default:e.error&&Te(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),xe=function(){function e(t,n){Object(i.a)(this,e),this._service=t,this._location=n instanceof N?n:N.makeFromUrl(n,t.host)}return Object(o.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new N(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return $(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new N(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw O(e)}}]),e}();function Me(e,t,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(l.a)(u.a.mark((function e(t,n,r){var i,o,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pageToken:r},e.next=3,De(t,a);case 3:if(c=e.sent,(i=n.prefixes).push.apply(i,Object(s.a)(c.prefixes)),(o=n.items).push.apply(o,Object(s.a)(c.items)),null==c.nextPageToken){e.next=9;break}return e.next=9,Me(t,n,c.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=n&&"number"===typeof n.maxResults&&P("options.maxResults",1,1e3,n.maxResults),r=n||{},i=ge(t.storage,t._location,"/",r.pageToken,r.maxResults),e.next=5,t.storage.makeRequestWithTokens(i);case 5:return e.abrupt("return",e.sent.getPromise());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("getMetadata"),n=pe(t.storage,t._location,re()),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("updateMetadata"),r=me(t.storage,t._location,n,re()),e.next=4,t.storage.makeRequestWithTokens(r);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("getDownloadURL"),n=ve(t.storage,t._location,re()),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise().then((function(e){if(null===e)throw S();return e})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("deleteObject"),n=ye(t.storage,t._location),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new N(e._location.bucket,n);return new xe(e.storage,r)}function Qe(e,t){if(e instanceof Ge){var n=e;if(null==n._bucket)throw new A("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new xe(n,n._bucket);return null!=t?Qe(r,t):r}return void 0!==t?Fe(e,t):e}function ze(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ge)return new xe(e,t);throw k("To use ref(service, url), the first argument must be a Storage instance.")}return Qe(e,t)}function Ve(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:N.makeFromBucketSpec(n,e)}function Ke(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="http://".concat(t,":").concat(n);var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(m.f)(i,e.app.options.projectId))}var Ge=function(){function e(t,n,r,o,a,s){Object(i.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=a,this._firebaseVersion=s,this._bucket=null,this._host=b,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?N.makeFromBucketSpec(a,this._host):Ve(this._host,this.app.options)}return Object(o.a)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=N.makeFromBucketSpec(this._url,e):this._bucket=Ve(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){P("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){P("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new xe(this,e)}},{key:"_makeRequest",value:function(e,t,n){var r=this;if(this._deleted)return new D(C());var i=function(e,t,n,r,i,o){var a=F(e.urlParams),s=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Q(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i}},{key:"makeRequestWithTokens",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return n=e.sent,r=Object(f.a)(n,2),i=r[0],o=r[1],e.abrupt("return",this._makeRequest(t,i,o));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),He="storage";function qe(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Re(e,new X(t),n)}(e=Object(m.k)(e),t,n)}function We(e){return function(e){return Le.apply(this,arguments)}(e=Object(m.k)(e))}function Ye(e,t){return function(e,t){return Be.apply(this,arguments)}(e=Object(m.k)(e),t)}function Je(e){return function(e){var t={prefixes:[],items:[]};return Me(e,t).then((function(){return t}))}(e=Object(m.k)(e))}function Xe(e){return function(e){return Pe.apply(this,arguments)}(e=Object(m.k)(e))}function Ze(e){return function(e){return Ue.apply(this,arguments)}(e=Object(m.k)(e))}function $e(e,t){return ze(e=Object(m.k)(e),t)}function et(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Ke(e,t,n,r)}function tt(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Ge(r,i,o,new M,n,v.SDK_VERSION)}Object(v._registerComponent)(new y.a(He,tt,"PUBLIC").setMultipleInstances(!0)),Object(v.registerVersion)("@firebase/storage","0.8.0");var nt=function(){function e(t,n,r){Object(i.a)(this,e),this._delegate=t,this.task=n,this.ref=r}return Object(o.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),rt=function(){function e(t,n){Object(i.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(o.a)(e,[{key:"snapshot",get:function(){return new nt(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new nt(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new nt(e,i,i._ref))}:{next:t.next?function(e){return t.next(new nt(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)}}]),e}(),it=function(){function e(t,n){Object(i.a)(this,e),this._delegate=t,this._service=n}return Object(o.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new ot(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new ot(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),ot=function(){function e(t,n){Object(i.a)(this,e),this._delegate=t,this.storage=n}return Object(o.a)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){return new e(function(e,t){return Fe(e,t)}(this._delegate,t),this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new rt(qe(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=q(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new rt(new Re(this._delegate,new X(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Je(this._delegate).then((function(t){return new it(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return De(e=Object(m.k)(e),t)}(this._delegate,e||void 0).then((function(e){return new it(e,t.storage)}))}},{key:"getMetadata",value:function(){return We(this._delegate)}},{key:"updateMetadata",value:function(e){return Ye(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Xe(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Ze(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw O(e)}}]),e}(),at=function(){function e(t,n){Object(i.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(st(e))throw k("ref() expected a child path but got a URL, use refFromURL instead.");return new ot($e(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!st(e))throw k("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(e,this._delegate.host)}catch(t){throw k("refFromUrl() expected a valid full URL but got an invalid one.")}return new ot($e(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};et(this._delegate,e,t,n)}}]),e}();function st(e){return/^[A-Za-z]+:\/\//.test(e)}function ct(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new at(r,i)}!function(e){var t={TaskState:ke,TaskEvent:Se,StringFormat:G,Storage:at,Reference:ot};e.INTERNAL.registerComponent(new y.a("storage-compat",ct,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.0")}(a.a)},function(e,t,n){"use strict";var r=n(112),i=n(14),o=n(15),a=n(13),s=n(3),c=n(4),u=n(68),l=n(12),f=n(10),d=n(43);function h(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function p(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function g(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var v=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"toBase64",value:function(){return g(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return p(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return g(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return p(),new e(l.b.fromUint8Array(t))}}]),e}();function m(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"===typeof r[o])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}(e,["next","error","complete"])}var y=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),b=function(){function e(t,n,r){var i=this;Object(s.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(c.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new N(this,Object(l.y)(this._delegate,e))}catch(t){throw S(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new I(this,Object(l.E)(this._delegate,e))}catch(t){throw S(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new R(this,Object(l.z)(this._delegate,e))}catch(t){throw S(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,(function(n){return e(new _(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new E(new l.l(this._delegate,(function(t){return Object(l.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then((function(e){return e?new R(t,e):null}))}}]),e}(),A=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(c.a)(n,[{key:"convertBytes",value:function(e){return new v(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return I.forKey(t,this.firestore,null)}}]),n}(l.a);var _=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new A(t)}return Object(c.a)(e,[{key:"get",value:function(e){var t=this,n=D(e);return this._delegate.get(n).then((function(e){return new O(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=D(e);return n?(h("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=D(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=D(e);return this._delegate.delete(t),this}}]),e}(),E=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"set",value:function(e,t,n){var r=D(e);return n?(h("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=D(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=D(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),w=function(){function e(t,n,r){Object(s.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(c.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new A(t),n),i.set(n,o)),o}}]),e}();w.INSTANCES=new WeakMap;var I=function(){function e(t,n){Object(s.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new A(t)}return Object(c.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new N(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new N(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw S(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.k)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=h("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw S(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(o){throw S(o,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=k(n),o=C(n,(function(t){return new O(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(l.X)(this._delegate,i,o)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then((function(e){return new O(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(w.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function S(e,t,n){return e.message=e.message.replace(t,n),e}function k(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!m(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function C(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=m(e[0])?e[0]:m(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var O=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"ref",get:function(){return new I(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),T=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(O),R=function(){function e(t,n){Object(s.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new A(t)}return Object(c.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw S(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw S(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw S(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw S(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw S(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw S(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw S(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw S(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then((function(e){return new M(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=k(n),o=C(n,(function(t){return new M(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(l.X)(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(w.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),x=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new T(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),M=function(){function e(t,n){Object(s.a)(this,e),this._firestore=t,this._delegate=n}return Object(c.a)(e,[{key:"query",get:function(){return new R(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new T(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new x(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new T(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),N=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e,r){var i;return Object(s.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(c.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new I(this.firestore,e):null}},{key:"doc",value:function(e){try{return new I(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw S(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then((function(e){return new I(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(w.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(R);function D(e){return Object(l.p)(e,l.d)}var j=function(){function e(){Object(s.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(c.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.k)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),L=function(){function e(t){Object(s.a)(this,e),this._delegate=t}return Object(c.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),B={Firestore:b,GeoPoint:l.h,Timestamp:l.k,Blob:v,Transaction:_,WriteBatch:E,DocumentReference:I,DocumentSnapshot:O,Query:R,QueryDocumentSnapshot:T,QuerySnapshot:M,CollectionReference:N,FieldPath:j,FieldValue:L,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new b(e,t,new y)},e.INTERNAL.registerComponent(new d.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},B))),e.registerVersion("@firebase/firestore-compat","0.1.0")}(u.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return gn}));var r=n(16),i=n(5),o=n(1),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,u=(n(84),n(115)),l=n(46),f=n(133),d=n(35),h={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=v(e[r]," ");else n=v(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var c=a[s];for(var u in c){var l=c[u];null!=l&&(r&&(r+="\n"),r+=y(u+": "+m(l)+";",o))}}else for(var f in a){var d=a[f];null!=d&&(r&&(r+="\n"),r+=y(f+": "+m(d)+";",o))}for(var h in t){var p=t[h];null!=p&&"fallbacks"!==h&&(r&&(r+="\n"),r+=y(h+": "+m(p)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),y(e+" {"+r,--o)+y("}",o)):r}var A=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,E=function(e){return _?_(e):e.replace(A,"\\$1")},w=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),I=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(f.a)(Object(f.a)(i)),s),i.selectorText="."+E(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(u.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(w),S={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new I(e,t,n)}},k={indent:1,children:!0},C=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(C);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=k),null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),T=/@media|@supports\s+/,R={onCreateRule:function(e,t,n){return T.test(e)?new O(e,t,n):null}},x={indent:1,children:!0},M=/@keyframes\s+([\w-]+)/,N=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(M);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var c in this.id=!1===o?this.name:E(s(this,a)),this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(c,t[c],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=x),null==e.indent&&(e.indent=x.indent),null==e.children&&(e.children=x.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),D=/@keyframes\s+/,j=/\$([\w-]+)/g,L=function(e,t){return"string"===typeof e?e.replace(j,(function(e,n){return n in t?t[n]:e})):e},B=function(e,t,n){var r=e[t],i=L(r,n);i!==r&&(e[t]=i)},P={onCreateRule:function(e,t,n){return"string"===typeof e&&D.test(e)?new N(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&B(e,"animation-name",n.keyframes),"animation"in e&&B(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(w),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new U(e,t,n):null}},Q=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),z=/@font-face/,V={onCreateRule:function(e,t,n){return z.test(e)?new Q(e,t,n):null}},K=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),G={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new K(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},W=[S,R,P,F,V,G,{onCreateRule:function(e,t,n){return e in q?new H(e,t,n):null}}],Y={process:!0},J={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,c=r.Renderer,u=r.generateId,l=r.scoped,f=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:c,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+E(this.classes[d]));var h=g(d,t,f);if(!h)return null;this.register(h);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof I?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof N&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof I?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof N&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,c=s.style;if(o.onUpdate(n,t,a,r),r.process&&c&&c!==s.style){for(var u in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[u];l!==c[u]&&s.prop(u,l,J)}for(var f in c){var d=s.style[f],h=c[f];null==d&&d!==h&&s.prop(f,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),Z=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(u.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var re=te[ne]++,ie=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+re+i+t:o+n.key+"-"+re+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ue=function(e,t){return e.selectorText=t,e.selectorText===t},le=oe((function(){return document.querySelector("head")}));function fe(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=le(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},pe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=ae,this.setProperty=se,this.removeProperty=ce,this.setSelector=ue,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=de();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else le().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=pe(n,t);if(!1===(i=he(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=pe(n,t),c=he(n,a,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,s,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ve=0,me=function(){function e(e){this.id=ve++,this.version="10.7.1",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:ie,Renderer:c?ge:null,plugins:[]},this.generateId=ie({minify:!1});for(var t=0;t<W.length;t++)this.plugins.use(W[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=g(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function ye(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ye(r);o&&(t||(t={}),t[n]=o)}}return t}var be="object"===typeof CSS&&null!=CSS&&"number"in CSS,Ae=function(e){return new me(e)};Ae();function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Ee={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},we=n(361),Ie=(n(21),n(169)),Se=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ke=Date.now(),Ce="fnValues"+ke,Oe="fnStyle"+ ++ke,Te=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[Oe]=t,r},onProcessStyle:function(e,t){if(Ce in t||Oe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ce]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Oe];o&&(i.style=o(e)||{});var a=i[Ce];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Re="@global",xe="@global ",Me=function(){function e(e,t,n){for(var r in this.type="global",this.at=Re,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ne=function(){function e(e,t,n){this.type="global",this.at=Re,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(xe.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),De=/\s*,\s*/g;function je(e,t){for(var n=e.split(De),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Le=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Re)return new Me(e,t,n);if("@"===e[0]&&e.substr(0,xe.length)===xe)return new Ne(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[Re]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(i.a)({},n,{selector:je(a,e.selector)}));delete r[Re]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,Re.length)===Re){var a=je(o.substr(Re.length),e.selector);t.addRule(a,r[o],Object(i.a)({},n,{selector:a})),delete r[o]}}(e,t))}}},Be=/\s*,\s*/g,Pe=/&/g,Ue=/\$([\w-]+)/g;var Fe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Be),r=e.split(Be),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var c=r[s];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(Pe,a):a+" "+c}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,c,u=o,l=u.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(s=n(u,l,s),d){var p=t(f,u.selector);c||(c=e(l,a)),p=p.replace(Ue,c),l.addRule(p,r[f],Object(i.a)({},s,{selector:p}))}else h&&l.addRule(f,{},s).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}},Qe=/[A-Z]/g,ze=/^ms-/,Ve={};function Ke(e){return"-"+e.toLowerCase()}var Ge=function(e){if(Ve.hasOwnProperty(e))return Ve[e];var t=e.replace(Qe,Ke);return Ve[e]=ze.test(t)?"-"+t:t};function He(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ge(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(He):t.fallbacks=He(e.fallbacks)),t}var qe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=He(e[t]);return e}return He(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ge(t);return t===r?e:(n.prop(r,e),null)}}},We=be&&CSS?CSS.px:"px",Ye=be&&CSS?CSS.ms:"ms",Je=be&&CSS?CSS.percent:"%";function Xe(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ze=Xe({"animation-delay":Ye,"animation-duration":Ye,"background-position":We,"background-position-x":We,"background-position-y":We,"background-size":We,border:We,"border-bottom":We,"border-bottom-left-radius":We,"border-bottom-right-radius":We,"border-bottom-width":We,"border-left":We,"border-left-width":We,"border-radius":We,"border-right":We,"border-right-width":We,"border-top":We,"border-top-left-radius":We,"border-top-right-radius":We,"border-top-width":We,"border-width":We,"border-block":We,"border-block-end":We,"border-block-end-width":We,"border-block-start":We,"border-block-start-width":We,"border-block-width":We,"border-inline":We,"border-inline-end":We,"border-inline-end-width":We,"border-inline-start":We,"border-inline-start-width":We,"border-inline-width":We,"border-start-start-radius":We,"border-start-end-radius":We,"border-end-start-radius":We,"border-end-end-radius":We,margin:We,"margin-bottom":We,"margin-left":We,"margin-right":We,"margin-top":We,"margin-block":We,"margin-block-end":We,"margin-block-start":We,"margin-inline":We,"margin-inline-end":We,"margin-inline-start":We,padding:We,"padding-bottom":We,"padding-left":We,"padding-right":We,"padding-top":We,"padding-block":We,"padding-block-end":We,"padding-block-start":We,"padding-inline":We,"padding-inline-end":We,"padding-inline-start":We,"mask-position-x":We,"mask-position-y":We,"mask-size":We,height:We,width:We,"min-height":We,"max-height":We,"min-width":We,"max-width":We,bottom:We,left:We,top:We,right:We,inset:We,"inset-block":We,"inset-block-end":We,"inset-block-start":We,"inset-inline":We,"inset-inline-end":We,"inset-inline-start":We,"box-shadow":We,"text-shadow":We,"column-gap":We,"column-rule":We,"column-rule-width":We,"column-width":We,"font-size":We,"font-size-delta":We,"letter-spacing":We,"text-decoration-thickness":We,"text-indent":We,"text-stroke":We,"text-stroke-width":We,"word-spacing":We,motion:We,"motion-offset":We,outline:We,"outline-offset":We,"outline-width":We,perspective:We,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":Ye,"transition-duration":Ye,"vertical-align":We,"flex-basis":We,"shape-margin":We,size:We,gap:We,grid:We,"grid-gap":We,"row-gap":We,"grid-row-gap":We,"grid-column-gap":We,"grid-template-rows":We,"grid-template-columns":We,"grid-auto-rows":We,"grid-auto-columns":We,"box-shadow-x":We,"box-shadow-y":We,"box-shadow-blur":We,"box-shadow-spread":We,"font-line-height":We,"text-shadow-x":We,"text-shadow-y":We,"text-shadow-blur":We});function $e(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=$e(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=$e(i,t[i],n);else for(var o in t)t[o]=$e(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||Ze[e];return!a||0===t&&a===We?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var et=function(e){void 0===e&&(e={});var t=Xe(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=$e(r,e[r],t);return e},onChangeValue:function(e,n){return $e(n,e,t)}}},tt=n(89),nt="",rt="",it="",ot="",at=c&&"ontouchstart"in document.documentElement;if(c){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ct=document.createElement("p").style;for(var ut in st)if(ut+"Transform"in ct){nt=ut,rt=st[ut];break}"Webkit"===nt&&"msHyphens"in ct&&(nt="ms",rt=st.ms,ot="edge"),"Webkit"===nt&&"-apple-trailing-word"in ct&&(it="apple")}var lt=nt,ft=rt,dt=it,ht=ot,pt=at;var gt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===lt?"-webkit-"+e:ft+e)}},vt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===lt?ft+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(mt,yt)}function At(e){return bt("-"+e)}var _t,Et={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===lt){var n="mask-image";if(bt(n)in t)return e;if(lt+At(n)in t)return ft+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt||pt?e:ft+e)}},It={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft+e)}},kt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===lt||"ms"===lt&&"edge"!==ht?ft+e:e)}},Ct={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===lt||"ms"===lt||"apple"===dt?ft+e:e)}},Ot={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===lt?"WebkitColumn"+At(e)in t&&ft+"column-"+e:"Moz"===lt&&("page"+At(e)in t&&"page-"+e))}},Tt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===lt)return e;var n=e.replace("-inline","");return lt+At(n)in t&&ft+n}},Rt={supportedProperty:function(e,t){return bt(e)in t&&e}},xt={supportedProperty:function(e,t){var n=At(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:lt+n in t?ft+e:"Webkit"!==lt&&"Webkit"+n in t&&"-webkit-"+e}},Mt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===lt?""+ft+e:e)}},Nt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===lt?ft+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(lt+At(n)in t&&ft+n)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Bt=Object.keys(Lt),Pt=function(e){return ft+e},Ut=[gt,vt,Et,wt,It,St,kt,Ct,Ot,Tt,Rt,xt,Mt,Nt,jt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Bt.indexOf(e)>-1){var i=Lt[e];if(!Array.isArray(i))return lt+At(i)in t&&ft+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(lt+At(i[0])in t))return!1;return i.map(Pt)}return!1}}],Ft=Ut.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Qt=Ut.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(tt.a)(t.noPrefill)),e}),[]),zt={};if(c){_t=document.createElement("p");var Vt=window.getComputedStyle(document.documentElement,"");for(var Kt in Vt)isNaN(Kt)||(zt[Vt[Kt]]=Vt[Kt]);Qt.forEach((function(e){return delete zt[e]}))}function Gt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=zt[e])return zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Ft.length&&(zt[e]=Ft[n](e,_t.style,t),!zt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return zt[e]}var Ht,qt={},Wt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Jt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Gt(t):", "+Gt(n);return r||(t||n)}function Xt(e,t){var n=t;if(!Ht||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qt[r])return qt[r];try{Ht.style[e]=n}catch(i){return qt[r]=!1,!1}if(Wt[e])n=n.replace(Yt,Jt);else if(""===Ht.style[e]&&("-ms-flex"===(n=ft+n)&&(Ht.style[e]="-ms-flexbox"),Ht.style[e]=n,""===Ht.style[e]))return qt[r]=!1,!1;return Ht.style[e]="",qt[r]=n,qt[r]}c&&(Ht=document.createElement("p"));var Zt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Gt(n);o&&o!==n&&(i=!0);var a=!1,s=Xt(o,m(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===lt?n:"@"+ft+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Xt(t,m(e))||e}}};var $t=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function en(){return{plugins:[Te(),Le(),Fe(),qe(),et(),"undefined"===typeof window?null:Zt(),$t()]}}var tn=Ae(en()),nn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),c=0,u=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Se.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Ie.a]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(i).concat(u())}}(),jss:tn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.a.createContext(nn);var on=-1e9;function an(){return on+=1}n(131);var sn=n(645);function cn(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(c){throw c}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(sn.a)(s[e],a[e])})),s},options:{}}}var un={};function ln(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=_e({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function fn(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var c=Ee.get(o.sheetsManager,a,r);c||(c={refs:0,staticSheet:null,dynamicStyles:null},Ee.set(o.sheetsManager,a,r,c));var u=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=o.sheetsRegistry;if(0===c.refs){var f;o.sheetsCache&&(f=Ee.get(o.sheetsCache,a,r));var d=a.create(r,s);f||((f=o.jss.createStyleSheet(d,Object(i.a)({link:!1},u))).attach(),o.sheetsCache&&Ee.set(o.sheetsCache,a,r,f)),l&&l.add(f),c.staticSheet=f,c.dynamicStyles=ye(d)}if(c.dynamicStyles){var h=o.jss.createStyleSheet(c.dynamicStyles,Object(i.a)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=_e({baseClasses:c.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=c.staticSheet.classes;c.refs+=1}}function dn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function hn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ee.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ee.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function pn(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,c=t.defaultTheme,u=void 0===c?un:c,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=cn(e),d=n||o||"makeStyles";f.options={index:an(),name:n,meta:d,classNamePrefix:d};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(we.a)()||u,r=Object(i.a)({},a.a.useContext(rn),l),o=a.a.useRef(),c=a.a.useRef();pn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return fn(i,e),c.current=!1,o.current=i,function(){hn(i)}}),[t,f]),a.a.useEffect((function(){c.current&&dn(o.current,e),c.current=!0}));var d=ln(o.current,e.classes,s);return d};return h}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=(n(21),n(19)),s=n(26),c=n(31),u=n(360),l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.color,f=void 0===l?"primary":l,d=e.position,h=void 0===d?"fixed":d,p=Object(i.a)(e,["classes","className","color","position"]);return o.createElement(u.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(a.a)(n.root,n["position".concat(Object(c.a)(h))],n["color".concat(Object(c.a)(f))],s,"fixed"===h&&"mui-fixed"),ref:t},p))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),i=n(131);function o(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(50),a=n(1),s=(n(21),n(19)),c=n(26),u=a.forwardRef((function(e,t){var n=e.classes,o=e.className,c=e.component,u=void 0===c?"div":c,l=e.disableGutters,f=void 0!==l&&l,d=e.variant,h=void 0===d?"regular":d,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(u,Object(r.a)({className:Object(s.a)(n.root,n[h],o,!f&&n.gutters),ref:t},p))}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u)},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=(n(21),n(19)),s=n(26),c=n(52),u=n(363),l=n(31),f=o.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,c=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,g=e.disabled,v=void 0!==g&&g,m=e.disableFocusRipple,y=void 0!==m&&m,b=e.size,A=void 0===b?"medium":b,_=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(u.a,Object(r.a)({className:Object(a.a)(f.root,d,"default"!==p&&f["color".concat(Object(l.a)(p))],v&&f.disabled,"small"===A&&f["size".concat(Object(l.a)(A))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:v,ref:t},_),o.createElement("span",{className:f.label},c))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(c.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=(n(21),n(19)),s=n(26),c=n(31),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,l=e.classes,f=e.className,d=e.color,h=void 0===d?"initial":d,p=e.component,g=e.display,v=void 0===g?"initial":g,m=e.gutterBottom,y=void 0!==m&&m,b=e.noWrap,A=void 0!==b&&b,_=e.paragraph,E=void 0!==_&&_,w=e.variant,I=void 0===w?"body1":w,S=e.variantMapping,k=void 0===S?u:S,C=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),O=p||(E?"p":k[I]||u[I])||"span";return o.createElement(O,Object(r.a)({className:Object(a.a)(l.root,f,"inherit"!==I&&l[I],"initial"!==h&&l["color".concat(Object(c.a)(h))],A&&l.noWrap,y&&l.gutterBottom,E&&l.paragraph,"inherit"!==s&&l["align".concat(Object(c.a)(s))],"initial"!==v&&l["display".concat(Object(c.a)(v))]),ref:t},C))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";var r=n(16),i=n(5),o=n(1),a=(n(21),n(19)),s=n(26),c=n(52),u=n(363),l=n(31),f=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,g=e.disabled,v=void 0!==g&&g,m=e.disableElevation,y=void 0!==m&&m,b=e.disableFocusRipple,A=void 0!==b&&b,_=e.endIcon,E=e.focusVisibleClassName,w=e.fullWidth,I=void 0!==w&&w,S=e.size,k=void 0===S?"medium":S,C=e.startIcon,O=e.type,T=void 0===O?"button":O,R=e.variant,x=void 0===R?"text":R,M=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=C&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(k))])},C),D=_&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(k))])},_);return o.createElement(u.a,Object(i.a)({className:Object(a.a)(s.root,s[x],c,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(x).concat(Object(l.a)(d))],"medium"!==k&&[s["".concat(x,"Size").concat(Object(l.a)(k))],s["size".concat(Object(l.a)(k))]],y&&s.disableElevation,v&&s.disabled,I&&s.fullWidth),component:p,disabled:v,focusRipple:!A,focusVisibleClassName:Object(a.a)(s.focusVisible,E),ref:t,type:T},M),o.createElement("span",{className:s.label},N,n,D))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(c.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(c.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(c.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(c.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(c.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(5),i=n(618),o=n(113);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:o.a},t))}},function(e,t,n){"use strict";var r=n(16),i=n(50),o=n(5),a=n(1),s=(n(21),n(19)),c=n(26),u=n(360),l=n(52),f=a.forwardRef((function(e,t){var n=e.action,i=e.classes,c=e.className,l=e.message,f=e.role,d=void 0===f?"alert":f,h=Object(r.a)(e,["action","classes","className","message","role"]);return a.createElement(u.a,Object(o.a)({role:d,square:!0,elevation:6,className:Object(s.a)(i.root,c),ref:t},h),a.createElement("div",{className:i.message},l),n?a.createElement("div",{className:i.action},n):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(l.c)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(i.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(f)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var r,i=n(9),o=n(37),a=n(6),s=n(25),c=n(40),u=n(23),l=n(27),f=n(69),d=n(91),h=n(101),p=n(218),g=n(138),v=n(219),m=n(355),y={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(r||(r={}));var b=function(){function t(e,n){var c=this;void 0===n&&(n=t.defaultOptions),this.machine=e,this.scheduler=new p.a,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=r.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if(Object(a.e)(e))return c.batch(e),c.state;var n=Object(a.D)(Object(a.z)(e,t));if(c.status===r.Stopped)return o.a||Object(a.L)(!1,'Event "'+n.name+'" was sent to stopped service "'+c.machine.id+'". This service has already reached its final state, and will not transition.\nEvent: '+JSON.stringify(n.data)),c.state;if(c.status!==r.Running&&!c.options.deferEvents)throw new Error('Event "'+n.name+'" was sent to uninitialized service "'+c.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '+JSON.stringify(n.data));return c.scheduler.schedule((function(){c.forward(n);var e=c.nextState(n);c.update(e,n)})),c._state},this.sendTo=function(e,t){var n=c.parent&&(t===s.b.Parent||c.parent.id===t),r=n?c.parent:Object(a.l)(t)?c.children.get(t)||g.a.get(t):Object(a.d)(t)?t:void 0;if(r)"machine"in r?r.send(Object(i.a)(Object(i.a)({},e),{name:e.name===u.d?""+Object(l.f)(c.id):e.name,origin:c.sessionId})):r.send(e.data);else{if(!n)throw new Error("Unable to send event to child '"+t+"' from service '"+c.id+"'.");o.a||Object(a.L)(!1,"Service '"+c.id+"' has no parent: unable to send event "+e.type)}};var f=Object(i.a)(Object(i.a)({},t.defaultOptions),n),d=f.clock,h=f.logger,v=f.parent,m=f.id,y=void 0!==m?m:e.id;this.id=y,this.logger=h,this.clock=d,this.parent=v,this.options=f,this.scheduler=new p.a({deferEvents:this.options.deferEvents}),this.sessionId=g.a.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Object(d.b)(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return o.a||Object(a.L)(this.status!==r.NotStarted,"Attempted to read state from uninitialized service '"+this.id+"'. Make sure the service is started first."),this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,t){var n,r;try{for(var o=Object(i.e)(e.actions),a=o.next();!a.done;a=o.next()){var s=a.value;this.exec(s,e,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.update=function(e,t){var n,r,o,s,u,f,d,h,p=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach((function(e){p.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var g=Object(i.e)(this.eventListeners),v=g.next();!v.done;v=g.next()){(0,v.value)(e.event)}}catch(k){n={error:k}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}try{for(var m=Object(i.e)(this.listeners),y=m.next();!y.done;y=m.next()){(0,y.value)(e,e.event)}}catch(C){o={error:C}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var b=Object(i.e)(this.contextListeners),A=b.next();!A.done;A=b.next()){(0,A.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(O){u={error:O}}finally{try{A&&!A.done&&(f=b.return)&&f.call(b)}finally{if(u)throw u.error}}var _=Object(c.g)(e.configuration||[],this.machine);if(this.state.configuration&&_){var E=e.configuration.find((function(e){return"final"===e.type&&e.parent===p.machine})),w=E&&E.doneData?Object(a.n)(E.doneData,e.context,t):void 0;try{for(var I=Object(i.e)(this.doneListeners),S=I.next();!S.done;S=I.next()){(0,S.value)(Object(l.e)(this.id,w))}}catch(T){d={error:T}}finally{try{S&&!S.done&&(h=I.return)&&h.call(I)}finally{if(d)throw d.error}}this.stop()}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===r.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,t,n){var i,o=this;if(!e)return{unsubscribe:function(){}};var a=n;return"function"===typeof e?i=e:(i=e.next.bind(e),a=e.complete.bind(e)),this.listeners.add(i),this.status===r.Running&&i(this.state),a&&this.onDone(a),{unsubscribe:function(){i&&o.listeners.delete(i),a&&o.doneListeners.delete(a)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var t=this;if(this.status===r.Running)return this;g.a.register(this.sessionId,this),this.initialized=!0,this.status=r.Running;var n=void 0===e?this.initialState:Object(d.b)(this,(function(){return Object(f.c)(e)?t.machine.resolveState(e):t.machine.resolveState(f.a.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,l.h)})),this},t.prototype.stop=function(){var e,t,n,o,s,c,u,l,f,d,h=this;try{for(var p=Object(i.e)(this.listeners),v=p.next();!v.done;v=p.next()){var m=v.value;this.listeners.delete(m)}}catch(C){e={error:C}}finally{try{v&&!v.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var y=Object(i.e)(this.stopListeners),b=y.next();!b.done;b=y.next()){(m=b.value)(),this.stopListeners.delete(m)}}catch(O){n={error:O}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}try{for(var A=Object(i.e)(this.contextListeners),_=A.next();!_.done;_=A.next()){m=_.value;this.contextListeners.delete(m)}}catch(T){s={error:T}}finally{try{_&&!_.done&&(c=A.return)&&c.call(A)}finally{if(s)throw s.error}}try{for(var E=Object(i.e)(this.doneListeners),w=E.next();!w.done;w=E.next()){m=w.value;this.doneListeners.delete(m)}}catch(R){u={error:R}}finally{try{w&&!w.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}if(!this.initialized)return this;this.state.configuration.forEach((function(e){var t,n;try{for(var r=Object(i.e)(e.definition.exit),o=r.next();!o.done;o=r.next()){var a=o.value;h.exec(a,h.state)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})),this.children.forEach((function(e){Object(a.h)(e.stop)&&e.stop()}));try{for(var I=Object(i.e)(Object(a.m)(this.delayedEventsMap)),S=I.next();!S.done;S=I.next()){var k=S.value;this.clock.clearTimeout(this.delayedEventsMap[k])}}catch(x){f={error:x}}finally{try{S&&!S.done&&(d=I.return)&&d.call(I)}finally{if(f)throw f.error}}return this.scheduler.clear(),this.initialized=!1,this.status=r.Stopped,g.a.free(this.sessionId),this},t.prototype.batch=function(e){var t=this;if(this.status===r.NotStarted&&this.options.deferEvents)o.a||Object(a.L)(!1,e.length+' event(s) were sent to uninitialized service "'+this.machine.id+'" and are deferred. Make sure .start() is called for this service.\nEvent: '+JSON.stringify(event));else if(this.status!==r.Running)throw new Error(e.length+' event(s) were sent to uninitialized service "'+this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.');this.scheduler.schedule((function(){var n,r,o=t.state,s=!1,c=[],u=function(e){var n=Object(a.D)(e);t.forward(n),o=Object(d.b)(t,(function(){return t.machine.transition(o,n)})),c.push.apply(c,Object(i.d)([],Object(i.b)(o.actions.map((function(e){return Object(f.b)(e,o)}))))),s=s||!!o.changed};try{for(var l=Object(i.e)(e),h=l.next();!h.done;h=l.next()){u(h.value)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}o.changed=s,o.actions=c,t.update(o,Object(a.D)(e[e.length-1]))}))},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype.nextState=function(e){var t=this,n=Object(a.D)(e);if(0===n.name.indexOf(u.e)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(u.e)})))throw n.data.data;return Object(d.b)(this,(function(){return t.machine.transition(t.state,n)}))},t.prototype.forward=function(e){var t,n;try{for(var r=Object(i.e)(this.forwardTo),o=r.next();!o.done;o=r.next()){var a=o.value,s=this.children.get(a);if(!s)throw new Error("Unable to forward event '"+e+"' from interpreter '"+this.id+"' to nonexistant child '"+a+"'.");s.send(e)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)}),e.delay)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions);var r=t.context,i=t._event,c=e.exec||Object(l.g)(e.type,n),f=Object(a.h)(c)?c:c?c.exec:e.exec;if(f)try{return f(r,i.data,{action:e,state:this.state,_event:i})}catch(I){throw this.parent&&this.parent.send({type:"xstate.error",data:I}),I}switch(e.type){case u.l:var d=e;if("number"===typeof d.delay)return void this.defer(d);d.to?this.sendTo(d._event,d.to):this.send(d._event);break;case u.b:this.cancel(e.sendId);break;case u.m:var h=e.activity;if(!this.state.activities[h.id||h.type])break;if(h.type===s.a.Invoke){var p=Object(a.B)(h.src),g=this.machine.options.services?this.machine.options.services[p.type]:void 0,v=h.id,m=h.data;o.a||Object(a.L)(!("forward"in h),"`forward` property is deprecated (found in invocation of '"+h.src+"' in in machine '"+this.machine.id+"'). Please use `autoForward` instead.");var y="autoForward"in h?h.autoForward:!!h.forward;if(!g)return void(o.a||Object(a.L)(!1,"No service found for invocation '"+h.src+"' in machine '"+this.machine.id+"'."));var b=m?Object(a.n)(m,r,i):void 0;if("string"===typeof g)return;var A=Object(a.h)(g)?g(r,i.data,{data:b,src:p}):g;if(!A)return;var _=void 0;Object(a.i)(A)&&(A=b?A.withContext(b):A,_={autoForward:y}),this.spawn(A,v,_)}else this.spawnActivity(h);break;case u.n:this.stopChild(e.activity.id);break;case u.h:var E=e.label,w=e.value;E?this.logger(E,w):this.logger(w);break;default:o.a||Object(a.L)(!1,"No implementation found for action type '"+e.type+"'")}},t.prototype.removeChild=function(e){this.children.delete(e),this.forwardTo.delete(e),delete this.state.children[e]},t.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Object(a.h)(t.stop)&&t.stop())},t.prototype.spawn=function(e,t,n){if(Object(a.k)(e))return this.spawnPromise(Promise.resolve(e),t);if(Object(a.h)(e))return this.spawnCallback(e,t);if(Object(h.c)(e))return this.spawnActor(e,t);if(Object(a.j)(e))return this.spawnObservable(e,t);if(Object(a.i)(e))return this.spawnMachine(e,Object(i.a)(Object(i.a)({},n),{id:t}));if(Object(a.f)(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'+t+'" of type "'+typeof e+'".')},t.prototype.spawnMachine=function(e,n){var r=this;void 0===n&&(n={});var o=new t(e,Object(i.a)(Object(i.a)({},this.options),{parent:this,id:n.id||e.id})),s=Object(i.a)(Object(i.a)({},y),n);s.sync&&o.onTransition((function(e){r.send(u.o,{state:e,id:o.id})}));var c=o;return this.children.set(o.id,c),s.autoForward&&this.forwardTo.add(o.id),o.onDone((function(e){r.removeChild(o.id),r.send(Object(a.D)(e,{origin:o.id}))})).start(),c},t.prototype.spawnBehavior=function(e,t){var n=Object(m.a)(e,{id:t,parent:this});return this.children.set(t,n),n},t.prototype.spawnPromise=function(e,t){var n,r=this,i=!1;e.then((function(e){i||(n=e,r.removeChild(t),r.send(Object(a.D)(Object(l.e)(t,e),{origin:t})))}),(function(e){if(!i){r.removeChild(t);var n=Object(l.f)(t,e);try{r.send(Object(a.D)(n,{origin:t}))}catch(o){Object(a.w)(e,o,t),r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}}));var o={id:t,send:function(){},subscribe:function(t,n,r){var i=Object(a.C)(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}};return this.children.set(t,o),o},t.prototype.spawnCallback=function(e,t){var n,r,i=this,o=!1,s=new Set,c=new Set;try{r=e((function(e){n=e,c.forEach((function(t){return t(e)})),o||i.send(Object(a.D)(e,{origin:t}))}),(function(e){s.add(e)}))}catch(f){this.send(Object(l.f)(t,f))}if(Object(a.k)(r))return this.spawnPromise(r,t);var u={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){return c.add(e),{unsubscribe:function(){c.delete(e)}}},stop:function(){o=!0,Object(a.h)(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}};return this.children.set(t,u),u},t.prototype.spawnObservable=function(e,t){var n,r=this,i=e.subscribe((function(e){n=e,r.send(Object(a.D)(e,{origin:t}))}),(function(e){r.removeChild(t),r.send(Object(a.D)(Object(l.f)(t,e),{origin:t}))}),(function(){r.removeChild(t),r.send(Object(a.D)(Object(l.e)(t),{origin:t}))})),o={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}};return this.children.set(t,o),o},t.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},t.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else o.a||Object(a.L)(!1,"No implementation found for activity '"+e.type+"'")},t.prototype.spawnEffect=function(e,t){this.children.set(e,{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})},t.prototype.attachDev=function(){var e=Object(v.a)();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Object(i.a)(Object(i.a)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:Object(i.a)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}Object(v.b)(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[a.x]=function(){return this},t.prototype.getSnapshot=function(){return this.status===r.NotStarted?this.initialState:this._state},t.defaultOptions=function(e){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setTimeout(e,t)})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)}))},logger:e.console.log.bind(console),devTools:!1}}("undefined"!==typeof self?self:e),t.interpret=A,t}();function A(e,t){return new b(e,t)}}).call(this,n(39))},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=(n(21),n(19)),s=n(26),c=n(31),u=44,l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.color,f=void 0===l?"primary":l,d=e.disableShrink,h=void 0!==d&&d,p=e.size,g=void 0===p?40:p,v=e.style,m=e.thickness,y=void 0===m?3.6:m,b=e.value,A=void 0===b?0:b,_=e.variant,E=void 0===_?"indeterminate":_,w=Object(i.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),I={},S={},k={};if("determinate"===E||"static"===E){var C=2*Math.PI*((u-y)/2);I.strokeDasharray=C.toFixed(3),k["aria-valuenow"]=Math.round(A),I.strokeDashoffset="".concat(((100-A)/100*C).toFixed(3),"px"),S.transform="rotate(-90deg)"}return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"inherit"!==f&&n["color".concat(Object(c.a)(f))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[E]),style:Object(r.a)({width:g,height:g},S,v),ref:t,role:"progressbar"},k,w),o.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(u," ").concat(u)},o.createElement("circle",{className:Object(a.a)(n.circle,h&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[E]),style:I,cx:u,cy:u,r:(u-y)/2,fill:"none",strokeWidth:y})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(l)},function(e,t,n){"use strict";var r=n(5),i=n(1),o=n.n(i),a=(n(21),n(167)),s=n(361),c=n(169);t.a=function(e){var t=e.children,n=e.theme,i=Object(s.a)(),u=o.a.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,t)}(i,n);return null!=e&&(e[c.a]=null!==i),e}),[n,i]);return o.a.createElement(a.a.Provider,{value:u},t)}},function(e,t,n){"use strict";var r=n(5),i=n(16),o=n(1),a=(n(225),n(21),n(19)),s=n(26),c=n(30),u=n(109),l=n(45),f=n(110),d=n(80),h=n(361),p=n(646),g=n(79),v=n(33);var m="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var y=o.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,a=void 0!==i&&i,s=e.onRendered,u=o.useState(null),l=u[0],f=u[1],d=Object(v.a)(o.isValidElement(n)?n.ref:null,t);return m((function(){a||f(function(e){return e="function"===typeof e?e():e,c.findDOMNode(e)}(r)||document.body)}),[r,a]),m((function(){if(l&&!a)return Object(g.a)(t,l),function(){Object(g.a)(t,null)}}),[t,l,a]),m((function(){s&&(l||a)&&s()}),[s,l,a]),a?o.isValidElement(n)?o.cloneElement(n,{ref:d}):n:l?c.createPortal(n,l):l})),b=n(53),A=n(170);var _=n(115),E=n(89);function w(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function I(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function S(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(E.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&I(e,i)}))}function C(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function O(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(l.a)(e);return t.body===e?Object(f.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=w();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(S(o)+a,"px"),n=Object(l.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(S(e)+a,"px")}))}var s=o.parentElement,c="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(_.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&I(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);k(t,e.mountNode,e.modalRef,r,!0);var i=C(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=O(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&I(e.modalRef,!0),k(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&I(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var R=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,a=void 0!==i&&i,s=e.disableRestoreFocus,u=void 0!==s&&s,f=e.getDoc,d=e.isEnabled,h=e.open,p=o.useRef(),g=o.useRef(null),m=o.useRef(null),y=o.useRef(),b=o.useRef(null),A=o.useCallback((function(e){b.current=c.findDOMNode(e)}),[]),_=Object(v.a)(t.ref,A),E=o.useRef();return o.useEffect((function(){E.current=h}),[h]),!E.current&&h&&"undefined"!==typeof window&&(y.current=f().activeElement),o.useEffect((function(){if(h){var e=Object(l.a)(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){null!==b.current&&(e.hasFocus()&&!a&&d()&&!p.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():p.current=!1)},n=function(t){!a&&d()&&9===t.keyCode&&e.activeElement===b.current&&(p.current=!0,t.shiftKey?m.current.focus():g.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,a,u,d,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:_}),o.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},x={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},M=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,c=Object(i.a)(e,["invisible","open"]);return s?o.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},c,{style:Object(r.a)({},x.root,a?x.invisible:{},c.style)})):null}));var N=new T,D=o.forwardRef((function(e,t){var n=Object(h.a)(),a=Object(p.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),s=a.BackdropComponent,u=void 0===s?M:s,f=a.BackdropProps,g=a.children,m=a.closeAfterTransition,_=void 0!==m&&m,E=a.container,w=a.disableAutoFocus,S=void 0!==w&&w,k=a.disableBackdropClick,C=void 0!==k&&k,O=a.disableEnforceFocus,T=void 0!==O&&O,x=a.disableEscapeKeyDown,D=void 0!==x&&x,j=a.disablePortal,L=void 0!==j&&j,B=a.disableRestoreFocus,P=void 0!==B&&B,U=a.disableScrollLock,F=void 0!==U&&U,Q=a.hideBackdrop,z=void 0!==Q&&Q,V=a.keepMounted,K=void 0!==V&&V,G=a.manager,H=void 0===G?N:G,q=a.onBackdropClick,W=a.onClose,Y=a.onEscapeKeyDown,J=a.onRendered,X=a.open,Z=Object(i.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),$=o.useState(!0),ee=$[0],te=$[1],ne=o.useRef({}),re=o.useRef(null),ie=o.useRef(null),oe=Object(v.a)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),se=function(){return Object(l.a)(re.current)},ce=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ue=function(){H.mount(ce(),{disableScrollLock:F}),ie.current.scrollTop=0},le=Object(b.a)((function(){var e=function(e){return e="function"===typeof e?e():e,c.findDOMNode(e)}(E)||se().body;H.add(ce(),e),ie.current&&ue()})),fe=o.useCallback((function(){return H.isTopModal(ce())}),[H]),de=Object(b.a)((function(e){re.current=e,e&&(J&&J(),X&&fe()?ue():I(ie.current,!0))})),he=o.useCallback((function(){H.remove(ce())}),[H]);if(o.useEffect((function(){return function(){he()}}),[he]),o.useEffect((function(){X?le():ae&&_||he()}),[X,he,ae,_,le]),!K&&!X&&(!ae||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:A.a}),ge={};return void 0===g.props.tabIndex&&(ge.tabIndex=g.props.tabIndex||"-1"),ae&&(ge.onEnter=Object(d.a)((function(){te(!1)}),g.props.onEnter),ge.onExited=Object(d.a)((function(){te(!0),_&&he()}),g.props.onExited)),o.createElement(y,{ref:de,container:E,disablePortal:L},o.createElement("div",Object(r.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&fe()&&(Y&&Y(e),D||(e.stopPropagation(),W&&W(e,"escapeKeyDown")))},role:"presentation"},Z,{style:Object(r.a)({},pe.root,!X&&ee?pe.hidden:{},Z.style)}),z?null:o.createElement(u,Object(r.a)({open:X,onClick:function(e){e.target===e.currentTarget&&(q&&q(e),!C&&W&&W(e,"backdropClick"))}},f)),o.createElement(R,{disableEnforceFocus:T,disableAutoFocus:S,disableRestoreFocus:P,getDoc:se,isEnabled:fe,open:X},o.cloneElement(g,ge))))})),j=n(659),L=n(360);function B(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function P(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function U(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function F(e){return"function"===typeof e?e():e}var Q=o.forwardRef((function(e,t){var n=e.action,s=e.anchorEl,h=e.anchorOrigin,p=void 0===h?{vertical:"top",horizontal:"left"}:h,g=e.anchorPosition,v=e.anchorReference,m=void 0===v?"anchorEl":v,y=e.children,b=e.classes,A=e.className,_=e.container,E=e.elevation,w=void 0===E?8:E,I=e.getContentAnchorEl,S=e.marginThreshold,k=void 0===S?16:S,C=e.onEnter,O=e.onEntered,T=e.onEntering,R=e.onExit,x=e.onExited,M=e.onExiting,N=e.open,Q=e.PaperProps,z=void 0===Q?{}:Q,V=e.transformOrigin,K=void 0===V?{vertical:"top",horizontal:"left"}:V,G=e.TransitionComponent,H=void 0===G?j.a:G,q=e.transitionDuration,W=void 0===q?"auto":q,Y=e.TransitionProps,J=void 0===Y?{}:Y,X=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),Z=o.useRef(),$=o.useCallback((function(e){if("anchorPosition"===m)return g;var t=F(s),n=(t&&1===t.nodeType?t:Object(l.a)(Z.current).body).getBoundingClientRect(),r=0===e?p.vertical:"center";return{top:n.top+B(n,r),left:n.left+P(n,p.horizontal)}}),[s,p.horizontal,p.vertical,g,m]),ee=o.useCallback((function(e){var t=0;if(I&&"anchorEl"===m){var n=I(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[p.vertical,m,I]),te=o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:B(e,K.vertical)+t,horizontal:P(e,K.horizontal)}}),[K.horizontal,K.vertical]),ne=o.useCallback((function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===m)return{top:null,left:null,transformOrigin:U(r)};var i=$(t),o=i.top-r.vertical,a=i.left-r.horizontal,c=o+n.height,u=a+n.width,l=Object(f.a)(F(s)),d=l.innerHeight-k,h=l.innerWidth-k;if(o<k){var p=o-k;o-=p,r.vertical+=p}else if(c>d){var g=c-d;o-=g,r.vertical+=g}if(a<k){var v=a-k;a-=v,r.horizontal+=v}else if(u>h){var y=u-h;a-=y,r.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:U(r)}}),[s,m,$,ee,te,k]),re=o.useCallback((function(){var e=Z.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),ie=o.useCallback((function(e){Z.current=c.findDOMNode(e)}),[]);o.useEffect((function(){N&&re()})),o.useImperativeHandle(n,(function(){return N?{updatePosition:function(){re()}}:null}),[N,re]),o.useEffect((function(){if(N){var e=Object(u.a)((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[N,re]);var oe=W;"auto"!==W||H.muiSupportAuto||(oe=void 0);var ae=_||(s?Object(l.a)(F(s)).body:void 0);return o.createElement(D,Object(r.a)({container:ae,open:N,ref:t,BackdropProps:{invisible:!0},className:Object(a.a)(b.root,A)},X),o.createElement(H,Object(r.a)({appear:!0,in:N,onEnter:C,onEntered:O,onExit:R,onExited:x,onExiting:M,timeout:oe},J,{onEntering:Object(d.a)((function(e,t){T&&T(e,t),re()}),J.onEntering)}),o.createElement(L.a,Object(r.a)({elevation:w,ref:ie},z,{className:Object(a.a)(b.paper,z.className)}),y)))})),z=Object(s.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Q),V=n(117),K=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.component,l=void 0===u?"ul":u,f=e.dense,d=void 0!==f&&f,h=e.disablePadding,p=void 0!==h&&h,g=e.subheader,v=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=o.useMemo((function(){return{dense:d}}),[d]);return o.createElement(V.a.Provider,{value:m},o.createElement(l,Object(r.a)({className:Object(a.a)(s.root,c,d&&s.dense,!p&&s.padding,g&&s.subheader),ref:t},v),g,n))})),G=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(K);function H(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function q(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function W(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Y(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var c=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&W(s,o)&&!c)return void s.focus();s=i(e,s,n)}}var J="undefined"===typeof window?o.useEffect:o.useLayoutEffect,X=o.forwardRef((function(e,t){var n=e.actions,a=e.autoFocus,s=void 0!==a&&a,u=e.autoFocusItem,f=void 0!==u&&u,d=e.children,h=e.className,p=e.disabledItemsFocusable,g=void 0!==p&&p,m=e.disableListWrap,y=void 0!==m&&m,b=e.onKeyDown,A=e.variant,_=void 0===A?"selectedMenu":A,E=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),I=o.useRef(null),S=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});J((function(){s&&I.current.focus()}),[s]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!I.current.style.width;if(e.clientHeight<I.current.clientHeight&&n){var r="".concat(w(),"px");I.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,I.current.style.width="calc(100% + ".concat(r,")")}return I.current}}}),[]);var k=o.useCallback((function(e){I.current=c.findDOMNode(e)}),[]),C=Object(v.a)(k,t),O=-1;o.Children.forEach(d,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===_&&e.props.selected||-1===O)&&(O=t))}));var T=o.Children.map(d,(function(e,t){if(t===O){var n={};return f&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===_&&(n.tabIndex=0),o.cloneElement(e,n)}return e}));return o.createElement(G,Object(r.a)({role:"menu",ref:C,className:h,onKeyDown:function(e){var t=I.current,n=e.key,r=Object(l.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Y(t,r,y,g,H);else if("ArrowUp"===n)e.preventDefault(),Y(t,r,y,g,q);else if("Home"===n)e.preventDefault(),Y(t,null,y,g,H);else if("End"===n)e.preventDefault(),Y(t,null,y,g,q);else if(1===n.length){var i=S.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&W(r,i);i.previousKeyMatched&&(s||Y(t,r,!1,g,H,i))?e.preventDefault():i.previousKeyMatched=!1}b&&b(e)},tabIndex:s?0:-1},E),T)})),Z=n(171),$={vertical:"top",horizontal:"right"},ee={vertical:"top",horizontal:"left"},te=o.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,u=e.children,l=e.classes,f=e.disableAutoFocusItem,d=void 0!==f&&f,h=e.MenuListProps,p=void 0===h?{}:h,v=e.onClose,m=e.onEntering,y=e.open,b=e.PaperProps,A=void 0===b?{}:b,_=e.PopoverClasses,E=e.transitionDuration,w=void 0===E?"auto":E,I=e.TransitionProps,S=(I=void 0===I?{}:I).onEntering,k=Object(i.a)(I,["onEntering"]),C=e.variant,O=void 0===C?"selectedMenu":C,T=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),R=Object(Z.a)(),x=s&&!d&&y,M=o.useRef(null),N=o.useRef(null),D=-1;o.Children.map(u,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("menu"!==O&&e.props.selected||-1===D)&&(D=t))}));var j=o.Children.map(u,(function(e,t){return t===D?o.cloneElement(e,{ref:function(t){N.current=c.findDOMNode(t),Object(g.a)(e.ref,t)}}):e}));return o.createElement(z,Object(r.a)({getContentAnchorEl:function(){return N.current},classes:_,onClose:v,TransitionProps:Object(r.a)({onEntering:function(e,t){M.current&&M.current.adjustStyleForScrollbar(e,R),m&&m(e,t),S&&S(e,t)}},k),anchorOrigin:"rtl"===R.direction?$:ee,transformOrigin:"rtl"===R.direction?$:ee,PaperProps:Object(r.a)({},A,{classes:Object(r.a)({},A.classes,{root:l.paper})}),open:y,ref:t,transitionDuration:w},T),o.createElement(X,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:M,autoFocus:s&&(-1===D||d),autoFocusItem:x,variant:O},p,{className:Object(a.a)(l.list,p.className)}),j))}));t.a=Object(s.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(te)},function(e,t,n){"use strict";var r=n(16),i=n(5),o=n(1),a=(n(21),n(19)),s=n(52),c=n(26),u=n(360),l=n(341),f=Object(l.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),d=Object(l.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),h=Object(l.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),p=Object(l.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),g=Object(l.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v=n(648),m=n(31),y={success:o.createElement(f,{fontSize:"inherit"}),warning:o.createElement(d,{fontSize:"inherit"}),error:o.createElement(h,{fontSize:"inherit"}),info:o.createElement(p,{fontSize:"inherit"})},b=o.createElement(g,{fontSize:"small"}),A=o.forwardRef((function(e,t){var n=e.action,s=e.children,c=e.classes,l=e.className,f=e.closeText,d=void 0===f?"Close":f,h=e.color,p=e.icon,g=e.iconMapping,A=void 0===g?y:g,_=e.onClose,E=e.role,w=void 0===E?"alert":E,I=e.severity,S=void 0===I?"success":I,k=e.variant,C=void 0===k?"standard":k,O=Object(r.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(u.a,Object(i.a)({role:w,square:!0,elevation:0,className:Object(a.a)(c.root,c["".concat(C).concat(Object(m.a)(h||S))],l),ref:t},O),!1!==p?o.createElement("div",{className:c.icon},p||A[S]||y[S]):null,o.createElement("div",{className:c.message},s),null!=n?o.createElement("div",{className:c.action},n):null,null==n&&_?o.createElement("div",{className:c.action},o.createElement(v.a,{size:"small","aria-label":d,title:d,color:"inherit",onClick:_},b)):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?s.b:s.e,n="light"===e.palette.type?s.e:s.b;return{root:Object(i.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(A)},function(e,t,n){"use strict";var r=n(16),i=n(5),o=n(362),a=n(1),s=(n(21),n(19));var c=a.createContext();var u=c,l=n(26),f=n(31),d=n(33),h=n(109);function p(e,t){return parseInt(e[t],10)||0}var g="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,v={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},m=a.forwardRef((function(e,t){var n=e.onChange,o=e.rows,s=e.rowsMax,c=e.rowsMin,u=e.maxRows,l=e.minRows,f=void 0===l?1:l,m=e.style,y=e.value,b=Object(r.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),A=u||s,_=o||c||f,E=a.useRef(null!=y).current,w=a.useRef(null),I=Object(d.a)(t,w),S=a.useRef(null),k=a.useRef(0),C=a.useState({}),O=C[0],T=C[1],R=a.useCallback((function(){var t=w.current,n=window.getComputedStyle(t),r=S.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=p(n,"padding-bottom")+p(n,"padding-top"),a=p(n,"border-bottom-width")+p(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,u=s;_&&(u=Math.max(Number(_)*c,u)),A&&(u=Math.min(Number(A)*c,u));var l=(u=Math.max(u,c))+("border-box"===i?o+a:0),f=Math.abs(u-s)<=1;T((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[A,_,e.placeholder]);a.useEffect((function(){var e=Object(h.a)((function(){k.current=0,R()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[R]),g((function(){R()})),a.useEffect((function(){k.current=0}),[y]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(i.a)({value:y,onChange:function(e){k.current=0,E||R(),n&&n(e)},ref:I,rows:_,style:Object(i.a)({height:O.outerHeightStyle,overflow:O.overflow?"hidden":null},m)},b)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:Object(i.a)({},v,m)}))}));function y(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var b="undefined"===typeof window?a.useEffect:a.useLayoutEffect,A=a.forwardRef((function(e,t){var n=e["aria-describedby"],l=e.autoComplete,h=e.autoFocus,p=e.classes,g=e.className,v=(e.color,e.defaultValue),A=e.disabled,_=e.endAdornment,E=(e.error,e.fullWidth),w=void 0!==E&&E,I=e.id,S=e.inputComponent,k=void 0===S?"input":S,C=e.inputProps,O=void 0===C?{}:C,T=e.inputRef,R=(e.margin,e.multiline),x=void 0!==R&&R,M=e.name,N=e.onBlur,D=e.onChange,j=e.onClick,L=e.onFocus,B=e.onKeyDown,P=e.onKeyUp,U=e.placeholder,F=e.readOnly,Q=e.renderSuffix,z=e.rows,V=e.rowsMax,K=e.rowsMin,G=e.maxRows,H=e.minRows,q=e.startAdornment,W=e.type,Y=void 0===W?"text":W,J=e.value,X=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=O.value?O.value:J,$=a.useRef(null!=Z).current,ee=a.useRef(),te=a.useCallback((function(e){0}),[]),ne=Object(d.a)(O.ref,te),re=Object(d.a)(T,ne),ie=Object(d.a)(ee,re),oe=a.useState(!1),ae=oe[0],se=oe[1],ce=a.useContext(c);var ue=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ue.focused=ce?ce.focused:ae,a.useEffect((function(){!ce&&A&&ae&&(se(!1),N&&N())}),[ce,A,ae,N]);var le=ce&&ce.onFilled,fe=ce&&ce.onEmpty,de=a.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(y(e.value)&&""!==e.value||t&&y(e.defaultValue)&&""!==e.defaultValue)}(e)?fe&&fe():le&&le()}),[le,fe]);b((function(){$&&de({value:Z})}),[Z,de,$]);a.useEffect((function(){de(ee.current)}),[]);var he=k,pe=Object(i.a)({},O,{ref:ie});"string"!==typeof he?pe=Object(i.a)({inputRef:ie,type:Y},pe,{ref:null}):x?!z||G||H||V||K?(pe=Object(i.a)({minRows:z||H,rowsMax:V,maxRows:G},pe),he=m):he="textarea":pe=Object(i.a)({type:Y},pe);return a.useEffect((function(){ce&&ce.setAdornedStart(Boolean(q))}),[ce,q]),a.createElement("div",Object(i.a)({className:Object(s.a)(p.root,p["color".concat(Object(f.a)(ue.color||"primary"))],g,ue.disabled&&p.disabled,ue.error&&p.error,w&&p.fullWidth,ue.focused&&p.focused,ce&&p.formControl,x&&p.multiline,q&&p.adornedStart,_&&p.adornedEnd,"dense"===ue.margin&&p.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),j&&j(e)},ref:t},X),q,a.createElement(u.Provider,{value:null},a.createElement(he,Object(i.a)({"aria-invalid":ue.error,"aria-describedby":n,autoComplete:l,autoFocus:h,defaultValue:v,disabled:ue.disabled,id:I,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:M,placeholder:U,readOnly:F,required:ue.required,rows:z,value:Z,onKeyDown:B,onKeyUp:P},pe,{className:Object(s.a)(p.input,O.className,ue.disabled&&p.disabled,x&&p.inputMultiline,ue.hiddenLabel&&p.inputHiddenLabel,q&&p.inputAdornedStart,_&&p.inputAdornedEnd,"search"===Y&&p.inputTypeSearch,"dense"===ue.margin&&p.inputMarginDense),onBlur:function(e){N&&N(e),O.onBlur&&O.onBlur(e),ce&&ce.onBlur?ce.onBlur(e):se(!1)},onChange:function(e){if(!$){var t=e.target||ee.current;if(null==t)throw new Error(Object(o.a)(1));de({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];O.onChange&&O.onChange.apply(O,[e].concat(r)),D&&D.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(L&&L(e),O.onFocus&&O.onFocus(e),ce&&ce.onFocus?ce.onFocus(e):se(!0))}}))),_,Q?Q(Object(i.a)({},ue,{startAdornment:q})):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(A)},function(e,t,n){"use strict";var r=n(5),i=n(172),o=n(16),a=n(1),s=n.n(a),c=(n(21),n(35)),u=n(46),l=n(30),f=n.n(l),d=!1,h=n(116),p="unmounted",g="exited",v="entering",m="entered",y="exiting",b=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=g,r.appearStatus=v):i=m:i=t.unmountOnExit||t.mountOnEnter?p:g,r.state={status:i},r.nextCallback=null,r}Object(u.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:g}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==m&&(t=v):n!==v&&n!==m||(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===v?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===g&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[f.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||d?this.safeSetState({status:m},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:v},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:f.a.findDOMNode(this);t&&!d?(this.props.onExit(r),this.safeSetState({status:y},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:g},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:g},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:f.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(c.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.a.createElement(h.a.Provider,{value:null},"function"===typeof n?n(e,r):s.a.cloneElement(s.a.Children.only(n),r))},t}(s.a.Component);function A(){}b.contextType=h.a,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:A,onEntering:A,onEntered:A,onExit:A,onExiting:A,onExited:A},b.UNMOUNTED=p,b.EXITED=g,b.ENTERING=v,b.ENTERED=m,b.EXITING=y;var _=b,E=n(171);function w(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var I=n(33);function S(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var k={entering:{opacity:1,transform:S(1)},entered:{opacity:1,transform:"none"}},C=a.forwardRef((function(e,t){var n=e.children,s=e.disableStrictModeCompat,c=void 0!==s&&s,u=e.in,l=e.onEnter,f=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,g=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,b=e.TransitionComponent,A=void 0===b?_:b,C=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),O=a.useRef(),T=a.useRef(),R=Object(E.a)(),x=R.unstable_strictMode&&!c,M=a.useRef(null),N=Object(I.a)(n.ref,t),D=Object(I.a)(x?M:void 0,N),j=function(e){return function(t,n){if(e){var r=x?[M.current,t]:[t,n],o=Object(i.a)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},L=j(d),B=j((function(e,t){!function(e){e.scrollTop}(e);var n,r=w({style:v,timeout:y},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===y?(n=R.transitions.getAutoHeightDuration(e.clientHeight),T.current=n):n=i,e.style.transition=[R.transitions.create("opacity",{duration:n,delay:o}),R.transitions.create("transform",{duration:.666*n,delay:o})].join(","),l&&l(e,t)})),P=j(f),U=j(g),F=j((function(e){var t,n=w({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=R.transitions.getAutoHeightDuration(e.clientHeight),T.current=t):t=r,e.style.transition=[R.transitions.create("opacity",{duration:t,delay:i}),R.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=S(.75),h&&h(e)})),Q=j(p);return a.useEffect((function(){return function(){clearTimeout(O.current)}}),[]),a.createElement(A,Object(r.a)({appear:!0,in:u,nodeRef:x?M:void 0,onEnter:B,onEntered:P,onEntering:L,onExit:F,onExited:Q,onExiting:U,addEndListener:function(e,t){var n=x?e:t;"auto"===y&&(O.current=setTimeout(n,T.current||0))},timeout:"auto"===y?null:y},C),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:S(.75),visibility:"exited"!==e||u?void 0:"hidden"},k[e],v,n.props.style),ref:D},t))}))}));C.muiSupportAuto=!0;t.a=C},function(e,t,n){"use strict";var r=n(16),i=n(50),o=n(5),a=n(1),s=(n(21),n(19)),c=n(26),u=n(363),l=n(160),f=n(33),d=n(117),h=n(30),p="undefined"===typeof window?a.useEffect:a.useLayoutEffect,g=a.forwardRef((function(e,t){var n=e.alignItems,i=void 0===n?"center":n,c=e.autoFocus,g=void 0!==c&&c,v=e.button,m=void 0!==v&&v,y=e.children,b=e.classes,A=e.className,_=e.component,E=e.ContainerComponent,w=void 0===E?"li":E,I=e.ContainerProps,S=(I=void 0===I?{}:I).className,k=Object(r.a)(I,["className"]),C=e.dense,O=void 0!==C&&C,T=e.disabled,R=void 0!==T&&T,x=e.disableGutters,M=void 0!==x&&x,N=e.divider,D=void 0!==N&&N,j=e.focusVisibleClassName,L=e.selected,B=void 0!==L&&L,P=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),U=a.useContext(d.a),F={dense:O||U.dense||!1,alignItems:i},Q=a.useRef(null);p((function(){g&&Q.current&&Q.current.focus()}),[g]);var z=a.Children.toArray(y),V=z.length&&Object(l.a)(z[z.length-1],["ListItemSecondaryAction"]),K=a.useCallback((function(e){Q.current=h.findDOMNode(e)}),[]),G=Object(f.a)(K,t),H=Object(o.a)({className:Object(s.a)(b.root,A,F.dense&&b.dense,!M&&b.gutters,D&&b.divider,R&&b.disabled,m&&b.button,"center"!==i&&b.alignItemsFlexStart,V&&b.secondaryAction,B&&b.selected),disabled:R},P),q=_||"li";return m&&(H.component=_||"div",H.focusVisibleClassName=Object(s.a)(b.focusVisible,j),q=u.a),V?(q=H.component||_?q:"div","li"===w&&("li"===q?q="div":"li"===H.component&&(H.component="div")),a.createElement(d.a.Provider,{value:F},a.createElement(w,Object(o.a)({className:Object(s.a)(b.container,S),ref:G},k),a.createElement(q,H,z),z.pop()))):a.createElement(d.a.Provider,{value:F},a.createElement(q,Object(o.a)({ref:G},H),z))})),v=Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(g),m=a.forwardRef((function(e,t){var n,i=e.classes,c=e.className,u=e.component,l=void 0===u?"li":u,f=e.disableGutters,d=void 0!==f&&f,h=e.ListItemClasses,p=e.role,g=void 0===p?"menuitem":p,m=e.selected,y=e.tabIndex,b=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(v,Object(o.a)({button:!0,role:g,tabIndex:n,component:l,selected:m,disableGutters:d,classes:Object(o.a)({dense:i.dense},h),className:Object(s.a)(i.root,c,m&&i.selected,!d&&i.gutters),ref:t},b))}));t.a=Object(c.a)((function(e){return{root:Object(o.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)},function(e,t,n){"use strict";var r=n(16),i=n(50),o=n(5),a=n(1),s=(n(21),n(19)),c=n(26),u=n(135),l=n(30),f=n(45),d=n(33),h=n(53);function p(e){return e.substring(2).toLowerCase()}var g=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,i=e.mouseEvent,o=void 0===i?"onClick":i,s=e.onClickAway,c=e.touchEvent,u=void 0===c?"onTouchEnd":c,g=a.useRef(!1),v=a.useRef(null),m=a.useRef(!1),y=a.useRef(!1);a.useEffect((function(){return setTimeout((function(){m.current=!0}),0),function(){m.current=!1}}),[]);var b=a.useCallback((function(e){v.current=l.findDOMNode(e)}),[]),A=Object(d.a)(t.ref,b),_=Object(h.a)((function(e){var t=y.current;if(y.current=!1,m.current&&v.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(g.current)g.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(v.current)>-1;else n=!Object(f.a)(v.current).documentElement.contains(e.target)||v.current.contains(e.target);n||!r&&t||s(e)}})),E=function(e){return function(n){y.current=!0;var r=t.props[e];r&&r(n)}},w={ref:A};return!1!==u&&(w[u]=E(u)),a.useEffect((function(){if(!1!==u){var e=p(u),t=Object(f.a)(v.current),n=function(){g.current=!0};return t.addEventListener(e,_),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,_),t.removeEventListener("touchmove",n)}}}),[_,u]),!1!==o&&(w[o]=E(o)),a.useEffect((function(){if(!1!==o){var e=p(o),t=Object(f.a)(v.current);return t.addEventListener(e,_),function(){t.removeEventListener(e,_)}}}),[_,o]),a.createElement(a.Fragment,null,a.cloneElement(t,w))},v=n(31),m=n(80),y=n(659),b=n(652),A=a.forwardRef((function(e,t){var n=e.action,i=e.anchorOrigin,c=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,l=i.horizontal,f=e.autoHideDuration,d=void 0===f?null:f,p=e.children,A=e.classes,_=e.className,E=e.ClickAwayListenerProps,w=e.ContentProps,I=e.disableWindowBlurListener,S=void 0!==I&&I,k=e.message,C=e.onClose,O=e.onEnter,T=e.onEntered,R=e.onEntering,x=e.onExit,M=e.onExited,N=e.onExiting,D=e.onMouseEnter,j=e.onMouseLeave,L=e.open,B=e.resumeHideDuration,P=e.TransitionComponent,U=void 0===P?y.a:P,F=e.transitionDuration,Q=void 0===F?{enter:u.b.enteringScreen,exit:u.b.leavingScreen}:F,z=e.TransitionProps,V=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),K=a.useRef(),G=a.useState(!0),H=G[0],q=G[1],W=Object(h.a)((function(){C&&C.apply(void 0,arguments)})),Y=Object(h.a)((function(e){C&&null!=e&&(clearTimeout(K.current),K.current=setTimeout((function(){W(null,"timeout")}),e))}));a.useEffect((function(){return L&&Y(d),function(){clearTimeout(K.current)}}),[L,d,Y]);var J=function(){clearTimeout(K.current)},X=a.useCallback((function(){null!=d&&Y(null!=B?B:.5*d)}),[d,B,Y]);return a.useEffect((function(){if(!S&&L)return window.addEventListener("focus",X),window.addEventListener("blur",J),function(){window.removeEventListener("focus",X),window.removeEventListener("blur",J)}}),[S,X,L]),!L&&H?null:a.createElement(g,Object(o.a)({onClickAway:function(e){C&&C(e,"clickaway")}},E),a.createElement("div",Object(o.a)({className:Object(s.a)(A.root,A["anchorOrigin".concat(Object(v.a)(c)).concat(Object(v.a)(l))],_),onMouseEnter:function(e){D&&D(e),J()},onMouseLeave:function(e){j&&j(e),X()},ref:t},V),a.createElement(U,Object(o.a)({appear:!0,in:L,onEnter:Object(m.a)((function(){q(!1)}),O),onEntered:T,onEntering:R,onExit:x,onExited:Object(m.a)((function(){q(!0)}),M),onExiting:N,timeout:Q,direction:"top"===c?"down":"up"},z),p||a.createElement(b.a,Object(o.a)({message:k,action:n},w)))))}));t.a=Object(c.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},c={bottom:24},u={right:24},l={left:24},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},s,f))),anchorOriginBottomCenter:Object(o.a)({},n,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},c,f))),anchorOriginTopRight:Object(o.a)({},t,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,u))),anchorOriginBottomRight:Object(o.a)({},n,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},c,u))),anchorOriginTopLeft:Object(o.a)({},t,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,l))),anchorOriginBottomLeft:Object(o.a)({},n,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},c,l)))}}),{flip:!1,name:"MuiSnackbar"})(A)}]]);
//# sourceMappingURL=2.428ecc3f.chunk.js.map